(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"004c":function(e,t,r){var o=r("c3cf"),n=r("5e2e");function i(e,t){return e&&o(t,n(t),e)}e.exports=i},"0099":function(e,t){var r=800,o=16,n=Date.now;function i(e){var t=0,i=0;return function(){var a=n(),s=o-(a-i);if(i=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=i},"00ee":function(e,t,r){var o=r("b622"),n=o("toStringTag"),i={};i[n]="z",e.exports="[object z]"===String(i)},"0366":function(e,t,r){var o=r("1c0b");e.exports=function(e,t,r){if(o(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,n){return e.call(t,r,o,n)}}return function(){return e.apply(t,arguments)}}},"0398":function(e,t,r){var o=r("cfa1");function n(e){return o(this,e).has(e)}e.exports=n},"057f":function(e,t,r){var o=r("fc6a"),n=r("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return n(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):n(o(e))}},"06cf":function(e,t,r){var o=r("83ab"),n=r("d1e7"),i=r("5c6c"),a=r("fc6a"),s=r("c04e"),l=r("5135"),c=r("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(r){}if(l(e,t))return i(!n.f.call(e,t),e[t])}},"09fe":function(e,t){var r="__lodash_hash_undefined__";function o(e){return this.__data__.set(e,r),this}e.exports=o},"0a06":function(e,t,r){"use strict";var o=r("c532"),n=r("30b5"),i=r("f6b4"),a=r("5270"),s=r("4a7b");function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],r=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)r=r.then(t.shift(),t.shift());return r},l.prototype.getUri=function(e){return e=s(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,o){return this.request(s(o||{},{method:e,url:t,data:r}))}})),e.exports=l},"0ab4":function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},"0b97":function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},"0ba1":function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},"0bee":function(e,t,r){var o=r("1fb1"),n=function(){return o.Date.now()};e.exports=n},"0cfb":function(e,t,r){var o=r("83ab"),n=r("d039"),i=r("cc12");e.exports=!o&&!n((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0df6":function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"11f1":function(e,t,r){var o=r("39d6"),n=r("74aa"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return n(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},"127b":function(e,t,r){var o=r("aa7d");function n(e,t,r){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}e.exports=n},"12e2":function(e,t,r){var o=r("cfa1");function n(e,t){var r=o(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}e.exports=n},1392:function(e,t){function r(e){return function(){return e}}e.exports=r},"13af":function(e,t,r){var o=r("eb2d"),n=r("0bee"),i=r("8155"),a="Expected a function",s=Math.max,l=Math.min;function c(e,t,r){var c,u,d,p,h,f,g=0,m=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError(a);function _(t){var r=c,o=u;return c=u=void 0,g=t,p=e.apply(o,r),p}function E(e){return g=e,h=setTimeout(S,t),m?_(e):p}function O(e){var r=e-f,o=e-g,n=t-r;return v?l(n,d-o):n}function y(e){var r=e-f,o=e-g;return void 0===f||r>=t||r<0||v&&o>=d}function S(){var e=n();if(y(e))return T(e);h=setTimeout(S,O(e))}function T(e){return h=void 0,b&&c?_(e):(c=u=void 0,p)}function C(){void 0!==h&&clearTimeout(h),g=0,c=f=u=h=void 0}function R(){return void 0===h?p:T(n())}function k(){var e=n(),r=y(e);if(c=arguments,u=this,f=e,r){if(void 0===h)return E(f);if(v)return clearTimeout(h),h=setTimeout(S,t),_(f)}return void 0===h&&(h=setTimeout(S,t)),p}return t=i(t)||0,o(r)&&(m=!!r.leading,v="maxWait"in r,d=v?s(i(r.maxWait)||0,t):d,b="trailing"in r?!!r.trailing:b),k.cancel=C,k.flush=R,k}e.exports=c},"14c3":function(e,t,r){var o=r("c6b6"),n=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"152d":function(e,t){function r(e,t){var r=-1,o=null==e?0:e.length;while(++r<o)if(!1===t(e[r],r,e))break;return e}e.exports=r},"159b":function(e,t,r){var o=r("da84"),n=r("fdbc"),i=r("17c2"),a=r("9112");for(var s in n){var l=o[s],c=l&&l.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(u){c.forEach=i}}},"160c":function(e,t,r){var o=r("da00"),n=r("1fb1"),i=o(n,"WeakMap");e.exports=i},"17c2":function(e,t,r){"use strict";var o=r("b727").forEach,n=r("a640"),i=n("forEach");e.exports=i?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},"1ac8":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),r=this.year();return 1===t&&11===e?r+1:0===e&&t>=52?r-1:r}}}))},"1bc0":function(e,t,r){var o=r("73ab"),n="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],i=r.cache;if(i.has(n))return i.get(n);var a=e.apply(this,o);return r.cache=i.set(n,a)||i,a};return r.cache=new(i.Cache||o),r}i.Cache=o,e.exports=i},"1be4":function(e,t,r){var o=r("d066");e.exports=o("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,r){var o=r("b622"),n=o("iterator"),i=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(l){}return r}},"1cdc":function(e,t,r){var o=r("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(o)},"1d1c":function(e,t,r){var o=r("23e7"),n=r("83ab"),i=r("37e8");o({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperties:i})},"1d2b":function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(t,r)}}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7");function o(e,t,r,o,n,i,a){try{var s=e[i](a),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(o,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)}))}}},"1ddd":function(e,t,r){var o=r("c3cf"),n=r("766c");function i(e,t){return e&&o(t,n(t),e)}e.exports=i},"1dde":function(e,t,r){var o=r("d039"),n=r("b622"),i=r("2d00"),a=n("species");e.exports=function(e){return i>=51||!o((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fb1":function(e,t,r){var o=r("cbf5"),n="object"==typeof self&&self&&self.Object===Object&&self,i=o||n||Function("return this")();e.exports=i},2266:function(e,t,r){var o=r("825a"),n=r("e95a"),i=r("50c4"),a=r("0366"),s=r("35a1"),l=r("2a62"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var u,d,p,h,f,g,m,v=r&&r.that,b=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),O=a(t,v,1+b+E),y=function(e){return u&&l(u),new c(!0,e)},S=function(e){return b?(o(e),E?O(e[0],e[1],y):O(e[0],e[1])):E?O(e,y):O(e)};if(_)u=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(n(d)){for(p=0,h=i(e.length);h>p;p++)if(f=S(e[p]),f&&f instanceof c)return f;return new c(!1)}u=d.call(e)}g=u.next;while(!(m=g.call(u)).done){try{f=S(m.value)}catch(T){throw l(u),T}if("object"==typeof f&&f&&f instanceof c)return f}return new c(!1)}},"229f":function(e,t,r){(function(e){var o=r("1fb1"),n=t&&!t.nodeType&&t,i=n&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a?o.Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var r=e.length,o=l?l(r):new e.constructor(r);return e.copy(o),o}e.exports=c}).call(this,r("62e4")(e))},"23cb":function(e,t,r){var o=r("a691"),n=Math.max,i=Math.min;e.exports=function(e,t){var r=o(e);return r<0?n(r+t,0):i(r,t)}},"23e7":function(e,t,r){var o=r("da84"),n=r("06cf").f,i=r("9112"),a=r("6eeb"),s=r("ce4e"),l=r("e893"),c=r("94ca");e.exports=function(e,t){var r,u,d,p,h,f,g=e.target,m=e.global,v=e.stat;if(u=m?o:v?o[g]||s(g,{}):(o[g]||{}).prototype,u)for(d in t){if(h=t[d],e.noTargetGet?(f=n(u,d),p=f&&f.value):p=u[d],r=c(m?d:g+(v?".":"#")+d,e.forced),!r&&void 0!==p){if(typeof h===typeof p)continue;l(h,p)}(e.sham||p&&p.sham)&&i(h,"sham",!0),a(u,d,h,e)}}},"241c":function(e,t,r){var o=r("ca84"),n=r("7839"),i=n.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},2444:function(e,t,r){"use strict";(function(t){var o=r("c532"),n=r("c8af"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=r("b50d")),e}var l={adapter:s(),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){l.headers[e]=o.merge(i)})),e.exports=l}).call(this,r("4362"))},"24cc":function(e,t,r){var o=r("dc0c"),n=r("a33d"),i=r("eb2d"),a=r("26e8"),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,p=u.hasOwnProperty,h=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(e){if(!i(e)||n(e))return!1;var t=o(e)?h:l;return t.test(a(e))}e.exports=f},2626:function(e,t,r){"use strict";var o=r("d066"),n=r("9bf2"),i=r("b622"),a=r("83ab"),s=i("species");e.exports=function(e){var t=o(e),r=n.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},"26e8":function(e,t){var r=Function.prototype,o=r.toString;function n(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=n},"277d":function(e,t,r){var o=r("23e7"),n=r("e8b5");o({target:"Array",stat:!0},{isArray:n})},2827:function(e,t,r){var o=r("da00"),n=r("1fb1"),i=o(n,"Promise");e.exports=i},"2a04":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e="week",t="year";return function(r,o,n){var i=o.prototype;i.week=function(r){if(void 0===r&&(r=null),null!==r)return this.add(7*(r-this.week()),"day");var o=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=n(this).startOf(t).add(1,t).date(o),a=n(this).endOf(e);if(i.isBefore(a))return 1}var s=n(this).startOf(t).date(o).startOf(e).subtract(1,"millisecond"),l=this.diff(s,e,!0);return l<0?n(this).startOf("week").week():Math.ceil(l)},i.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}))},"2a62":function(e,t,r){var o=r("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return o(t.call(e)).value}},"2a95":function(e,t,r){"use strict";(function(e){function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,r){return s=a()?Reflect.construct:function(e,t,r){var o=[null];o.push.apply(o,t);var n=Function.bind.apply(e,o),a=new n;return r&&i(a,r.prototype),a},s.apply(null,arguments)}function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function c(e){var t="function"===typeof Map?new Map:void 0;return c=function(e){if(null===e||!l(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,n(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)},c(e)}var u=/%[sdj%]/g,d=function(){};function p(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var r=e.field;t[r]=t[r]||[],t[r].push(e)})),t}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=1,n=t[0],i=t.length;if("function"===typeof n)return n.apply(null,t.slice(1));if("string"===typeof n){var a=String(n).replace(u,(function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(t[o++]);case"%d":return Number(t[o++]);case"%j":try{return JSON.stringify(t[o++])}catch(r){return"[Circular]"}break;default:return e}}));return a}return n}function f(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function g(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!f(t)||"string"!==typeof e||e))}function m(e,t,r){var o=[],n=0,i=e.length;function a(e){o.push.apply(o,e),n++,n===i&&r(o)}e.forEach((function(e){t(e,a)}))}function v(e,t,r){var o=0,n=e.length;function i(a){if(a&&a.length)r(a);else{var s=o;o+=1,s<n?t(e[s],i):r([])}}i([])}function b(e){var t=[];return Object.keys(e).forEach((function(r){t.push.apply(t,e[r])})),t}"undefined"!==typeof e&&Object({NODE_ENV:"production",BASE_URL:""});var _=function(e){function t(t,r){var o;return o=e.call(this,"Async Validation Error")||this,o.errors=t,o.fields=r,o}return o(t,e),t}(c(Error));function E(e,t,r,o){if(t.first){var n=new Promise((function(t,n){var i=function(e){return o(e),e.length?n(new _(e,p(e))):t()},a=b(e);v(a,r,i)}));return n["catch"]((function(e){return e})),n}var i=t.firstFields||[];!0===i&&(i=Object.keys(e));var a=Object.keys(e),s=a.length,l=0,c=[],u=new Promise((function(t,n){var u=function(e){if(c.push.apply(c,e),l++,l===s)return o(c),c.length?n(new _(c,p(c))):t()};a.length||(o(c),t()),a.forEach((function(t){var o=e[t];-1!==i.indexOf(t)?v(o,r,u):m(o,r,u)}))}));return u["catch"]((function(e){return e})),u}function O(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"===typeof t?t():t,field:t.field||e.fullField}}}function y(e,t){if(t)for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];"object"===typeof n&&"object"===typeof e[o]?e[o]=r({},e[o],n):e[o]=n}return e}function S(e,t,r,o,n,i){!e.required||r.hasOwnProperty(e.field)&&!g(t,i||e.type)||o.push(h(n.messages.required,e.fullField))}function T(e,t,r,o,n){(/^\s+$/.test(t)||""===t)&&o.push(h(n.messages.whitespace,e.fullField))}var C={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},R={integer:function(e){return R.number(e)&&parseInt(e,10)===e},float:function(e){return R.number(e)&&!R.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!R.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&!!e.match(C.email)&&e.length<255},url:function(e){return"string"===typeof e&&!!e.match(C.url)},hex:function(e){return"string"===typeof e&&!!e.match(C.hex)}};function k(e,t,r,o,n){if(e.required&&void 0===t)S(e,t,r,o,n);else{var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;i.indexOf(a)>-1?R[a](t)||o.push(h(n.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&o.push(h(n.messages.types[a],e.fullField,e.type))}}function I(e,t,r,o,n){var i="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,u=null,d="number"===typeof t,p="string"===typeof t,f=Array.isArray(t);if(d?u="number":p?u="string":f&&(u="array"),!u)return!1;f&&(c=t.length),p&&(c=t.replace(l,"_").length),i?c!==e.len&&o.push(h(n.messages[u].len,e.fullField,e.len)):a&&!s&&c<e.min?o.push(h(n.messages[u].min,e.fullField,e.min)):s&&!a&&c>e.max?o.push(h(n.messages[u].max,e.fullField,e.max)):a&&s&&(c<e.min||c>e.max)&&o.push(h(n.messages[u].range,e.fullField,e.min,e.max))}var j="enum";function L(e,t,r,o,n){e[j]=Array.isArray(e[j])?e[j]:[],-1===e[j].indexOf(t)&&o.push(h(n.messages[j],e.fullField,e[j].join(", ")))}function M(e,t,r,o,n){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||o.push(h(n.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var i=new RegExp(e.pattern);i.test(t)||o.push(h(n.messages.pattern.mismatch,e.fullField,t,e.pattern))}}var N={required:S,whitespace:T,type:k,range:I,enum:L,pattern:M};function A(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t,"string")&&!e.required)return r();N.required(e,t,o,i,n,"string"),g(t,"string")||(N.type(e,t,o,i,n),N.range(e,t,o,i,n),N.pattern(e,t,o,i,n),!0===e.whitespace&&N.whitespace(e,t,o,i,n))}r(i)}function P(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n),void 0!==t&&N.type(e,t,o,i,n)}r(i)}function w(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(""===t&&(t=void 0),g(t)&&!e.required)return r();N.required(e,t,o,i,n),void 0!==t&&(N.type(e,t,o,i,n),N.range(e,t,o,i,n))}r(i)}function x(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n),void 0!==t&&N.type(e,t,o,i,n)}r(i)}function D(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n),g(t)||N.type(e,t,o,i,n)}r(i)}function U(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n),void 0!==t&&(N.type(e,t,o,i,n),N.range(e,t,o,i,n))}r(i)}function B(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n),void 0!==t&&(N.type(e,t,o,i,n),N.range(e,t,o,i,n))}r(i)}function Z(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if((void 0===t||null===t)&&!e.required)return r();N.required(e,t,o,i,n,"array"),void 0!==t&&null!==t&&(N.type(e,t,o,i,n),N.range(e,t,o,i,n))}r(i)}function H(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n),void 0!==t&&N.type(e,t,o,i,n)}r(i)}var G="enum";function V(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n),void 0!==t&&N[G](e,t,o,i,n)}r(i)}function z(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t,"string")&&!e.required)return r();N.required(e,t,o,i,n),g(t,"string")||N.pattern(e,t,o,i,n)}r(i)}function W(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t,"date")&&!e.required)return r();var s;if(N.required(e,t,o,i,n),!g(t,"date"))s=t instanceof Date?t:new Date(t),N.type(e,s,o,i,n),s&&N.range(e,s.getTime(),o,i,n)}r(i)}function F(e,t,r,o,n){var i=[],a=Array.isArray(t)?"array":typeof t;N.required(e,t,o,i,n,a),r(i)}function q(e,t,r,o,n){var i=e.type,a=[],s=e.required||!e.required&&o.hasOwnProperty(e.field);if(s){if(g(t,i)&&!e.required)return r();N.required(e,t,o,a,n,i),g(t,i)||N.type(e,t,o,a,n)}r(a)}function Y(e,t,r,o,n){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(g(t)&&!e.required)return r();N.required(e,t,o,i,n)}r(i)}var $={string:A,method:P,number:w,boolean:x,regexp:D,integer:U,float:B,array:Z,object:H,enum:V,pattern:z,date:W,url:q,hex:q,email:q,required:F,any:Y};function K(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var J=K();function X(e){this.rules=null,this._messages=J,this.define(e)}X.prototype={messages:function(e){return e&&(this._messages=y(K(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,r;for(t in this.rules={},e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,o){var n=this;void 0===t&&(t={}),void 0===o&&(o=function(){});var i,a,s=e,l=t,c=o;if("function"===typeof l&&(c=l,l={}),!this.rules||0===Object.keys(this.rules).length)return c&&c(),Promise.resolve();function u(e){var t,r=[],o={};function n(e){var t;Array.isArray(e)?r=(t=r).concat.apply(t,e):r.push(e)}for(t=0;t<e.length;t++)n(e[t]);r.length?o=p(r):(r=null,o=null),c(r,o)}if(l.messages){var d=this.messages();d===J&&(d=K()),y(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},g=l.keys||Object.keys(this.rules);g.forEach((function(t){i=n.rules[t],a=s[t],i.forEach((function(o){var i=o;"function"===typeof i.transform&&(s===e&&(s=r({},s)),a=s[t]=i.transform(a)),i="function"===typeof i?{validator:i}:r({},i),i.validator=n.getValidationMethod(i),i.field=t,i.fullField=i.fullField||t,i.type=n.getType(i),i.validator&&(f[t]=f[t]||[],f[t].push({rule:i,value:a,source:s,field:t}))}))}));var m={};return E(f,l,(function(e,t){var o,n=e.rule,i=("object"===n.type||"array"===n.type)&&("object"===typeof n.fields||"object"===typeof n.defaultField);function a(e,t){return r({},t,{fullField:n.fullField+"."+e})}function s(o){void 0===o&&(o=[]);var s=o;if(Array.isArray(s)||(s=[s]),!l.suppressWarning&&s.length&&X.warning("async-validator:",s),s.length&&void 0!==n.message&&(s=[].concat(n.message)),s=s.map(O(n)),l.first&&s.length)return m[n.field]=1,t(s);if(i){if(n.required&&!e.value)return void 0!==n.message?s=[].concat(n.message).map(O(n)):l.error&&(s=[l.error(n,h(l.messages.required,n.field))]),t(s);var c={};if(n.defaultField)for(var u in e.value)e.value.hasOwnProperty(u)&&(c[u]=n.defaultField);for(var d in c=r({},c,e.rule.fields),c)if(c.hasOwnProperty(d)){var p=Array.isArray(c[d])?c[d]:[c[d]];c[d]=p.map(a.bind(null,d))}var f=new X(c);f.messages(l.messages),e.rule.options&&(e.rule.options.messages=l.messages,e.rule.options.error=l.error),f.validate(e.value,e.rule.options||l,(function(e){var r=[];s&&s.length&&r.push.apply(r,s),e&&e.length&&r.push.apply(r,e),t(r.length?r:null)}))}else t(s)}i=i&&(n.required||!n.required&&e.value),n.field=e.field,n.asyncValidator?o=n.asyncValidator(n,e.value,s,e.source,l):n.validator&&(o=n.validator(n,e.value,s,e.source,l),!0===o?s():!1===o?s(n.message||n.field+" fails"):o instanceof Array?s(o):o instanceof Error&&s(o.message)),o&&o.then&&o.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){u(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!$.hasOwnProperty(e.type))throw new Error(h("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),r=t.indexOf("message");return-1!==r&&t.splice(r,1),1===t.length&&"required"===t[0]?$.required:$[this.getType(e)]||!1}},X.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");$[e]=t},X.warning=d,X.messages=J,X.validators=$,t["a"]=X}).call(this,r("4362"))},"2cf4":function(e,t,r){var o,n,i,a=r("da84"),s=r("d039"),l=r("0366"),c=r("1be4"),u=r("cc12"),d=r("1cdc"),p=r("605d"),h=a.location,f=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,b=a.Dispatch,_=0,E={},O="onreadystatechange",y=function(e){if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}},S=function(e){return function(){y(e)}},T=function(e){y(e.data)},C=function(e){a.postMessage(e+"",h.protocol+"//"+h.host)};f&&g||(f=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);return E[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},o(_),_},g=function(e){delete E[e]},p?o=function(e){m.nextTick(S(e))}:b&&b.now?o=function(e){b.now(S(e))}:v&&!d?(n=new v,i=n.port2,n.port1.onmessage=T,o=l(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&h&&"file:"!==h.protocol&&!s(C)?(o=C,a.addEventListener("message",T,!1)):o=O in u("script")?function(e){c.appendChild(u("script"))[O]=function(){c.removeChild(this),y(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:f,clear:g}},"2d00":function(e,t,r){var o,n,i=r("da84"),a=r("342f"),s=i.process,l=s&&s.versions,c=l&&l.v8;c?(o=c.split("."),n=o[0]<4?1:o[0]+o[1]):a&&(o=a.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/),o&&(n=o[1]))),e.exports=n&&+n},"2d83":function(e,t,r){"use strict";var o=r("387f");e.exports=function(e,t,r,n,i){var a=new Error(e);return o(a,t,r,n,i)}},"2df0":function(e,t){var r=/\s/;function o(e){var t=e.length;while(t--&&r.test(e.charAt(t)));return t}e.exports=o},"2e44":function(e,t,r){var o=r("d919"),n=r("665f"),i=r("5b92"),a=i&&i.isTypedArray,s=a?n(a):o;e.exports=s},"2e67":function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"2f47":function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return o})),r.d(t,"p",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"o",(function(){return l})),r.d(t,"q",(function(){return c})),r.d(t,"t",(function(){return u})),r.d(t,"i",(function(){return d})),r.d(t,"r",(function(){return p})),r.d(t,"s",(function(){return h})),r.d(t,"k",(function(){return f})),r.d(t,"m",(function(){return g})),r.d(t,"j",(function(){return m})),r.d(t,"l",(function(){return v})),r.d(t,"g",(function(){return b})),r.d(t,"f",(function(){return _})),r.d(t,"h",(function(){return E})),r.d(t,"n",(function(){return O})),r.d(t,"b",(function(){return y}));var o="1.13.1",n="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||Function("return this")()||{},i=Array.prototype,a=Object.prototype,s="undefined"!==typeof Symbol?Symbol.prototype:null,l=i.push,c=i.slice,u=a.toString,d=a.hasOwnProperty,p="undefined"!==typeof ArrayBuffer,h="undefined"!==typeof DataView,f=Array.isArray,g=Object.keys,m=Object.create,v=p&&ArrayBuffer.isView,b=isNaN,_=isFinite,E=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=Math.pow(2,53)-1}).call(this,r("c8ba"))},"2f81":function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach((function(e,o){r[++t]=[o,e]})),r}e.exports=r},"30b5":function(e,t,r){"use strict";var o=r("c532");function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(o.isURLSearchParams(t))i=t.toString();else{var a=[];o.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(n(t)+"="+n(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},"329f":function(e,t){function r(e,t,r){var o=-1,n=null==e?0:e.length;while(++o<n)if(r(t,e[o]))return!0;return!1}e.exports=r},"342f":function(e,t,r){var o=r("d066");e.exports=o("navigator","userAgent")||""},3548:function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}e.exports=r},"35a1":function(e,t,r){var o=r("f5df"),n=r("3f8c"),i=r("b622"),a=i("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||n[o(e)]}},"379e":function(e,t,r){var o=r("cfa1");function n(e){return o(this,e).get(e)}e.exports=n},"37e8":function(e,t,r){var o=r("83ab"),n=r("9bf2"),i=r("825a"),a=r("df75");e.exports=o?Object.defineProperties:function(e,t){i(e);var r,o=a(t),s=o.length,l=0;while(s>l)n.f(e,r=o[l++],t[r]);return e}},"37f8":function(e,t,r){var o=r("73ab"),n=r("09fe"),i=r("d644");function a(e){var t=-1,r=null==e?0:e.length;this.__data__=new o;while(++t<r)this.add(e[t])}a.prototype.add=a.prototype.push=n,a.prototype.has=i,e.exports=a},"387f":function(e,t,r){"use strict";e.exports=function(e,t,r,o,n){return e.config=t,r&&(e.code=r),e.request=o,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},3934:function(e,t,r){"use strict";var o=r("c532");e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var o=e;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=o.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},"39d6":function(e,t,r){var o=r("caf0"),n=r("74aa"),i="[object Arguments]";function a(e){return n(e)&&o(e)==i}e.exports=a},"3b9f":function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},"3bbe":function(e,t,r){var o=r("861d");e.exports=function(e){if(!o(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,r){"use strict";var o=r("6547").charAt,n=r("69f3"),i=r("7dd0"),a="String Iterator",s=n.set,l=n.getterFor(a);i(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=l(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=o(r,n),t.index+=e.length,{value:e,done:!1})}))},"3cca":function(e,t,r){var o=r("c3cf"),n=r("cb86");function i(e,t){return o(e,n(e),t)}e.exports=i},"3d08":function(e,t,r){var o=r("13af"),n=r("eb2d"),i="Expected a function";function a(e,t,r){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return n(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),o(e,t,{leading:a,maxWait:t,trailing:s})}e.exports=a},"3eb7":function(e,t,r){var o=r("580a");function n(e,t){return o(e,t)}e.exports=n},"3f4e":function(e,t,r){"use strict";r.d(t,"setupDevtoolsPlugin",(function(){return i}));var o=r("abc5"),n=r("b774");function i(e,t){const r=Object(o["a"])();if(r)r.emit(n["a"],e,t);else{const r=Object(o["b"])(),n=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];n.push({pluginDescriptor:e,setupFn:t})}}},"3f8c":function(e,t){e.exports={}},"3fd4":function(e,t,r){"use strict";r.d(t,"a",(function(){return Fu})),r.d(t,"b",(function(){return sd}));var o=r("7a23"),n=r("6277"),i=r.n(n),a=r("6dd8"),s=r("13af"),l=r.n(s),c=r("c098"),u=r.n(c),d=function(e){return{all:e=e||new Map,on:function(t,r){var o=e.get(t);o&&o.push(r)||e.set(t,[r])},off:function(t,r){var o=e.get(t);o&&o.splice(o.indexOf(r)>>>0,1)},emit:function(t,r){(e.get(t)||[]).slice().map((function(e){e(r)})),(e.get("*")||[]).slice().map((function(e){e(t,r)}))}}};function p(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function h(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function f(e){var t=h(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function g(e){var t=h(e).Element;return e instanceof t||e instanceof Element}function m(e){var t=h(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function v(e){if("undefined"===typeof ShadowRoot)return!1;var t=h(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function b(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _(e){return e!==h(e)&&m(e)?b(e):f(e)}function E(e){return e?(e.nodeName||"").toLowerCase():null}function O(e){return((g(e)?e.ownerDocument:e.document)||window.document).documentElement}function y(e){return p(O(e)).left+f(e).scrollLeft}function S(e){return h(e).getComputedStyle(e)}function T(e){var t=S(e),r=t.overflow,o=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+o)}function C(e,t,r){void 0===r&&(r=!1);var o=O(t),n=p(e),i=m(t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(i||!i&&!r)&&(("body"!==E(t)||T(o))&&(a=_(t)),m(t)?(s=p(t),s.x+=t.clientLeft,s.y+=t.clientTop):o&&(s.x=y(o))),{x:n.left+a.scrollLeft-s.x,y:n.top+a.scrollTop-s.y,width:n.width,height:n.height}}function R(e){var t=p(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function k(e){return"html"===E(e)?e:e.assignedSlot||e.parentNode||(v(e)?e.host:null)||O(e)}function I(e){return["html","body","#document"].indexOf(E(e))>=0?e.ownerDocument.body:m(e)&&T(e)?e:I(k(e))}function j(e,t){var r;void 0===t&&(t=[]);var o=I(e),n=o===(null==(r=e.ownerDocument)?void 0:r.body),i=h(o),a=n?[i].concat(i.visualViewport||[],T(o)?o:[]):o,s=t.concat(a);return n?s:s.concat(j(k(a)))}function L(e){return["table","td","th"].indexOf(E(e))>=0}function M(e){return m(e)&&"fixed"!==S(e).position?e.offsetParent:null}function N(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),r=-1!==navigator.userAgent.indexOf("Trident");if(r&&m(e)){var o=S(e);if("fixed"===o.position)return null}var n=k(e);while(m(n)&&["html","body"].indexOf(E(n))<0){var i=S(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}function A(e){var t=h(e),r=M(e);while(r&&L(r)&&"static"===S(r).position)r=M(r);return r&&("html"===E(r)||"body"===E(r)&&"static"===S(r).position)?t:r||N(e)||t}var P="top",w="bottom",x="right",D="left",U="auto",B=[P,w,x,D],Z="start",H="end",G="clippingParents",V="viewport",z="popper",W="reference",F=B.reduce((function(e,t){return e.concat([t+"-"+Z,t+"-"+H])}),[]),q=[].concat(B,[U]).reduce((function(e,t){return e.concat([t,t+"-"+Z,t+"-"+H])}),[]),Y="beforeRead",$="read",K="afterRead",J="beforeMain",X="main",Q="afterMain",ee="beforeWrite",te="write",re="afterWrite",oe=[Y,$,K,J,X,Q,ee,te,re];function ne(e){var t=new Map,r=new Set,o=[];function n(e){r.add(e.name);var i=[].concat(e.requires||[],e.requiresIfExists||[]);i.forEach((function(e){if(!r.has(e)){var o=t.get(e);o&&n(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||n(e)})),o}function ie(e){var t=ne(e);return oe.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}function ae(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}function se(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var le={placement:"bottom",modifiers:[],strategy:"absolute"};function ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ue(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,o=void 0===r?[]:r,n=t.defaultOptions,i=void 0===n?le:n;return function(e,t,r){void 0===r&&(r=i);var n={placement:"bottom",orderedModifiers:[],options:Object.assign({},le,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:n,setOptions:function(r){u(),n.options=Object.assign({},i,n.options,r),n.scrollParents={reference:g(e)?j(e):e.contextElement?j(e.contextElement):[],popper:j(t)};var a=ie(se([].concat(o,n.options.modifiers)));return n.orderedModifiers=a.filter((function(e){return e.enabled})),c(),l.update()},forceUpdate:function(){if(!s){var e=n.elements,t=e.reference,r=e.popper;if(ce(t,r)){n.rects={reference:C(t,A(r),"fixed"===n.options.strategy),popper:R(r)},n.reset=!1,n.placement=n.options.placement,n.orderedModifiers.forEach((function(e){return n.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<n.orderedModifiers.length;o++)if(!0!==n.reset){var i=n.orderedModifiers[o],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof a&&(n=a({state:n,options:u,name:d,instance:l})||n)}else n.reset=!1,o=-1}}},update:ae((function(){return new Promise((function(e){l.forceUpdate(),e(n)}))})),destroy:function(){u(),s=!0}};if(!ce(e,t))return l;function c(){n.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,o=void 0===r?{}:r,i=e.effect;if("function"===typeof i){var s=i({state:n,name:t,instance:l,options:o}),c=function(){};a.push(s||c)}}))}function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var de={passive:!0};function pe(e){var t=e.state,r=e.instance,o=e.options,n=o.scroll,i=void 0===n||n,a=o.resize,s=void 0===a||a,l=h(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",r.update,de)})),s&&l.addEventListener("resize",r.update,de),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",r.update,de)})),s&&l.removeEventListener("resize",r.update,de)}}var he={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pe,data:{}};function fe(e){return e.split("-")[0]}function ge(e){return e.split("-")[1]}function me(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ve(e){var t,r=e.reference,o=e.element,n=e.placement,i=n?fe(n):null,a=n?ge(n):null,s=r.x+r.width/2-o.width/2,l=r.y+r.height/2-o.height/2;switch(i){case P:t={x:s,y:r.y-o.height};break;case w:t={x:s,y:r.y+r.height};break;case x:t={x:r.x+r.width,y:l};break;case D:t={x:r.x-o.width,y:l};break;default:t={x:r.x,y:r.y}}var c=i?me(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Z:t[c]=t[c]-(r[u]/2-o[u]/2);break;case H:t[c]=t[c]+(r[u]/2-o[u]/2);break;default:}}return t}function be(e){var t=e.state,r=e.name;t.modifiersData[r]=ve({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var _e={name:"popperOffsets",enabled:!0,phase:"read",fn:be,data:{}},Ee=Math.max,Oe=Math.min,ye=Math.round,Se={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Te(e){var t=e.x,r=e.y,o=window,n=o.devicePixelRatio||1;return{x:ye(ye(t*n)/n)||0,y:ye(ye(r*n)/n)||0}}function Ce(e){var t,r=e.popper,o=e.popperRect,n=e.placement,i=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,u=!0===c?Te(i):"function"===typeof c?c(i):i,d=u.x,p=void 0===d?0:d,f=u.y,g=void 0===f?0:f,m=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),b=D,_=P,E=window;if(l){var y=A(r),T="clientHeight",C="clientWidth";y===h(r)&&(y=O(r),"static"!==S(y).position&&(T="scrollHeight",C="scrollWidth")),y=y,n===P&&(_=w,g-=y[T]-o.height,g*=s?1:-1),n===D&&(b=x,p-=y[C]-o.width,p*=s?1:-1)}var R,k=Object.assign({position:a},l&&Se);return s?Object.assign({},k,(R={},R[_]=v?"0":"",R[b]=m?"0":"",R.transform=(E.devicePixelRatio||1)<2?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",R)):Object.assign({},k,(t={},t[_]=v?g+"px":"",t[b]=m?p+"px":"",t.transform="",t))}function Re(e){var t=e.state,r=e.options,o=r.gpuAcceleration,n=void 0===o||o,i=r.adaptive,a=void 0===i||i,s=r.roundOffsets,l=void 0===s||s,c={placement:fe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ce(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ce(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ke={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Re,data:{}};function Ie(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},o=t.attributes[e]||{},n=t.elements[e];m(n)&&E(n)&&(Object.assign(n.style,r),Object.keys(o).forEach((function(e){var t=o[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))}function je(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],n=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]),a=i.reduce((function(e,t){return e[t]="",e}),{});m(o)&&E(o)&&(Object.assign(o.style,a),Object.keys(n).forEach((function(e){o.removeAttribute(e)})))}))}}var Le={name:"applyStyles",enabled:!0,phase:"write",fn:Ie,effect:je,requires:["computeStyles"]};function Me(e,t,r){var o=fe(e),n=[D,P].indexOf(o)>=0?-1:1,i="function"===typeof r?r(Object.assign({},t,{placement:e})):r,a=i[0],s=i[1];return a=a||0,s=(s||0)*n,[D,x].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}function Ne(e){var t=e.state,r=e.options,o=e.name,n=r.offset,i=void 0===n?[0,0]:n,a=q.reduce((function(e,r){return e[r]=Me(r,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=a}var Ae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ne},Pe={left:"right",right:"left",bottom:"top",top:"bottom"};function we(e){return e.replace(/left|right|bottom|top/g,(function(e){return Pe[e]}))}var xe={start:"end",end:"start"};function De(e){return e.replace(/start|end/g,(function(e){return xe[e]}))}function Ue(e){var t=h(e),r=O(e),o=t.visualViewport,n=r.clientWidth,i=r.clientHeight,a=0,s=0;return o&&(n=o.width,i=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,s=o.offsetTop)),{width:n,height:i,x:a+y(e),y:s}}function Be(e){var t,r=O(e),o=f(e),n=null==(t=e.ownerDocument)?void 0:t.body,i=Ee(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Ee(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),s=-o.scrollLeft+y(e),l=-o.scrollTop;return"rtl"===S(n||r).direction&&(s+=Ee(r.clientWidth,n?n.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}function Ze(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&v(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function He(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ge(e){var t=p(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Ve(e,t){return t===V?He(Ue(e)):m(t)?Ge(t):He(Be(O(e)))}function ze(e){var t=j(k(e)),r=["absolute","fixed"].indexOf(S(e).position)>=0,o=r&&m(e)?A(e):e;return g(o)?t.filter((function(e){return g(e)&&Ze(e,o)&&"body"!==E(e)})):[]}function We(e,t,r){var o="clippingParents"===t?ze(e):[].concat(t),n=[].concat(o,[r]),i=n[0],a=n.reduce((function(t,r){var o=Ve(e,r);return t.top=Ee(o.top,t.top),t.right=Oe(o.right,t.right),t.bottom=Oe(o.bottom,t.bottom),t.left=Ee(o.left,t.left),t}),Ve(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Fe(){return{top:0,right:0,bottom:0,left:0}}function qe(e){return Object.assign({},Fe(),e)}function Ye(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function $e(e,t){void 0===t&&(t={});var r=t,o=r.placement,n=void 0===o?e.placement:o,i=r.boundary,a=void 0===i?G:i,s=r.rootBoundary,l=void 0===s?V:s,c=r.elementContext,u=void 0===c?z:c,d=r.altBoundary,h=void 0!==d&&d,f=r.padding,m=void 0===f?0:f,v=qe("number"!==typeof m?m:Ye(m,B)),b=u===z?W:z,_=e.elements.reference,E=e.rects.popper,y=e.elements[h?b:u],S=We(g(y)?y:y.contextElement||O(e.elements.popper),a,l),T=p(_),C=ve({reference:T,element:E,strategy:"absolute",placement:n}),R=He(Object.assign({},E,C)),k=u===z?R:T,I={top:S.top-k.top+v.top,bottom:k.bottom-S.bottom+v.bottom,left:S.left-k.left+v.left,right:k.right-S.right+v.right},j=e.modifiersData.offset;if(u===z&&j){var L=j[n];Object.keys(I).forEach((function(e){var t=[x,w].indexOf(e)>=0?1:-1,r=[P,w].indexOf(e)>=0?"y":"x";I[e]+=L[r]*t}))}return I}function Ke(e,t){void 0===t&&(t={});var r=t,o=r.placement,n=r.boundary,i=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?q:l,u=ge(o),d=u?s?F:F.filter((function(e){return ge(e)===u})):B,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,r){return t[r]=$e(e,{placement:r,boundary:n,rootBoundary:i,padding:a})[fe(r)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}function Je(e){if(fe(e)===U)return[];var t=we(e);return[De(e),t,De(t)]}function Xe(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var n=r.mainAxis,i=void 0===n||n,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,f=void 0===h||h,g=r.allowedAutoPlacements,m=t.options.placement,v=fe(m),b=v===m,_=l||(b||!f?[we(m)]:Je(m)),E=[m].concat(_).reduce((function(e,r){return e.concat(fe(r)===U?Ke(t,{placement:r,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:g}):r)}),[]),O=t.rects.reference,y=t.rects.popper,S=new Map,T=!0,C=E[0],R=0;R<E.length;R++){var k=E[R],I=fe(k),j=ge(k)===Z,L=[P,w].indexOf(I)>=0,M=L?"width":"height",N=$e(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),A=L?j?x:D:j?w:P;O[M]>y[M]&&(A=we(A));var B=we(A),H=[];if(i&&H.push(N[I]<=0),s&&H.push(N[A]<=0,N[B]<=0),H.every((function(e){return e}))){C=k,T=!1;break}S.set(k,H)}if(T)for(var G=f?3:1,V=function(e){var t=E.find((function(t){var r=S.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},z=G;z>0;z--){var W=V(z);if("break"===W)break}t.placement!==C&&(t.modifiersData[o]._skip=!0,t.placement=C,t.reset=!0)}}var Qe={name:"flip",enabled:!0,phase:"main",fn:Xe,requiresIfExists:["offset"],data:{_skip:!1}};function et(e){return"x"===e?"y":"x"}function tt(e,t,r){return Ee(e,Oe(t,r))}function rt(e){var t=e.state,r=e.options,o=e.name,n=r.mainAxis,i=void 0===n||n,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,h=void 0===p||p,f=r.tetherOffset,g=void 0===f?0:f,m=$e(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=fe(t.placement),b=ge(t.placement),_=!b,E=me(v),O=et(E),y=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,C="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k={x:0,y:0};if(y){if(i||s){var I="y"===E?P:D,j="y"===E?w:x,L="y"===E?"height":"width",M=y[E],N=y[E]+m[I],U=y[E]-m[j],B=h?-T[L]/2:0,H=b===Z?S[L]:T[L],G=b===Z?-T[L]:-S[L],V=t.elements.arrow,z=h&&V?R(V):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Fe(),F=W[I],q=W[j],Y=tt(0,S[L],z[L]),$=_?S[L]/2-B-Y-F-C:H-Y-F-C,K=_?-S[L]/2+B+Y+q+C:G+Y+q+C,J=t.elements.arrow&&A(t.elements.arrow),X=J?"y"===E?J.clientTop||0:J.clientLeft||0:0,Q=t.modifiersData.offset?t.modifiersData.offset[t.placement][E]:0,ee=y[E]+$-Q-X,te=y[E]+K-Q;if(i){var re=tt(h?Oe(N,ee):N,M,h?Ee(U,te):U);y[E]=re,k[E]=re-M}if(s){var oe="x"===E?P:D,ne="x"===E?w:x,ie=y[O],ae=ie+m[oe],se=ie-m[ne],le=tt(h?Oe(ae,ee):ae,ie,h?Ee(se,te):se);y[O]=le,k[O]=le-ie}}t.modifiersData[o]=k}}var ot={name:"preventOverflow",enabled:!0,phase:"main",fn:rt,requiresIfExists:["offset"]},nt=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,qe("number"!==typeof e?e:Ye(e,B))};function it(e){var t,r=e.state,o=e.name,n=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,s=fe(r.placement),l=me(s),c=[D,x].indexOf(s)>=0,u=c?"height":"width";if(i&&a){var d=nt(n.padding,r),p=R(i),h="y"===l?P:D,f="y"===l?w:x,g=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],m=a[l]-r.rects.reference[l],v=A(i),b=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,_=g/2-m/2,E=d[h],O=b-p[u]-d[f],y=b/2-p[u]/2+_,S=tt(E,y,O),T=l;r.modifiersData[o]=(t={},t[T]=S,t.centerOffset=S-y,t)}}function at(e){var t=e.state,r=e.options,o=r.element,n=void 0===o?"[data-popper-arrow]":o;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n),n))&&Ze(t.elements.popper,n)&&(t.elements.arrow=n)}var st={name:"arrow",enabled:!0,phase:"main",fn:it,effect:at,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lt(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function ct(e){return[P,x,w,D].some((function(t){return e[t]>=0}))}function ut(e){var t=e.state,r=e.name,o=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,a=$e(t,{elementContext:"reference"}),s=$e(t,{altBoundary:!0}),l=lt(a,o),c=lt(s,n,i),u=ct(l),d=ct(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var dt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ut},pt=[he,_e,ke,Le,Ae,Qe,ot,st,dt],ht=ue({defaultModifiers:pt}),ft=r("3d08"),gt=r.n(ft),mt=r("5a0c"),vt=r.n(mt),bt=r("5e0f"),_t=r.n(bt),Et=r("f906"),Ot=r.n(Et),yt=r("65cf"),St=r.n(yt),Tt=r("3eb7"),Ct=r.n(Tt),Rt=r("8f19"),kt=r.n(Rt),It=r("2a04"),jt=r.n(It),Lt=r("1ac8"),Mt=r.n(Lt),Nt=r("8d82"),At=r.n(Nt),Pt=r("d758"),wt=r.n(Pt),xt=r("b375"),Dt=r.n(xt),Ut=r("2a95"),Bt=r("b1b6"),Zt=r.n(Bt),Ht=r("1bc0"),Gt=r.n(Ht),Vt="undefined"==typeof window;const zt=()=>{},Wt=Object.assign,Ft=Object.prototype.hasOwnProperty,qt=(e,t)=>Ft.call(e,t),Yt=Array.isArray,$t=e=>"function"==typeof e,Kt=e=>"string"==typeof e,Jt=e=>null!==e&&"object"==typeof e,Xt=e=>Jt(e)&&$t(e.then)&&$t(e.catch),Qt=Object.prototype.toString,er=e=>Qt.call(e),tr=e=>er(e).slice(8,-1),rr=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},or=/-(\w)/g,nr=rr(e=>e.replace(or,(e,t)=>t?t.toUpperCase():"")),ir=rr(e=>e.charAt(0).toUpperCase()+e.slice(1));class ar extends Error{constructor(e){super(e),this.name="ElementPlusError"}}var sr=(e,t)=>{throw new ar(`[${e}] ${t}`)};function lr(e,t){console.warn(new ar(`[${e}] ${t}`))}const cr=(e,t="")=>{let r=e;return t.split(".").map(e=>{r=null==r?void 0:r[e]}),r};function ur(e,t,r){let o=e;const n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");let i=0;for(;i<n.length-1&&(o||r);i++){const e=n[i];if(!(e in o)){if(r)throw new Error("please transfer a valid prop path to form item!");break}o=o[e]}return{o:o,k:n[i],v:null==o?void 0:o[n[i]]}}const dr=()=>Math.floor(1e4*Math.random()),pr=e=>e||0===e?Array.isArray(e)?e:[e]:[],hr=e=>"boolean"==typeof e,fr=e=>"number"==typeof e;function gr(e){let t=!1;return function(...r){t||(t=!0,window.requestAnimationFrame(()=>{e.apply(this,r),t=!1}))}}const mr=e=>{clearTimeout(e.value),e.value=null};function vr(e){return Object.keys(e).map(t=>[t,e[t]])}function br(e){return void 0===e}function _r(){const e=Object(o["p"])();return"$ELEMENT"in e.proxy?e.proxy.$ELEMENT:{}}const Er=function(e,t){return e.find(t)};function Or(e){return!!(!e&&0!==e||Yt(e)&&!e.length||Jt(e)&&!Object.keys(e).length)}function yr(e){return e.reduce((e,t)=>{const r=Array.isArray(t)?yr(t):t;return e.concat(r)},[])}function Sr(e){return Array.from(new Set(e))}function Tr(e){return e.value}function Cr(e){return Kt(e)?e:fr(e)?e+"px":""}const Rr=function(e,t,r,o=!1){e&&t&&r&&e.addEventListener(t,r,o)},kr=function(e,t,r,o=!1){e&&t&&r&&e.removeEventListener(t,r,o)};function Ir(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function jr(e,t){if(!e)return;let r=e.className;const o=(t||"").split(" ");for(let n=0,i=o.length;n<i;n++){const t=o[n];t&&(e.classList?e.classList.add(t):Ir(e,t)||(r+=" "+t))}e.classList||(e.className=r)}function Lr(e,t){if(!e||!t)return;const r=t.split(" ");let o=" "+e.className+" ";for(let n=0,i=r.length;n<i;n++){const t=r[n];t&&(e.classList?e.classList.remove(t):Ir(e,t)&&(o=o.replace(" "+t+" "," ")))}e.classList||(e.className=(o||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}const Mr=function(e,t){if(!Vt){if(!e||!t)return null;"float"===(t=nr(t))&&(t="cssFloat");try{const r=e.style[t];if(r)return r;const o=document.defaultView.getComputedStyle(e,"");return o?o[t]:""}catch(r){return e.style[t]}}},Nr=(e,t)=>{if(!Vt)return Mr(e,null==t?"overflow":t?"overflow-y":"overflow-x").match(/(scroll|auto|overlay)/)},Ar=(e,t)=>{if(Vt)return;let r=e;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(Nr(r,t))return r;r=r.parentNode}return r},Pr=e=>{let t=0,r=e;for(;r;)t+=r.offsetTop,r=r.offsetParent;return t},wr=e=>e.stopPropagation(),xr=function(e){for(const t of e){const e=t.target.__resizeListeners__||[];e.length&&e.forEach(e=>{e()})}},Dr=function(e,t){!Vt&&e&&(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new a["a"](xr),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},Ur=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())};var Br=Object(o["o"])({name:"ElAffix",props:{zIndex:{type:Number,default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,default:"top"}},emits:["scroll","change"],setup(e,{emit:t}){const r=Object(o["J"])(null),n=Object(o["J"])(null),i=Object(o["J"])(null),a=Object(o["I"])({fixed:!1,height:0,width:0,scrollTop:0,clientHeight:0,transform:0}),s=Object(o["h"])(()=>({height:a.fixed?a.height+"px":"",width:a.fixed?a.width+"px":""})),l=Object(o["h"])(()=>{if(!a.fixed)return;const t=e.offset?e.offset+"px":0,r=a.transform?`translateY(${a.transform}px)`:"";return{height:a.height+"px",width:a.width+"px",top:"top"===e.position?t:"",bottom:"bottom"===e.position?t:"",transform:r,zIndex:e.zIndex}}),c=()=>{const t=n.value.getBoundingClientRect(),o=r.value.getBoundingClientRect();if(a.height=t.height,a.width=t.width,a.scrollTop=i.value===window?document.documentElement.scrollTop:i.value.scrollTop,a.clientHeight=document.documentElement.clientHeight,"top"===e.position)if(e.target){const r=o.bottom-e.offset-a.height;a.fixed=e.offset>t.top&&o.bottom>0,a.transform=r<0?r:0}else a.fixed=e.offset>t.top;else if(e.target){const r=a.clientHeight-o.top-e.offset-a.height;a.fixed=a.clientHeight-e.offset<t.bottom&&a.clientHeight>o.top,a.transform=r<0?-r:0}else a.fixed=a.clientHeight-e.offset<t.bottom},u=()=>{c(),t("scroll",{scrollTop:a.scrollTop,fixed:a.fixed})};return Object(o["ab"])(()=>a.fixed,()=>{t("change",a.fixed)}),Object(o["B"])(()=>{if(e.target){if(r.value=document.querySelector(e.target),!r.value)throw new Error("target is not existed: "+e.target)}else r.value=document.documentElement;i.value=Ar(n.value),Rr(i.value,"scroll",u),Dr(n.value,c)}),Object(o["y"])(()=>{kr(i.value,"scroll",u),Ur(n.value,c)}),{root:n,state:a,rootStyle:s,affixStyle:l}}});Br.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{ref:"root",class:"el-affix",style:e.rootStyle},[Object(o["n"])("div",{class:{"el-affix--fixed":e.state.fixed},style:e.affixStyle},[Object(o["M"])(e.$slots,"default")],6)],4)},Br.__file="packages/affix/src/index.vue",Br.install=e=>{e.component(Br.name,Br)};const Zr=Br,Hr={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"};var Gr=Object(o["o"])({name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:e=>["light","dark"].indexOf(e)>-1}},emits:["close"],setup(e,t){const r=Object(o["J"])(!0),n=Object(o["h"])(()=>"el-alert--"+e.type),i=Object(o["h"])(()=>Hr[e.type]||"el-icon-info"),a=Object(o["h"])(()=>e.description||t.slots.default?"is-big":""),s=Object(o["h"])(()=>e.description||t.slots.default?"is-bold":"");return{visible:r,typeClass:n,iconClass:i,isBigIcon:a,isBoldTitle:s,close:e=>{r.value=!1,t.emit("close",e)}}}});const Vr={class:"el-alert__content"},zr={key:1,class:"el-alert__description"};Gr.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],{name:"el-alert-fade"},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{class:["el-alert",[e.typeClass,e.center?"is-center":"","is-"+e.effect]],role:"alert"},[e.showIcon?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-alert__icon",[e.iconClass,e.isBigIcon]]},null,2)):Object(o["k"])("v-if",!0),Object(o["n"])("div",Vr,[e.title||e.$slots.title?(Object(o["E"])(),Object(o["j"])("span",{key:0,class:["el-alert__title",[e.isBoldTitle]]},[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["m"])(Object(o["R"])(e.title),1)])],2)):Object(o["k"])("v-if",!0),e.$slots.default||e.description?(Object(o["E"])(),Object(o["j"])("p",zr,[Object(o["M"])(e.$slots,"default",{},()=>[Object(o["m"])(Object(o["R"])(e.description),1)])])):Object(o["k"])("v-if",!0),e.closable?(Object(o["E"])(),Object(o["j"])("i",{key:2,class:["el-alert__closebtn",{"is-customed":""!==e.closeText,"el-icon-close":""===e.closeText}],onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},Object(o["R"])(e.closeText),3)):Object(o["k"])("v-if",!0)])],2),[[o["Z"],e.visible]])]),_:3})},Gr.__file="packages/alert/src/index.vue",Gr.install=e=>{e.component(Gr.name,Gr)};const Wr=Gr;var Fr=Object(o["o"])({name:"ElAside",props:{width:{type:String,default:"300px"}}});Fr.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("aside",{class:"el-aside",style:{width:e.width}},[Object(o["M"])(e.$slots,"default")],4)},Fr.__file="packages/container/src/aside.vue",Fr.install=e=>{e.component(Fr.name,Fr)};const qr=Fr,Yr=["class","style"],$r=/^on[A-Z]/;var Kr=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r=[]}=e,n=Object(o["p"])(),i=Object(o["Q"])({}),a=r.concat(Yr);return n.attrs=Object(o["I"])(n.attrs),Object(o["bb"])(()=>{const e=vr(n.attrs).reduce((e,[r,o])=>(a.includes(r)||t&&$r.test(r)||(e[r]=o),e),{});i.value=e}),i};let Jr;function Xr(){if(Vt)return 0;if(void 0!==Jr)return Jr;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",e.appendChild(r);const o=r.offsetWidth;return e.parentNode.removeChild(e),Jr=t-o,Jr}var Qr=e=>{Object(o["s"])(e)||sr("[useLockScreen]","You need to pass a ref param to this function");let t=0,r=!1,n="0",i=0;Object(o["C"])(()=>{a()});const a=()=>{Lr(document.body,"el-popup-parent--hidden"),r&&(document.body.style.paddingRight=n)};Object(o["ab"])(e,e=>{if(e){r=!Ir(document.body,"el-popup-parent--hidden"),r&&(n=document.body.style.paddingRight,i=parseInt(Mr(document.body,"paddingRight"),10)),t=Xr();const e=document.documentElement.clientHeight<document.body.scrollHeight,o=Mr(document.body,"overflowY");t>0&&(e||"scroll"===o)&&r&&(document.body.style.paddingRight=i+t+"px"),jr(document.body,"el-popup-parent--hidden")}else a()})},eo=(e,t)=>{let r;Object(o["ab"])(()=>e.value,e=>{var n,i;e?(r=document.activeElement,Object(o["s"])(t)&&(null===(i=(n=t.value).focus)||void 0===i||i.call(n))):r.focus()})};const to={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace"},ro=e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent,oo=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter(no).filter(ro),no=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},io=function(e,t,...r){let o;o=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const n=document.createEvent(o);return n.initEvent(t,...r),e.dispatchEvent(n),e},ao=[];var so=(e,t)=>{Object(o["ab"])(()=>t.value,t=>{t?ao.push(e):ao.splice(ao.findIndex(t=>t===e),1)})};Vt||Rr(document,"keydown",e=>{0!==ao.length&&e.code===to.esc&&(e.stopPropagation(),ao[ao.length-1].handleClose())});const lo="update:modelValue",co={validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"},uo=new Map;let po;function ho(e,t){let r=[];return Array.isArray(t.arg)?r=t.arg:t.arg instanceof HTMLElement&&r.push(t.arg),function(o,n){const i=t.instance.popperRef,a=o.target,s=null==n?void 0:n.target,l=!t||!t.instance,c=!a||!s,u=e.contains(a)||e.contains(s),d=e===a,p=r.length&&r.some(e=>null==e?void 0:e.contains(a))||r.length&&r.includes(s),h=i&&(i.contains(a)||i.contains(s));l||c||u||d||p||h||t.value(o,n)}}Vt||(Rr(document,"mousedown",e=>po=e),Rr(document,"mouseup",e=>{for(const t of uo.values())for(const{documentHandler:r}of t)r(e,po)}));const fo={beforeMount(e,t){uo.has(e)||uo.set(e,[]),uo.get(e).push({documentHandler:ho(e,t),bindingFn:t.value})},updated(e,t){uo.has(e)||uo.set(e,[]);const r=uo.get(e),o=r.findIndex(e=>e.bindingFn===t.oldValue),n={documentHandler:ho(e,t),bindingFn:t.value};o>=0?r.splice(o,1,n):r.push(n)},unmounted(e){uo.delete(e)}};var go={beforeMount(e,t){let r,o=null;const n=()=>t.value&&t.value(),i=()=>{Date.now()-r<100&&n(),clearInterval(o),o=null};Rr(e,"mousedown",e=>{0===e.button&&(r=Date.now(),function(e,t,r){const o=function(...n){r&&r.apply(this,n),kr(e,t,o)};Rr(e,t,o)}(document,"mouseup",i),clearInterval(o),o=setInterval(n,100))})}};const mo=[],vo=e=>{if(0===mo.length)return;const t=mo[mo.length-1]["_trap-focus-children"];if(t.length>0&&e.code===to.tab){if(1===t.length)return e.preventDefault(),void(document.activeElement!==t[0]&&t[0].focus());const r=e.shiftKey,o=e.target===t[0],n=e.target===t[t.length-1];o&&r&&(e.preventDefault(),t[t.length-1].focus()),n&&!r&&(e.preventDefault(),t[0].focus()),0}},bo={beforeMount(e){e["_trap-focus-children"]=oo(e),mo.push(e),mo.length<=1&&Rr(document,"keydown",vo)},updated(e){Object(o["v"])(()=>{e["_trap-focus-children"]=oo(e)})},unmounted(){mo.shift(),0===mo.length&&kr(document,"keydown",vo)}},_o="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Eo={beforeMount(e,t){!function(e,t){if(e&&e.addEventListener){const r=function(e){const r=u()(e);t&&t.apply(this,[e,r])};_o?e.addEventListener("DOMMouseScroll",r):e.onmousewheel=r}}(e,t.value)}};function Oo(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}const yo=e=>["","large","medium","small","mini"].includes(e),So=e=>["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"].includes(e),To="el.form.addField",Co="el.form.removeField";var Ro=Object(o["o"])({name:"ElForm",props:{model:Object,rules:Object,labelPosition:String,labelWidth:[String,Number],labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},emits:["validate"],setup(e,{emit:t}){const r=d(),n=[];Object(o["ab"])(()=>e.rules,()=>{n.forEach(e=>{e.removeValidateEvents(),e.addValidateEvents()}),e.validateOnRuleChange&&s(()=>({}))}),r.on(To,e=>{e&&n.push(e)}),r.on(Co,e=>{e.prop&&n.splice(n.indexOf(e),1)});const i=()=>{e.model?n.forEach(e=>{e.resetField()}):console.warn("[Element Warn][Form]model is required for resetFields to work.")},a=(e=[])=>{(e.length?"string"==typeof e?n.filter(t=>e===t.prop):n.filter(t=>e.indexOf(t.prop)>-1):n).forEach(e=>{e.clearValidate()})},s=t=>{if(!e.model)return void console.warn("[Element Warn][Form]model is required for validate to work!");let r;"function"!=typeof t&&(r=new Promise((e,r)=>{t=function(t,o){t?e(!0):r(o)}})),0===n.length&&t(!0);let o=!0,i=0,a={};for(const e of n)e.validate("",(e,r)=>{e&&(o=!1),a=Object.assign(Object.assign({},a),r),++i===n.length&&t(o,a)});return r},l=(e,t)=>{e=[].concat(e);const r=n.filter(t=>-1!==e.indexOf(t.prop));n.length?r.forEach(e=>{e.validate("",t)}):console.warn("[Element Warn]please pass correct props!")},c=Object(o["I"])(Object.assign(Object.assign(Object.assign({formMitt:r},Object(o["U"])(e)),{resetFields:i,clearValidate:a,validateField:l,emit:t}),function(){const e=Object(o["J"])([]);function t(t){const r=e.value.indexOf(t);return-1===r&&console.warn("[Element Warn][ElementForm]unexpected width "+t),r}return{autoLabelWidth:Object(o["h"])(()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?t+"px":""}),registerLabelWidth:function(r,o){if(r&&o){const n=t(o);e.value.splice(n,1,r)}else r&&e.value.push(r)},deregisterLabelWidth:function(r){const o=t(r);o>-1&&e.value.splice(o,1)}}}()));return Object(o["G"])("elForm",c),{validate:s,resetFields:i,clearValidate:a,validateField:l}}});Ro.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("form",{class:["el-form",[e.labelPosition?"el-form--label-"+e.labelPosition:"",{"el-form--inline":e.inline}]]},[Object(o["M"])(e.$slots,"default")],2)},Ro.__file="packages/form/src/form.vue",Ro.install=e=>{e.component(Ro.name,Ro)};const ko=Ro;let Io;const jo=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Lo(e,t=1,r=null){var o;Io||(Io=document.createElement("textarea"),document.body.appendChild(Io));const{paddingSize:n,borderSize:i,boxSizing:a,contextStyle:s}=function(e){const t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing"),o=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),n=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:jo.map(e=>`${e}:${t.getPropertyValue(e)}`).join(";"),paddingSize:o,borderSize:n,boxSizing:r}}(e);Io.setAttribute("style",s+";\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n"),Io.value=e.value||e.placeholder||"";let l=Io.scrollHeight;const c={};"border-box"===a?l+=i:"content-box"===a&&(l-=n),Io.value="";const u=Io.scrollHeight-n;if(null!==t){let e=u*t;"border-box"===a&&(e=e+n+i),l=Math.max(e,l),c.minHeight=e+"px"}if(null!==r){let e=u*r;"border-box"===a&&(e=e+n+i),l=Math.min(e,l)}return c.height=l+"px",null===(o=Io.parentNode)||void 0===o||o.removeChild(Io),Io=null,c}const Mo={suffix:"append",prefix:"prepend"};var No=Object(o["o"])({name:"ElInput",inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},size:{type:String,validator:yo},resize:{type:String,validator:e=>["none","both","horizontal","vertical"].includes(e)},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off",validator:e=>["on","off"].includes(e)},placeholder:{type:String},form:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:String,default:""},prefixIcon:{type:String,default:""},label:{type:String},tabindex:{type:[Number,String]},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Object,default:()=>({})}},emits:[lo,"input","change","focus","blur","clear","mouseleave","mouseenter","keydown"],setup(e,t){const r=Object(o["p"])(),n=Kr(),i=_r(),a=Object(o["r"])("elForm",{}),s=Object(o["r"])("elFormItem",{}),l=Object(o["J"])(null),c=Object(o["J"])(null),u=Object(o["J"])(!1),d=Object(o["J"])(!1),p=Object(o["J"])(!1),h=Object(o["J"])(!1),f=Object(o["Q"])(e.inputStyle),g=Object(o["h"])(()=>l.value||c.value),m=Object(o["h"])(()=>e.size||s.size||i.size),v=Object(o["h"])(()=>a.statusIcon),b=Object(o["h"])(()=>s.validateState||""),_=Object(o["h"])(()=>co[b.value]),E=Object(o["h"])(()=>Object.assign(Object.assign({},f.value),{resize:e.resize})),O=Object(o["h"])(()=>e.disabled||a.disabled),y=Object(o["h"])(()=>null===e.modelValue||void 0===e.modelValue?"":String(e.modelValue)),S=Object(o["h"])(()=>t.attrs.maxlength),T=Object(o["h"])(()=>e.clearable&&!O.value&&!e.readonly&&y.value&&(u.value||d.value)),C=Object(o["h"])(()=>e.showPassword&&!O.value&&!e.readonly&&(!!y.value||u.value)),R=Object(o["h"])(()=>e.showWordLimit&&t.attrs.maxlength&&("text"===e.type||"textarea"===e.type)&&!O.value&&!e.readonly&&!e.showPassword),k=Object(o["h"])(()=>"number"==typeof e.modelValue?String(e.modelValue).length:(e.modelValue||"").length),I=Object(o["h"])(()=>R.value&&k.value>S.value),j=()=>{const{type:t,autosize:r}=e;if(!Vt&&"textarea"===t)if(r){const t=Jt(r)?r.minRows:void 0,o=Jt(r)?r.maxRows:void 0;f.value=Object.assign(Object.assign({},e.inputStyle),Lo(c.value,t,o))}else f.value=Object.assign(Object.assign({},e.inputStyle),{minHeight:Lo(c.value).minHeight})},L=()=>{const e=g.value;e&&e.value!==y.value&&(e.value=y.value)},M=e=>{const{el:o}=r.vnode,n=Array.from(o.querySelectorAll(".el-input__"+e)).find(e=>e.parentNode===o);if(!n)return;const i=Mo[e];t.slots[i]?n.style.transform=`translateX(${"suffix"===e?"-":""}${o.querySelector(".el-input-group__"+i).offsetWidth}px)`:n.removeAttribute("style")},N=()=>{M("prefix"),M("suffix")},A=e=>{const{value:r}=e.target;p.value||r!==y.value&&(t.emit(lo,r),t.emit("input",r),Object(o["v"])(L))},P=()=>{Object(o["v"])(()=>{g.value.focus()})};return Object(o["ab"])(()=>e.modelValue,t=>{var r;Object(o["v"])(j),e.validateEvent&&(null===(r=s.formItemMitt)||void 0===r||r.emit("el.form.change",[t]))}),Object(o["ab"])(y,()=>{L()}),Object(o["ab"])(()=>e.type,()=>{Object(o["v"])(()=>{L(),j(),N()})}),Object(o["B"])(()=>{L(),N(),Object(o["v"])(j)}),Object(o["D"])(()=>{Object(o["v"])(N)}),{input:l,textarea:c,attrs:n,inputSize:m,validateState:b,validateIcon:_,computedTextareaStyle:E,resizeTextarea:j,inputDisabled:O,showClear:T,showPwdVisible:C,isWordLimitVisible:R,upperLimit:S,textLength:k,hovering:d,inputExceed:I,passwordVisible:h,inputOrTextarea:g,handleInput:A,handleChange:e=>{t.emit("change",e.target.value)},handleFocus:e=>{u.value=!0,t.emit("focus",e)},handleBlur:r=>{var o;u.value=!1,t.emit("blur",r),e.validateEvent&&(null===(o=s.formItemMitt)||void 0===o||o.emit("el.form.blur",[e.modelValue]))},handleCompositionStart:()=>{p.value=!0},handleCompositionUpdate:e=>{const t=e.target.value,r=t[t.length-1]||"";p.value=!Oo(r)},handleCompositionEnd:e=>{p.value&&(p.value=!1,A(e))},handlePasswordVisible:()=>{h.value=!h.value,P()},clear:()=>{t.emit(lo,""),t.emit("change",""),t.emit("clear")},select:()=>{g.value.select()},focus:P,blur:()=>{g.value.blur()},getSuffixVisible:()=>t.slots.suffix||e.suffixIcon||T.value||e.showPassword||R.value||b.value&&v.value,onMouseLeave:e=>{d.value=!1,t.emit("mouseleave",e)},onMouseEnter:e=>{d.value=!0,t.emit("mouseenter",e)},handleKeydown:e=>{t.emit("keydown",e)}}}});const Ao={key:0,class:"el-input-group__prepend"},Po={key:2,class:"el-input__prefix"},wo={key:3,class:"el-input__suffix"},xo={class:"el-input__suffix-inner"},Do={key:3,class:"el-input__count"},Uo={class:"el-input__count-inner"},Bo={key:4,class:"el-input-group__append"},Zo={key:2,class:"el-input__count"};No.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,"el-input--suffix--password-clear":e.clearable&&e.showPassword},e.$attrs.class],style:e.$attrs.style,onMouseenter:t[20]||(t[20]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[21]||(t[21]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},["textarea"!==e.type?(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["k"])(" 前置元素 "),e.$slots.prepend?(Object(o["E"])(),Object(o["j"])("div",Ao,[Object(o["M"])(e.$slots,"prepend")])):Object(o["k"])("v-if",!0),"textarea"!==e.type?(Object(o["E"])(),Object(o["j"])("input",Object(o["u"])({key:1,ref:"input",class:"el-input__inner"},e.attrs,{type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:t[1]||(t[1]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[2]||(t[2]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[3]||(t[3]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onInput:t[4]||(t[4]=(...t)=>e.handleInput&&e.handleInput(...t)),onFocus:t[5]||(t[5]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[6]||(t[6]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onChange:t[7]||(t[7]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[8]||(t[8]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))}),null,16,["type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder"])):Object(o["k"])("v-if",!0),Object(o["k"])(" 前置内容 "),e.$slots.prefix||e.prefixIcon?(Object(o["E"])(),Object(o["j"])("span",Po,[Object(o["M"])(e.$slots,"prefix"),e.prefixIcon?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-input__icon",e.prefixIcon]},null,2)):Object(o["k"])("v-if",!0)])):Object(o["k"])("v-if",!0),Object(o["k"])(" 后置内容 "),e.getSuffixVisible()?(Object(o["E"])(),Object(o["j"])("span",wo,[Object(o["n"])("span",xo,[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["M"])(e.$slots,"suffix"),e.suffixIcon?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-input__icon",e.suffixIcon]},null,2)):Object(o["k"])("v-if",!0)],64)),e.showClear?(Object(o["E"])(),Object(o["j"])("i",{key:1,class:"el-input__icon el-icon-circle-close el-input__clear",onMousedown:t[9]||(t[9]=Object(o["fb"])(()=>{},["prevent"])),onClick:t[10]||(t[10]=(...t)=>e.clear&&e.clear(...t))},null,32)):Object(o["k"])("v-if",!0),e.showPwdVisible?(Object(o["E"])(),Object(o["j"])("i",{key:2,class:"el-input__icon el-icon-view el-input__clear",onClick:t[11]||(t[11]=(...t)=>e.handlePasswordVisible&&e.handlePasswordVisible(...t))})):Object(o["k"])("v-if",!0),e.isWordLimitVisible?(Object(o["E"])(),Object(o["j"])("span",Do,[Object(o["n"])("span",Uo,Object(o["R"])(e.textLength)+"/"+Object(o["R"])(e.upperLimit),1)])):Object(o["k"])("v-if",!0)]),e.validateState?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-input__icon","el-input__validateIcon",e.validateIcon]},null,2)):Object(o["k"])("v-if",!0)])):Object(o["k"])("v-if",!0),Object(o["k"])(" 后置元素 "),e.$slots.append?(Object(o["E"])(),Object(o["j"])("div",Bo,[Object(o["M"])(e.$slots,"append")])):Object(o["k"])("v-if",!0)],64)):(Object(o["E"])(),Object(o["j"])("textarea",Object(o["u"])({key:1,ref:"textarea",class:"el-textarea__inner"},e.attrs,{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autocomplete,style:e.computedTextareaStyle,"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onInput:t[15]||(t[15]=(...t)=>e.handleInput&&e.handleInput(...t)),onFocus:t[16]||(t[16]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[17]||(t[17]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onChange:t[18]||(t[18]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[19]||(t[19]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))}),"\n    ",16,["tabindex","disabled","readonly","autocomplete","aria-label","placeholder"])),e.isWordLimitVisible&&"textarea"===e.type?(Object(o["E"])(),Object(o["j"])("span",Zo,Object(o["R"])(e.textLength)+"/"+Object(o["R"])(e.upperLimit),1)):Object(o["k"])("v-if",!0)],38)},No.__file="packages/input/src/index.vue",No.install=e=>{e.component(No.name,No)};const Ho=No,Go={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var Vo=Object(o["o"])({name:"Bar",props:{vertical:Boolean,size:String,move:Number,always:Boolean},setup(e){const t=Object(o["J"])(null),r=Object(o["J"])(null),n=Object(o["r"])("scrollbar",{}),i=Object(o["r"])("scrollbar-wrap",{}),a=Object(o["h"])(()=>Go[e.vertical?"vertical":"horizontal"]),s=Object(o["J"])({}),l=Object(o["J"])(null),c=Object(o["J"])(null),u=Object(o["J"])(!1);let d=null;const p=e=>{e.stopImmediatePropagation(),l.value=!0,Rr(document,"mousemove",h),Rr(document,"mouseup",f),d=document.onselectstart,document.onselectstart=()=>!1},h=e=>{if(!1===l.value)return;const o=s.value[a.value.axis];if(!o)return;const n=100*(-1*(t.value.getBoundingClientRect()[a.value.direction]-e[a.value.client])-(r.value[a.value.offset]-o))/t.value[a.value.offset];i.value[a.value.scroll]=n*i.value[a.value.scrollSize]/100},f=()=>{l.value=!1,s.value[a.value.axis]=0,kr(document,"mousemove",h),document.onselectstart=d,c.value&&(u.value=!1)},g=Object(o["h"])(()=>function({move:e,size:t,bar:r}){const o={},n=`translate${r.axis}(${e}%)`;return o[r.size]=t,o.transform=n,o.msTransform=n,o.webkitTransform=n,o}({size:e.size,move:e.move,bar:a.value})),m=()=>{c.value=!1,u.value=!!e.size},v=()=>{c.value=!0,u.value=l.value};return Object(o["B"])(()=>{Rr(n.value,"mousemove",m),Rr(n.value,"mouseleave",v)}),Object(o["y"])(()=>{kr(document,"mouseup",f),kr(n.value,"mousemove",m),kr(n.value,"mouseleave",v)}),{instance:t,thumb:r,bar:a,clickTrackHandler:e=>{const o=100*(Math.abs(e.target.getBoundingClientRect()[a.value.direction]-e[a.value.client])-r.value[a.value.offset]/2)/t.value[a.value.offset];i.value[a.value.scroll]=o*i.value[a.value.scrollSize]/100},clickThumbHandler:e=>{e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button)||(window.getSelection().removeAllRanges(),p(e),s.value[a.value.axis]=e.currentTarget[a.value.offset]-(e[a.value.client]-e.currentTarget.getBoundingClientRect()[a.value.direction]))},thumbStyle:g,visible:u}}});Vo.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],{name:"el-scrollbar-fade"},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{ref:"instance",class:["el-scrollbar__bar","is-"+e.bar.key],onMousedown:t[2]||(t[2]=(...t)=>e.clickTrackHandler&&e.clickTrackHandler(...t))},[Object(o["n"])("div",{ref:"thumb",class:"el-scrollbar__thumb",style:e.thumbStyle,onMousedown:t[1]||(t[1]=(...t)=>e.clickThumbHandler&&e.clickThumbHandler(...t))},null,36)],34),[[o["Z"],e.always||e.visible]])]),_:1})},Vo.__file="packages/scrollbar/src/bar.vue";var zo=Object(o["o"])({name:"ElScrollbar",components:{Bar:Vo},props:{height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:t}){const r=Object(o["J"])("0"),n=Object(o["J"])("0"),i=Object(o["J"])(0),a=Object(o["J"])(0),s=Object(o["J"])(null),l=Object(o["J"])(null),c=Object(o["J"])(null);Object(o["G"])("scrollbar",s),Object(o["G"])("scrollbar-wrap",l);const u=()=>{if(!l.value)return;const e=100*l.value.clientHeight/l.value.scrollHeight,t=100*l.value.clientWidth/l.value.scrollWidth;n.value=e<100?e+"%":"",r.value=t<100?t+"%":""},d=Object(o["h"])(()=>{let t=e.wrapStyle;return Yt(t)?(t=function(e){const t={};for(let r=0;r<e.length;r++)e[r]&&Wt(t,e[r]);return t}(t),t.height=Cr(e.height),t.maxHeight=Cr(e.maxHeight)):Kt(t)&&(t+=Cr(e.height)?`height: ${Cr(e.height)};`:"",t+=Cr(e.maxHeight)?`max-height: ${Cr(e.maxHeight)};`:""),t});return Object(o["B"])(()=>{e.native||Object(o["v"])(u),e.noresize||(Dr(c.value,u),addEventListener("resize",u))}),Object(o["y"])(()=>{e.noresize||(Ur(c.value,u),removeEventListener("resize",u))}),{moveX:i,moveY:a,sizeWidth:r,sizeHeight:n,style:d,scrollbar:s,wrap:l,resize:c,update:u,handleScroll:()=>{l.value&&(a.value=100*l.value.scrollTop/l.value.clientHeight,i.value=100*l.value.scrollLeft/l.value.clientWidth,t("scroll",{scrollLeft:i.value,scrollTop:a.value}))},setScrollTop:e=>{fr(e)&&(l.value.scrollTop=e)},setScrollLeft:e=>{fr(e)&&(l.value.scrollLeft=e)}}}});const Wo={ref:"scrollbar",class:"el-scrollbar"};zo.render=function(e,t,r,n,i,a){const s=Object(o["N"])("bar");return Object(o["E"])(),Object(o["j"])("div",Wo,[Object(o["n"])("div",{ref:"wrap",class:[e.wrapClass,"el-scrollbar__wrap",e.native?"":"el-scrollbar__wrap--hidden-default"],style:e.style,onScroll:t[1]||(t[1]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[(Object(o["E"])(),Object(o["j"])(Object(o["P"])(e.tag),{ref:"resize",class:["el-scrollbar__view",e.viewClass],style:e.viewStyle},{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["n"])(s,{move:e.moveX,size:e.sizeWidth,always:e.always},null,8,["move","size","always"]),Object(o["n"])(s,{move:e.moveY,size:e.sizeHeight,vertical:"",always:e.always},null,8,["move","size","always"])],64))],512)},zo.__file="packages/scrollbar/src/index.vue",zo.install=e=>{e.component(zo.name,zo)};const Fo=zo;let qo={};const Yo=e=>{e.preventDefault(),e.stopPropagation()},$o=()=>{null==en||en.doOnModalClick()};let Ko,Jo=!1;const Xo=function(){if(Vt)return;let e=en.modalDom;return e?Jo=!0:(Jo=!1,e=document.createElement("div"),en.modalDom=e,Rr(e,"touchmove",Yo),Rr(e,"click",$o)),e},Qo={},en={modalFade:!0,modalDom:void 0,zIndex:Ko,getInstance:function(e){return Qo[e]},register:function(e,t){e&&t&&(Qo[e]=t)},deregister:function(e){e&&(Qo[e]=null,delete Qo[e])},nextZIndex:function(){return++en.zIndex},modalStack:[],doOnModalClick:function(){const e=en.modalStack[en.modalStack.length-1];if(!e)return;const t=en.getInstance(e.id);t&&t.closeOnClickModal.value&&t.close()},openModal:function(e,t,r,o,n){if(Vt)return;if(!e||void 0===t)return;this.modalFade=n;const i=this.modalStack;for(let s=0,l=i.length;s<l;s++)if(i[s].id===e)return;const a=Xo();jr(a,"v-modal"),this.modalFade&&!Jo&&jr(a,"v-modal-enter"),o&&o.trim().split(/\s+/).forEach(e=>jr(a,e)),setTimeout(()=>{Lr(a,"v-modal-enter")},200),r&&r.parentNode&&11!==r.parentNode.nodeType?r.parentNode.appendChild(a):document.body.appendChild(a),t&&(a.style.zIndex=String(t)),a.tabIndex=0,a.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:o})},closeModal:function(e){const t=this.modalStack,r=Xo();if(t.length>0){const o=t[t.length-1];if(o.id===e)o.modalClass&&o.modalClass.trim().split(/\s+/).forEach(e=>Lr(r,e)),t.pop(),t.length>0&&(r.style.zIndex=t[t.length-1].zIndex);else for(let r=t.length-1;r>=0;r--)if(t[r].id===e){t.splice(r,1);break}}0===t.length&&(this.modalFade&&jr(r,"v-modal-leave"),setTimeout(()=>{0===t.length&&(r.parentNode&&r.parentNode.removeChild(r),r.style.display="none",en.modalDom=void 0),Lr(r,"v-modal-leave")},200))}};function tn(e,t=[]){const{arrow:r,arrowOffset:o,offset:n,gpuAcceleration:i,fallbackPlacements:a}=e,s=[{name:"offset",options:{offset:[0,null!=n?n:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:null!=a?a:[]}},{name:"computeStyles",options:{gpuAcceleration:i,adaptive:i}}];return r&&s.push({name:"arrow",options:{element:r,padding:null!=o?o:5}}),s.push(...t),s}var rn;Object.defineProperty(en,"zIndex",{configurable:!0,get:()=>(void 0===Ko&&(Ko=qo["zIndex"]||2e3),Ko),set(e){Ko=e}}),Vt||Rr(window,"keydown",(function(e){if(e.code===to.esc){const e=function(){if(!Vt&&en.modalStack.length>0){const e=en.modalStack[en.modalStack.length-1];if(!e)return;return en.getInstance(e.id)}}();e&&e.closeOnPressEscape.value&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}})),function(e){e.DARK="dark",e.LIGHT="light"}(rn||(rn={}));var on,nn={arrowOffset:{type:Number,default:5},appendToBody:{type:Boolean,default:!0},autoClose:{type:Number,default:0},boundariesPadding:{type:Number,default:0},content:{type:String,default:""},class:{type:String,default:""},style:Object,hideAfter:{type:Number,default:200},cutoff:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},effect:{type:String,default:rn.DARK},enterable:{type:Boolean,default:!0},manualMode:{type:Boolean,default:!1},showAfter:{type:Number,default:0},offset:{type:Number,default:12},placement:{type:String,default:"bottom"},popperClass:{type:String,default:""},pure:{type:Boolean,default:!1},popperOptions:{type:Object,default:()=>null},showArrow:{type:Boolean,default:!0},strategy:{type:String,default:"fixed"},transition:{type:String,default:"el-fade-in-linear"},trigger:{type:[String,Array],default:"hover"},visible:{type:Boolean,default:void 0},stopPopperMouseEvent:{type:Boolean,default:!0},gpuAcceleration:{type:Boolean,default:!0},fallbackPlacements:{type:Array,default:[]}};function an(e,{emit:t}){const r=Object(o["J"])(null),n=Object(o["J"])(null),i=Object(o["J"])(null),a="el-popper-"+dr();let s=null,l=null,c=null,u=!1;const d=()=>e.manualMode||"manual"===e.trigger,p=Object(o["J"])({zIndex:en.nextZIndex()}),h=function(e,t){return Object(o["h"])(()=>{var r;return Object.assign(Object.assign({placement:e.placement},e.popperOptions),{modifiers:tn({arrow:t.arrow.value,arrowOffset:e.arrowOffset,offset:e.offset,gpuAcceleration:e.gpuAcceleration,fallbackPlacements:e.fallbackPlacements},null===(r=e.popperOptions)||void 0===r?void 0:r.modifiers)})})}(e,{arrow:r}),f=Object(o["I"])({visible:!!e.visible}),g=Object(o["h"])({get:()=>!e.disabled&&(hr(e.visible)?e.visible:f.visible),set(r){d()||(hr(e.visible)?t("update:visible",r):f.visible=r)}});function m(){e.autoClose>0&&(c=window.setTimeout(()=>{v()},e.autoClose)),g.value=!0}function v(){g.value=!1}function b(){clearTimeout(l),clearTimeout(c)}const _=()=>{d()||e.disabled||(b(),0===e.showAfter?m():l=window.setTimeout(()=>{m()},e.showAfter))},E=()=>{d()||(b(),e.hideAfter>0?c=window.setTimeout(()=>{O()},e.hideAfter):O())},O=()=>{v(),e.disabled&&S(!0)};function y(){if(!Tr(g))return;const e=Tr(n),t=tr(e).startsWith("HTML")?e:e.$el;s=ht(t,Tr(i),Tr(h)),s.update()}function S(e){!s||Tr(g)&&!e||T()}function T(){var e;null===(e=null==s?void 0:s.destroy)||void 0===e||e.call(s),s=null}const C={};if(!d()){const t=()=>{Tr(g)?E():_()},r=e=>{switch(e.stopPropagation(),e.type){case"click":u?u=!1:t();break;case"mouseenter":_();break;case"mouseleave":E();break;case"focus":u=!0,_();break;case"blur":u=!1,E()}},o={click:["onClick"],hover:["onMouseenter","onMouseleave"],focus:["onFocus","onBlur"]},n=e=>{o[e].forEach(e=>{C[e]=r})};Yt(e.trigger)?Object.values(e.trigger).forEach(n):n(e.trigger)}return Object(o["ab"])(h,e=>{s&&(s.setOptions(e),s.update())}),Object(o["ab"])(g,(function(e){e&&(p.value.zIndex=en.nextZIndex(),y())})),{update:function(){Tr(g)&&(s?s.update():y())},doDestroy:S,show:_,hide:E,onPopperMouseEnter:function(){e.enterable&&"click"!==e.trigger&&clearTimeout(c)},onPopperMouseLeave:function(){const{trigger:t}=e;Kt(t)&&("click"===t||"focus"===t)||1===t.length&&("click"===t[0]||"focus"===t[0])||E()},onAfterEnter:()=>{t("after-enter")},onAfterLeave:()=>{T(),t("after-leave")},onBeforeEnter:()=>{t("before-enter")},onBeforeLeave:()=>{t("before-leave")},initializePopper:y,isManualMode:d,arrowRef:r,events:C,popperId:a,popperInstance:s,popperRef:i,popperStyle:p,triggerRef:n,visibility:g}}function sn(e,t){const{effect:r,name:n,stopPopperMouseEvent:i,popperClass:a,popperStyle:s,popperRef:l,pure:c,popperId:u,visibility:d,onMouseenter:p,onMouseleave:h,onAfterEnter:f,onAfterLeave:g,onBeforeEnter:m,onBeforeLeave:v}=e,b=[a,"el-popper","is-"+r,c?"is-pure":""],_=i?wr:zt;return Object(o["q"])(o["d"],{name:n,onAfterEnter:f,onAfterLeave:g,onBeforeEnter:m,onBeforeLeave:v},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["q"])("div",{"aria-hidden":String(!d),class:b,style:null!=s?s:{},id:u,ref:null!=l?l:"popperRef",role:"tooltip",onMouseenter:p,onMouseleave:h,onClick:wr,onMousedown:_,onMouseup:_},t),[[o["Z"],d]])])})}!function(e){e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL"}(on||(on={}));const ln=e=>e.type===o["b"],cn=e=>e.type===o["a"];function un(e,t){if(!cn(e))return ln(e)||(e=>"template"===e.type)(e)?t>0?dn(e.children,t-1):void 0:e}const dn=(e,t=3)=>Array.isArray(e)?un(e[0],t):un(e,t);function pn(e,t,r,n,i,a){return e?function(e,t,r,n,i){return Object(o["E"])(),Object(o["j"])(e,t,r,n,i)}(t,r,n,i,a):Object(o["k"])("v-if",!0)}function hn(e,t){const r=dn(e,1);return r||sr("renderTrigger","trigger expects single rooted node"),Object(o["g"])(r,t,!0)}function fn(e){return e?Object(o["q"])("div",{ref:"arrowRef",class:"el-popper__arrow","data-popper-arrow":""},null):Object(o["q"])(o["a"],null,"")}var gn=Object(o["o"])({name:"ElPopper",props:nn,emits:["update:visible","after-enter","after-leave","before-enter","before-leave"],setup(e,t){t.slots.trigger||sr("ElPopper","Trigger must be provided");const r=an(e,t),n=()=>r.doDestroy(!0);return Object(o["B"])(r.initializePopper),Object(o["y"])(n),Object(o["w"])(r.initializePopper),Object(o["A"])(n),r},render(){var e;const{$slots:t,appendToBody:r,class:n,style:i,effect:a,hide:s,onPopperMouseEnter:l,onPopperMouseLeave:c,onAfterEnter:u,onAfterLeave:d,onBeforeEnter:p,onBeforeLeave:h,popperClass:f,popperId:g,popperStyle:m,pure:v,showArrow:b,transition:_,visibility:E,stopPopperMouseEvent:O}=this,y=this.isManualMode(),S=fn(b),T=sn({effect:a,name:_,popperClass:f,popperId:g,popperStyle:m,pure:v,stopPopperMouseEvent:O,onMouseenter:l,onMouseleave:c,onAfterEnter:u,onAfterLeave:d,onBeforeEnter:p,onBeforeLeave:h,visibility:E},[Object(o["M"])(t,"default",{},()=>[Object(o["R"])(this.content)]),S]),C=null===(e=t.trigger)||void 0===e?void 0:e.call(t),R=Object.assign({"aria-describedby":g,class:n,style:i,ref:"triggerRef"},this.events),k=y?hn(C,R):Object(o["db"])(hn(C,R),[[fo,s]]);return Object(o["q"])(o["b"],null,[k,Object(o["q"])(o["c"],{to:"body",disabled:!r},[T])])}});gn.__file="packages/popper/src/index.vue",gn.install=e=>{e.component(gn.name,gn)};const mn=gn;var vn=Object(o["o"])({name:"ElAutocomplete",components:{ElPopper:mn,ElInput:Ho,ElScrollbar:Fo},directives:{clickoutside:fo},inheritAttrs:!1,props:{valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:String,validator:e=>["top","top-start","top-end","bottom","bottom-start","bottom-end"].includes(e),default:"bottom-start"},fetchSuggestions:{type:Function,default:zt},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},emits:[lo,"input","change","focus","blur","clear","select"],setup(e,t){const r=Kr(),n=Object(o["J"])([]),i=Object(o["J"])(-1),a=Object(o["J"])(""),s=Object(o["J"])(!1),c=Object(o["J"])(!1),u=Object(o["J"])(!1),d=Object(o["J"])(null),p=Object(o["J"])(null),h=Object(o["J"])(null),f=Object(o["h"])(()=>"el-autocomplete-"+dr()),g=Object(o["h"])(()=>(Yt(n.value)&&n.value.length>0||u.value)&&s.value),m=Object(o["h"])(()=>!e.hideLoading&&u.value),v=()=>{Object(o["v"])(h.value.update)};Object(o["ab"])(g,()=>{a.value=d.value.$el.offsetWidth+"px"}),Object(o["B"])(()=>{d.value.inputOrTextarea.setAttribute("role","textbox"),d.value.inputOrTextarea.setAttribute("aria-autocomplete","list"),d.value.inputOrTextarea.setAttribute("aria-controls","id"),d.value.inputOrTextarea.setAttribute("aria-activedescendant",`${f.value}-item-${i.value}`);const e=p.value.querySelector(".el-autocomplete-suggestion__list");e.setAttribute("role","listbox"),e.setAttribute("id",f.value)}),Object(o["D"])(v);const b=t=>{c.value||(u.value=!0,v(),e.fetchSuggestions(t,t=>{u.value=!1,c.value||(Yt(t)?(n.value=t,i.value=e.highlightFirstItem?0:-1):sr("ElAutocomplete","autocomplete suggestions must be an array"))}))},_=l()(b,e.debounce),E=r=>{t.emit("input",r[e.valueKey]),t.emit(lo,r[e.valueKey]),t.emit("select",r),Object(o["v"])(()=>{n.value=[],i.value=-1})};return{attrs:r,suggestions:n,highlightedIndex:i,dropdownWidth:a,activated:s,suggestionDisabled:c,loading:u,inputRef:d,regionRef:p,popper:h,id:f,suggestionVisible:g,suggestionLoading:m,getData:b,handleInput:r=>{if(t.emit("input",r),t.emit(lo,r),c.value=!1,!e.triggerOnFocus&&!r)return c.value=!0,void(n.value=[]);_(r)},handleChange:e=>{t.emit("change",e)},handleFocus:r=>{s.value=!0,t.emit("focus",r),e.triggerOnFocus&&_(e.modelValue)},handleBlur:e=>{t.emit("blur",e)},handleClear:()=>{s.value=!1,t.emit(lo,""),t.emit("clear")},handleKeyEnter:()=>{g.value&&i.value>=0&&i.value<n.value.length?E(n.value[i.value]):e.selectWhenUnmatched&&(t.emit("select",{value:e.modelValue}),Object(o["v"])(()=>{n.value=[],i.value=-1}))},close:()=>{s.value=!1},focus:()=>{d.value.focus()},select:E,highlight:e=>{if(!g.value||u.value)return;if(e<0)return void(i.value=-1);e>=n.value.length&&(e=n.value.length-1);const t=p.value.querySelector(".el-autocomplete-suggestion__wrap"),r=t.querySelectorAll(".el-autocomplete-suggestion__list li")[e],o=t.scrollTop,a=r.offsetTop;a+r.scrollHeight>o+t.clientHeight&&(t.scrollTop+=r.scrollHeight),a<o&&(t.scrollTop-=r.scrollHeight),i.value=e,d.value.inputOrTextarea.setAttribute("aria-activedescendant",`${f.value}-item-${i.value}`)}}}});const bn={key:0},_n=Object(o["n"])("i",{class:"el-icon-loading"},null,-1);vn.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input"),l=Object(o["N"])("el-scrollbar"),c=Object(o["N"])("el-popper"),u=Object(o["O"])("clickoutside");return Object(o["E"])(),Object(o["j"])(c,{ref:"popper",visible:e.suggestionVisible,"onUpdate:visible":t[3]||(t[3]=t=>e.suggestionVisible=t),placement:e.placement,"popper-class":"el-autocomplete__popper "+e.popperClass,"append-to-body":e.popperAppendToBody,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:"el-zoom-in-top","gpu-acceleration":!1},{trigger:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{class:["el-autocomplete",e.$attrs.class],style:e.$attrs.style,role:"combobox","aria-haspopup":"listbox","aria-expanded":e.suggestionVisible,"aria-owns":e.id},[Object(o["n"])(s,Object(o["u"])({ref:"inputRef"},e.attrs,{"model-value":e.modelValue,onInput:e.handleInput,onChange:e.handleChange,onFocus:e.handleFocus,onBlur:e.handleBlur,onClear:e.handleClear,onKeydown:[t[1]||(t[1]=Object(o["eb"])(Object(o["fb"])(t=>e.highlight(e.highlightedIndex-1),["prevent"]),["up"])),t[2]||(t[2]=Object(o["eb"])(Object(o["fb"])(t=>e.highlight(e.highlightedIndex+1),["prevent"]),["down"])),Object(o["eb"])(e.handleKeyEnter,["enter"]),Object(o["eb"])(e.close,["tab"])]}),Object(o["l"])({_:2},[e.$slots.prepend?{name:"prepend",fn:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"prepend")])}:void 0,e.$slots.append?{name:"append",fn:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"append")])}:void 0,e.$slots.prefix?{name:"prefix",fn:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"prefix")])}:void 0,e.$slots.suffix?{name:"suffix",fn:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"suffix")])}:void 0]),1040,["model-value","onInput","onChange","onFocus","onBlur","onClear","onKeydown"])],14,["aria-expanded","aria-owns"]),[[u,e.close]])]),default:Object(o["cb"])(()=>[Object(o["n"])("div",{ref:"regionRef",class:["el-autocomplete-suggestion",e.suggestionLoading&&"is-loading"],style:{width:e.dropdownWidth,outline:"none"},role:"region"},[Object(o["n"])(l,{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"},{default:Object(o["cb"])(()=>[e.suggestionLoading?(Object(o["E"])(),Object(o["j"])("li",bn,[_n])):(Object(o["E"])(!0),Object(o["j"])(o["b"],{key:1},Object(o["L"])(e.suggestions,(t,r)=>(Object(o["E"])(),Object(o["j"])("li",{id:`${e.id}-item-${r}`,key:r,class:{highlighted:e.highlightedIndex===r},role:"option","aria-selected":e.highlightedIndex===r,onClick:r=>e.select(t)},[Object(o["M"])(e.$slots,"default",{item:t},()=>[Object(o["m"])(Object(o["R"])(t[e.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3})],6)]),_:1},8,["visible","placement","popper-class","append-to-body"])},vn.__file="packages/autocomplete/src/index.vue",vn.install=e=>{e.component(vn.name,vn)};const En=vn;var On=Object(o["o"])({name:"ElAvatar",props:{size:{type:[Number,String],validator:e=>"string"==typeof e?["large","medium","small"].includes(e):"number"==typeof e,default:"large"},shape:{type:String,default:"circle",validator:e=>["circle","square"].includes(e)},icon:String,src:{type:String,default:""},alt:String,srcSet:String,fit:{type:String,default:"cover"}},emits:["error"],setup(e,{emit:t}){const r=Object(o["J"])(!1),n=Object(o["T"])(e,"src");Object(o["ab"])(n,()=>{r.value=!1});const i=Object(o["h"])(()=>{const{size:t,icon:r,shape:o}=e,n=["el-avatar"];return t&&"string"==typeof t&&n.push("el-avatar--"+t),r&&n.push("el-avatar--icon"),o&&n.push("el-avatar--"+o),n}),a=Object(o["h"])(()=>{const{size:t}=e;return"number"==typeof t?{height:t+"px",width:t+"px",lineHeight:t+"px"}:{}}),s=Object(o["h"])(()=>({objectFit:e.fit}));return{hasLoadError:r,avatarClass:i,sizeStyle:a,handleError:function(e){r.value=!0,t("error",e)},fitStyle:s}}});On.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("span",{class:e.avatarClass,style:e.sizeStyle},[!e.src&&!e.srcSet||e.hasLoadError?e.icon?(Object(o["E"])(),Object(o["j"])("i",{key:1,class:e.icon},null,2)):Object(o["M"])(e.$slots,"default",{key:2}):(Object(o["E"])(),Object(o["j"])("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:e.fitStyle,onError:t[1]||(t[1]=(...t)=>e.handleError&&e.handleError(...t))},null,44,["src","alt","srcset"]))],6)},On.__file="packages/avatar/src/index.vue",On.install=e=>{e.component(On.name,On)};const yn=On,Sn=e=>Math.pow(e,3);var Tn=Object(o["o"])({name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},emits:["click"],setup(e,t){const r=Object(o["J"])(null),n=Object(o["J"])(null),i=Object(o["J"])(!1),a=Object(o["h"])(()=>e.bottom+"px"),s=Object(o["h"])(()=>e.right+"px"),l=()=>{const e=Date.now(),t=r.value.scrollTop,o=window.requestAnimationFrame||(e=>setTimeout(e,16)),n=()=>{const i=(Date.now()-e)/500;var a;i<1?(r.value.scrollTop=t*(1-((a=i)<.5?Sn(2*a)/2:1-Sn(2*(1-a))/2)),o(n)):r.value.scrollTop=0};o(n)},c=gt()(()=>{i.value=r.value.scrollTop>=e.visibilityHeight},300);return Object(o["B"])(()=>{n.value=document,r.value=document.documentElement,e.target&&(r.value=document.querySelector(e.target),r.value||sr("ElBackTop","target is not existed: "+e.target),n.value=r.value),Rr(n.value,"scroll",c)}),Object(o["y"])(()=>{kr(n.value,"scroll",c)}),{el:r,container:n,visible:i,styleBottom:a,styleRight:s,handleClick:e=>{l(),t.emit("click",e)}}}});const Cn=Object(o["n"])("i",{class:"el-icon-caret-top"},null,-1);Tn.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],{name:"el-fade-in"},{default:Object(o["cb"])(()=>[e.visible?(Object(o["E"])(),Object(o["j"])("div",{key:0,style:{right:e.styleRight,bottom:e.styleBottom},class:"el-backtop",onClick:t[1]||(t[1]=Object(o["fb"])((...t)=>e.handleClick&&e.handleClick(...t),["stop"]))},[Object(o["M"])(e.$slots,"default",{},()=>[Cn])],4)):Object(o["k"])("v-if",!0)]),_:3})},Tn.__file="packages/backtop/src/index.vue",Tn.install=e=>{e.component(Tn.name,Tn)};const Rn=Tn;var kn=Object(o["o"])({name:"ElBadge",props:{value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,default:"primary",validator:e=>["primary","success","warning","info","danger"].includes(e)}},setup:e=>({content:Object(o["h"])(()=>{if(!e.isDot)return"number"==typeof e.value&&"number"==typeof e.max&&e.max<e.value?e.max+"+":e.value})})});const In={class:"el-badge"};kn.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",In,[Object(o["M"])(e.$slots,"default"),Object(o["n"])(o["d"],{name:"el-zoom-in-center"},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("sup",{class:["el-badge__content",["el-badge__content--"+e.type,{"is-fixed":e.$slots.default,"is-dot":e.isDot}]],textContent:Object(o["R"])(e.content)},null,10,["textContent"]),[[o["Z"],!e.hidden&&(e.content||0===e.content||e.isDot)]])]),_:1})])},kn.__file="packages/badge/src/index.vue",kn.install=e=>{e.component(kn.name,kn)};const jn=kn;var Ln=Object(o["o"])({name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},setup(e){const t=Object(o["J"])(null);return Object(o["G"])("breadcrumb",e),Object(o["B"])(()=>{const e=t.value.querySelectorAll(".el-breadcrumb__item");e.length&&e[e.length-1].setAttribute("aria-current","page")}),{breadcrumb:t}}});const Mn={ref:"breadcrumb",class:"el-breadcrumb","aria-label":"Breadcrumb",role:"navigation"};Ln.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",Mn,[Object(o["M"])(e.$slots,"default")],512)},Ln.__file="packages/breadcrumb/src/index.vue",Ln.install=e=>{e.component(Ln.name,Ln)};const Nn=Ln;var An=Object(o["o"])({name:"ElBreadcrumbItem",props:{to:{type:[String,Object],default:""},replace:{type:Boolean,default:!1}},setup(e){const t=Object(o["J"])(null),r=Object(o["r"])("breadcrumb"),n=Object(o["p"])().appContext.config.globalProperties.$router;return Object(o["B"])(()=>{t.value.setAttribute("role","link"),t.value.addEventListener("click",()=>{e.to&&n&&(e.replace?n.replace(e.to):n.push(e.to))})}),{link:t,separator:null==r?void 0:r.separator,separatorClass:null==r?void 0:r.separatorClass}}});const Pn={class:"el-breadcrumb__item"},wn={key:1,class:"el-breadcrumb__separator",role:"presentation"};An.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("span",Pn,[Object(o["n"])("span",{ref:"link",class:["el-breadcrumb__inner",e.to?"is-link":""],role:"link"},[Object(o["M"])(e.$slots,"default")],2),e.separatorClass?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-breadcrumb__separator",e.separatorClass]},null,2)):(Object(o["E"])(),Object(o["j"])("span",wn,Object(o["R"])(e.separator),1))])},An.__file="packages/breadcrumb/src/item.vue",An.install=e=>{e.component(An.name,An)};const xn=An;var Dn=Object(o["o"])({name:"ElButton",props:{type:{type:String,default:"default",validator:e=>["default","primary","success","warning","info","danger","text"].includes(e)},size:{type:String,validator:yo},icon:{type:String,default:""},nativeType:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},emits:["click"],setup(e,{emit:t}){const r=_r(),n=Object(o["r"])("elForm",{}),i=Object(o["r"])("elFormItem",{});return{buttonSize:Object(o["h"])(()=>e.size||i.size||r.size),buttonDisabled:Object(o["h"])(()=>e.disabled||n.disabled),handleClick:e=>{t("click",e)}}}});const Un={key:0,class:"el-icon-loading"},Bn={key:2};Dn.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("button",{class:["el-button",e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType,onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.loading?(Object(o["E"])(),Object(o["j"])("i",Un)):Object(o["k"])("v-if",!0),e.icon&&!e.loading?(Object(o["E"])(),Object(o["j"])("i",{key:1,class:e.icon},null,2)):Object(o["k"])("v-if",!0),e.$slots.default?(Object(o["E"])(),Object(o["j"])("span",Bn,[Object(o["M"])(e.$slots,"default")])):Object(o["k"])("v-if",!0)],10,["disabled","autofocus","type"])},Dn.__file="packages/button/src/button.vue",Dn.install=e=>{e.component(Dn.name,Dn)};const Zn=Dn;var Hn=Object(o["o"])({name:"ElButtonGroup"});const Gn={class:"el-button-group"};Hn.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",Gn,[Object(o["M"])(e.$slots,"default")])},Hn.__file="packages/button/src/button-group.vue",Hn.install=e=>{e.component(Hn.name,Hn)};const Vn=Hn;let zn={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}},Wn=null;function Fn(e,t){return e&&t?e.replace(/\{(\w+)\}/g,(e,r)=>t[r]):e}const qn=(...e)=>{if(Wn)return Wn(...e);const[t,r]=e;let o;const n=t.split(".");let i=zn;for(let a=0,s=n.length;a<s;a++){if(o=i[n[a]],a===s-1)return Fn(o,r);if(!o)return"";i=o}return""},Yn={date:"YYYY-MM-DD",week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:"YYYY-MM-DD HH:mm:ss",monthrange:"YYYY-MM",daterange:"YYYY-MM-DD",datetimerange:"YYYY-MM-DD HH:mm:ss"},$n={name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:String,default:"el-icon-circle-close"},editable:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},size:{type:String,validator:yo},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean},Kn=function(e,t){const r=e instanceof Date,o=t instanceof Date;return r&&o?e.getTime()===t.getTime():!r&&!o&&e===t},Jn=function(e,t){const r=e instanceof Array,o=t instanceof Array;return r&&o?e.length===t.length&&e.every((e,r)=>Kn(e,t[r])):!r&&!o&&Kn(e,t)},Xn=function(e,t){const r=Or(t)?vt()(e):vt()(e,t);return r.isValid()?r:void 0},Qn=function(e,t){return Or(t)?e:vt()(e).format(t)};var ei=Object(o["o"])({name:"Picker",components:{ElInput:Ho,ElPopper:mn},directives:{clickoutside:fo},props:$n,emits:["update:modelValue","change","focus","blur"],setup(e,t){const r=_r(),n=Object(o["r"])("elForm",{}),i=Object(o["r"])("elFormItem",{}),a=Object(o["r"])("ElPopperOptions",{}),s=Object(o["J"])(null),l=Object(o["J"])(!1),c=Object(o["J"])(!1),u=Object(o["J"])(null);Object(o["ab"])(l,r=>{var n;r?u.value=e.modelValue:(R.value=null,Object(o["v"])(()=>{d(e.modelValue)}),t.emit("blur"),I(),e.validateEvent&&(null===(n=i.formItemMitt)||void 0===n||n.emit("el.form.blur")))});const d=(r,o)=>{var n;!o&&Jn(r,u.value)||(t.emit("change",r),e.validateEvent&&(null===(n=i.formItemMitt)||void 0===n||n.emit("el.form.change",r)))},p=r=>{if(!Jn(e.modelValue,r)){let o;Array.isArray(r)?o=r.map(t=>Qn(t,e.valueFormat)):r&&(o=Qn(r,e.valueFormat)),t.emit("update:modelValue",r?o:r)}},h=Object(o["h"])(()=>{if(s.value.triggerRef){const e=S.value?s.value.triggerRef:s.value.triggerRef.$el;return[].slice.call(e.querySelectorAll("input"))}return[]}),f=Object(o["h"])(()=>e.disabled||n.disabled),g=Object(o["h"])(()=>{let t;return y.value?N.value.getDefaultValue&&(t=N.value.getDefaultValue()):t=Array.isArray(e.modelValue)?e.modelValue.map(t=>Xn(t,e.valueFormat)):Xn(e.modelValue,e.valueFormat),N.value.getRangeAvaliableTime&&(t=N.value.getRangeAvaliableTime(t)),Array.isArray(t)&&t.some(e=>!e)&&(t=[]),t}),m=Object(o["h"])(()=>{if(!N.value.panelReady)return;const e=L(g.value);return Array.isArray(R.value)?[R.value[0]||e&&e[0]||"",R.value[1]||e&&e[1]||""]:null!==R.value?R.value:!b.value&&y.value||!l.value&&y.value?void 0:e?_.value?e.join(", "):e:""}),v=Object(o["h"])(()=>-1!==e.type.indexOf("time")),b=Object(o["h"])(()=>0===e.type.indexOf("time")),_=Object(o["h"])(()=>"dates"===e.type),E=Object(o["h"])(()=>e.prefixIcon||(v.value?"el-icon-time":"el-icon-date")),O=Object(o["J"])(!1),y=Object(o["h"])(()=>!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length),S=Object(o["h"])(()=>e.type.indexOf("range")>-1),T=Object(o["h"])(()=>e.size||i.size||r.size),C=Object(o["h"])(()=>{var e;return null===(e=s.value)||void 0===e?void 0:e.popperRef}),R=Object(o["J"])(null),k=()=>{if(R.value){const e=j(m.value);e&&M(e)&&(p(Array.isArray(e)?e.map(e=>e.toDate()):e.toDate()),R.value=null)}""===R.value&&(p(null),d(null),R.value=null)},I=()=>{h.value.forEach(e=>e.blur())},j=e=>e?N.value.parseUserInput(e):null,L=e=>e?N.value.formatToString(e):null,M=e=>N.value.isValidValue(e),N=Object(o["J"])({});return Object(o["G"])("EP_PICKER_BASE",{props:e}),{elPopperOptions:a,isDatesPicker:_,handleEndChange:()=>{const e=j(R.value&&R.value[1]);if(e&&e.isValid()){R.value=[m.value[0],L(e)];const t=[g.value&&g.value[0],e];M(t)&&(p(t),R.value=null)}},handleStartChange:()=>{const e=j(R.value&&R.value[0]);if(e&&e.isValid()){R.value=[L(e),m.value[1]];const t=[e,g.value&&g.value[1]];M(t)&&(p(t),R.value=null)}},handleStartInput:e=>{R.value?R.value=[e.target.value,R.value[1]]:R.value=[e.target.value,null]},handleEndInput:e=>{R.value?R.value=[R.value[0],e.target.value]:R.value=[null,e.target.value]},onUserInput:e=>{R.value=e},handleChange:k,handleKeydown:e=>{const t=e.code;return t===to.esc?(l.value=!1,void e.stopPropagation()):t!==to.tab?t===to.enter?((""===R.value||M(j(m.value)))&&(k(),l.value=!1),void e.stopPropagation()):void(R.value?e.stopPropagation():N.value.handleKeydown&&N.value.handleKeydown(e)):void(S.value?setTimeout(()=>{-1===h.value.indexOf(document.activeElement)&&(l.value=!1,I())},0):(k(),l.value=!1,e.stopPropagation()))},popperPaneRef:C,onClickOutside:()=>{l.value&&(l.value=!1)},pickerSize:T,isRangeInput:S,onMouseLeave:()=>{O.value=!1},onMouseEnter:()=>{e.readonly||f.value||!y.value&&e.clearable&&(O.value=!0)},onClearIconClick:t=>{e.readonly||f.value||O.value&&(t.stopPropagation(),p(null),d(null,!0),O.value=!1,l.value=!1,N.value.handleClear&&N.value.handleClear())},showClose:O,triggerClass:E,onPick:(e="",t=!1)=>{let r;l.value=t,r=Array.isArray(e)?e.map(e=>e.toDate()):e?e.toDate():e,R.value=null,p(r)},handleFocus:r=>{e.readonly||f.value||(l.value=!0,t.emit("focus",r))},pickerVisible:l,pickerActualVisible:c,displayValue:m,parsedValue:g,setSelectionRange:(e,t,r)=>{const o=h.value;o.length&&(r&&"min"!==r?"max"===r&&(o[1].setSelectionRange(e,t),o[1].focus()):(o[0].setSelectionRange(e,t),o[0].focus()))},refPopper:s,pickerDisabled:f,onSetPickerOption:e=>{N.value[e[0]]=e[1],N.value.panelReady=!0}}}});const ti={class:"el-range-separator"};ei.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input"),l=Object(o["N"])("el-popper"),c=Object(o["O"])("clickoutside");return Object(o["E"])(),Object(o["j"])(l,Object(o["u"])({ref:"refPopper",visible:e.pickerVisible,"onUpdate:visible":t[18]||(t[18]=t=>e.pickerVisible=t),"manual-mode":"",effect:"light",pure:"",trigger:"click"},e.$attrs,{"popper-class":"el-picker__popper "+e.popperClass,"popper-options":e.elPopperOptions,"fallback-placements":["bottom","top","right","left"],transition:"el-zoom-in-top","gpu-acceleration":!1,"stop-popper-mouse-event":!1,"append-to-body":"",onBeforeEnter:t[19]||(t[19]=t=>e.pickerActualVisible=!0),onAfterLeave:t[20]||(t[20]=t=>e.pickerActualVisible=!1)}),{trigger:Object(o["cb"])(()=>[e.isRangeInput?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{key:1,class:["el-date-editor el-range-editor el-input__inner",["el-date-editor--"+e.type,e.pickerSize?"el-range-editor--"+e.pickerSize:"",e.pickerDisabled?"is-disabled":"",e.pickerVisible?"is-active":""]],onClick:t[10]||(t[10]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onMouseenter:t[11]||(t[11]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[12]||(t[12]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onKeydown:t[13]||(t[13]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[Object(o["n"])("i",{class:["el-input__icon","el-range__icon",e.triggerClass]},null,2),Object(o["n"])("input",{autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.displayValue&&e.displayValue[0],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:"el-range-input",onInput:t[3]||(t[3]=(...t)=>e.handleStartInput&&e.handleStartInput(...t)),onChange:t[4]||(t[4]=(...t)=>e.handleStartChange&&e.handleStartChange(...t)),onFocus:t[5]||(t[5]=(...t)=>e.handleFocus&&e.handleFocus(...t))},null,40,["name","placeholder","value","disabled","readonly"]),Object(o["M"])(e.$slots,"range-separator",{},()=>[Object(o["n"])("span",ti,Object(o["R"])(e.rangeSeparator),1)]),Object(o["n"])("input",{autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.displayValue&&e.displayValue[1],disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,class:"el-range-input",onFocus:t[6]||(t[6]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[7]||(t[7]=(...t)=>e.handleEndInput&&e.handleEndInput(...t)),onChange:t[8]||(t[8]=(...t)=>e.handleEndChange&&e.handleEndChange(...t))},null,40,["name","placeholder","value","disabled","readonly"]),Object(o["n"])("i",{class:[[e.showClose?""+e.clearIcon:""],"el-input__icon el-range__close-icon"],onClick:t[9]||(t[9]=(...t)=>e.onClearIconClick&&e.onClearIconClick(...t))},null,2)],34)),[[c,e.onClickOutside,e.popperPaneRef]]):Object(o["db"])((Object(o["E"])(),Object(o["j"])(s,{key:0,"model-value":e.displayValue,name:e.name,size:e.pickerSize,disabled:e.pickerDisabled,placeholder:e.placeholder,class:["el-date-editor","el-date-editor--"+e.type],readonly:!e.editable||e.readonly||e.isDatesPicker||"week"===e.type,onInput:e.onUserInput,onFocus:e.handleFocus,onKeydown:e.handleKeydown,onChange:e.handleChange,onMouseenter:e.onMouseEnter,onMouseleave:e.onMouseLeave},{prefix:Object(o["cb"])(()=>[Object(o["n"])("i",{class:["el-input__icon",e.triggerClass],onClick:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t))},null,2)]),suffix:Object(o["cb"])(()=>[Object(o["n"])("i",{class:["el-input__icon",[e.showClose?""+e.clearIcon:""]],onClick:t[2]||(t[2]=(...t)=>e.onClearIconClick&&e.onClearIconClick(...t))},null,2)]),_:1},8,["model-value","name","size","disabled","placeholder","class","readonly","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave"])),[[c,e.onClickOutside,e.popperPaneRef]])]),default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"default",{visible:e.pickerVisible,actualVisible:e.pickerActualVisible,parsedValue:e.parsedValue,format:e.format,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:t[14]||(t[14]=(...t)=>e.onPick&&e.onPick(...t)),onSelectRange:t[15]||(t[15]=(...t)=>e.setSelectionRange&&e.setSelectionRange(...t)),onSetPickerOption:t[16]||(t[16]=(...t)=>e.onSetPickerOption&&e.onSetPickerOption(...t)),onMousedown:t[17]||(t[17]=Object(o["fb"])(()=>{},["stop"]))})]),_:1},16,["visible","popper-class","popper-options"])},ei.__file="packages/time-picker/src/common/picker.vue";const ri=(e,t,r)=>{const o=[],n=t&&r();for(let i=0;i<e;i++)o[i]=!!n&&n.includes(i);return o},oi=e=>e.map((e,t)=>e||t).filter(e=>!0!==e),ni=(e,t,r)=>({getHoursList:(t,r)=>ri(24,e,()=>e(t,r)),getMinutesList:(e,r,o)=>ri(60,t,()=>t(e,r,o)),getSecondsList:(e,t,o,n)=>ri(60,r,()=>r(e,t,o,n))}),ii=(e,t,r)=>{const{getHoursList:o,getMinutesList:n,getSecondsList:i}=ni(e,t,r);return{getAvaliableHours:(e,t)=>oi(o(e,t)),getAvaliableMinutes:(e,t,r)=>oi(n(e,t,r)),getAvaliableSeconds:(e,t,r,o)=>oi(i(e,t,r,o))}},ai=e=>{const t=Object(o["J"])(e.parsedValue);return Object(o["ab"])(()=>e.visible,r=>{r||(t.value=e.parsedValue)}),t};var si=Object(o["o"])({directives:{repeatClick:go},components:{ElScrollbar:Fo},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(e,t){let r=!1;const n=l()(e=>{r=!1,C(e)},200),i=Object(o["J"])(null),a=Object(o["J"])(null),s=Object(o["J"])(null),c=Object(o["J"])(null),u={hours:a,minutes:s,seconds:c},d=Object(o["h"])(()=>{const t=["hours","minutes","seconds"];return e.showSeconds?t:t.slice(0,2)}),p=Object(o["h"])(()=>e.spinnerDate.hour()),h=Object(o["h"])(()=>e.spinnerDate.minute()),f=Object(o["h"])(()=>e.spinnerDate.second()),g=Object(o["h"])(()=>({hours:p,minutes:h,seconds:f})),m=Object(o["h"])(()=>A(e.role)),v=Object(o["h"])(()=>P(p.value,e.role)),b=Object(o["h"])(()=>w(p.value,h.value,e.role)),_=Object(o["h"])(()=>({hours:m,minutes:v,seconds:b})),E=Object(o["h"])(()=>{const e=p.value;return[e>0?e-1:void 0,e,e<23?e+1:void 0]}),O=Object(o["h"])(()=>{const e=h.value;return[e>0?e-1:void 0,e,e<59?e+1:void 0]}),y=Object(o["h"])(()=>{const e=f.value;return[e>0?e-1:void 0,e,e<59?e+1:void 0]}),S=Object(o["h"])(()=>({hours:E,minutes:O,seconds:y})),T=e=>{"hours"===e?t.emit("select-range",0,2):"minutes"===e?t.emit("select-range",3,5):"seconds"===e&&t.emit("select-range",6,8),i.value=e},C=e=>{k(e,g.value[e].value)},R=()=>{C("hours"),C("minutes"),C("seconds")},k=(t,r)=>{if(e.arrowControl)return;const o=u[t];o.value&&(o.value.$el.querySelector(".el-scrollbar__wrap").scrollTop=Math.max(0,r*I(t)))},I=e=>u[e].value.$el.querySelector("li").offsetHeight,j=e=>{i.value||T("hours");const t=i.value;let r=g.value[t].value;const n="hours"===i.value?24:60;r=(r+e+n)%n,L(t,r),k(t,r),Object(o["v"])(()=>T(i.value))},L=(r,o)=>{if(!_.value[r].value[o])switch(r){case"hours":t.emit("change",e.spinnerDate.hour(o).minute(h.value).second(f.value));break;case"minutes":t.emit("change",e.spinnerDate.hour(p.value).minute(o).second(f.value));break;case"seconds":t.emit("change",e.spinnerDate.hour(p.value).minute(h.value).second(o))}},M=e=>u[e].value.$el.offsetHeight,N=()=>{const e=e=>{u[e].value&&(u[e].value.$el.querySelector(".el-scrollbar__wrap").onscroll=()=>{(e=>{r=!0,n(e);const t=Math.min(Math.round((u[e].value.$el.querySelector(".el-scrollbar__wrap").scrollTop-(.5*M(e)-10)/I(e)+3)/I(e)),"hours"===e?23:59);L(e,t)})(e)})};e("hours"),e("minutes"),e("seconds")};Object(o["B"])(()=>{Object(o["v"])(()=>{!e.arrowControl&&N(),R(),"start"===e.role&&T("hours")})}),t.emit("set-option",[e.role+"_scrollDown",j]),t.emit("set-option",[e.role+"_emitSelectRange",T]);const{getHoursList:A,getMinutesList:P,getSecondsList:w}=ni(e.disabledHours,e.disabledMinutes,e.disabledSeconds);return Object(o["ab"])(()=>e.spinnerDate,()=>{r||R()}),{getRefId:e=>`list${e.charAt(0).toUpperCase()+e.slice(1)}Ref`,spinnerItems:d,currentScrollbar:i,hours:p,minutes:h,seconds:f,hoursList:m,minutesList:v,arrowHourList:E,arrowMinuteList:O,arrowSecondList:y,getAmPmFlag:t=>{if(!e.amPmMode)return"";let r=t<12?" am":" pm";return"A"===e.amPmMode&&(r=r.toUpperCase()),r},emitSelectRange:T,adjustCurrentSpinner:C,typeItemHeight:I,listHoursRef:a,listMinutesRef:s,listSecondsRef:c,onIncreaseClick:()=>{j(1)},onDecreaseClick:()=>{j(-1)},handleClick:(e,{value:t,disabled:r})=>{r||(L(e,t),T(e),k(e,t))},secondsList:b,timePartsMap:g,arrowListMap:S,listMap:_}}});const li={class:"el-time-spinner__arrow el-icon-arrow-up"},ci={class:"el-time-spinner__arrow el-icon-arrow-down"},ui={class:"el-time-spinner__list"};si.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-scrollbar"),l=Object(o["O"])("repeat-click");return Object(o["E"])(),Object(o["j"])("div",{class:["el-time-spinner",{"has-seconds":e.showSeconds}]},[e.arrowControl?Object(o["k"])("v-if",!0):(Object(o["E"])(!0),Object(o["j"])(o["b"],{key:0},Object(o["L"])(e.spinnerItems,t=>(Object(o["E"])(),Object(o["j"])(s,{key:t,ref:e.getRefId(t),class:"el-time-spinner__wrapper","wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul",onMouseenter:r=>e.emitSelectRange(t),onMousemove:r=>e.adjustCurrentSpinner(t)},{default:Object(o["cb"])(()=>[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.listMap[t].value,(r,n)=>(Object(o["E"])(),Object(o["j"])("li",{key:n,class:["el-time-spinner__item",{active:n===e.timePartsMap[t].value,disabled:r}],onClick:o=>e.handleClick(t,{value:n,disabled:r})},["hours"===t?(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["m"])(Object(o["R"])(("0"+(e.amPmMode?n%12||12:n)).slice(-2))+Object(o["R"])(e.getAmPmFlag(n)),1)],2112)):(Object(o["E"])(),Object(o["j"])(o["b"],{key:1},[Object(o["m"])(Object(o["R"])(("0"+n).slice(-2)),1)],2112))],10,["onClick"]))),128))]),_:2},1032,["onMouseenter","onMousemove"]))),128)),e.arrowControl?(Object(o["E"])(!0),Object(o["j"])(o["b"],{key:1},Object(o["L"])(e.spinnerItems,t=>(Object(o["E"])(),Object(o["j"])("div",{key:t,class:"el-time-spinner__wrapper is-arrow",onMouseenter:r=>e.emitSelectRange(t)},[Object(o["db"])(Object(o["n"])("i",li,null,512),[[l,e.onDecreaseClick]]),Object(o["db"])(Object(o["n"])("i",ci,null,512),[[l,e.onIncreaseClick]]),Object(o["n"])("ul",ui,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.arrowListMap[t].value,(r,n)=>(Object(o["E"])(),Object(o["j"])("li",{key:n,class:["el-time-spinner__item",{active:r===e.timePartsMap[t].value,disabled:e.listMap[t].value[r]}]},Object(o["R"])(void 0===r?"":("0"+(e.amPmMode?r%12||12:r)).slice(-2)+e.getAmPmFlag(r)),3))),128))])],40,["onMouseenter"]))),128)):Object(o["k"])("v-if",!0)],2)},si.__file="packages/time-picker/src/time-picker-com/basic-time-spinner.vue";var di=Object(o["o"])({components:{TimeSpinner:si},props:{visible:Boolean,actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(e,t){const r=Object(o["J"])([0,2]),n=ai(e),i=Object(o["h"])(()=>void 0===e.actualVisible?"el-zoom-in-top":""),a=Object(o["h"])(()=>e.format.includes("ss")),s=Object(o["h"])(()=>e.format.includes("A")?"A":e.format.includes("a")?"a":""),l=t=>{const r={hour:m,minute:v,second:b};let o=t;return["hour","minute","second"].forEach(t=>{if(r[t]){let n;const i=r[t];n="minute"===t?i(o.hour(),e.datetimeRole):"second"===t?i(o.hour(),o.minute(),e.datetimeRole):i(e.datetimeRole),n&&n.length&&!n.includes(o[t]())&&(o=o[t](n[0]))}}),o};t.emit("set-picker-option",["isValidValue",e=>{const t=vt()(e),r=l(t);return t.isSame(r)}]),t.emit("set-picker-option",["formatToString",t=>t?t.format(e.format):null]),t.emit("set-picker-option",["parseUserInput",t=>t?vt()(t,e.format):null]),t.emit("set-picker-option",["handleKeydown",e=>{const t=e.code;if(t===to.left||t===to.right)return(e=>{const t=[0,3].concat(a.value?[6]:[]),o=["hours","minutes"].concat(a.value?["seconds"]:[]),n=(t.indexOf(r.value[0])+e+t.length)%t.length;c.start_emitSelectRange(o[n])})(t===to.left?-1:1),void e.preventDefault();if(t===to.up||t===to.down){const r=t===to.up?-1:1;return c.start_scrollDown(r),void e.preventDefault()}}]),t.emit("set-picker-option",["getRangeAvaliableTime",l]),t.emit("set-picker-option",["getDefaultValue",()=>vt()(g)]);const c={},u=Object(o["r"])("EP_PICKER_BASE"),{arrowControl:d,disabledHours:p,disabledMinutes:h,disabledSeconds:f,defaultValue:g}=u.props,{getAvaliableHours:m,getAvaliableMinutes:v,getAvaliableSeconds:b}=ii(p,h,f);return{transitionName:i,arrowControl:d,onSetOption:e=>{c[e[0]]=e[1]},t:qn,handleConfirm:(r=!1,o)=>{o||t.emit("pick",e.parsedValue,r)},handleChange:r=>{if(!e.visible)return;const o=l(r).millisecond(0);t.emit("pick",o,!0)},setSelectionRange:(e,o)=>{t.emit("select-range",e,o),r.value=[e,o]},amPmMode:s,showSeconds:a,handleCancel:()=>{t.emit("pick",n.value,!1)},disabledHours:p,disabledMinutes:h,disabledSeconds:f}}});const pi={key:0,class:"el-time-panel"},hi={class:"el-time-panel__footer"};di.render=function(e,t,r,n,i,a){const s=Object(o["N"])("time-spinner");return Object(o["E"])(),Object(o["j"])(o["d"],{name:e.transitionName},{default:Object(o["cb"])(()=>[e.actualVisible||e.visible?(Object(o["E"])(),Object(o["j"])("div",pi,[Object(o["n"])("div",{class:["el-time-panel__content",{"has-seconds":e.showSeconds}]},[Object(o["n"])(s,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":e.arrowControl,"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"spinner-date":e.parsedValue,"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,onChange:e.handleChange,onSetOption:e.onSetOption,onSelectRange:e.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),Object(o["n"])("div",hi,[Object(o["n"])("button",{type:"button",class:"el-time-panel__btn cancel",onClick:t[1]||(t[1]=(...t)=>e.handleCancel&&e.handleCancel(...t))},Object(o["R"])(e.t("el.datepicker.cancel")),1),Object(o["n"])("button",{type:"button",class:"el-time-panel__btn confirm",onClick:t[2]||(t[2]=t=>e.handleConfirm())},Object(o["R"])(e.t("el.datepicker.confirm")),1)])])):Object(o["k"])("v-if",!0)]),_:1},8,["name"])},di.__file="packages/time-picker/src/time-picker-com/panel-time-pick.vue";const fi=(e,t)=>{const r=[];for(let o=e;o<=t;o++)r.push(o);return r};var gi=Object(o["o"])({components:{TimeSpinner:si},props:{visible:Boolean,actualVisible:Boolean,parsedValue:{type:[Array,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(e,t){const r=Object(o["h"])(()=>e.parsedValue[0]),n=Object(o["h"])(()=>e.parsedValue[1]),i=ai(e),a=Object(o["h"])(()=>e.format.includes("ss")),s=Object(o["h"])(()=>e.format.includes("A")?"A":e.format.includes("a")?"a":""),l=Object(o["J"])([]),c=Object(o["J"])([]),u=(e,r)=>{t.emit("pick",[e,r],!0)},d=Object(o["h"])(()=>r.value>n.value),p=Object(o["J"])([0,2]),h=Object(o["h"])(()=>a.value?11:8),f=(e,t)=>{const o=C?C(e):[],i="start"===e,a=(t||(i?n.value:r.value)).hour(),s=i?fi(a+1,23):fi(0,a-1);return St()(o,s)},g=(e,t,o)=>{const i=R?R(e,t):[],a="start"===t,s=o||(a?n.value:r.value);if(e!==s.hour())return i;const l=s.minute(),c=a?fi(l+1,59):fi(0,l-1);return St()(i,c)},m=(e,t,o,i)=>{const a=k?k(e,t,o):[],s="start"===o,l=i||(s?n.value:r.value),c=l.hour(),u=l.minute();if(e!==c||t!==u)return a;const d=l.second(),p=s?fi(d+1,59):fi(0,d-1);return St()(a,p)},v=e=>e.map((t,r)=>O(e[0],e[1],0===r?"start":"end")),{getAvaliableHours:b,getAvaliableMinutes:_,getAvaliableSeconds:E}=ii(f,g,m),O=(e,t,r)=>{const o={hour:b,minute:_,second:E},n="start"===r;let i=n?e:t;const a=n?t:e;return["hour","minute","second"].forEach(e=>{if(o[e]){let t;const s=o[e];if(t="minute"===e?s(i.hour(),r,a):"second"===e?s(i.hour(),i.minute(),r,a):s(r,a),t&&t.length&&!t.includes(i[e]())){const r=n?0:t.length-1;i=i[e](t[r])}}}),i};t.emit("set-picker-option",["formatToString",t=>t?Array.isArray(t)?t.map(t=>t.format(e.format)):t.format(e.format):null]),t.emit("set-picker-option",["parseUserInput",t=>t?Array.isArray(t)?t.map(t=>vt()(t,e.format)):vt()(t,e.format):null]),t.emit("set-picker-option",["isValidValue",e=>{const t=e.map(e=>vt()(e)),r=v(t);return t[0].isSame(r[0])&&t[1].isSame(r[1])}]),t.emit("set-picker-option",["handleKeydown",e=>{const t=e.code;if(t===to.left||t===to.right)return(e=>{const t=a.value?[0,3,6,11,14,17]:[0,3,8,11],r=["hours","minutes"].concat(a.value?["seconds"]:[]),o=(t.indexOf(p.value[0])+e+t.length)%t.length,n=t.length/2;o<n?y.start_emitSelectRange(r[o]):y.end_emitSelectRange(r[o-n])})(t===to.left?-1:1),void e.preventDefault();if(t===to.up||t===to.down){const r=t===to.up?-1:1,o=p.value[0]<h.value?"start":"end";return y[o+"_scrollDown"](r),void e.preventDefault()}}]),t.emit("set-picker-option",["getDefaultValue",()=>Array.isArray(I)?I.map(e=>vt()(e)):[vt()(I),vt()(I).add(60,"m")]]),t.emit("set-picker-option",["getRangeAvaliableTime",v]);const y={},S=Object(o["r"])("EP_PICKER_BASE"),{arrowControl:T,disabledHours:C,disabledMinutes:R,disabledSeconds:k,defaultValue:I}=S.props;return{arrowControl:T,onSetOption:e=>{y[e[0]]=e[1]},setMaxSelectionRange:(e,r)=>{t.emit("select-range",e,r,"max"),p.value=[e+h.value,r+h.value]},setMinSelectionRange:(e,r)=>{t.emit("select-range",e,r,"min"),p.value=[e,r]},btnConfirmDisabled:d,handleCancel:()=>{t.emit("pick",i.value,null)},handleConfirm:(e=!1)=>{t.emit("pick",[r.value,n.value],e)},t:qn,showSeconds:a,minDate:r,maxDate:n,amPmMode:s,handleMinChange:e=>{u(e.millisecond(0),n.value)},handleMaxChange:e=>{u(r.value,e.millisecond(0))},minSelectableRange:l,maxSelectableRange:c,disabledHours_:f,disabledMinutes_:g,disabledSeconds_:m}}});const mi={key:0,class:"el-time-range-picker el-picker-panel"},vi={class:"el-time-range-picker__content"},bi={class:"el-time-range-picker__cell"},_i={class:"el-time-range-picker__header"},Ei={class:"el-time-range-picker__cell"},Oi={class:"el-time-range-picker__header"},yi={class:"el-time-panel__footer"};gi.render=function(e,t,r,n,i,a){const s=Object(o["N"])("time-spinner");return e.actualVisible?(Object(o["E"])(),Object(o["j"])("div",mi,[Object(o["n"])("div",vi,[Object(o["n"])("div",bi,[Object(o["n"])("div",_i,Object(o["R"])(e.t("el.datepicker.startTime")),1),Object(o["n"])("div",{class:[{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl},"el-time-range-picker__body el-time-panel__content"]},[Object(o["n"])(s,{ref:"minSpinner",role:"start","show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,"spinner-date":e.minDate,"disabled-hours":e.disabledHours_,"disabled-minutes":e.disabledMinutes_,"disabled-seconds":e.disabledSeconds_,onChange:e.handleMinChange,onSetOption:e.onSetOption,onSelectRange:e.setMinSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)]),Object(o["n"])("div",Ei,[Object(o["n"])("div",Oi,Object(o["R"])(e.t("el.datepicker.endTime")),1),Object(o["n"])("div",{class:[{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl},"el-time-range-picker__body el-time-panel__content"]},[Object(o["n"])(s,{ref:"maxSpinner",role:"end","show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,"spinner-date":e.maxDate,"disabled-hours":e.disabledHours_,"disabled-minutes":e.disabledMinutes_,"disabled-seconds":e.disabledSeconds_,onChange:e.handleMaxChange,onSetOption:e.onSetOption,onSelectRange:e.setMaxSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)])]),Object(o["n"])("div",yi,[Object(o["n"])("button",{type:"button",class:"el-time-panel__btn cancel",onClick:t[1]||(t[1]=t=>e.handleCancel())},Object(o["R"])(e.t("el.datepicker.cancel")),1),Object(o["n"])("button",{type:"button",class:"el-time-panel__btn confirm",disabled:e.btnConfirmDisabled,onClick:t[2]||(t[2]=t=>e.handleConfirm())},Object(o["R"])(e.t("el.datepicker.confirm")),9,["disabled"])])])):Object(o["k"])("v-if",!0)},gi.__file="packages/time-picker/src/time-picker-com/panel-time-range.vue",vt.a.extend(Ot.a);var Si=Object(o["o"])({name:"ElTimePicker",install:null,props:Object.assign(Object.assign({},$n),{isRange:{type:Boolean,default:!1}}),emits:["update:modelValue"],setup(e,t){const r=Object(o["J"])(null),n=e.isRange?"timerange":"time",i=e.isRange?gi:di,a=Object.assign(Object.assign({},e),{focus:()=>{var e;null===(e=r.value)||void 0===e||e.handleFocus()}});return Object(o["G"])("ElPopperOptions",e.popperOptions),t.expose(a),()=>{var a;const s=null!==(a=e.format)&&void 0!==a?a:"HH:mm:ss";return Object(o["q"])(ei,Object.assign(Object.assign({},e),{format:s,type:n,ref:r,"onUpdate:modelValue":e=>t.emit("update:modelValue",e)}),{default:e=>Object(o["q"])(i,e)})}}});const Ti=e=>Array.from(Array(e).keys()),Ci=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Ri=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),ki=Si;ki.install=e=>{e.component(ki.name,ki)},vt.a.extend(_t.a);var Ii=Object(o["o"])({props:{selectedDay:{type:Object},range:{type:Array},date:{type:Object},hideHeader:{type:Boolean}},emits:["pick"],setup(e,t){const r=Object(o["J"])(vt()().localeData().weekdaysShort()),n=vt()(),i=n.$locale().weekStart||0,a=(t,r)=>{let o;return o="prev"===r?e.date.startOf("month").subtract(1,"month").date(t):"next"===r?e.date.startOf("month").add(1,"month").date(t):e.date.date(t),o},s=Object(o["h"])(()=>e.range&&e.range.length),l=Object(o["h"])(()=>{let t=[];if(s.value){const[r,o]=e.range,n=Ti(o.date()-r.date()+1).map((e,t)=>({text:r.date()+t,type:"current"}));let i=n.length%7;i=0===i?0:7-i;const a=Ti(i).map((e,t)=>({text:t+1,type:"next"}));t=n.concat(a)}else{const r=e.date.startOf("month").day()||7;t=[...((e,t)=>{const r=e.subtract(1,"month").endOf("month").date();return Ti(t).map((e,o)=>r-(t-o-1))})(e.date,r-i).map(e=>({text:e,type:"prev"})),...(e=>{const t=e.daysInMonth();return Ti(t).map((e,t)=>t+1)})(e.date).map(e=>({text:e,type:"current"}))];const o=Ti(42-t.length).map((e,t)=>({text:t+1,type:"next"}));t=t.concat(o)}return(e=>Ti(e.length/7).map((t,r)=>{const o=7*r;return e.slice(o,o+7)}))(t)}),c=Object(o["h"])(()=>{const e=i;return 0===e?r.value:r.value.slice(e).concat(r.value.slice(0,e))});return{isInRange:s,weekDays:c,rows:l,getCellClass:({text:t,type:r})=>{const o=[r];if("current"===r){const i=a(t,r);i.isSame(e.selectedDay,"day")&&o.push("is-selected"),i.isSame(n,"day")&&o.push("is-today")}return o},pickDay:({text:e,type:r})=>{const o=a(e,r);t.emit("pick",o)},getSlotData:({text:t,type:r})=>{const o=a(t,r);return{isSelected:o.isSame(e.selectedDay),type:r+"-month",day:o.format("YYYY-MM-DD"),date:o.toDate()}}}}});const ji={key:0},Li={class:"el-calendar-day"};Ii.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("table",{class:{"el-calendar-table":!0,"is-range":e.isInRange},cellspacing:"0",cellpadding:"0"},[e.hideHeader?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("thead",ji,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.weekDays,e=>(Object(o["E"])(),Object(o["j"])("th",{key:e},Object(o["R"])(e),1))),128))])),Object(o["n"])("tbody",null,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.rows,(t,r)=>(Object(o["E"])(),Object(o["j"])("tr",{key:r,class:{"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===r&&e.hideHeader}},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(t,(t,r)=>(Object(o["E"])(),Object(o["j"])("td",{key:r,class:e.getCellClass(t),onClick:r=>e.pickDay(t)},[Object(o["n"])("div",Li,[Object(o["M"])(e.$slots,"dateCell",{data:e.getSlotData(t)},()=>[Object(o["n"])("span",null,Object(o["R"])(t.text),1)])])],10,["onClick"]))),128))],2))),128))])],2)},Ii.__file="packages/calendar/src/date-table.vue";var Mi=Object(o["o"])({name:"ElCalendar",components:{DateTable:Ii,ElButton:Zn,ElButtonGroup:Vn},props:{modelValue:{type:Date},range:{type:Array,validator:e=>!!Array.isArray(e)&&2===e.length&&e.every(e=>e instanceof Date)}},emits:["input","update:modelValue"],setup(e,t){const r=Object(o["J"])(null),n=vt()(),i=Object(o["h"])(()=>u.value.subtract(1,"month")),a=Object(o["h"])(()=>vt()(u.value).format("YYYY-MM")),s=Object(o["h"])(()=>u.value.add(1,"month")),l=Object(o["h"])(()=>{const e="el.datepicker.month"+u.value.format("M");return`${u.value.year()} ${qn("el.datepicker.year")} ${qn(e)}`}),c=Object(o["h"])({get:()=>e.modelValue?u.value:r.value,set(e){r.value=e;const o=e.toDate();t.emit("input",o),t.emit("update:modelValue",o)}}),u=Object(o["h"])(()=>e.modelValue?vt()(e.modelValue):c.value?c.value:d.value.length?d.value[0][0]:n),d=Object(o["h"])(()=>{if(!e.range)return[];const t=e.range.map(e=>vt()(e)),[r,o]=t;if(r.isAfter(o))return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(r.isSame(o,"month"))return[[r.startOf("week"),o.endOf("week")]];{if(r.add(1,"month").month()!==o.month())return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];const e=o.startOf("month"),t=e.startOf("week");let n=e;return e.isSame(t,"month")||(n=e.endOf("week").add(1,"day")),[[r.startOf("week"),r.endOf("month")],[n,o.endOf("week")]]}}),p=e=>{c.value=e};return{selectedDay:r,curMonthDatePrefix:a,i18nDate:l,realSelectedDay:c,date:u,validatedRange:d,pickDay:p,selectDate:e=>{let t;t="prev-month"===e?i.value:"next-month"===e?s.value:n,t.isSame(u.value,"day")||p(t)},t:qn}}});const Ni={class:"el-calendar"},Ai={class:"el-calendar__header"},Pi={class:"el-calendar__title"},wi={key:0,class:"el-calendar__button-group"},xi={key:0,class:"el-calendar__body"},Di={key:1,class:"el-calendar__body"};Mi.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-button"),l=Object(o["N"])("el-button-group"),c=Object(o["N"])("date-table");return Object(o["E"])(),Object(o["j"])("div",Ni,[Object(o["n"])("div",Ai,[Object(o["n"])("div",Pi,Object(o["R"])(e.i18nDate),1),0===e.validatedRange.length?(Object(o["E"])(),Object(o["j"])("div",wi,[Object(o["n"])(l,null,{default:Object(o["cb"])(()=>[Object(o["n"])(s,{size:"mini",onClick:t[1]||(t[1]=t=>e.selectDate("prev-month"))},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.datepicker.prevMonth")),1)]),_:1}),Object(o["n"])(s,{size:"mini",onClick:t[2]||(t[2]=t=>e.selectDate("today"))},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.datepicker.today")),1)]),_:1}),Object(o["n"])(s,{size:"mini",onClick:t[3]||(t[3]=t=>e.selectDate("next-month"))},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.datepicker.nextMonth")),1)]),_:1})]),_:1})])):Object(o["k"])("v-if",!0)]),0===e.validatedRange.length?(Object(o["E"])(),Object(o["j"])("div",xi,[Object(o["n"])(c,{date:e.date,"selected-day":e.realSelectedDay,onPick:e.pickDay},Object(o["l"])({_:2},[e.$slots.dateCell?{name:"dateCell",fn:Object(o["cb"])(t=>[Object(o["M"])(e.$slots,"dateCell",t)])}:void 0]),1032,["date","selected-day","onPick"])])):(Object(o["E"])(),Object(o["j"])("div",Di,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.validatedRange,(t,r)=>(Object(o["E"])(),Object(o["j"])(c,{key:r,date:t[0],"selected-day":e.realSelectedDay,range:t,"hide-header":0!==r,onPick:e.pickDay},Object(o["l"])({_:2},[e.$slots.dateCell?{name:"dateCell",fn:Object(o["cb"])(t=>[Object(o["M"])(e.$slots,"dateCell",t)])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))]))])},Mi.__file="packages/calendar/src/index.vue",Mi.install=e=>{e.component(Mi.name,Mi)};const Ui=Mi;var Bi=Object(o["o"])({name:"ElCard",props:{header:{type:String,default:""},bodyStyle:{type:[String,Object,Array],default:""},shadow:{type:String,default:""}}});const Zi={key:0,class:"el-card__header"};Bi.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-card",e.shadow?"is-"+e.shadow+"-shadow":"is-always-shadow"]},[e.$slots.header||e.header?(Object(o["E"])(),Object(o["j"])("div",Zi,[Object(o["M"])(e.$slots,"header",{},()=>[Object(o["m"])(Object(o["R"])(e.header),1)])])):Object(o["k"])("v-if",!0),Object(o["n"])("div",{class:"el-card__body",style:e.bodyStyle},[Object(o["M"])(e.$slots,"default")],4)],2)},Bi.__file="packages/card/src/index.vue",Bi.install=e=>{e.component(Bi.name,Bi)};const Hi=Bi;var Gi=Object(o["o"])({name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},pauseOnHover:{type:Boolean,default:!0}},emits:["change"],setup(e,{emit:t}){const r=Object(o["I"])({activeIndex:-1,containerWidth:0,timer:null,hover:!1}),n=Object(o["J"])(null),i=Object(o["J"])([]),a=Object(o["h"])(()=>"never"!==e.arrow&&"vertical"!==e.direction),s=Object(o["h"])(()=>i.value.some(e=>e.label.toString().length>0)),l=Object(o["h"])(()=>{const t=["el-carousel","el-carousel--"+e.direction];return"card"===e.type&&t.push("el-carousel--card"),t}),c=Object(o["h"])(()=>{const t=["el-carousel__indicators","el-carousel__indicators--"+e.direction];return s.value&&t.push("el-carousel__indicators--labels"),"outside"!==e.indicatorPosition&&"card"!==e.type||t.push("el-carousel__indicators--outside"),t}),u=gt()(e=>{g(e)},300,{trailing:!0}),d=gt()(t=>{!function(t){"hover"===e.trigger&&t!==r.activeIndex&&(r.activeIndex=t)}(t)},300);function p(){r.timer&&(clearInterval(r.timer),r.timer=null)}function h(){e.interval<=0||!e.autoplay||r.timer||(r.timer=setInterval(()=>f(),e.interval))}const f=()=>{r.activeIndex<i.value.length-1?r.activeIndex=r.activeIndex+1:e.loop&&(r.activeIndex=0)};function g(t){if("string"==typeof t){const e=i.value.filter(e=>e.name===t);e.length>0&&(t=i.value.indexOf(e[0]))}if(t=Number(t),isNaN(t)||t!==Math.floor(t))return void console.warn("[Element Warn][Carousel]index must be an integer.");let o=i.value.length;const n=r.activeIndex;r.activeIndex=t<0?e.loop?o-1:0:t>=o?e.loop?0:o-1:t,n===r.activeIndex&&m(n)}function m(e){i.value.forEach((t,o)=>{t.translateItem(o,r.activeIndex,e)})}function v(){g(r.activeIndex+1)}return Object(o["ab"])(()=>r.activeIndex,(e,r)=>{m(r),r>-1&&t("change",e,r)}),Object(o["ab"])(()=>e.autoplay,e=>{e?h():p()}),Object(o["ab"])(()=>e.loop,()=>{g(r.activeIndex)}),Object(o["B"])(()=>{Object(o["v"])(()=>{Dr(n.value,m),e.initialIndex<i.value.length&&e.initialIndex>=0&&(r.activeIndex=e.initialIndex),h()})}),Object(o["y"])(()=>{n.value&&Ur(n.value,m),p()}),Object(o["G"])("injectCarouselScope",{root:n,direction:e.direction,type:e.type,items:i,loop:e.loop,addItem:function(e){i.value.push(e)},removeItem:function(e){const t=i.value.findIndex(t=>t.uid===e);-1!==t&&(i.value.splice(t,1),r.activeIndex===t&&v())},setActiveItem:g}),{data:r,props:e,items:i,arrowDisplay:a,carouselClasses:l,indicatorsClasses:c,hasLabel:s,handleMouseEnter:function(){r.hover=!0,e.pauseOnHover&&p()},handleMouseLeave:function(){r.hover=!1,h()},handleIndicatorClick:function(e){r.activeIndex=e},throttledArrowClick:u,throttledIndicatorHover:d,handleButtonEnter:function(t){"vertical"!==e.direction&&i.value.forEach((e,r)=>{t===function(e,t){const r=i.value.length;return t===r-1&&e.inStage&&i.value[0].active||e.inStage&&i.value[t+1]&&i.value[t+1].active?"left":!!(0===t&&e.inStage&&i.value[r-1].active||e.inStage&&i.value[t-1]&&i.value[t-1].active)&&"right"}(e,r)&&(e.hover=!0)})},handleButtonLeave:function(){"vertical"!==e.direction&&i.value.forEach(e=>{e.hover=!1})},prev:function(){g(r.activeIndex-1)},next:v,setActiveItem:g,root:n}}});const Vi=Object(o["n"])("i",{class:"el-icon-arrow-left"},null,-1),zi=Object(o["n"])("i",{class:"el-icon-arrow-right"},null,-1),Wi={class:"el-carousel__button"},Fi={key:0};Gi.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{ref:"root",class:e.carouselClasses,onMouseenter:t[7]||(t[7]=Object(o["fb"])((...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t),["stop"])),onMouseleave:t[8]||(t[8]=Object(o["fb"])((...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t),["stop"]))},[Object(o["n"])("div",{class:"el-carousel__container",style:{height:e.height}},[e.arrowDisplay?(Object(o["E"])(),Object(o["j"])(o["d"],{key:0,name:"carousel-arrow-left"},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("button",{type:"button",class:"el-carousel__arrow el-carousel__arrow--left",onMouseenter:t[1]||(t[1]=t=>e.handleButtonEnter("left")),onMouseleave:t[2]||(t[2]=(...t)=>e.handleButtonLeave&&e.handleButtonLeave(...t)),onClick:t[3]||(t[3]=Object(o["fb"])(t=>e.throttledArrowClick(e.data.activeIndex-1),["stop"]))},[Vi],544),[[o["Z"],("always"===e.arrow||e.data.hover)&&(e.props.loop||e.data.activeIndex>0)]])]),_:1})):Object(o["k"])("v-if",!0),e.arrowDisplay?(Object(o["E"])(),Object(o["j"])(o["d"],{key:1,name:"carousel-arrow-right"},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("button",{type:"button",class:"el-carousel__arrow el-carousel__arrow--right",onMouseenter:t[4]||(t[4]=t=>e.handleButtonEnter("right")),onMouseleave:t[5]||(t[5]=(...t)=>e.handleButtonLeave&&e.handleButtonLeave(...t)),onClick:t[6]||(t[6]=Object(o["fb"])(t=>e.throttledArrowClick(e.data.activeIndex+1),["stop"]))},[zi],544),[[o["Z"],("always"===e.arrow||e.data.hover)&&(e.props.loop||e.data.activeIndex<e.items.length-1)]])]),_:1})):Object(o["k"])("v-if",!0),Object(o["M"])(e.$slots,"default")],4),"none"!==e.indicatorPosition?(Object(o["E"])(),Object(o["j"])("ul",{key:0,class:e.indicatorsClasses},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.items,(t,r)=>(Object(o["E"])(),Object(o["j"])("li",{key:r,class:["el-carousel__indicator","el-carousel__indicator--"+e.direction,{"is-active":r===e.data.activeIndex}],onMouseenter:t=>e.throttledIndicatorHover(r),onClick:Object(o["fb"])(t=>e.handleIndicatorClick(r),["stop"])},[Object(o["n"])("button",Wi,[e.hasLabel?(Object(o["E"])(),Object(o["j"])("span",Fi,Object(o["R"])(t.label),1)):Object(o["k"])("v-if",!0)])],42,["onMouseenter","onClick"]))),128))],2)):Object(o["k"])("v-if",!0)],34)},Gi.__file="packages/carousel/src/main.vue",Gi.install=e=>{e.component(Gi.name,Gi)};const qi=Gi;var Yi=Object(o["o"])({name:"ElCarouselItem",props:{name:{type:String,default:""},label:{type:[String,Number],default:""}},setup(e){const t=Object(o["p"])();t.uid;const r=Object(o["I"])({hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}),n=Object(o["r"])("injectCarouselScope"),i=Object(o["h"])(()=>n.direction),a=Object(o["h"])(()=>function(e){const t=["ms-","webkit-"];return["transform","transition","animation"].forEach(r=>{const o=e[r];r&&o&&t.forEach(t=>{e[t+r]=o})}),e}({transform:`${"vertical"===i.value?"translateY":"translateX"}(${r.translate}px) scale(${r.scale})`})),s=(e,t,o)=>{const a=n.type,s=n.items.value.length;if("card"!==a&&void 0!==o&&(r.animating=e===t||e===o),e!==t&&s>2&&n.loop&&(e=function(e,t,r){return 0===t&&e===r-1?-1:t===r-1&&0===e?r:e<t-1&&t-e>=r/2?r+1:e>t+1&&e-t>=r/2?-2:e}(e,t,s)),"card"===a)"vertical"===i.value&&console.warn("[Element Warn][Carousel]vertical direction is not supported in card mode"),r.inStage=Math.round(Math.abs(e-t))<=1,r.active=e===t,r.translate=function(e,t){var o;const i=(null===(o=n.root.value)||void 0===o?void 0:o.offsetWidth)||0;return r.inStage?i*(1.17*(e-t)+1)/4:e<t?-1.83*i/4:3.83*i/4}(e,t),r.scale=r.active?1:.83;else{r.active=e===t;const o="vertical"===i.value;r.translate=function(e,t,r){var o,i;return((r?null===(o=n.root.value)||void 0===o?void 0:o.offsetHeight:null===(i=n.root.value)||void 0===i?void 0:i.offsetWidth)||0)*(e-t)}(e,t,o)}r.ready=!0};return Object(o["B"])(()=>{n.addItem&&n.addItem(Object.assign(Object.assign(Object.assign({uid:t.uid},e),Object(o["U"])(r)),{translateItem:s}))}),Object(o["C"])(()=>{n.removeItem&&n.removeItem(t.uid)}),{data:r,itemStyle:a,translateItem:s,type:n.type,handleItemClick:function(){if(n&&"card"===n.type){const e=n.items.value.map(e=>e.uid).indexOf(t.uid);n.setActiveItem(e)}}}}});const $i={key:0,class:"el-carousel__mask"};Yi.render=function(e,t,r,n,i,a){return Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{class:["el-carousel__item",{"is-active":e.data.active,"el-carousel__item--card":"card"===e.type,"is-in-stage":e.data.inStage,"is-hover":e.data.hover,"is-animating":e.data.animating}],style:e.itemStyle,onClick:t[1]||(t[1]=(...t)=>e.handleItemClick&&e.handleItemClick(...t))},["card"===e.type?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",$i,null,512)),[[o["Z"],!e.data.active]]):Object(o["k"])("v-if",!0),Object(o["M"])(e.$slots,"default")],6)),[[o["Z"],e.data.ready]])},Yi.__file="packages/carousel/src/item.vue",Yi.install=e=>{e.component(Yi.name,Yi)};const Ki=Yi,Ji=()=>{const e=_r(),t=Object(o["r"])("elForm",{}),r=Object(o["r"])("elFormItem",{}),n=Object(o["r"])("CheckboxGroup",{}),i=Object(o["h"])(()=>n&&"ElCheckboxGroup"===(null==n?void 0:n.name)),a=Object(o["h"])(()=>r.size);return{isGroup:i,checkboxGroup:n,elForm:t,ELEMENT:e,elFormItemSize:a,elFormItem:r}},Xi=e=>{const{model:t,isLimitExceeded:r}=(e=>{const t=Object(o["J"])(!1),{emit:r}=Object(o["p"])(),{isGroup:n,checkboxGroup:i}=Ji(),a=Object(o["J"])(!1),s=Object(o["h"])(()=>{var t;return i?null===(t=i.modelValue)||void 0===t?void 0:t.value:e.modelValue});return{model:Object(o["h"])({get(){var r;return n.value?s.value:null!==(r=e.modelValue)&&void 0!==r?r:t.value},set(e){var o;n.value&&Array.isArray(e)?(a.value=!1,void 0!==i.min&&e.length<i.min.value&&(a.value=!0),void 0!==i.max&&e.length>i.max.value&&(a.value=!0),!1===a.value&&(null===(o=null==i?void 0:i.changeEvent)||void 0===o||o.call(i,e))):(r(lo,e),t.value=e)}}),isLimitExceeded:a}})(e),{focus:n,size:i,isChecked:a,checkboxSize:s}=((e,{model:t})=>{const{isGroup:r,checkboxGroup:n,elFormItemSize:i,ELEMENT:a}=Ji(),s=Object(o["J"])(!1),l=Object(o["h"])(()=>{var e;return(null===(e=null==n?void 0:n.checkboxGroupSize)||void 0===e?void 0:e.value)||i.value||a.size});return{isChecked:Object(o["h"])(()=>{const r=t.value;return"[object Boolean]"===er(r)?r:Array.isArray(r)?r.includes(e.label):null!=r?r===e.trueLabel:void 0}),focus:s,size:l,checkboxSize:Object(o["h"])(()=>{var t;const o=e.size||i.value||a.size;return r.value&&(null===(t=null==n?void 0:n.checkboxGroupSize)||void 0===t?void 0:t.value)||o})}})(e,{model:t}),{isDisabled:l}=((e,{model:t,isChecked:r})=>{const{elForm:n,isGroup:i,checkboxGroup:a}=Ji(),s=Object(o["h"])(()=>{var e,o;const n=null===(e=a.max)||void 0===e?void 0:e.value,i=null===(o=a.min)||void 0===o?void 0:o.value;return!(!n&&!i)&&t.value.length>=n&&!r.value||t.value.length<=i&&r.value});return{isDisabled:Object(o["h"])(()=>{var t;const r=e.disabled||n.disabled;return i.value?(null===(t=a.disabled)||void 0===t?void 0:t.value)||r||s.value:e.disabled||n.disabled}),isLimitDisabled:s}})(e,{model:t,isChecked:a}),{handleChange:c}=((e,{isLimitExceeded:t})=>{const{elFormItem:r}=Ji(),{emit:n}=Object(o["p"])();return Object(o["ab"])(()=>e.modelValue,e=>{var t;null===(t=r.formItemMitt)||void 0===t||t.emit("el.form.change",[e])}),{handleChange:function(r){var o,i;if(t.value)return;const a=r.target.checked?null===(o=e.trueLabel)||void 0===o||o:null!==(i=e.falseLabel)&&void 0!==i&&i;n("change",a,r)}}})(e,{isLimitExceeded:r});return((e,{model:t})=>{e.checked&&(Array.isArray(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0)})(e,{model:t}),{isChecked:a,isDisabled:l,checkboxSize:s,model:t,handleChange:c,focus:n,size:i}};var Qi=Object(o["o"])({name:"ElCheckbox",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:yo}},emits:[lo,"change"],setup:e=>Xi(e)});const ea=Object(o["n"])("span",{class:"el-checkbox__inner"},null,-1),ta={key:0,class:"el-checkbox__label"};Qi.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("label",{id:e.id,class:["el-checkbox",[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}]],"aria-controls":e.indeterminate?e.controls:null},[Object(o["n"])("span",{class:["el-checkbox__input",{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus}],tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"},[ea,e.trueLabel||e.falseLabel?Object(o["db"])((Object(o["E"])(),Object(o["j"])("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=t=>e.model=t),checked:e.isChecked,class:"el-checkbox__original",type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[2]||(t[2]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[3]||(t[3]=t=>e.focus=!0),onBlur:t[4]||(t[4]=t=>e.focus=!1)},null,40,["checked","aria-hidden","name","disabled","true-value","false-value"])),[[o["W"],e.model]]):Object(o["db"])((Object(o["E"])(),Object(o["j"])("input",{key:1,"onUpdate:modelValue":t[5]||(t[5]=t=>e.model=t),class:"el-checkbox__original",type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,value:e.label,name:e.name,onChange:t[6]||(t[6]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[7]||(t[7]=t=>e.focus=!0),onBlur:t[8]||(t[8]=t=>e.focus=!1)},null,40,["aria-hidden","disabled","value","name"])),[[o["W"],e.model]])],10,["tabindex","role","aria-checked"]),e.$slots.default||e.label?(Object(o["E"])(),Object(o["j"])("span",ta,[Object(o["M"])(e.$slots,"default"),e.$slots.default?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["m"])(Object(o["R"])(e.label),1)],2112))])):Object(o["k"])("v-if",!0)],10,["id","aria-controls"])},Qi.__file="packages/checkbox/src/checkbox.vue",Qi.install=e=>{e.component(Qi.name,Qi)};const ra=Qi,oa=()=>{const e=_r(),t=Object(o["r"])("elForm",{}),r=Object(o["r"])("elFormItem",{}),n=Object(o["r"])("RadioGroup",{}),i=Object(o["J"])(!1),a=Object(o["h"])(()=>"ElRadioGroup"===(null==n?void 0:n.name)),s=Object(o["h"])(()=>r.size||e.size);return{isGroup:a,focus:i,radioGroup:n,elForm:t,ELEMENT:e,elFormItemSize:s}},na=(e,{isGroup:t,radioGroup:r,elForm:n,model:i})=>{const a=Object(o["h"])(()=>t.value?r.disabled||e.disabled||n.disabled:e.disabled||n.disabled),s=Object(o["h"])(()=>a.value||t.value&&i.value!==e.label?-1:0);return{isDisabled:a,tabIndex:s}};var ia=Object(o["o"])({name:"ElRadio",componentName:"ElRadio",props:{modelValue:{type:[String,Number,Boolean],default:""},label:{type:[String,Number,Boolean],default:""},disabled:Boolean,name:{type:String,default:""},border:Boolean,size:{type:String,validator:yo}},emits:[lo,"change"],setup(e,t){const{isGroup:r,radioGroup:n,elFormItemSize:i,ELEMENT:a,focus:s,elForm:l}=oa(),c=Object(o["J"])(),u=Object(o["h"])({get:()=>r.value?n.modelValue:e.modelValue,set(o){r.value?n.changeEvent(o):t.emit(lo,o),c.value.checked=e.modelValue===e.label}}),{tabIndex:d,isDisabled:p}=na(e,{isGroup:r,radioGroup:n,elForm:l,model:u}),h=Object(o["h"])(()=>{const t=e.size||i.value||a.size;return r.value&&n.radioGroupSize||t});return{focus:s,isGroup:r,isDisabled:p,model:u,tabIndex:d,radioSize:h,handleChange:function(){Object(o["v"])(()=>{t.emit("change",u.value)})},radioRef:c}}});const aa=Object(o["n"])("span",{class:"el-radio__inner"},null,-1);ia.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("label",{class:["el-radio",{["el-radio--"+(e.radioSize||"")]:e.border&&e.radioSize,"is-disabled":e.isDisabled,"is-focus":e.focus,"is-bordered":e.border,"is-checked":e.model===e.label}],role:"radio","aria-checked":e.model===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex,onKeydown:t[6]||(t[6]=Object(o["eb"])(Object(o["fb"])(t=>e.model=e.isDisabled?e.model:e.label,["stop","prevent"]),["space"]))},[Object(o["n"])("span",{class:["el-radio__input",{"is-disabled":e.isDisabled,"is-checked":e.model===e.label}]},[aa,Object(o["db"])(Object(o["n"])("input",{ref:"radioRef","onUpdate:modelValue":t[1]||(t[1]=t=>e.model=t),class:"el-radio__original",value:e.label,type:"radio","aria-hidden":"true",name:e.name,disabled:e.isDisabled,tabindex:"-1",onFocus:t[2]||(t[2]=t=>e.focus=!0),onBlur:t[3]||(t[3]=t=>e.focus=!1),onChange:t[4]||(t[4]=(...t)=>e.handleChange&&e.handleChange(...t))},null,40,["value","name","disabled"]),[[o["X"],e.model]])],2),Object(o["n"])("span",{class:"el-radio__label",onKeydown:t[5]||(t[5]=Object(o["fb"])(()=>{},["stop"]))},[Object(o["M"])(e.$slots,"default",{},()=>[Object(o["m"])(Object(o["R"])(e.label),1)])],32)],42,["aria-checked","aria-disabled","tabindex"])},ia.__file="packages/radio/src/radio.vue",ia.install=e=>{e.component(ia.name,ia)};const sa=ia;var la;!function(e){e.CLICK="click",e.HOVER="hover"}(la||(la={}));const ca=Symbol();var ua=Object(o["o"])({name:"ElCascaderNode",components:{ElCheckbox:ra,ElRadio:sa,NodeContent:{render(){const{node:e,panel:t}=this.$parent,{data:r,label:n}=e,{renderLabelFn:i}=t;return Object(o["q"])("span",{class:"el-cascader-node__label"},i?i({node:e,data:r}):n)}}},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const r=Object(o["r"])(ca),n=Object(o["h"])(()=>r.isHoverMenu),i=Object(o["h"])(()=>r.config.multiple),a=Object(o["h"])(()=>r.config.checkStrictly),s=Object(o["h"])(()=>{var e;return null===(e=r.checkedNodes[0])||void 0===e?void 0:e.uid}),l=Object(o["h"])(()=>e.node.isDisabled),c=Object(o["h"])(()=>e.node.isLeaf),u=Object(o["h"])(()=>a.value&&!c.value||!l.value),d=Object(o["h"])(()=>h(r.expandingNode)),p=Object(o["h"])(()=>a.value&&r.checkedNodes.some(h)),h=t=>{var r;const{level:o,uid:n}=e.node;return(null===(r=null==t?void 0:t.pathNodes[o-1])||void 0===r?void 0:r.uid)===n},f=()=>{d.value||r.expandNode(e.node)},g=()=>{r.lazyLoad(e.node,()=>{c.value||f()})},m=()=>{const{node:t}=e;u.value&&!t.loading&&(t.loaded?f():g())},v=t=>{e.node.loaded?((t=>{const{node:o}=e;t!==o.checked&&r.handleCheckChange(o,t)})(t),!a.value&&f()):g()};return{panel:r,isHoverMenu:n,multiple:i,checkStrictly:a,checkedNodeId:s,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:p,handleHoverExpand:e=>{n.value&&(m(),!c.value&&t("expand",e))},handleExpand:m,handleClick:()=>{n.value&&!c.value||(!c.value||l.value||a.value||i.value?m():v(!0))},handleCheck:v}}});const da=Object(o["n"])("span",null,null,-1),pa={key:2,class:"el-icon-check el-cascader-node__prefix"},ha={key:0,class:"el-icon-loading el-cascader-node__postfix"},fa={key:1,class:"el-icon-arrow-right el-cascader-node__postfix"};ua.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-checkbox"),l=Object(o["N"])("el-radio"),c=Object(o["N"])("node-content");return Object(o["E"])(),Object(o["j"])("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:null,class:["el-cascader-node",e.checkStrictly&&"is-selectable",e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path",e.node.checked&&"is-active",!e.expandable&&"is-disabled"],onMouseenter:t[3]||(t[3]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onFocus:t[4]||(t[4]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onClick:t[5]||(t[5]=(...t)=>e.handleClick&&e.handleClick(...t))},[Object(o["k"])(" prefix "),e.multiple?(Object(o["E"])(),Object(o["j"])(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[1]||(t[1]=Object(o["fb"])(()=>{},["stop"])),"onUpdate:modelValue":e.handleCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(Object(o["E"])(),Object(o["j"])(l,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleCheck,onClick:t[2]||(t[2]=Object(o["fb"])(()=>{},["stop"]))},{default:Object(o["cb"])(()=>[Object(o["k"])("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),da]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(Object(o["E"])(),Object(o["j"])("i",pa)):Object(o["k"])("v-if",!0),Object(o["k"])(" content "),Object(o["n"])(c),Object(o["k"])(" postfix "),e.isLeaf?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])(o["b"],{key:3},[e.node.loading?(Object(o["E"])(),Object(o["j"])("i",ha)):(Object(o["E"])(),Object(o["j"])("i",fa))],2112))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex"])},ua.__file="packages/cascader-panel/src/node.vue";var ga=Object(o["o"])({name:"ElCascaderMenu",components:{ElScrollbar:Fo,ElCascaderNode:ua},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Object(o["p"])(),r=dr();let n=null,i=null;const a=Object(o["r"])(ca),s=Object(o["J"])(null),l=Object(o["h"])(()=>!e.nodes.length),c=Object(o["h"])(()=>`cascader-menu-${r}-${e.index}`),u=()=>{i&&(clearTimeout(i),i=null)},d=()=>{s.value&&(s.value.innerHTML="",u())};return{panel:a,hoverZone:s,isEmpty:l,menuId:c,t:qn,handleExpand:e=>{n=e.target},handleMouseMove:e=>{if(a.isHoverMenu&&n&&s.value)if(n.contains(e.target)){u();const r=t.vnode.el,{left:o}=r.getBoundingClientRect(),{offsetWidth:i,offsetHeight:a}=r,l=e.clientX-o,c=n.offsetTop,d=c+n.offsetHeight;s.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${l} ${c} L${i} 0 V${c} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${l} ${d} L${i} ${a} V${d} Z" />\n        `}else i||(i=window.setTimeout(d,a.config.hoverThreshold))},clearHoverZone:d}}});const ma={key:0,class:"el-cascader-menu__empty-text"},va={key:1,ref:"hoverZone",class:"el-cascader-menu__hover-zone"};ga.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-cascader-node"),l=Object(o["N"])("el-scrollbar");return Object(o["E"])(),Object(o["j"])(l,{id:e.menuId,tag:"ul",role:"menu",class:"el-cascader-menu","wrap-class":"el-cascader-menu__wrap","view-class":["el-cascader-menu__list",e.isEmpty&&"is-empty"],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:Object(o["cb"])(()=>[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.nodes,t=>(Object(o["E"])(),Object(o["j"])(s,{key:t.uid,node:t,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isEmpty?(Object(o["E"])(),Object(o["j"])("div",ma,Object(o["R"])(e.t("el.cascader.noData")),1)):e.panel.isHoverMenu?(Object(o["E"])(),Object(o["j"])("svg",va,null,512)):Object(o["k"])("v-if",!0)]),_:1},8,["id","view-class","onMousemove","onMouseleave"])},ga.__file="packages/cascader-panel/src/menu.vue";let ba=0;class _a{constructor(e,t,r,o=!1){this.data=e,this.config=t,this.parent=r,this.root=o,this.uid=ba++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:n,label:i,children:a}=t,s=e[a],l=(e=>{const t=[e];let{parent:r}=e;for(;r;)t.unshift(r),r=r.parent;return t})(this);this.level=o?0:r?r.level+1:1,this.value=e[n],this.label=e[i],this.pathNodes=l,this.pathValues=l.map(e=>e.value),this.pathLabels=l.map(e=>e.label),this.childrenData=s,this.children=(s||[]).map(e=>new _a(e,t,this)),this.loaded=!t.lazy||this.isLeaf||!Or(s)}get isDisabled(){const{data:e,parent:t,config:r}=this,{disabled:o,checkStrictly:n}=r;return($t(o)?o(e,this):!!e[o])||!n&&(null==t?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:r,loaded:o}=this,{lazy:n,leaf:i}=t,a=$t(i)?i(e,this):e[i];return br(a)?!(n&&!o)&&!Array.isArray(r):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:r}=this,o=new _a(e,this.config,this);return Array.isArray(t)?t.push(e):this.childrenData=[e],r.push(o),o}calcText(e,t){const r=e?this.pathLabels.join(t):this.label;return this.text=r,r}broadcast(e,...t){const r="onParent"+ir(e);this.children.forEach(o=>{o&&(o.broadcast(e,...t),o[r]&&o[r](...t))})}emit(e,...t){const{parent:r}=this,o="onChild"+ir(e);r&&(r[o]&&r[o](...t),r.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter(e=>!e.isDisabled),r=!!t.length&&t.every(e=>e.checked);this.setCheckState(r)}setCheckState(e){const t=this.children.length,r=this.children.reduce((e,t)=>e+(t.checked?1:t.indeterminate?.5:0),0);this.checked=this.loaded&&this.children.every(e=>e.loaded&&e.checked)&&e,this.indeterminate=this.loaded&&r!==t&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:r}=this.config;t||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const Ea=(e,t)=>e.reduce((e,r)=>(r.isLeaf?e.push(r):(!t&&e.push(r),e=e.concat(Ea(r.children,t))),e),[]);class Oa{constructor(e,t){this.config=t;const r=(e||[]).map(e=>new _a(e,this.config));this.nodes=r,this.allNodes=Ea(r,!1),this.leafNodes=Ea(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const r=t?t.appendChild(e):new _a(e,this.config);t||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,t){e.forEach(e=>this.appendNode(e,t))}getNodeByValue(e,t=!1){return(e||0===e)&&this.getFlattedNodes(t).filter(t=>Ct()(t.value,e)||Ct()(t.pathValues,e))[0]||null}getSameNode(e){return e&&this.getFlattedNodes(!1).filter(({value:t,level:r})=>Ct()(e.value,t)&&e.level===r)[0]||null}}function ya(e,t){if(Vt)return;if(!t)return void(e.scrollTop=0);const r=[];let o=t.offsetParent;for(;null!==o&&e!==o&&e.contains(o);)r.push(o),o=o.offsetParent;const n=t.offsetTop+r.reduce((e,t)=>e+t.offsetTop,0),i=n+t.offsetHeight,a=e.scrollTop,s=a+e.clientHeight;n<a?e.scrollTop=n:i>s&&(e.scrollTop=i-e.clientHeight)}const Sa={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},Ta={expandTrigger:la.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:zt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Ca=e=>!e.getAttribute("aria-owns"),Ra=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},ka=e=>{e&&(e.focus(),!Ca(e)&&e.click())};var Ia=Object(o["o"])({name:"ElCascaderPanel",components:{ElCascaderMenu:ga},props:Object.assign(Object.assign({},Sa),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[lo,"change","close","expand-change"],setup(e,{emit:t,slots:r}){let n=!0,a=!1;const s=(e=>Object(o["h"])(()=>Object.assign(Object.assign({},Ta),e.props)))(e),l=Object(o["J"])(null),c=Object(o["J"])([]),u=Object(o["J"])(null),d=Object(o["J"])([]),p=Object(o["J"])(null),h=Object(o["J"])([]),f=Object(o["h"])(()=>s.value.expandTrigger===la.HOVER),g=Object(o["h"])(()=>e.renderLabel||r.default),m=(e,t)=>{const r=s.value;(e=e||new _a({},r,null,!0)).loading=!0,r.lazyLoad(e,r=>{const o=e.root?null:e;r&&l.value.appendNodes(r,o),e.loading=!1,e.loaded=!0,t&&t(r)})},v=(e,r)=>{var o;const{level:n}=e,i=d.value.slice(0,n);let a;e.isLeaf?a=e.pathNodes[n-2]:(a=e,i.push(e.children)),(null===(o=p.value)||void 0===o?void 0:o.uid)!==(null==a?void 0:a.uid)&&(p.value=e,d.value=i,!r&&t("expand-change",(null==e?void 0:e.pathValues)||[]))},b=(e,r,o=!0)=>{const{checkStrictly:n,multiple:i}=s.value,l=h.value[0];a=!0,!i&&(null==l||l.doCheck(!1)),e.doCheck(r),O(),o&&!i&&!n&&t("close")},_=e=>l.value.getFlattedNodes(e),E=e=>_(e).filter(e=>!1!==e.checked),O=()=>{var e;const{checkStrictly:t,multiple:r}=s.value,o=((e,t)=>{const r=t.slice(0),o=r.map(e=>e.uid),n=e.reduce((e,t)=>{const n=o.indexOf(t.uid);return n>-1&&(e.push(t),r.splice(n,1),o.splice(n,1)),e},[]);return n.push(...r),n})(h.value,E(!t)),n=o.map(e=>e.valueByOption);h.value=o,u.value=r?n:null!==(e=n[0])&&void 0!==e?e:null},y=(t=!1,r=!1)=>{const{modelValue:o}=e,{lazy:i,multiple:c,checkStrictly:d}=s.value,p=!d;if(n&&!a&&(r||!Ct()(o,u.value)))if(i&&!t){const e=Sr(yr(pr(o))).map(e=>l.value.getNodeByValue(e)).filter(e=>!!e&&!e.loaded&&!e.loading);e.length?e.forEach(e=>{m(e,()=>y(!1,r))}):y(!0,r)}else{const e=Sr((c?pr(o):[o]).map(e=>l.value.getNodeByValue(e,p)));S(e,!1),u.value=o}},S=(e,t=!0)=>{const{checkStrictly:r}=s.value,n=h.value,i=e.filter(e=>!!e&&(r||e.isLeaf)),a=l.value.getSameNode(p.value),c=t&&a||i[0];c?c.pathNodes.forEach(e=>v(e,!0)):p.value=null,n.forEach(e=>e.doCheck(!1)),i.forEach(e=>e.doCheck(!0)),h.value=i,Object(o["v"])(T)},T=()=>{Vt||c.value.forEach(e=>{const t=null==e?void 0:e.$el;t&&ya(t.querySelector(".el-scrollbar__wrap"),t.querySelector(".el-cascader-node.is-active")||t.querySelector(".el-cascader-node.in-active-path"))})};return Object(o["G"])(ca,Object(o["I"])({config:s,expandingNode:p,checkedNodes:h,isHoverMenu:f,renderLabelFn:g,lazyLoad:m,expandNode:v,handleCheckChange:b})),Object(o["ab"])([s,()=>e.options],([t,r],[o,c])=>{i()(t,o,(e,t)=>$t(e)&&$t(t)?""+e==""+t:void 0)&&Ct()(r,c)||(()=>{const{options:t}=e,r=s.value;a=!1,l.value=new Oa(t,r),d.value=[l.value.getNodes()],r.lazy&&Or(e.options)?(n=!1,m(null,()=>{n=!0,y(!1,!0)})):y(!1,!0)})()},{deep:!0,immediate:!0}),Object(o["ab"])(()=>e.modelValue,()=>{a=!1,y()}),Object(o["ab"])(u,r=>{Ct()(r,e.modelValue)||(t(lo,r),t("change",r))}),Object(o["z"])(()=>c.value=[]),Object(o["B"])(()=>!Or(e.modelValue)&&y()),{menuList:c,menus:d,checkedNodes:h,handleKeyDown:e=>{const r=e.target,{code:n}=e;switch(n){case to.up:case to.down:const e=n===to.up?-1:1;ka(((e,t)=>{const{parentNode:r}=e;if(!r)return null;const o=r.querySelectorAll('.el-cascader-node[tabindex="-1"]');return o[Array.prototype.indexOf.call(o,e)+t]||null})(r,e));break;case to.left:c.value[Ra(r)-1],null==o["h"]||o["h"].$el.querySelector('.el-cascader-node[aria-expanded="true"]');ka(o["ab"]);break;case to.right:c.value[Ra(r)+1];const i=null==o["B"]?void 0:o["B"].$el.querySelector('.el-cascader-node[tabindex="-1"]');ka(i);break;case to.enter:(e=>{if(!e)return;const t=e.querySelector("input");t?t.click():Ca(e)&&e.click()})(r);break;case to.esc:case to.tab:t("close")}},handleCheckChange:b,getFlattedNodes:_,getCheckedNodes:E,clearCheckedNodes:()=>{h.value.forEach(e=>e.doCheck(!1)),O()},calculateCheckedValue:O,scrollToExpandingNode:T}}});Ia.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-cascader-menu");return Object(o["E"])(),Object(o["j"])("div",{class:["el-cascader-panel",e.border&&"is-bordered"],onKeydown:t[1]||(t[1]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t))},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.menus,(t,r)=>(Object(o["E"])(),Object(o["j"])(s,{key:r,ref:t=>e.menuList[r]=t,index:r,nodes:t},null,8,["index","nodes"]))),128))],34)},Ia.__file="packages/cascader-panel/src/index.vue",Ia.install=e=>{e.component(Ia.name,Ia)};const ja=Ia;var La=Object(o["o"])({name:"ElTag",props:{closable:Boolean,type:{type:String,default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,validator:yo},effect:{type:String,default:"light",validator:e=>-1!==["dark","light","plain"].indexOf(e)}},emits:["close","click"],setup(e,t){const r=_r(),n=Object(o["h"])(()=>e.size||r.size),i=Object(o["h"])(()=>{const{type:t,hit:r,effect:o}=e;return["el-tag",t?"el-tag--"+t:"",n.value?"el-tag--"+n.value:"",o?"el-tag--"+o:"",r&&"is-hit"]});return{tagSize:n,classes:i,handleClose:e=>{e.stopPropagation(),t.emit("close",e)},handleClick:e=>{t.emit("click",e)}}}});La.render=function(e,t,r,n,i,a){return e.disableTransitions?(Object(o["E"])(),Object(o["j"])(o["d"],{key:1,name:"el-zoom-in-center"},{default:Object(o["cb"])(()=>[Object(o["n"])("span",{class:e.classes,style:{backgroundColor:e.color},onClick:t[4]||(t[4]=(...t)=>e.handleClick&&e.handleClick(...t))},[Object(o["M"])(e.$slots,"default"),e.closable?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:"el-tag__close el-icon-close",onClick:t[3]||(t[3]=(...t)=>e.handleClose&&e.handleClose(...t))})):Object(o["k"])("v-if",!0)],6)]),_:3})):(Object(o["E"])(),Object(o["j"])("span",{key:0,class:e.classes,style:{backgroundColor:e.color},onClick:t[2]||(t[2]=(...t)=>e.handleClick&&e.handleClick(...t))},[Object(o["M"])(e.$slots,"default"),e.closable?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:"el-tag__close el-icon-close",onClick:t[1]||(t[1]=(...t)=>e.handleClose&&e.handleClose(...t))})):Object(o["k"])("v-if",!0)],6))},La.__file="packages/tag/src/index.vue",La.install=e=>{e.component(La.name,La)};const Ma=La,Na={medium:36,small:32,mini:28},Aa={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:t,placement:r}=e;["right","left"].includes(r)||(t.arrow.x=35)},requires:["arrow"]}]};var Pa=Object(o["o"])({name:"ElCascader",components:{ElCascaderPanel:ja,ElInput:Ho,ElPopper:mn,ElScrollbar:Fo,ElTag:Ma},directives:{Clickoutside:fo},props:Object.assign(Object.assign({},Sa),{size:{type:String,validator:yo},placeholder:{type:String,default:()=>qn("el.cascader.placeholder")},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""}}),emits:[lo,"change","focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:t}){let r=0,n=0;const i=_r(),a=Object(o["r"])("elForm",{}),s=Object(o["r"])("elFormItem",{}),c=Object(o["J"])(null),u=Object(o["J"])(null),d=Object(o["J"])(null),p=Object(o["J"])(null),h=Object(o["J"])(null),f=Object(o["J"])(!1),g=Object(o["J"])(!1),m=Object(o["J"])(!1),v=Object(o["J"])(""),b=Object(o["J"])(""),_=Object(o["J"])([]),E=Object(o["J"])([]),O=Object(o["h"])(()=>e.disabled||a.disabled),y=Object(o["h"])(()=>e.size||s.size||i.size),S=Object(o["h"])(()=>["small","mini"].includes(y.value)?"mini":"small"),T=Object(o["h"])(()=>!!e.props.multiple),C=Object(o["h"])(()=>!e.filterable||T.value),R=Object(o["h"])(()=>T.value?b.value:v.value),k=Object(o["h"])(()=>{var e;return(null===(e=p.value)||void 0===e?void 0:e.checkedNodes)||[]}),I=Object(o["h"])(()=>!(!e.clearable||O.value||m.value||!g.value)&&!!k.value.length),j=Object(o["h"])(()=>{const{showAllLevels:t,separator:r}=e,o=k.value;return o.length?T.value?" ":o[0].calcText(t,r):""}),L=Object(o["h"])({get:()=>e.modelValue,set(e){var r;t(lo,e),t("change",e),null===(r=s.formItemMitt)||void 0===r||r.emit("el.form.change",[e])}}),M=Object(o["h"])(()=>{var e;return null===(e=c.value)||void 0===e?void 0:e.popperRef}),N=r=>{if(!O.value&&(r=null!=r?r:!f.value)!==f.value){if(f.value=r,u.value.input.setAttribute("aria-expanded",r),r)A(),Object(o["v"])(p.value.scrollToExpandingNode);else if(e.filterable){const{value:e}=j;v.value=e,b.value=e}t("visible-change",r)}},A=()=>{Object(o["v"])(c.value.update)},P=()=>{m.value=!1},w=t=>{const{showAllLevels:r,separator:o}=e;return{node:t,key:t.uid,text:t.calcText(r,o),hitState:!1,closable:!O.value&&!t.isDisabled}},x=e=>{const{node:r}=e;r.doCheck(!1),p.value.calculateCheckedValue(),t("remove-tag",r.valueByOption)},D=()=>{const{filterMethod:t,showAllLevels:r,separator:o}=e,n=p.value.getFlattedNodes(!e.props.checkStrictly).filter(e=>!e.isDisabled&&(e.calcText(r,o),t(e,R.value)));T.value&&_.value.forEach(e=>{e.hitState=!1}),m.value=!0,E.value=n,A()},U=()=>{var e;let t=null;t=m.value&&h.value?h.value.$el.querySelector(".el-cascader__suggestion-item"):null===(e=p.value)||void 0===e?void 0:e.$el.querySelector('.el-cascader-node[tabindex="-1"]'),t&&(t.focus(),!m.value&&t.click())},B=()=>{var e;const t=u.value.input,o=d.value,n=null===(e=h.value)||void 0===e?void 0:e.$el;if(!Vt&&t&&(n&&(n.querySelector(".el-cascader__suggestion-list").style.minWidth=t.offsetWidth+"px"),o)){const{offsetHeight:e}=o,n=_.value.length>0?Math.max(e+6,r)+"px":r+"px";t.style.height=n,A()}},Z=l()(()=>{const{value:t}=R;if(!t)return;const r=e.beforeFilter(t);Xt(r)?r.then(D).catch(()=>{}):!1!==r?D():P()},e.debounce);return Object(o["ab"])(m,A),Object(o["ab"])([k,O],()=>{if(!T.value)return;const t=k.value,r=[];if(t.length){const[o,...n]=t,i=n.length;r.push(w(o)),i&&(e.collapseTags?r.push({key:-1,text:"+ "+i,closable:!1}):n.forEach(e=>r.push(w(e))))}_.value=r}),Object(o["ab"])(_,()=>Object(o["v"])(B)),Object(o["ab"])(j,e=>v.value=e,{immediate:!0}),Object(o["B"])(()=>{const e=u.value.$el;r=(null==e?void 0:e.offsetHeight)||Na[y.value]||40,Dr(e,B)}),Object(o["y"])(()=>{Ur(u.value.$el,B)}),{popperOptions:Aa,popper:c,popperPaneRef:M,input:u,tagWrapper:d,panel:p,suggestionPanel:h,popperVisible:f,inputHover:g,filtering:m,presentText:j,checkedValue:L,inputValue:v,searchInputValue:b,presentTags:_,suggestions:E,isDisabled:O,realSize:y,tagSize:S,multiple:T,readonly:C,clearBtnVisible:I,t:qn,togglePopperVisible:N,hideSuggestionPanel:P,deleteTag:x,focusFirstNode:U,getCheckedNodes:e=>p.value.getCheckedNodes(e),handleExpandChange:e=>{A(),t("expand-change",e)},handleKeyDown:e=>{switch(e.code){case to.enter:N();break;case to.down:N(!0),Object(o["v"])(U),event.preventDefault();break;case to.esc:case to.tab:N(!1)}},handleClear:()=>{p.value.clearCheckedNodes(),N(!1)},handleSuggestionClick:e=>{const{checked:t}=e;T.value?p.value.handleCheckChange(e,!t,!1):(!t&&p.value.handleCheckChange(e,!0,!1),N(!1))},handleDelete:()=>{const e=_.value,t=e[e.length-1];n=b.value?0:n+1,t&&n&&(t.hitState?x(t):t.hitState=!0)},handleInput:(e,t)=>{!f.value&&N(!0),(null==t?void 0:t.isComposing)||(e?Z():P())}}}});const wa={key:0,ref:"tagWrapper",class:"el-cascader__tags"},xa={key:0,class:"el-icon-check"},Da={class:"el-cascader__empty-text"};Pa.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input"),l=Object(o["N"])("el-tag"),c=Object(o["N"])("el-cascader-panel"),u=Object(o["N"])("el-scrollbar"),d=Object(o["N"])("el-popper"),p=Object(o["O"])("clickoutside");return Object(o["E"])(),Object(o["j"])(d,{ref:"popper",visible:e.popperVisible,"onUpdate:visible":t[16]||(t[16]=t=>e.popperVisible=t),"manual-mode":"",placement:"bottom-start","popper-class":"el-cascader__dropdown "+e.popperClass,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],"stop-popper-mouse-event":!1,transition:"el-zoom-in-top","gpu-acceleration":!1,effect:"light",pure:"",onAfterLeave:e.hideSuggestionPanel},{trigger:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{class:["el-cascader",e.realSize&&"el-cascader--"+e.realSize,{"is-disabled":e.isDisabled}],onClick:t[10]||(t[10]=()=>e.togglePopperVisible(!e.readonly||void 0)),onKeydown:t[11]||(t[11]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t)),onMouseenter:t[12]||(t[12]=t=>e.inputHover=!0),onMouseleave:t[13]||(t[13]=t=>e.inputHover=!1)},[Object(o["n"])(s,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.inputValue=t),modelModifiers:{trim:!0},placeholder:e.placeholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:{"is-focus":e.popperVisible},onFocus:t[4]||(t[4]=t=>e.$emit("focus",t)),onBlur:t[5]||(t[5]=t=>e.$emit("blur",t)),onInput:e.handleInput},{suffix:Object(o["cb"])(()=>[e.clearBtnVisible?(Object(o["E"])(),Object(o["j"])("i",{key:"clear",class:"el-input__icon el-icon-circle-close",onClick:t[1]||(t[1]=Object(o["fb"])((...t)=>e.handleClear&&e.handleClear(...t),["stop"]))})):(Object(o["E"])(),Object(o["j"])("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",e.popperVisible&&"is-reverse"],onClick:t[2]||(t[2]=Object(o["fb"])(t=>e.togglePopperVisible(),["stop"]))},null,2))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onInput"]),e.multiple?(Object(o["E"])(),Object(o["j"])("div",wa,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.presentTags,t=>(Object(o["E"])(),Object(o["j"])(l,{key:t.key,type:"info",size:e.tagSize,hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:r=>e.deleteTag(t)},{default:Object(o["cb"])(()=>[Object(o["n"])("span",null,Object(o["R"])(t.text),1)]),_:2},1032,["size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?Object(o["db"])((Object(o["E"])(),Object(o["j"])("input",{key:0,"onUpdate:modelValue":t[6]||(t[6]=t=>e.searchInputValue=t),type:"text",class:"el-cascader__search-input",placeholder:e.presentText?"":e.placeholder,onInput:t[7]||(t[7]=t=>e.handleInput(e.searchInputValue,t)),onClick:t[8]||(t[8]=Object(o["fb"])(t=>e.togglePopperVisible(!0),["stop"])),onKeydown:t[9]||(t[9]=Object(o["eb"])((...t)=>e.handleDelete&&e.handleDelete(...t),["delete"]))},null,40,["placeholder"])),[[o["Y"],e.searchInputValue,void 0,{trim:!0}]]):Object(o["k"])("v-if",!0)],512)):Object(o["k"])("v-if",!0)],34),[[p,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])(c,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":t[14]||(t[14]=t=>e.checkedValue=t),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:t[15]||(t[15]=t=>e.togglePopperVisible(!1))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[o["Z"],!e.filtering]]),e.filterable?Object(o["db"])((Object(o["E"])(),Object(o["j"])(u,{key:0,ref:"suggestionPanel",tag:"ul",class:"el-cascader__suggestion-panel","view-class":"el-cascader__suggestion-list"},{default:Object(o["cb"])(()=>[e.suggestions.length?(Object(o["E"])(!0),Object(o["j"])(o["b"],{key:0},Object(o["L"])(e.suggestions,t=>(Object(o["E"])(),Object(o["j"])("li",{key:t.uid,class:["el-cascader__suggestion-item",t.checked&&"is-checked"],tabindex:-1,onClick:r=>e.handleSuggestionClick(t)},[Object(o["n"])("span",null,Object(o["R"])(t.text),1),t.checked?(Object(o["E"])(),Object(o["j"])("i",xa)):Object(o["k"])("v-if",!0)],10,["onClick"]))),128)):Object(o["M"])(e.$slots,"empty",{key:1},()=>[Object(o["n"])("li",Da,Object(o["R"])(e.t("el.cascader.noMatch")),1)])]),_:3},512)),[[o["Z"],e.filtering]]):Object(o["k"])("v-if",!0)]),_:1},8,["visible","popper-class","popper-options","onAfterLeave"])},Pa.__file="packages/cascader/src/index.vue",Pa.install=e=>{e.component(Pa.name,Pa)};const Ua=Pa;var Ba=Object(o["o"])({name:"ElCheckboxButton",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[Boolean,Number,String]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0}},emits:[lo,"change"],setup(e){const{focus:t,isChecked:r,isDisabled:n,size:i,model:a,handleChange:s}=Xi(e),{checkboxGroup:l}=Ji();return{focus:t,isChecked:r,isDisabled:n,model:a,handleChange:s,activeStyle:Object(o["h"])(()=>{var e,t,r,o;const n=null!==(t=null===(e=null==l?void 0:l.fill)||void 0===e?void 0:e.value)&&void 0!==t?t:"";return{backgroundColor:n,borderColor:n,color:null!==(o=null===(r=null==l?void 0:l.textColor)||void 0===r?void 0:r.value)&&void 0!==o?o:"",boxShadow:n?"-1px 0 0 0 "+n:null}}),size:i}}});Ba.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("label",{class:["el-checkbox-button",[e.size?"el-checkbox-button--"+e.size:"",{"is-disabled":e.isDisabled},{"is-checked":e.isChecked},{"is-focus":e.focus}]],role:"checkbox","aria-checked":e.isChecked,"aria-disabled":e.isDisabled},[e.trueLabel||e.falseLabel?Object(o["db"])((Object(o["E"])(),Object(o["j"])("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=t=>e.model=t),checked:e.isChecked,class:"el-checkbox-button__original",type:"checkbox",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[2]||(t[2]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[3]||(t[3]=t=>e.focus=!0),onBlur:t[4]||(t[4]=t=>e.focus=!1)},null,40,["checked","name","disabled","true-value","false-value"])),[[o["W"],e.model]]):Object(o["db"])((Object(o["E"])(),Object(o["j"])("input",{key:1,"onUpdate:modelValue":t[5]||(t[5]=t=>e.model=t),class:"el-checkbox-button__original",type:"checkbox",name:e.name,disabled:e.isDisabled,value:e.label,onChange:t[6]||(t[6]=(...t)=>e.handleChange&&e.handleChange(...t)),onFocus:t[7]||(t[7]=t=>e.focus=!0),onBlur:t[8]||(t[8]=t=>e.focus=!1)},null,40,["name","disabled","value"])),[[o["W"],e.model]]),e.$slots.default||e.label?(Object(o["E"])(),Object(o["j"])("span",{key:2,class:"el-checkbox-button__inner",style:e.isChecked?e.activeStyle:null},[Object(o["M"])(e.$slots,"default",{},()=>[Object(o["m"])(Object(o["R"])(e.label),1)])],4)):Object(o["k"])("v-if",!0)],10,["aria-checked","aria-disabled"])},Ba.__file="packages/checkbox/src/checkbox-button.vue",Ba.install=e=>{e.component(Ba.name,Ba)};const Za=Ba;var Ha=Object(o["o"])({name:"ElCheckboxGroup",props:{modelValue:{type:[Object,Boolean,Array],default:()=>{}},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:yo},fill:{type:String,default:void 0},textColor:{type:String,default:void 0}},emits:[lo,"change"],setup(e,t){const{elFormItem:r,elFormItemSize:n,ELEMENT:i}=Ji(),a=Object(o["h"])(()=>e.size||n.value||i.size),s=e=>{t.emit(lo,e),Object(o["v"])(()=>{t.emit("change",e)})},l=Object(o["h"])({get:()=>e.modelValue,set(e){s(e)}});Object(o["G"])("CheckboxGroup",Object.assign(Object.assign({name:"ElCheckboxGroup",modelValue:l},Object(o["U"])(e)),{checkboxGroupSize:a,changeEvent:s})),Object(o["ab"])(()=>e.modelValue,e=>{var t;null===(t=r.formItemMitt)||void 0===t||t.emit("el.form.change",[e])})}});const Ga={class:"el-checkbox-group",role:"group","aria-label":"checkbox-group"};Ha.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",Ga,[Object(o["M"])(e.$slots,"default")])},Ha.__file="packages/checkbox/src/checkbox-group.vue",Ha.install=e=>{e.component(Ha.name,Ha)};const Va=Ha,za=Object(o["o"])({name:"ElCol",props:{tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:[Number,Object],default:()=>({})},sm:{type:[Number,Object],default:()=>({})},md:{type:[Number,Object],default:()=>({})},lg:{type:[Number,Object],default:()=>({})},xl:{type:[Number,Object],default:()=>({})}},setup(e,{slots:t}){const{gutter:r}=Object(o["r"])("ElRow",{gutter:{value:0}}),n=Object(o["h"])(()=>r.value?{paddingLeft:r.value/2+"px",paddingRight:r.value/2+"px"}:{}),i=Object(o["h"])(()=>{const t=[];return["span","offset","pull","push"].forEach(r=>{const o=e[r];"number"==typeof o&&("span"===r?t.push("el-col-"+e[r]):o>0&&t.push(`el-col-${r}-${e[r]}`))}),["xs","sm","md","lg","xl"].forEach(r=>{if("number"==typeof e[r])t.push(`el-col-${r}-${e[r]}`);else if("object"==typeof e[r]){const o=e[r];Object.keys(o).forEach(e=>{t.push("span"!==e?`el-col-${r}-${e}-${o[e]}`:`el-col-${r}-${o[e]}`)})}}),r.value&&t.push("is-guttered"),t});return()=>{var r;return Object(o["q"])(e.tag,{class:["el-col",i.value],style:n.value},null===(r=t.default)||void 0===r?void 0:r.call(t))}}});za.install=e=>{e.component(za.name,za)};var Wa=Object(o["o"])({name:"ElCollapse",props:{accordion:Boolean,modelValue:{type:[Array,String,Number],default:()=>[]}},emits:[lo,"change"],setup(e,{emit:t}){const r=Object(o["J"])([].concat(e.modelValue)),n=d(),i=o=>{r.value=[].concat(o);const n=e.accordion?r.value[0]:r.value;t(lo,n),t("change",n)},a=t=>{if(e.accordion)i(!r.value[0]&&0!==r.value[0]||r.value[0]!==t?t:"");else{const e=r.value.slice(0),o=e.indexOf(t);o>-1?e.splice(o,1):e.push(t),i(e)}};return Object(o["ab"])(()=>e.modelValue,()=>{r.value=[].concat(e.modelValue)}),n.on("item-click",a),Object(o["C"])(()=>{n.all.clear()}),Object(o["G"])("collapse",{activeNames:r,collapseMitt:n}),{activeNames:r,setActiveNames:i,handleItemClick:a}}});const Fa={class:"el-collapse",role:"tablist","aria-multiselectable":"true"};Wa.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",Fa,[Object(o["M"])(e.$slots,"default")])},Wa.__file="packages/collapse/src/collapse.vue",Wa.install=e=>{e.component(Wa.name,Wa)};const qa=Wa;var Ya=Object(o["o"])({name:"ElCollapseTransition",setup:()=>({on:{beforeEnter(e){jr(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){Lr(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(jr(e,"collapse-transition"),e.style.transitionProperty="height",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){Lr(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}})});Ya.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],Object(o["S"])(e.on),{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"default")]),_:3},16)},Ya.__file="packages/transition/collapse-transition/index.vue",Ya.install=e=>{e.component(Ya.name,Ya)};const $a=Ya;var Ka=Object(o["o"])({name:"ElCollapseItem",components:{ElCollapseTransition:$a},props:{title:{type:String,default:""},name:{type:[String,Number],default:()=>dr()},disabled:Boolean},setup(e){const t=Object(o["r"])("collapse"),r=null==t?void 0:t.collapseMitt,n=Object(o["J"])({height:"auto",display:"block"}),i=Object(o["J"])(0),a=Object(o["J"])(!1),s=Object(o["J"])(!1),l=Object(o["J"])(dr());return{isActive:Object(o["h"])(()=>(null==t?void 0:t.activeNames.value.indexOf(e.name))>-1),contentWrapStyle:n,contentHeight:i,focusing:a,isClick:s,id:l,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:a.value=!0},50)},handleHeaderClick:()=>{e.disabled||(null==r||r.emit("item-click",e.name),a.value=!1,s.value=!0)},handleEnterClick:()=>{null==r||r.emit("item-click",e.name)},collapse:t}}});const Ja={class:"el-collapse-item__content"};Ka.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-collapse-transition");return Object(o["E"])(),Object(o["j"])("div",{class:["el-collapse-item",{"is-active":e.isActive,"is-disabled":e.disabled}]},[Object(o["n"])("div",{role:"tab","aria-expanded":e.isActive,"aria-controls":"el-collapse-content-"+e.id,"aria-describedby":"el-collapse-content-"+e.id},[Object(o["n"])("div",{id:"el-collapse-head-"+e.id,class:["el-collapse-item__header",{focusing:e.focusing,"is-active":e.isActive}],role:"button",tabindex:e.disabled?-1:0,onClick:t[1]||(t[1]=(...t)=>e.handleHeaderClick&&e.handleHeaderClick(...t)),onKeyup:t[2]||(t[2]=Object(o["eb"])(Object(o["fb"])((...t)=>e.handleEnterClick&&e.handleEnterClick(...t),["stop"]),["space","enter"])),onFocus:t[3]||(t[3]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[4]||(t[4]=t=>e.focusing=!1)},[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["m"])(Object(o["R"])(e.title),1)]),Object(o["n"])("i",{class:["el-collapse-item__arrow el-icon-arrow-right",{"is-active":e.isActive}]},null,2)],42,["id","tabindex"])],8,["aria-expanded","aria-controls","aria-describedby"]),Object(o["n"])(s,null,{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{id:"el-collapse-content-"+e.id,class:"el-collapse-item__wrap",role:"tabpanel","aria-hidden":!e.isActive,"aria-labelledby":"el-collapse-head-"+e.id},[Object(o["n"])("div",Ja,[Object(o["M"])(e.$slots,"default")])],8,["id","aria-hidden","aria-labelledby"]),[[o["Z"],e.isActive]])]),_:3})],2)},Ka.__file="packages/collapse/src/collapse-item.vue",Ka.install=e=>{e.component(Ka.name,Ka)};const Xa=Ka,Qa=function(e,t,r){return[e,t*r/((e=(2-t)*r)<1?e:2-e)||0,e/2]},es=function(e,t){var r;"string"==typeof(r=e)&&-1!==r.indexOf(".")&&1===parseFloat(r)&&(e="100%");const o=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e+""))),o&&(e=parseInt(e*t+"",10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)},ts={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},rs={A:10,B:11,C:12,D:13,E:14,F:15},os=function(e){return 2===e.length?16*(rs[e[0].toUpperCase()]||+e[0])+(rs[e[1].toUpperCase()]||+e[1]):rs[e[1].toUpperCase()]||+e[1]},ns=function(e,t,r){e=es(e,255),t=es(t,255),r=es(r,255);const o=Math.max(e,t,r),n=Math.min(e,t,r);let i;const a=o,s=o-n,l=0===o?0:s/o;if(o===n)i=0;else{switch(o){case e:i=(t-r)/s+(t<r?6:0);break;case t:i=(r-e)/s+2;break;case r:i=(e-t)/s+4}i/=6}return{h:360*i,s:100*l,v:100*a}},is=function(e,t,r){e=6*es(e,360),t=es(t,100),r=es(r,100);const o=Math.floor(e),n=e-o,i=r*(1-t),a=r*(1-n*t),s=r*(1-(1-n)*t),l=o%6,c=[r,a,i,i,s,r][l],u=[s,r,r,a,i,i][l],d=[i,i,s,r,r,a][l];return{r:Math.round(255*c),g:Math.round(255*u),b:Math.round(255*d)}};class as{constructor(e){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{};for(const t in e)qt(e,t)&&(this[t]=e[t]);this.doOnChange()}set(e,t){if(1!==arguments.length||"object"!=typeof e)this["_"+e]=t,this.doOnChange();else for(const r in e)qt(e,r)&&this.set(r,e[r])}get(e){return this["_"+e]}toRgb(){return is(this._hue,this._saturation,this._value)}fromString(e){if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();const t=(e,t,r)=>{this._hue=Math.max(0,Math.min(360,e)),this._saturation=Math.max(0,Math.min(100,t)),this._value=Math.max(0,Math.min(100,r)),this.doOnChange()};if(-1!==e.indexOf("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(e=>""!==e).map((e,t)=>t>2?parseFloat(e):parseInt(e,10));if(4===r.length?this._alpha=Math.floor(100*parseFloat(r[3])):3===r.length&&(this._alpha=100),r.length>=3){const{h:e,s:o,v:n}=function(e,t,r){r/=100;let o=t/=100;const n=Math.max(r,.01);return t*=(r*=2)<=1?r:2-r,o*=n<=1?n:2-n,{h:e,s:100*(0===r?2*o/(n+o):2*t/(r+t)),v:(r+t)/2*100}}(r[0],r[1],r[2]);t(e,o,n)}}else if(-1!==e.indexOf("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(e=>""!==e).map((e,t)=>t>2?parseFloat(e):parseInt(e,10));4===r.length?this._alpha=Math.floor(100*parseFloat(r[3])):3===r.length&&(this._alpha=100),r.length>=3&&t(r[0],r[1],r[2])}else if(-1!==e.indexOf("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(e=>""!==e).map((e,t)=>t>2?parseFloat(e):parseInt(e,10));if(4===r.length?this._alpha=Math.floor(100*parseFloat(r[3])):3===r.length&&(this._alpha=100),r.length>=3){const{h:e,s:o,v:n}=ns(r[0],r[1],r[2]);t(e,o,n)}}else if(-1!==e.indexOf("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let o,n,i;3===r.length?(o=os(r[0]+r[0]),n=os(r[1]+r[1]),i=os(r[2]+r[2])):6!==r.length&&8!==r.length||(o=os(r.substring(0,2)),n=os(r.substring(2,4)),i=os(r.substring(4,6))),8===r.length?this._alpha=Math.floor(os(r.substring(6))/255*100):3!==r.length&&6!==r.length||(this._alpha=100);const{h:a,s:s,v:l}=ns(o,n,i);t(a,s,l)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:r,_alpha:o,format:n}=this;if(this.enableAlpha)switch(n){case"hsl":{const n=Qa(e,t/100,r/100);this.value=`hsla(${e}, ${Math.round(100*n[1])}%, ${Math.round(100*n[2])}%, ${o/100})`;break}case"hsv":this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(r)}%, ${o/100})`;break;default:{const{r:n,g:i,b:a}=is(e,t,r);this.value=`rgba(${n}, ${i}, ${a}, ${o/100})`}}else switch(n){case"hsl":{const o=Qa(e,t/100,r/100);this.value=`hsl(${e}, ${Math.round(100*o[1])}%, ${Math.round(100*o[2])}%)`;break}case"hsv":this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(r)}%)`;break;case"rgb":{const{r:o,g:n,b:i}=is(e,t,r);this.value=`rgb(${o}, ${n}, ${i})`;break}default:this.value=function({r:e,g:t,b:r}){const o=function(e){e=Math.min(Math.round(e),255);const t=Math.floor(e/16),r=e%16;return""+(ts[t]||t)+(ts[r]||r)};return isNaN(e)||isNaN(t)||isNaN(r)?"":"#"+o(e)+o(t)+o(r)}(is(e,t,r))}}}let ss=!1;function ls(e,t){if(Vt)return;const r=function(e){var r;null===(r=t.drag)||void 0===r||r.call(t,e)},o=function(e){var n;kr(document,"mousemove",r),kr(document,"mouseup",o),document.onselectstart=null,document.ondragstart=null,ss=!1,null===(n=t.end)||void 0===n||n.call(t,e)};Rr(e,"mousedown",(function(e){var n;ss||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,Rr(document,"mousemove",r),Rr(document,"mouseup",o),ss=!0,null===(n=t.start)||void 0===n||n.call(t,e))}))}var cs=Object(o["o"])({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=Object(o["p"])(),r=Object(o["J"])(0),n=Object(o["J"])(0),i=Object(o["J"])("hsl(0, 100%, 50%)"),a=Object(o["h"])(()=>({hue:e.color.get("hue"),value:e.color.get("value")}));function s(){const o=e.color.get("saturation"),a=e.color.get("value"),s=t.vnode.el;let{clientWidth:l,clientHeight:c}=s;n.value=o*l/100,r.value=(100-a)*c/100,i.value="hsl("+e.color.get("hue")+", 100%, 50%)"}function l(o){const i=t.vnode.el.getBoundingClientRect();let a=o.clientX-i.left,s=o.clientY-i.top;a=Math.max(0,a),a=Math.min(a,i.width),s=Math.max(0,s),s=Math.min(s,i.height),n.value=a,r.value=s,e.color.set({saturation:a/i.width*100,value:100-s/i.height*100})}return Object(o["ab"])(()=>a.value,()=>{s()}),Object(o["B"])(()=>{ls(t.vnode.el,{drag:e=>{l(e)},end:e=>{l(e)}}),s()}),{cursorTop:r,cursorLeft:n,background:i,colorValue:a,handleDrag:l,update:s}}});const us=Object(o["n"])("div",{class:"el-color-svpanel__white"},null,-1),ds=Object(o["n"])("div",{class:"el-color-svpanel__black"},null,-1),ps=Object(o["n"])("div",null,null,-1);cs.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:"el-color-svpanel",style:{backgroundColor:e.background}},[us,ds,Object(o["n"])("div",{class:"el-color-svpanel__cursor",style:{top:e.cursorTop+"px",left:e.cursorLeft+"px"}},[ps],4)],4)},cs.__file="packages/color-picker/src/components/sv-panel.vue";var hs=Object(o["o"])({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=Object(o["p"])(),r=Object(o["J"])(null),n=Object(o["J"])(null),i=Object(o["J"])(0),a=Object(o["J"])(0),s=Object(o["h"])(()=>e.color.get("hue"));function l(o){const n=t.vnode.el.getBoundingClientRect();let i;if(e.vertical){let e=o.clientY-n.top;e=Math.min(e,n.height-r.value.offsetHeight/2),e=Math.max(r.value.offsetHeight/2,e),i=Math.round((e-r.value.offsetHeight/2)/(n.height-r.value.offsetHeight)*360)}else{let e=o.clientX-n.left;e=Math.min(e,n.width-r.value.offsetWidth/2),e=Math.max(r.value.offsetWidth/2,e),i=Math.round((e-r.value.offsetWidth/2)/(n.width-r.value.offsetWidth)*360)}e.color.set("hue",i)}function c(){i.value=function(){const o=t.vnode.el;if(e.vertical)return 0;const n=e.color.get("hue");return o?Math.round(n*(o.offsetWidth-r.value.offsetWidth/2)/360):0}(),a.value=function(){const o=t.vnode.el;if(!e.vertical)return 0;const n=e.color.get("hue");return o?Math.round(n*(o.offsetHeight-r.value.offsetHeight/2)/360):0}()}return Object(o["ab"])(()=>s.value,()=>{c()}),Object(o["B"])(()=>{const e={drag:e=>{l(e)},end:e=>{l(e)}};ls(n.value,e),ls(r.value,e),c()}),{bar:n,thumb:r,thumbLeft:i,thumbTop:a,hueValue:s,handleClick:function(e){e.target!==r.value&&l(e)},update:c}}});hs.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-color-hue-slider",{"is-vertical":e.vertical}]},[Object(o["n"])("div",{ref:"bar",class:"el-color-hue-slider__bar",onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},null,512),Object(o["n"])("div",{ref:"thumb",class:"el-color-hue-slider__thumb",style:{left:e.thumbLeft+"px",top:e.thumbTop+"px"}},null,4)],2)},hs.__file="packages/color-picker/src/components/hue-slider.vue";var fs=Object(o["o"])({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(e){const t=Object(o["p"])(),r=Object(o["J"])(null),n=Object(o["J"])(null),i=Object(o["J"])(0),a=Object(o["J"])(0),s=Object(o["J"])(null);function l(o){const n=t.vnode.el.getBoundingClientRect();if(e.vertical){let t=o.clientY-n.top;t=Math.max(r.value.offsetHeight/2,t),t=Math.min(t,n.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((t-r.value.offsetHeight/2)/(n.height-r.value.offsetHeight)*100))}else{let t=o.clientX-n.left;t=Math.max(r.value.offsetWidth/2,t),t=Math.min(t,n.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((t-r.value.offsetWidth/2)/(n.width-r.value.offsetWidth)*100))}}function c(){i.value=function(){if(e.vertical)return 0;const o=t.vnode.el,n=e.color.get("alpha");return o?Math.round(n*(o.offsetWidth-r.value.offsetWidth/2)/100):0}(),a.value=function(){const o=t.vnode.el;if(!e.vertical)return 0;const n=e.color.get("alpha");return o?Math.round(n*(o.offsetHeight-r.value.offsetHeight/2)/100):0}(),s.value=function(){if(e.color&&e.color.value){const{r:t,g:r,b:o}=e.color.toRgb();return`linear-gradient(to right, rgba(${t}, ${r}, ${o}, 0) 0%, rgba(${t}, ${r}, ${o}, 1) 100%)`}return null}()}return Object(o["ab"])(()=>e.color.get("alpha"),()=>{c()}),Object(o["ab"])(()=>e.color.value,()=>{c()}),Object(o["B"])(()=>{const e={drag:e=>{l(e)},end:e=>{l(e)}};ls(n.value,e),ls(r.value,e),c()}),{thumb:r,bar:n,thumbLeft:i,thumbTop:a,background:s,handleClick:function(e){e.target!==r.value&&l(e)},update:c}}});fs.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-color-alpha-slider",{"is-vertical":e.vertical}]},[Object(o["n"])("div",{ref:"bar",class:"el-color-alpha-slider__bar",style:{background:e.background},onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},null,4),Object(o["n"])("div",{ref:"thumb",class:"el-color-alpha-slider__thumb",style:{left:e.thumbLeft+"px",top:e.thumbTop+"px"}},null,4)],2)},fs.__file="packages/color-picker/src/components/alpha-slider.vue";var gs=Object(o["o"])({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const{currentColor:t}=_s(),r=Object(o["J"])(n(e.colors,e.color));function n(e,t){return e.map(e=>{const r=new as;return r.enableAlpha=!0,r.format="rgba",r.fromString(e),r.selected=r.value===t.value,r})}return Object(o["ab"])(()=>t.value,e=>{const t=new as;t.fromString(e),r.value.forEach(e=>{e.selected=t.compare(e)})}),Object(o["bb"])(()=>{r.value=n(e.colors,e.color)}),{rgbaColors:r,handleSelect:function(t){e.color.fromString(e.colors[t])}}}});const ms={class:"el-color-predefine"},vs={class:"el-color-predefine__colors"};gs.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",ms,[Object(o["n"])("div",vs,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.rgbaColors,(t,r)=>(Object(o["E"])(),Object(o["j"])("div",{key:e.colors[r],class:["el-color-predefine__color-selector",{selected:t.selected,"is-alpha":t._alpha<100}],onClick:t=>e.handleSelect(r)},[Object(o["n"])("div",{style:{"background-color":t.value}},null,4)],10,["onClick"]))),128))])])},gs.__file="packages/color-picker/src/components/predefine.vue";const bs=Symbol(),_s=()=>Object(o["r"])(bs);var Es=Object(o["o"])({name:"ElColorPicker",components:{ElPopper:mn,ElInput:Ho,SvPanel:cs,HueSlider:hs,AlphaSlider:fs,ElButton:Zn,Predefine:gs},directives:{ClickOutside:fo},props:{modelValue:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:yo},popperClass:String,predefine:Array},emits:["change","active-change",lo],setup(e,{emit:t}){const r=_r(),n=Object(o["r"])("elForm",{}),i=Object(o["r"])("elFormItem",{}),a=Object(o["J"])(null),s=Object(o["J"])(null),c=Object(o["J"])(null),u=Object(o["J"])(null),d=Object(o["I"])(new as({enableAlpha:e.showAlpha,format:e.colorFormat})),p=Object(o["J"])(!1),h=Object(o["J"])(!1),f=Object(o["J"])(""),g=Object(o["h"])(()=>e.modelValue||h.value?function(e,t){if(!(e instanceof as))throw Error("color should be instance of _color Class");const{r:r,g:o,b:n}=e.toRgb();return t?`rgba(${r}, ${o}, ${n}, ${e.get("alpha")/100})`:`rgb(${r}, ${o}, ${n})`}(d,e.showAlpha):"transparent"),m=Object(o["h"])(()=>e.size||i.size||r.size),v=Object(o["h"])(()=>e.disabled||n.disabled),b=Object(o["h"])(()=>e.modelValue||h.value?d.value:"");Object(o["ab"])(()=>e.modelValue,e=>{e?e&&e!==d.value&&d.fromString(e):h.value=!1}),Object(o["ab"])(()=>b.value,e=>{f.value=e,t("active-change",e)}),Object(o["ab"])(()=>d.value,()=>{e.modelValue||h.value||(h.value=!0)});const _=l()((function(e){p.value=e}),100);function E(){Object(o["v"])(()=>{e.modelValue?d.fromString(e.modelValue):h.value=!1})}return Object(o["B"])(()=>{e.modelValue&&(d.fromString(e.modelValue),f.value=b.value)}),Object(o["ab"])(()=>p.value,()=>{Object(o["v"])(()=>{var e,t,r;null===(e=a.value)||void 0===e||e.update(),null===(t=s.value)||void 0===t||t.update(),null===(r=c.value)||void 0===r||r.update()})}),Object(o["G"])(bs,{currentColor:b}),{color:d,colorDisabled:v,colorSize:m,displayedColor:g,showPanelColor:h,showPicker:p,customInput:f,handleConfirm:function(){d.fromString(f.value)},hide:function(){_(!1),E()},handleTrigger:function(){v.value||_(!p.value)},clear:function(){var r;_(!1),t(lo,null),t("change",null),null!==e.modelValue&&(null===(r=i.formItemMitt)||void 0===r||r.emit("el.form.change",null)),E()},confirmValue:function(){var r;const n=d.value;t(lo,n),t("change",n),null===(r=i.formItemMitt)||void 0===r||r.emit("el.form.change",n),_(!1),Object(o["v"])(()=>{const t=new as({enableAlpha:e.showAlpha,format:e.colorFormat});t.fromString(e.modelValue),d.compare(t)||E()})},t:qn,hue:a,svPanel:s,alpha:c,popper:u}}});const Os={class:"el-color-dropdown__main-wrapper"},ys={class:"el-color-dropdown__btns"},Ss={class:"el-color-dropdown__value"},Ts={key:0,class:"el-color-picker__mask"},Cs={key:0,class:"el-color-picker__empty el-icon-close"},Rs={class:"el-color-picker__icon el-icon-arrow-down"};Es.render=function(e,t,r,n,i,a){const s=Object(o["N"])("hue-slider"),l=Object(o["N"])("sv-panel"),c=Object(o["N"])("alpha-slider"),u=Object(o["N"])("predefine"),d=Object(o["N"])("el-input"),p=Object(o["N"])("el-button"),h=Object(o["N"])("el-popper"),f=Object(o["O"])("click-outside");return Object(o["E"])(),Object(o["j"])(h,{ref:"popper",visible:e.showPicker,"onUpdate:visible":t[3]||(t[3]=t=>e.showPicker=t),effect:"light","manual-mode":"",trigger:"click","show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,transition:"el-zoom-in-top","gpu-acceleration":!1,"popper-class":"el-color-picker__panel el-color-dropdown "+e.popperClass,"stop-popper-mouse-event":!1},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",null,[Object(o["n"])("div",Os,[Object(o["n"])(s,{ref:"hue",class:"hue-slider",color:e.color,vertical:""},null,8,["color"]),Object(o["n"])(l,{ref:"svPanel",color:e.color},null,8,["color"])]),e.showAlpha?(Object(o["E"])(),Object(o["j"])(c,{key:0,ref:"alpha",color:e.color},null,8,["color"])):Object(o["k"])("v-if",!0),e.predefine?(Object(o["E"])(),Object(o["j"])(u,{key:1,ref:"predefine",color:e.color,colors:e.predefine},null,8,["color","colors"])):Object(o["k"])("v-if",!0),Object(o["n"])("div",ys,[Object(o["n"])("span",Ss,[Object(o["n"])(d,{modelValue:e.customInput,"onUpdate:modelValue":t[1]||(t[1]=t=>e.customInput=t),"validate-event":!1,size:"mini",onKeyup:Object(o["eb"])(e.handleConfirm,["enter"]),onBlur:e.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])]),Object(o["n"])(p,{size:"mini",type:"text",class:"el-color-dropdown__link-btn",onClick:e.clear},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.colorpicker.clear")),1)]),_:1},8,["onClick"]),Object(o["n"])(p,{plain:"",size:"mini",class:"el-color-dropdown__btn",onClick:e.confirmValue},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.colorpicker.confirm")),1)]),_:1},8,["onClick"])])],512),[[f,e.hide]])]),trigger:Object(o["cb"])(()=>[Object(o["n"])("div",{class:["el-color-picker",e.colorDisabled?"is-disabled":"",e.colorSize?"el-color-picker--"+e.colorSize:""]},[e.colorDisabled?(Object(o["E"])(),Object(o["j"])("div",Ts)):Object(o["k"])("v-if",!0),Object(o["n"])("div",{class:"el-color-picker__trigger",onClick:t[2]||(t[2]=(...t)=>e.handleTrigger&&e.handleTrigger(...t))},[Object(o["n"])("span",{class:["el-color-picker__color",{"is-alpha":e.showAlpha}]},[Object(o["n"])("span",{class:"el-color-picker__color-inner",style:{backgroundColor:e.displayedColor}},null,4),e.modelValue||e.showPanelColor?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("span",Cs))],2),Object(o["db"])(Object(o["n"])("span",Rs,null,512),[[o["Z"],e.modelValue||e.showPanelColor]])])],2)]),_:1},8,["visible","popper-class"])},Es.__file="packages/color-picker/src/index.vue",Es.install=e=>{e.component(Es.name,Es)};const ks=Es;var Is=Object(o["o"])({name:"ElContainer",props:{direction:{type:String,default:""}},setup:(e,{slots:t})=>({isVertical:Object(o["h"])(()=>"vertical"===e.direction||"horizontal"!==e.direction&&(!(!t||!t.default)&&t.default().some(e=>{const t=e.type.name;return"ElHeader"===t||"ElFooter"===t})))})});Is.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("section",{class:["el-container",{"is-vertical":e.isVertical}]},[Object(o["M"])(e.$slots,"default")],2)},Is.__file="packages/container/src/container.vue",Is.install=e=>{e.component(Is.name,Is)};const js=Is;var Ls=Object(o["o"])({props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,t){const r=Object(o["J"])(null),n=Object(o["J"])(null),i=Object(o["J"])([[],[],[],[],[],[]]),a=e.date.$locale().weekStart||7,s=e.date.locale("en").localeData().weekdaysShort().map(e=>e.toLowerCase()),l=Object(o["h"])(()=>a>3?7-a:-a),c=Object(o["h"])(()=>{const t=e.date.startOf("month");return t.subtract(t.day()||7,"day")}),u=Object(o["h"])(()=>s.concat(s).slice(a,a+7)),d=Object(o["h"])(()=>{var t;const r=e.date.startOf("month"),o=r.day()||7,n=r.daysInMonth(),a=r.subtract(1,"month").daysInMonth(),s=l.value,u=i.value;let d=1;const p="dates"===e.selectionMode?pr(e.parsedValue):[],f=vt()().startOf("day");for(let i=0;i<6;i++){const r=u[i];e.showWeekNumber&&(r[0]||(r[0]={type:"week",text:c.value.add(7*i+1,"day").week()}));for(let l=0;l<7;l++){let u=r[e.showWeekNumber?l+1:l];u||(u={row:i,column:l,type:"normal",inRange:!1,start:!1,end:!1});const h=7*i+l,g=c.value.add(h-s,"day");u.type="normal";const m=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;if(u.inRange=e.minDate&&g.isSameOrAfter(e.minDate,"day")&&m&&g.isSameOrBefore(m,"day")||e.minDate&&g.isSameOrBefore(e.minDate,"day")&&m&&g.isSameOrAfter(m,"day"),(null===(t=e.minDate)||void 0===t?void 0:t.isSameOrAfter(m))?(u.start=m&&g.isSame(m,"day"),u.end=e.minDate&&g.isSame(e.minDate,"day")):(u.start=e.minDate&&g.isSame(e.minDate,"day"),u.end=m&&g.isSame(m,"day")),g.isSame(f,"day")&&(u.type="today"),i>=0&&i<=1){const e=o+s<0?7+o+s:o+s;l+7*i>=e?u.text=d++:(u.text=a-(e-l%7)+1+7*i,u.type="prev-month")}else d<=n?u.text=d++:(u.text=d++-n,u.type="next-month");const v=g.toDate();u.selected=p.find(e=>e.valueOf()===g.valueOf()),u.disabled=e.disabledDate&&e.disabledDate(v),u.customClass=e.cellClassName&&e.cellClassName(v),r[e.showWeekNumber?l+1:l]=u}if("week"===e.selectionMode){const t=e.showWeekNumber?1:0,o=e.showWeekNumber?7:6,n=h(r[t+1]);r[t].inRange=n,r[t].start=n,r[o].inRange=n,r[o].end=n}}return u}),p=(t,r)=>{const o=7*t+(r-(e.showWeekNumber?1:0))-l.value;return c.value.add(o,"day")},h=t=>{if("week"!==e.selectionMode)return!1;let r=e.date.startOf("day");if("prev-month"===t.type&&(r=r.subtract(1,"month")),"next-month"===t.type&&(r=r.add(1,"month")),r=r.date(parseInt(t.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const t=(e.parsedValue.day()-a+7)%7-1;return e.parsedValue.subtract(t,"day").isSame(r,"day")}return!1};return{handleMouseMove:o=>{if(!e.rangeState.selecting)return;let i=o.target;if("SPAN"===i.tagName&&(i=i.parentNode.parentNode),"DIV"===i.tagName&&(i=i.parentNode),"TD"!==i.tagName)return;const a=i.parentNode.rowIndex-1,s=i.cellIndex;d.value[a][s].disabled||a===r.value&&s===n.value||(r.value=a,n.value=s,t.emit("changerange",{selecting:!0,endDate:p(a,s)}))},t:qn,rows:d,isWeekActive:h,getCellClasses:t=>{let r=[];return"normal"!==t.type&&"today"!==t.type||t.disabled?r.push(t.type):(r.push("available"),"today"===t.type&&r.push("today")),"day"!==e.selectionMode||"normal"!==t.type&&"today"!==t.type||!((t,r)=>!!r&&vt()(r).isSame(e.date.date(Number(t.text)),"day"))(t,e.parsedValue)||r.push("current"),!t.inRange||"normal"!==t.type&&"today"!==t.type&&"week"!==e.selectionMode||(r.push("in-range"),t.start&&r.push("start-date"),t.end&&r.push("end-date")),t.disabled&&r.push("disabled"),t.selected&&r.push("selected"),t.customClass&&r.push(t.customClass),r.join(" ")},WEEKS:u,handleClick:r=>{let o=r.target;if("SPAN"===o.tagName&&(o=o.parentNode.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"!==o.tagName)return;const n=o.parentNode.rowIndex-1,i=o.cellIndex,a=d.value[n][i];if(a.disabled||"week"===a.type)return;const s=p(n,i);if("range"===e.selectionMode)e.rangeState.selecting?(s>=e.minDate?t.emit("pick",{minDate:e.minDate,maxDate:s}):t.emit("pick",{minDate:s,maxDate:e.minDate}),t.emit("select",!1)):(t.emit("pick",{minDate:s,maxDate:null}),t.emit("select",!0));else if("day"===e.selectionMode)t.emit("pick",s);else if("week"===e.selectionMode){const e=s.week(),r=s.year()+"w"+e;t.emit("pick",{year:s.year(),week:e,value:r,date:s.startOf("week")})}else if("dates"===e.selectionMode){const r=a.selected?pr(e.parsedValue).filter(e=>e.valueOf()!==s.valueOf()):pr(e.parsedValue).concat([s]);t.emit("pick",r)}}}}});const Ms={key:0};Ls.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("table",{cellspacing:"0",cellpadding:"0",class:["el-date-table",{"is-week-mode":"week"===e.selectionMode}],onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t)),onMousemove:t[2]||(t[2]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t))},[Object(o["n"])("tbody",null,[Object(o["n"])("tr",null,[e.showWeekNumber?(Object(o["E"])(),Object(o["j"])("th",Ms,Object(o["R"])(e.t("el.datepicker.week")),1)):Object(o["k"])("v-if",!0),(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.WEEKS,(t,r)=>(Object(o["E"])(),Object(o["j"])("th",{key:r},Object(o["R"])(e.t("el.datepicker.weeks."+t)),1))),128))]),(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.rows,(t,r)=>(Object(o["E"])(),Object(o["j"])("tr",{key:r,class:["el-date-table__row",{current:e.isWeekActive(t[1])}]},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(t,(t,r)=>(Object(o["E"])(),Object(o["j"])("td",{key:r,class:e.getCellClasses(t)},[Object(o["n"])("div",null,[Object(o["n"])("span",null,Object(o["R"])(t.text),1)])],2))),128))],2))),128))])],34)},Ls.__file="packages/date-picker/src/date-picker-com/basic-date-table.vue";var Ns=Object(o["o"])({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(e,t){const r=Object(o["J"])(e.date.locale("en").localeData().monthsShort().map(e=>e.toLowerCase())),n=Object(o["J"])([[],[],[]]),i=Object(o["J"])(null),a=Object(o["J"])(null),s=Object(o["h"])(()=>{var t;const r=n.value,o=vt()().startOf("month");for(let n=0;n<3;n++){const i=r[n];for(let r=0;r<4;r++){let a=i[r];a||(a={row:n,column:r,type:"normal",inRange:!1,start:!1,end:!1}),a.type="normal";const s=4*n+r,l=e.date.startOf("year").month(s),c=e.rangeState.endDate||e.maxDate||e.rangeState.selecting&&e.minDate;a.inRange=e.minDate&&l.isSameOrAfter(e.minDate,"month")&&c&&l.isSameOrBefore(c,"month")||e.minDate&&l.isSameOrBefore(e.minDate,"month")&&c&&l.isSameOrAfter(c,"month"),(null===(t=e.minDate)||void 0===t?void 0:t.isSameOrAfter(c))?(a.start=c&&l.isSame(c,"month"),a.end=e.minDate&&l.isSame(e.minDate,"month")):(a.start=e.minDate&&l.isSame(e.minDate,"month"),a.end=c&&l.isSame(c,"month")),o.isSame(l)&&(a.type="today"),a.text=s;let u=l.toDate();a.disabled=e.disabledDate&&e.disabledDate(u),i[r]=a}}return r});return{handleMouseMove:r=>{if(!e.rangeState.selecting)return;let o=r.target;if("A"===o.tagName&&(o=o.parentNode.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"!==o.tagName)return;const n=o.parentNode.rowIndex,l=o.cellIndex;s.value[n][l].disabled||n===i.value&&l===a.value||(i.value=n,a.value=l,t.emit("changerange",{selecting:!0,endDate:e.date.startOf("year").month(4*n+l)}))},handleMonthTableClick:r=>{let o=r.target;if("A"===o.tagName&&(o=o.parentNode.parentNode),"DIV"===o.tagName&&(o=o.parentNode),"TD"!==o.tagName)return;if(Ir(o,"disabled"))return;const n=o.cellIndex,i=4*o.parentNode.rowIndex+n,a=e.date.startOf("year").month(i);"range"===e.selectionMode?e.rangeState.selecting?(a>=e.minDate?t.emit("pick",{minDate:e.minDate,maxDate:a}):t.emit("pick",{minDate:a,maxDate:e.minDate}),t.emit("select",!1)):(t.emit("pick",{minDate:a,maxDate:null}),t.emit("select",!0)):t.emit("pick",i)},rows:s,getCellStyle:t=>{const r={},o=e.date.year(),n=new Date,i=t.text;return r.disabled=!!e.disabledDate&&((e,t)=>{const r=vt()().startOf("month").month(t).year(e),o=r.daysInMonth();return Ti(o).map(e=>r.add(e,"day").toDate())})(o,i).every(e.disabledDate),r.current=pr(e.parsedValue).findIndex(e=>e.year()===o&&e.month()===i)>=0,r.today=n.getFullYear()===o&&n.getMonth()===i,t.inRange&&(r["in-range"]=!0,t.start&&(r["start-date"]=!0),t.end&&(r["end-date"]=!0)),r},t:qn,months:r}}});const As={class:"cell"};Ns.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("table",{class:"el-month-table",onClick:t[1]||(t[1]=(...t)=>e.handleMonthTableClick&&e.handleMonthTableClick(...t)),onMousemove:t[2]||(t[2]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t))},[Object(o["n"])("tbody",null,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.rows,(t,r)=>(Object(o["E"])(),Object(o["j"])("tr",{key:r},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(t,(t,r)=>(Object(o["E"])(),Object(o["j"])("td",{key:r,class:e.getCellStyle(t)},[Object(o["n"])("div",null,[Object(o["n"])("a",As,Object(o["R"])(e.t("el.datepicker.months."+e.months[t.text])),1)])],2))),128))]))),128))])],32)},Ns.__file="packages/date-picker/src/date-picker-com/basic-month-table.vue";var Ps=Object(o["o"])({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object}},emits:["pick"],setup:(e,t)=>({startYear:Object(o["h"])(()=>10*Math.floor(e.date.year()/10)),getCellStyle:t=>{const r={},o=vt()();return r.disabled=!!e.disabledDate&&(e=>{const t=vt()(String(e)).startOf("year"),r=t.endOf("year").dayOfYear();return Ti(r).map(e=>t.add(e,"day").toDate())})(t).every(e.disabledDate),r.current=pr(e.parsedValue).findIndex(e=>e.year()===t)>=0,r.today=o.year()===t,r},handleYearTableClick:e=>{const r=e.target;if("A"===r.tagName){if(Ir(r.parentNode,"disabled"))return;const e=r.textContent||r.innerText;t.emit("pick",Number(e))}}})});const ws={class:"cell"},xs={class:"cell"},Ds={class:"cell"},Us={class:"cell"},Bs={class:"cell"},Zs={class:"cell"},Hs={class:"cell"},Gs={class:"cell"},Vs={class:"cell"},zs={class:"cell"},Ws=Object(o["n"])("td",null,null,-1),Fs=Object(o["n"])("td",null,null,-1);Ps.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("table",{class:"el-year-table",onClick:t[1]||(t[1]=(...t)=>e.handleYearTableClick&&e.handleYearTableClick(...t))},[Object(o["n"])("tbody",null,[Object(o["n"])("tr",null,[Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+0)]},[Object(o["n"])("a",ws,Object(o["R"])(e.startYear),1)],2),Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+1)]},[Object(o["n"])("a",xs,Object(o["R"])(e.startYear+1),1)],2),Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+2)]},[Object(o["n"])("a",Ds,Object(o["R"])(e.startYear+2),1)],2),Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+3)]},[Object(o["n"])("a",Us,Object(o["R"])(e.startYear+3),1)],2)]),Object(o["n"])("tr",null,[Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+4)]},[Object(o["n"])("a",Bs,Object(o["R"])(e.startYear+4),1)],2),Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+5)]},[Object(o["n"])("a",Zs,Object(o["R"])(e.startYear+5),1)],2),Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+6)]},[Object(o["n"])("a",Hs,Object(o["R"])(e.startYear+6),1)],2),Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+7)]},[Object(o["n"])("a",Gs,Object(o["R"])(e.startYear+7),1)],2)]),Object(o["n"])("tr",null,[Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+8)]},[Object(o["n"])("a",Vs,Object(o["R"])(e.startYear+8),1)],2),Object(o["n"])("td",{class:["available",e.getCellStyle(e.startYear+9)]},[Object(o["n"])("a",zs,Object(o["R"])(e.startYear+9),1)],2),Ws,Fs])])])},Ps.__file="packages/date-picker/src/date-picker-com/basic-year-table.vue";var qs=Object(o["o"])({components:{DateTable:Ls,ElInput:Ho,ElButton:Zn,TimePickPanel:di,MonthTable:Ns,YearTable:Ps},directives:{clickoutside:fo},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:""},type:{type:String,required:!0,validator:So}},emits:["pick","set-picker-option"],setup(e,t){const r=Object(o["J"])(vt()()),n=Object(o["h"])(()=>r.value.month()),i=Object(o["h"])(()=>r.value.year()),a=Object(o["J"])([]),s=Object(o["J"])(null),l=Object(o["J"])(null),c=t=>!(a.value.length>0)||(a.value,e.format,!0),u=e=>j?vt()(j).year(e.year()).month(e.month()).date(e.date()):m.value?e.millisecond(0):e.startOf("day"),d=(e,...r)=>{if(e)if(Array.isArray(e)){const o=e.map(u);t.emit("pick",o,...r)}else t.emit("pick",u(e),...r);else t.emit("pick",e,...r);s.value=null,l.value=null},p=Object(o["J"])("date"),h=Object(o["h"])(()=>{const e=qn("el.datepicker.year");if("year"===p.value){const t=10*Math.floor(i.value/10);return e?t+" "+e+" - "+(t+9)+" "+e:t+" - "+(t+9)}return i.value+" "+e}),f=Object(o["h"])(()=>["week","month","year","dates"].includes(e.type)?e.type:"day");Object(o["ab"])(()=>f.value,e=>{["month","year"].includes(e)?p.value=e:p.value="date"},{immediate:!0});const g=Object(o["h"])(()=>!!R.length),m=Object(o["h"])(()=>"datetime"===e.type||"datetimerange"===e.type),v=Object(o["h"])(()=>m.value||"dates"===f.value),b=Object(o["h"])(()=>Ri(e.format)),_=Object(o["h"])(()=>Ci(e.format)),E=Object(o["h"])(()=>l.value?l.value:e.parsedValue||L?(e.parsedValue||r.value).format(b.value):void 0),O=Object(o["h"])(()=>s.value?s.value:e.parsedValue||L?(e.parsedValue||r.value).format(_.value):void 0),y=Object(o["J"])(!1),S=()=>vt()(L),T=e=>{const o={year:{38:-4,40:4,37:-1,39:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{38:-4,40:4,37:-1,39:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{38:-1,40:1,37:-1,39:1,offset:(e,t)=>e.setDate(e.getDate()+7*t)},day:{38:-7,40:7,37:-1,39:1,offset:(e,t)=>e.setDate(e.getDate()+t)}},n=r.value.toDate();for(;Math.abs(r.value.diff(n,"year",!0))<1;){const i=o[f.value];if(i.offset(n,i[e]),k&&k(n))continue;const a=vt()(n);r.value=a,t.emit("pick",a,!0);break}};t.emit("set-picker-option",["isValidValue",e=>e.isValid()&&(!k||!k(e.toDate()))]),t.emit("set-picker-option",["formatToString",t=>"dates"===f.value?t.map(t=>t.format(e.format)):t.format(e.format)]),t.emit("set-picker-option",["parseUserInput",t=>vt()(t,e.format)]),t.emit("set-picker-option",["handleKeydown",t=>{const{code:o,keyCode:n}=t,i=[to.up,to.down,to.left,to.right];e.visible&&!y.value&&(i.includes(o)&&(T(n),t.stopPropagation(),t.preventDefault()),o===to.enter&&null===s.value&&null===l.value&&d(r,!1))}]);const C=Object(o["r"])("EP_PICKER_BASE"),{shortcuts:R,disabledDate:k,cellClassName:I,defaultTime:j,defaultValue:L,arrowControl:M}=C.props;return Object(o["ab"])(()=>e.parsedValue,e=>{if(e){if("dates"===f.value)return;if(Array.isArray(e))return;r.value=e}else r.value=S()},{immediate:!0}),{handleTimePick:(t,o,n)=>{const i=e.parsedValue?e.parsedValue.hour(t.hour()).minute(t.minute()).second(t.second()):t;r.value=i,d(r.value,!0),n||(y.value=o)},handleTimePickClose:()=>{y.value=!1},onTimePickerInputFocus:()=>{y.value=!0},timePickerVisible:y,visibleTime:E,visibleDate:O,showTime:m,changeToNow:()=>{const e=vt()().toDate();k&&k(e)||!c()||(r.value=vt()(),d(r.value))},onConfirm:()=>{if("dates"===f.value)d(e.parsedValue);else{let t=e.parsedValue;if(!t){const e=vt()(j),r=S();t=e.year(r.year()).month(r.month()).date(r.date())}r.value=t,d(t)}},footerVisible:v,handleYearPick:e=>{"year"===f.value?(r.value=r.value.startOf("year").year(e),d(r.value)):(r.value=r.value.year(e),p.value="month")},showMonthPicker:()=>{p.value="month"},showYearPicker:()=>{p.value="year"},handleMonthPick:e=>{r.value=r.value.startOf("month").month(e),"month"===f.value?d(r.value):p.value="date"},hasShortcuts:g,shortcuts:R,arrowControl:M,disabledDate:k,cellClassName:I,selectionMode:f,handleShortcutClick:e=>{e.value?d(vt()(e.value)):e.onClick&&e.onClick(t)},prevYear_:()=>{"year"===p.value?r.value=r.value.subtract(10,"year"):r.value=r.value.subtract(1,"year")},nextYear_:()=>{"year"===p.value?r.value=r.value.add(10,"year"):r.value=r.value.add(1,"year")},prevMonth_:()=>{r.value=r.value.subtract(1,"month")},nextMonth_:()=>{r.value=r.value.add(1,"month")},innerDate:r,t:qn,yearLabel:h,currentView:p,month:n,handleDatePick:t=>{if("day"===f.value){let o=e.parsedValue?e.parsedValue.year(t.year()).month(t.month()).date(t.date()):t;c()||(o=a.value[0][0].year(t.year()).month(t.month()).date(t.date())),r.value=o,d(o,m.value)}else"week"===f.value?d(t.date):"dates"===f.value&&d(t,!0)},handleVisibleTimeChange:e=>{const t=vt()(e,b.value);t.isValid()&&c()&&(r.value=t.year(r.value.year()).month(r.value.month()).date(r.value.date()),l.value=null,y.value=!1,d(r.value,!0))},handleVisibleDateChange:e=>{const t=vt()(e,_.value);if(t.isValid()){if(k&&k(t.toDate()))return;r.value=t.hour(r.value.hour()).minute(r.value.minute()).second(r.value.second()),s.value=null,d(r.value,!0)}},timeFormat:b,userInputTime:l,userInputDate:s}}});const Ys={class:"el-picker-panel__body-wrapper"},$s={key:0,class:"el-picker-panel__sidebar"},Ks={class:"el-picker-panel__body"},Js={key:0,class:"el-date-picker__time-header"},Xs={class:"el-date-picker__editor-wrap"},Qs={class:"el-date-picker__editor-wrap"},el={class:"el-picker-panel__content"},tl={class:"el-picker-panel__footer"};qs.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input"),l=Object(o["N"])("time-pick-panel"),c=Object(o["N"])("date-table"),u=Object(o["N"])("year-table"),d=Object(o["N"])("month-table"),p=Object(o["N"])("el-button"),h=Object(o["O"])("clickoutside");return Object(o["E"])(),Object(o["j"])("div",{class:["el-picker-panel el-date-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]]},[Object(o["n"])("div",Ys,[Object(o["M"])(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(Object(o["E"])(),Object(o["j"])("div",$s,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.shortcuts,(t,r)=>(Object(o["E"])(),Object(o["j"])("button",{key:r,type:"button",class:"el-picker-panel__shortcut",onClick:r=>e.handleShortcutClick(t)},Object(o["R"])(t.text),9,["onClick"]))),128))])):Object(o["k"])("v-if",!0),Object(o["n"])("div",Ks,[e.showTime?(Object(o["E"])(),Object(o["j"])("div",Js,[Object(o["n"])("span",Xs,[Object(o["n"])(s,{placeholder:e.t("el.datepicker.selectDate"),"model-value":e.visibleDate,size:"small",onInput:t[1]||(t[1]=t=>e.userInputDate=t),onChange:e.handleVisibleDateChange},null,8,["placeholder","model-value","onChange"])]),Object(o["db"])(Object(o["n"])("span",Qs,[Object(o["n"])(s,{placeholder:e.t("el.datepicker.selectTime"),"model-value":e.visibleTime,size:"small",onFocus:e.onTimePickerInputFocus,onInput:t[2]||(t[2]=t=>e.userInputTime=t),onChange:e.handleVisibleTimeChange},null,8,["placeholder","model-value","onFocus","onChange"]),Object(o["n"])(l,{visible:e.timePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.innerDate,onPick:e.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[h,e.handleTimePickClose]])])):Object(o["k"])("v-if",!0),Object(o["db"])(Object(o["n"])("div",{class:["el-date-picker__header",{"el-date-picker__header--bordered":"year"===e.currentView||"month"===e.currentView}]},[Object(o["n"])("button",{type:"button","aria-label":e.t("el.datepicker.prevYear"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",onClick:t[3]||(t[3]=(...t)=>e.prevYear_&&e.prevYear_(...t))},null,8,["aria-label"]),Object(o["db"])(Object(o["n"])("button",{type:"button","aria-label":e.t("el.datepicker.prevMonth"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",onClick:t[4]||(t[4]=(...t)=>e.prevMonth_&&e.prevMonth_(...t))},null,8,["aria-label"]),[[o["Z"],"date"===e.currentView]]),Object(o["n"])("span",{role:"button",class:"el-date-picker__header-label",onClick:t[5]||(t[5]=(...t)=>e.showYearPicker&&e.showYearPicker(...t))},Object(o["R"])(e.yearLabel),1),Object(o["db"])(Object(o["n"])("span",{role:"button",class:["el-date-picker__header-label",{active:"month"===e.currentView}],onClick:t[6]||(t[6]=(...t)=>e.showMonthPicker&&e.showMonthPicker(...t))},Object(o["R"])(e.t("el.datepicker.month"+(e.month+1))),3),[[o["Z"],"date"===e.currentView]]),Object(o["n"])("button",{type:"button","aria-label":e.t("el.datepicker.nextYear"),class:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",onClick:t[7]||(t[7]=(...t)=>e.nextYear_&&e.nextYear_(...t))},null,8,["aria-label"]),Object(o["db"])(Object(o["n"])("button",{type:"button","aria-label":e.t("el.datepicker.nextMonth"),class:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",onClick:t[8]||(t[8]=(...t)=>e.nextMonth_&&e.nextMonth_(...t))},null,8,["aria-label"]),[[o["Z"],"date"===e.currentView]])],2),[[o["Z"],"time"!==e.currentView]]),Object(o["n"])("div",el,["date"===e.currentView?(Object(o["E"])(),Object(o["j"])(c,{key:0,"selection-mode":e.selectionMode,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,onPick:e.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","onPick"])):Object(o["k"])("v-if",!0),"year"===e.currentView?(Object(o["E"])(),Object(o["j"])(u,{key:1,date:e.innerDate,"disabled-date":e.disabledDate,"parsed-value":e.parsedValue,onPick:e.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):Object(o["k"])("v-if",!0),"month"===e.currentView?(Object(o["E"])(),Object(o["j"])(d,{key:2,date:e.innerDate,"parsed-value":e.parsedValue,"disabled-date":e.disabledDate,onPick:e.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):Object(o["k"])("v-if",!0)])])]),Object(o["db"])(Object(o["n"])("div",tl,[Object(o["db"])(Object(o["n"])(p,{size:"mini",type:"text",class:"el-picker-panel__link-btn",onClick:e.changeToNow},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.datepicker.now")),1)]),_:1},8,["onClick"]),[[o["Z"],"dates"!==e.selectionMode]]),Object(o["n"])(p,{plain:"",size:"mini",class:"el-picker-panel__link-btn",onClick:e.onConfirm},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.datepicker.confirm")),1)]),_:1},8,["onClick"])],512),[[o["Z"],e.footerVisible&&"date"===e.currentView]])],2)},qs.__file="packages/date-picker/src/date-picker-com/panel-date-pick.vue";var rl=Object(o["o"])({directives:{clickoutside:fo},components:{TimePickPanel:di,DateTable:Ls,ElInput:Ho,ElButton:Zn},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0,validator:So}},emits:["pick","set-picker-option"],setup(e,t){const r=Object(o["J"])(vt()()),n=Object(o["J"])(vt()().add(1,"month")),i=Object(o["J"])(null),a=Object(o["J"])(null),s=Object(o["J"])({min:null,max:null}),l=Object(o["J"])({min:null,max:null}),c=Object(o["h"])(()=>r.value.year()+" "+qn("el.datepicker.year")+" "+qn("el.datepicker.month"+(r.value.month()+1))),u=Object(o["h"])(()=>n.value.year()+" "+qn("el.datepicker.year")+" "+qn("el.datepicker.month"+(n.value.month()+1))),d=Object(o["h"])(()=>r.value.year()),p=Object(o["h"])(()=>r.value.month()),h=Object(o["h"])(()=>n.value.year()),f=Object(o["h"])(()=>n.value.month()),g=Object(o["h"])(()=>!!w.length),m=Object(o["h"])(()=>null!==s.value.min?s.value.min:i.value?i.value.format(O.value):""),v=Object(o["h"])(()=>null!==s.value.max?s.value.max:a.value||i.value?(a.value||i.value).format(O.value):""),b=Object(o["h"])(()=>null!==l.value.min?l.value.min:i.value?i.value.format(E.value):""),_=Object(o["h"])(()=>null!==l.value.max?l.value.max:a.value||i.value?(a.value||i.value).format(E.value):""),E=Object(o["h"])(()=>Ri(U)),O=Object(o["h"])(()=>Ci(U)),y=Object(o["h"])(()=>{const t=(p.value+1)%12,r=p.value+1>=12?1:0;return e.unlinkPanels&&new Date(d.value+r,t)<new Date(h.value,f.value)}),S=Object(o["h"])(()=>e.unlinkPanels&&12*h.value+f.value-(12*d.value+p.value+1)>=12),T=e=>Array.isArray(e)&&e[0]&&e[1]&&e[0].valueOf()<=e[1].valueOf(),C=Object(o["J"])({endDate:null,selecting:!1}),R=Object(o["h"])(()=>!(i.value&&a.value&&!C.value.selecting&&T([i.value,a.value]))),k=Object(o["h"])(()=>"datetime"===e.type||"datetimerange"===e.type),I=(e=!1)=>{T([i.value,a.value])&&t.emit("pick",[i.value,a.value],e)},j=(e,t)=>{if(e)return B?vt()(B[t]||B).year(e.year()).month(e.month()).date(e.date()):e},L=Object(o["J"])(!1),M=Object(o["J"])(!1),N=()=>{r.value=A()[0],n.value=r.value.add(1,"month"),t.emit("pick",null)},A=()=>{let t;if(Array.isArray(Z)){const t=vt()(Z[0]);let r=vt()(Z[1]);return e.unlinkPanels||(r=t.add(1,"month")),[t,r]}return t=Z?vt()(Z):vt()(),[t,t.add(1,"month")]};t.emit("set-picker-option",["isValidValue",T]),t.emit("set-picker-option",["parseUserInput",e=>Array.isArray(e)?e.map(e=>vt()(e,U)):vt()(e,U)]),t.emit("set-picker-option",["formatToString",e=>Array.isArray(e)?e.map(e=>e.format(U)):e.format(U)]),t.emit("set-picker-option",["handleClear",N]);const P=Object(o["r"])("EP_PICKER_BASE"),{shortcuts:w,disabledDate:x,cellClassName:D,format:U,defaultTime:B,defaultValue:Z,arrowControl:H,clearable:G}=P.props;return Object(o["ab"])(()=>e.parsedValue,t=>{if(t&&2===t.length)if(i.value=t[0],a.value=t[1],r.value=i.value,e.unlinkPanels&&a.value){const e=i.value.year(),t=i.value.month(),r=a.value.year(),o=a.value.month();n.value=e===r&&t===o?a.value.add(1,"month"):a.value}else n.value=r.value.add(1,"month");else{const e=A();i.value=null,a.value=null,r.value=e[0],n.value=e[1]}},{immediate:!0}),{shortcuts:w,disabledDate:x,cellClassName:D,minTimePickerVisible:L,maxTimePickerVisible:M,handleMinTimeClose:()=>{L.value=!1},handleMaxTimeClose:()=>{M.value=!1},handleShortcutClick:e=>{e.value?t.emit("pick",[vt()(e.value[0]),vt()(e.value[1])]):e.onClick&&e.onClick(t)},rangeState:C,minDate:i,maxDate:a,handleRangePick:(e,t=!0)=>{const r=j(e.minDate,0),o=j(e.maxDate,1);a.value===o&&i.value===r||(a.value=o,i.value=r,t&&!k.value&&I())},onSelect:e=>{C.value.selecting=e,e||(C.value.endDate=null)},handleChangeRange:e=>{C.value=e},btnDisabled:R,enableYearArrow:S,enableMonthArrow:y,rightPrevMonth:()=>{n.value=n.value.subtract(1,"month")},rightPrevYear:()=>{n.value=n.value.subtract(1,"year")},rightNextMonth:()=>{e.unlinkPanels?n.value=n.value.add(1,"month"):(r.value=r.value.add(1,"month"),n.value=r.value.add(1,"month"))},rightNextYear:()=>{e.unlinkPanels?n.value=n.value.add(1,"year"):(r.value=r.value.add(1,"year"),n.value=r.value.add(1,"month"))},leftPrevMonth:()=>{r.value=r.value.subtract(1,"month"),e.unlinkPanels||(n.value=r.value.add(1,"month"))},leftPrevYear:()=>{r.value=r.value.subtract(1,"year"),e.unlinkPanels||(n.value=r.value.add(1,"month"))},leftNextMonth:()=>{r.value=r.value.add(1,"month")},leftNextYear:()=>{r.value=r.value.add(1,"year")},hasShortcuts:g,leftLabel:c,rightLabel:u,leftDate:r,rightDate:n,showTime:k,t:qn,minVisibleDate:m,maxVisibleDate:v,minVisibleTime:b,maxVisibleTime:_,arrowControl:H,handleDateInput:(t,o)=>{s.value[o]=t;const l=vt()(t,O.value);if(l.isValid()){if(x&&x(l.toDate()))return;"min"===o?(r.value=l,i.value=(i.value||r.value).year(l.year()).month(l.month()).date(l.date()),e.unlinkPanels||(n.value=l.add(1,"month"),a.value=i.value.add(1,"month"))):(n.value=l,a.value=(a.value||n.value).year(l.year()).month(l.month()).date(l.date()),e.unlinkPanels||(r.value=l.subtract(1,"month"),i.value=a.value.subtract(1,"month")))}},handleDateChange:(e,t)=>{s.value[t]=null},handleTimeInput:(e,t)=>{l.value[t]=e;const o=vt()(e,E.value);o.isValid()&&("min"===t?(L.value=!0,i.value=(i.value||r.value).hour(o.hour()).minute(o.minute()).second(o.second()),a.value&&!a.value.isBefore(i.value)||(a.value=i.value)):(M.value=!0,a.value=(a.value||n.value).hour(o.hour()).minute(o.minute()).second(o.second()),n.value=a.value,a.value&&a.value.isBefore(i.value)&&(i.value=a.value)))},handleTimeChange:(e,t)=>{l.value[t]=null,"min"===t?(r.value=i.value,L.value=!1):(n.value=a.value,M.value=!1)},handleMinTimePick:(e,t,o)=>{l.value.min||(e&&(r.value=e,i.value=(i.value||r.value).hour(e.hour()).minute(e.minute()).second(e.second())),o||(L.value=t),a.value&&!a.value.isBefore(i.value)||(a.value=i.value))},handleMaxTimePick:(e,t,r)=>{l.value.max||(e&&(n.value=e,a.value=(a.value||n.value).hour(e.hour()).minute(e.minute()).second(e.second())),r||(M.value=t),a.value&&a.value.isBefore(i.value)&&(i.value=a.value))},handleClear:N,handleConfirm:I,timeFormat:E,clearable:G}}});const ol={class:"el-picker-panel__body-wrapper"},nl={key:0,class:"el-picker-panel__sidebar"},il={class:"el-picker-panel__body"},al={key:0,class:"el-date-range-picker__time-header"},sl={class:"el-date-range-picker__editors-wrap"},ll={class:"el-date-range-picker__time-picker-wrap"},cl={class:"el-date-range-picker__time-picker-wrap"},ul=Object(o["n"])("span",{class:"el-icon-arrow-right"},null,-1),dl={class:"el-date-range-picker__editors-wrap is-right"},pl={class:"el-date-range-picker__time-picker-wrap"},hl={class:"el-date-range-picker__time-picker-wrap"},fl={class:"el-picker-panel__content el-date-range-picker__content is-left"},gl={class:"el-date-range-picker__header"},ml={class:"el-picker-panel__content el-date-range-picker__content is-right"},vl={class:"el-date-range-picker__header"},bl={key:0,class:"el-picker-panel__footer"};rl.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input"),l=Object(o["N"])("time-pick-panel"),c=Object(o["N"])("date-table"),u=Object(o["N"])("el-button"),d=Object(o["O"])("clickoutside");return Object(o["E"])(),Object(o["j"])("div",{class:["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts,"has-time":e.showTime}]]},[Object(o["n"])("div",ol,[Object(o["M"])(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(Object(o["E"])(),Object(o["j"])("div",nl,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.shortcuts,(t,r)=>(Object(o["E"])(),Object(o["j"])("button",{key:r,type:"button",class:"el-picker-panel__shortcut",onClick:r=>e.handleShortcutClick(t)},Object(o["R"])(t.text),9,["onClick"]))),128))])):Object(o["k"])("v-if",!0),Object(o["n"])("div",il,[e.showTime?(Object(o["E"])(),Object(o["j"])("div",al,[Object(o["n"])("span",sl,[Object(o["n"])("span",ll,[Object(o["n"])(s,{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startDate"),class:"el-date-range-picker__editor","model-value":e.minVisibleDate,onInput:t[1]||(t[1]=t=>e.handleDateInput(t,"min")),onChange:t[2]||(t[2]=t=>e.handleDateChange(t,"min"))},null,8,["disabled","placeholder","model-value"])]),Object(o["db"])(Object(o["n"])("span",cl,[Object(o["n"])(s,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startTime"),"model-value":e.minVisibleTime,onFocus:t[3]||(t[3]=t=>e.minTimePickerVisible=!0),onInput:t[4]||(t[4]=t=>e.handleTimeInput(t,"min")),onChange:t[5]||(t[5]=t=>e.handleTimeChange(t,"min"))},null,8,["disabled","placeholder","model-value"]),Object(o["n"])(l,{visible:e.minTimePickerVisible,format:e.timeFormat,"datetime-role":"start","time-arrow-control":e.arrowControl,"parsed-value":e.leftDate,onPick:e.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[d,e.handleMinTimeClose]])]),ul,Object(o["n"])("span",dl,[Object(o["n"])("span",pl,[Object(o["n"])(s,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endDate"),"model-value":e.maxVisibleDate,readonly:!e.minDate,onInput:t[6]||(t[6]=t=>e.handleDateInput(t,"max")),onChange:t[7]||(t[7]=t=>e.handleDateChange(t,"max"))},null,8,["disabled","placeholder","model-value","readonly"])]),Object(o["db"])(Object(o["n"])("span",hl,[Object(o["n"])(s,{size:"small",class:"el-date-range-picker__editor",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endTime"),"model-value":e.maxVisibleTime,readonly:!e.minDate,onFocus:t[8]||(t[8]=t=>e.minDate&&(e.maxTimePickerVisible=!0)),onInput:t[9]||(t[9]=t=>e.handleTimeInput(t,"max")),onChange:t[10]||(t[10]=t=>e.handleTimeChange(t,"max"))},null,8,["disabled","placeholder","model-value","readonly"]),Object(o["n"])(l,{"datetime-role":"end",visible:e.maxTimePickerVisible,format:e.timeFormat,"time-arrow-control":e.arrowControl,"parsed-value":e.rightDate,onPick:e.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[d,e.handleMaxTimeClose]])])])):Object(o["k"])("v-if",!0),Object(o["n"])("div",fl,[Object(o["n"])("div",gl,[Object(o["n"])("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-left",onClick:t[11]||(t[11]=(...t)=>e.leftPrevYear&&e.leftPrevYear(...t))}),Object(o["n"])("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-arrow-left",onClick:t[12]||(t[12]=(...t)=>e.leftPrevMonth&&e.leftPrevMonth(...t))}),e.unlinkPanels?(Object(o["E"])(),Object(o["j"])("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:[{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-right"],onClick:t[13]||(t[13]=(...t)=>e.leftNextYear&&e.leftNextYear(...t))},null,10,["disabled"])):Object(o["k"])("v-if",!0),e.unlinkPanels?(Object(o["E"])(),Object(o["j"])("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:[{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn el-icon-arrow-right"],onClick:t[14]||(t[14]=(...t)=>e.leftNextMonth&&e.leftNextMonth(...t))},null,10,["disabled"])):Object(o["k"])("v-if",!0),Object(o["n"])("div",null,Object(o["R"])(e.leftLabel),1)]),Object(o["n"])(c,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),Object(o["n"])("div",ml,[Object(o["n"])("div",vl,[e.unlinkPanels?(Object(o["E"])(),Object(o["j"])("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:[{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-left"],onClick:t[15]||(t[15]=(...t)=>e.rightPrevYear&&e.rightPrevYear(...t))},null,10,["disabled"])):Object(o["k"])("v-if",!0),e.unlinkPanels?(Object(o["E"])(),Object(o["j"])("button",{key:1,type:"button",disabled:!e.enableMonthArrow,class:[{"is-disabled":!e.enableMonthArrow},"el-picker-panel__icon-btn el-icon-arrow-left"],onClick:t[16]||(t[16]=(...t)=>e.rightPrevMonth&&e.rightPrevMonth(...t))},null,10,["disabled"])):Object(o["k"])("v-if",!0),Object(o["n"])("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-right",onClick:t[17]||(t[17]=(...t)=>e.rightNextYear&&e.rightNextYear(...t))}),Object(o["n"])("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-arrow-right",onClick:t[18]||(t[18]=(...t)=>e.rightNextMonth&&e.rightNextMonth(...t))}),Object(o["n"])("div",null,Object(o["R"])(e.rightLabel),1)]),Object(o["n"])(c,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),e.showTime?(Object(o["E"])(),Object(o["j"])("div",bl,[e.clearable?(Object(o["E"])(),Object(o["j"])(u,{key:0,size:"mini",type:"text",class:"el-picker-panel__link-btn",onClick:e.handleClear},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.datepicker.clear")),1)]),_:1},8,["onClick"])):Object(o["k"])("v-if",!0),Object(o["n"])(u,{plain:"",size:"mini",class:"el-picker-panel__link-btn",disabled:e.btnDisabled,onClick:t[19]||(t[19]=t=>e.handleConfirm(!1))},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.t("el.datepicker.confirm")),1)]),_:1},8,["disabled"])])):Object(o["k"])("v-if",!0)],2)},rl.__file="packages/date-picker/src/date-picker-com/panel-date-range.vue";var _l=Object(o["o"])({components:{MonthTable:Ns},props:{unlinkPanels:Boolean,parsedValue:{type:Array}},emits:["pick","set-picker-option"],setup(e,t){const r=Object(o["J"])(vt()()),n=Object(o["J"])(vt()().add(1,"year")),i=Object(o["h"])(()=>!!m.length),a=Object(o["h"])(()=>`${r.value.year()} ${qn("el.datepicker.year")}`),s=Object(o["h"])(()=>`${n.value.year()} ${qn("el.datepicker.year")}`),l=Object(o["h"])(()=>r.value.year()),c=Object(o["h"])(()=>n.value.year()===r.value.year()?r.value.year()+1:n.value.year()),u=Object(o["h"])(()=>e.unlinkPanels&&c.value>l.value+1),d=Object(o["J"])(null),p=Object(o["J"])(null),h=Object(o["J"])({endDate:null,selecting:!1}),f=(e=!1)=>{var r;r=[d.value,p.value],Array.isArray(r)&&r&&r[0]&&r[1]&&r[0].valueOf()<=r[1].valueOf()&&t.emit("pick",[d.value,p.value],e)};t.emit("set-picker-option",["formatToString",e=>e.map(e=>e.format(b))]);const g=Object(o["r"])("EP_PICKER_BASE"),{shortcuts:m,disabledDate:v,format:b,defaultValue:_}=g.props;return Object(o["ab"])(()=>e.parsedValue,t=>{if(t&&2===t.length)if(d.value=t[0],p.value=t[1],r.value=d.value,e.unlinkPanels&&p.value){const e=d.value.year(),t=p.value.year();n.value=e===t?p.value.add(1,"year"):p.value}else n.value=r.value.add(1,"year");else{const t=(()=>{let t;if(Array.isArray(_)){const t=vt()(_[0]);let r=vt()(_[1]);return e.unlinkPanels||(r=t.add(1,"year")),[t,r]}return t=_?vt()(_):vt()(),[t,t.add(1,"year")]})();r.value=t[0],n.value=t[1]}},{immediate:!0}),{shortcuts:m,disabledDate:v,onSelect:e=>{h.value.selecting=e,e||(h.value.endDate=null)},handleRangePick:(e,t=!0)=>{const r=e.minDate,o=e.maxDate;p.value===o&&d.value===r||(p.value=o,d.value=r,t&&f())},rangeState:h,handleChangeRange:e=>{h.value=e},minDate:d,maxDate:p,enableYearArrow:u,leftLabel:a,rightLabel:s,leftNextYear:()=>{r.value=r.value.add(1,"year")},leftPrevYear:()=>{r.value=r.value.subtract(1,"year"),e.unlinkPanels||(n.value=n.value.subtract(1,"year"))},rightNextYear:()=>{e.unlinkPanels||(r.value=r.value.add(1,"year")),n.value=n.value.add(1,"year")},rightPrevYear:()=>{n.value=n.value.subtract(1,"year")},t:qn,leftDate:r,rightDate:n,hasShortcuts:i,handleShortcutClick:e=>{e.value?t.emit("pick",[vt()(e.value[0]),vt()(e.value[1])]):e.onClick&&e.onClick(t)}}}});const El={class:"el-picker-panel__body-wrapper"},Ol={key:0,class:"el-picker-panel__sidebar"},yl={class:"el-picker-panel__body"},Sl={class:"el-picker-panel__content el-date-range-picker__content is-left"},Tl={class:"el-date-range-picker__header"},Cl={class:"el-picker-panel__content el-date-range-picker__content is-right"},Rl={class:"el-date-range-picker__header"};_l.render=function(e,t,r,n,i,a){const s=Object(o["N"])("month-table");return Object(o["E"])(),Object(o["j"])("div",{class:["el-picker-panel el-date-range-picker",[{"has-sidebar":e.$slots.sidebar||e.hasShortcuts}]]},[Object(o["n"])("div",El,[Object(o["M"])(e.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),e.hasShortcuts?(Object(o["E"])(),Object(o["j"])("div",Ol,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.shortcuts,(t,r)=>(Object(o["E"])(),Object(o["j"])("button",{key:r,type:"button",class:"el-picker-panel__shortcut",onClick:r=>e.handleShortcutClick(t)},Object(o["R"])(t.text),9,["onClick"]))),128))])):Object(o["k"])("v-if",!0),Object(o["n"])("div",yl,[Object(o["n"])("div",Sl,[Object(o["n"])("div",Tl,[Object(o["n"])("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-left",onClick:t[1]||(t[1]=(...t)=>e.leftPrevYear&&e.leftPrevYear(...t))}),e.unlinkPanels?(Object(o["E"])(),Object(o["j"])("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:[{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-right"],onClick:t[2]||(t[2]=(...t)=>e.leftNextYear&&e.leftNextYear(...t))},null,10,["disabled"])):Object(o["k"])("v-if",!0),Object(o["n"])("div",null,Object(o["R"])(e.leftLabel),1)]),Object(o["n"])(s,{"selection-mode":"range",date:e.leftDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])]),Object(o["n"])("div",Cl,[Object(o["n"])("div",Rl,[e.unlinkPanels?(Object(o["E"])(),Object(o["j"])("button",{key:0,type:"button",disabled:!e.enableYearArrow,class:[{"is-disabled":!e.enableYearArrow},"el-picker-panel__icon-btn el-icon-d-arrow-left"],onClick:t[3]||(t[3]=(...t)=>e.rightPrevYear&&e.rightPrevYear(...t))},null,10,["disabled"])):Object(o["k"])("v-if",!0),Object(o["n"])("button",{type:"button",class:"el-picker-panel__icon-btn el-icon-d-arrow-right",onClick:t[4]||(t[4]=(...t)=>e.rightNextYear&&e.rightNextYear(...t))}),Object(o["n"])("div",null,Object(o["R"])(e.rightLabel),1)]),Object(o["n"])(s,{"selection-mode":"range",date:e.rightDate,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,onChangerange:e.handleChangeRange,onPick:e.handleRangePick,onSelect:e.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])])])])],2)},_l.__file="packages/date-picker/src/date-picker-com/panel-month-range.vue",vt.a.extend(_t.a),vt.a.extend(kt.a),vt.a.extend(Ot.a),vt.a.extend(jt.a),vt.a.extend(Mt.a),vt.a.extend(At.a),vt.a.extend(wt.a),vt.a.extend(Dt.a);const kl=Object(o["o"])({name:"ElDatePicker",install:null,props:Object.assign(Object.assign({},$n),{type:{type:String,default:"date"}}),emits:["update:modelValue"],setup(e,t){Object(o["G"])("ElPopperOptions",e.popperOptions);const r=Object(o["J"])(null),n=Object.assign(Object.assign({},e),{focus:()=>{var e;null===(e=r.value)||void 0===e||e.handleFocus()}});return t.expose(n),()=>{var n;const i=null!==(n=e.format)&&void 0!==n?n:Yn[e.type]||"YYYY-MM-DD";return Object(o["q"])(ei,Object.assign(Object.assign({},e),{format:i,type:e.type,ref:r,"onUpdate:modelValue":e=>t.emit("update:modelValue",e)}),{default:t=>{return Object(o["q"])("daterange"===(r=e.type)||"datetimerange"===r?rl:"monthrange"===r?_l:qs,t);var r}})}}});kl.install=e=>{e.component(kl.name,kl)};var Il=Object(o["o"])({name:"ElOverlay",props:{mask:{type:Boolean,default:!0},overlayClass:{type:[String,Array,Object]},zIndex:{type:Number}},emits:["click"],setup(e,{slots:t,emit:r}){let n=!1,i=!1;const a=e=>{n&&i&&r("click",e),n=i=!1};return()=>e.mask?Object(o["n"])("div",{class:["el-overlay",e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:t=>{e.mask&&(n=t.target===t.currentTarget)},onMouseup:t=>{e.mask&&(i=t.target===t.currentTarget)}},[Object(o["M"])(t,"default")],on.STYLE|on.CLASS|on.PROPS,["onClick","onMouseup","onMousedown"]):Object(o["q"])("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Object(o["M"])(t,"default")])}});function jl(e,t,r){const n=Object(o["J"])(!1),i=Object(o["J"])(!1),a=Object(o["J"])(null),s=Object(o["J"])(null),l=Object(o["J"])(null),c=Object(o["J"])(!1),u=Object(o["J"])(e.zIndex||en.nextZIndex()),d=Object(o["J"])(null),p=Object(o["h"])(()=>{const t={};return e.fullscreen||(t.marginTop=e.top,e.width&&(t.width=fr(e.width)?e.width+"px":e.width)),t});function h(){mr(l),mr(s),e.openDelay&&e.openDelay>0?s.value=window.setTimeout(()=>{s.value=null,v()},e.openDelay):v()}function f(){mr(s),mr(l),e.closeDelay&&e.closeDelay>0?l.value=window.setTimeout(()=>{l.value=null,b()},e.closeDelay):b()}function g(e){e||(i.value=!0,n.value=!1)}function m(){e.beforeClose?e.beforeClose(g):f()}function v(){Vt||(n.value=!0)}function b(){n.value=!1}return e.lockScroll&&Qr(n),e.closeOnPressEscape&&so({handleClose:m},n),eo(n),Object(o["ab"])(()=>e.modelValue,a=>{a?(i.value=!1,h(),c.value=!0,t.emit("open"),u.value=e.zIndex?u.value++:en.nextZIndex(),Object(o["v"])(()=>{r.value&&(r.value.scrollTop=0)})):n.value&&f()}),Object(o["B"])(()=>{e.modelValue&&(n.value=!0,c.value=!0,h())}),{afterEnter:function(){t.emit("opened")},afterLeave:function(){t.emit("closed"),t.emit(lo,!1),e.destroyOnClose&&(c.value=!1)},beforeLeave:function(){t.emit("close")},handleClose:m,onModalClick:function(){e.closeOnClickModal&&m()},closed:i,dialogRef:a,style:p,rendered:c,modalRef:d,visible:n,zIndex:u}}Il.__file="packages/overlay/src/index.vue";var Ll=Object(o["o"])({name:"ElDialog",components:{"el-overlay":Il},directives:{TrapFocus:bo},props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String,default:"15vh"},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number],default:"50%",validator:e=>!!fr(e)||["px","rem","em","vw","%","vmin","vmax"].some(t=>e.endsWith(t))},zIndex:{type:Number}},emits:["open","opened","close","closed",lo],setup(e,t){const r=Object(o["J"])(null);return Object.assign(Object.assign({},jl(e,t,r)),{dialogRef:r})}});const Ml={class:"el-dialog__header"},Nl={class:"el-dialog__title"},Al=Object(o["n"])("i",{class:"el-dialog__close el-icon el-icon-close"},null,-1),Pl={key:0,class:"el-dialog__body"},wl={key:1,class:"el-dialog__footer"};Ll.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-overlay"),l=Object(o["O"])("trap-focus");return Object(o["E"])(),Object(o["j"])(o["c"],{to:"body",disabled:!e.appendToBody},[Object(o["n"])(o["d"],{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])(s,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{ref:"dialogRef",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],"aria-modal":"true",role:"dialog","aria-label":e.title||"dialog",style:e.style,onClick:t[2]||(t[2]=Object(o["fb"])(()=>{},["stop"]))},[Object(o["n"])("div",Ml,[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["n"])("span",Nl,Object(o["R"])(e.title),1)]),e.showClose?(Object(o["E"])(),Object(o["j"])("button",{key:0,"aria-label":"close",class:"el-dialog__headerbtn",type:"button",onClick:t[1]||(t[1]=(...t)=>e.handleClose&&e.handleClose(...t))},[Al])):Object(o["k"])("v-if",!0)]),e.rendered?(Object(o["E"])(),Object(o["j"])("div",Pl,[Object(o["M"])(e.$slots,"default")])):Object(o["k"])("v-if",!0),e.$slots.footer?(Object(o["E"])(),Object(o["j"])("div",wl,[Object(o["M"])(e.$slots,"footer")])):Object(o["k"])("v-if",!0)],14,["aria-label"]),[[l]])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[o["Z"],e.visible]])]),_:1},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])},Ll.__file="packages/dialog/src/index.vue",Ll.install=e=>{e.component(Ll.name,Ll)};const xl=Ll;var Dl=Object(o["o"])({name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:e=>-1!==["horizontal","vertical"].indexOf(e)},contentPosition:{type:String,default:"center",validator:e=>-1!==["left","center","right"].indexOf(e)}}});Dl.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-divider","el-divider--"+e.direction]},[e.$slots.default&&"vertical"!==e.direction?(Object(o["E"])(),Object(o["j"])("div",{key:0,class:["el-divider__text","is-"+e.contentPosition]},[Object(o["M"])(e.$slots,"default")],2)):Object(o["k"])("v-if",!0)],2)},Dl.__file="packages/divider/src/index.vue",Dl.install=e=>{e.component(Dl.name,Dl)};const Ul=Dl;var Bl=Object(o["o"])({name:"ElDrawer",components:{[Il.name]:Il},directives:{TrapFocus:bo},props:{modelValue:{type:Boolean,required:!0},appendToBody:{type:Boolean,default:!1},beforeClose:Function,customClass:{type:String,default:""},direction:{type:String,default:"rtl",validator:e=>-1!==["ltr","rtl","ttb","btt"].indexOf(e)},showClose:{type:Boolean,default:!0},size:{type:[String,Number],default:"30%"},title:{type:String,default:""},closeOnClickModal:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},zIndex:Number,modal:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},modalClass:String,lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1}},emits:["open","opened","close","closed","update:modelValue"],setup(e,t){const r=Object(o["J"])(null);return Object.assign(Object.assign({},jl(e,t,r)),{drawerRef:r,isHorizontal:Object(o["h"])(()=>"rtl"===e.direction||"ltr"===e.direction),drawerSize:Object(o["h"])(()=>"number"==typeof e.size?e.size+"px":e.size)})}});const Zl={key:0,id:"el-drawer__title",class:"el-drawer__header"},Hl=Object(o["n"])("i",{class:"el-drawer__close el-icon el-icon-close"},null,-1),Gl={key:1,class:"el-drawer__body"};Bl.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-overlay"),l=Object(o["O"])("trap-focus");return Object(o["E"])(),Object(o["j"])(o["c"],{to:"body",disabled:!e.appendToBody},[Object(o["n"])(o["d"],{name:"el-drawer-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])(s,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{ref:"drawerRef","aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":e.title,class:["el-drawer",e.direction,e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:t[2]||(t[2]=Object(o["fb"])(()=>{},["stop"]))},[e.withHeader?(Object(o["E"])(),Object(o["j"])("header",Zl,[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["n"])("span",{role:"heading",title:e.title},Object(o["R"])(e.title),9,["title"])]),e.showClose?(Object(o["E"])(),Object(o["j"])("button",{key:0,"aria-label":"close "+(e.title||"drawer"),class:"el-drawer__close-btn",type:"button",onClick:t[1]||(t[1]=(...t)=>e.handleClose&&e.handleClose(...t))},[Hl],8,["aria-label"])):Object(o["k"])("v-if",!0)])):Object(o["k"])("v-if",!0),e.rendered?(Object(o["E"])(),Object(o["j"])("section",Gl,[Object(o["M"])(e.$slots,"default")])):Object(o["k"])("v-if",!0)],14,["aria-label"]),[[l]])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[o["Z"],e.visible]])]),_:1},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])},Bl.__file="packages/drawer/src/index.vue",Bl.install=e=>{e.component(Bl.name,Bl)};const Vl=Bl,zl=()=>{const e=_r(),t=Object(o["r"])("elDropdown",{}),r=Object(o["h"])(()=>null==t?void 0:t.dropdownSize);return{ELEMENT:e,elDropdown:t,_elDropdownSize:r}},Wl=(e,t,r)=>{const n=Object(o["J"])(null),i=Object(o["J"])(null),a=Object(o["J"])(null),s=Object(o["J"])("dropdown-menu-"+dr());function l(){var e;t.setAttribute("tabindex","-1"),null===(e=i.value)||void 0===e||e.forEach(e=>{e.setAttribute("tabindex","-1")})}function c(e){l(),null==e||e.setAttribute("tabindex","0")}function u(e){const t=e.code;[to.up,to.down].includes(t)?(l(),c(n.value[0]),n.value[0].focus(),e.preventDefault(),e.stopPropagation()):t===to.enter?r.handleClick():[to.tab,to.esc].includes(t)&&r.hide()}function d(e){const t=e.code,o=e.target,a=i.value.indexOf(o),s=i.value.length-1;let u;[to.up,to.down].includes(t)?(u=t===to.up?0!==a?a-1:0:a<s?a+1:s,l(),c(n.value[u]),n.value[u].focus(),e.preventDefault(),e.stopPropagation()):t===to.enter?(p(),o.click(),r.props.hideOnClick&&r.hide()):[to.tab,to.esc].includes(t)&&(r.hide(),p())}function p(){t.focus()}a.value=null==e?void 0:e.subTree.el,n.value=a.value.querySelectorAll("[tabindex='-1']"),i.value=[].slice.call(n.value),Rr(t,"keydown",u),Rr(a.value,"keydown",d,!0),a.value.setAttribute("id",s.value),t.setAttribute("aria-haspopup","list"),t.setAttribute("aria-controls",s.value),r.props.splitButton||(t.setAttribute("role","button"),t.setAttribute("tabindex",r.props.tabindex),jr(t,"el-dropdown-selfdefine"))};var Fl=Object(o["o"])({name:"ElDropdown",components:{ElButton:Zn,ElButtonGroup:Vn,ElScrollbar:Fo,ElPopper:mn},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom"},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:[Number,String],default:0},effect:{type:String,default:"light"},maxHeight:{type:[Number,String],default:""}},emits:["visible-change","click","command"],setup(e,{emit:t}){const r=Object(o["p"])(),{ELEMENT:n}=zl(),i=Object(o["J"])(null),a=Object(o["J"])(!1),s=Object(o["J"])(null),l=Object(o["h"])(()=>"max-height: "+Cr(e.maxHeight));Object(o["ab"])(()=>a.value,e=>{var r,o;e&&(null===(o=null===(r=d.value)||void 0===r?void 0:r.focus)||void 0===o||o.call(r)),e||function(){var e,t;null===(t=null===(e=d.value)||void 0===e?void 0:e.blur)||void 0===t||t.call(e)}(),t("visible-change",e)});const c=Object(o["J"])(!1);Object(o["ab"])(()=>c.value,e=>{const t=d.value;t&&(e?jr(t,"focusing"):Lr(t,"focusing"))});const u=Object(o["J"])(null),d=Object(o["h"])(()=>{var t,r,o,n;const i=null!==(o=null===(r=null===(t=u.value)||void 0===t?void 0:t.$refs.triggerRef)||void 0===r?void 0:r.children[0])&&void 0!==o?o:{};return e.splitButton?null===(n=i.children)||void 0===n?void 0:n[1]:i});function p(){var e;(null===(e=d.value)||void 0===e?void 0:e.disabled)||(a.value?f():h())}function h(){var t;(null===(t=d.value)||void 0===t?void 0:t.disabled)||(i.value&&clearTimeout(i.value),i.value=window.setTimeout(()=>{a.value=!0},["click","contextmenu"].includes(e.trigger)?0:e.showTimeout))}function f(){var t;(null===(t=d.value)||void 0===t?void 0:t.disabled)||(g(),e.tabindex>=0&&m(d.value),clearTimeout(i.value),i.value=window.setTimeout(()=>{a.value=!1},["click","contextmenu"].includes(e.trigger)?0:e.hideTimeout))}function g(){var e;null===(e=d.value)||void 0===e||e.setAttribute("tabindex","-1")}function m(e){g(),null==e||e.setAttribute("tabindex","0")}const v=Object(o["h"])(()=>e.size||n.size);return Object(o["G"])("elDropdown",{instance:r,dropdownSize:v,visible:a,handleClick:p,commandHandler:function(...e){t("command",...e)},show:h,hide:f,trigger:Object(o["h"])(()=>e.trigger),hideOnClick:Object(o["h"])(()=>e.hideOnClick),triggerElm:d}),Object(o["B"])(()=>{e.splitButton||(Rr(d.value,"focus",()=>{c.value=!0}),Rr(d.value,"blur",()=>{c.value=!1}),Rr(d.value,"click",()=>{c.value=!1})),"hover"===e.trigger?(Rr(d.value,"mouseenter",h),Rr(d.value,"mouseleave",f)):"click"===e.trigger?Rr(d.value,"click",p):"contextmenu"===e.trigger&&Rr(d.value,"contextmenu",e=>{e.preventDefault(),p()}),Object.assign(r,{handleClick:p,hide:f,resetTabindex:m})}),{visible:a,scrollbar:s,wrapStyle:l,dropdownSize:v,handlerMainButtonClick:e=>{t("click",e),f()},triggerVnode:u}}});const ql=Object(o["n"])("i",{class:"el-dropdown__icon el-icon-arrow-down"},null,-1);Fl.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-scrollbar"),l=Object(o["N"])("el-button"),c=Object(o["N"])("el-button-group"),u=Object(o["N"])("el-popper");return Object(o["E"])(),Object(o["j"])(u,{ref:"triggerVnode",visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t),placement:e.placement,"fallback-placements":["bottom","top","right","left"],effect:e.effect,pure:"","manual-mode":!0,trigger:[e.trigger],"popper-class":"el-dropdown__popper","append-to-body":"",transition:"el-zoom-in-top","stop-popper-mouse-event":!1,"gpu-acceleration":!1},{default:Object(o["cb"])(()=>[Object(o["n"])(s,{ref:"scrollbar",tag:"ul","wrap-style":e.wrapStyle,"view-class":"el-dropdown__list"},{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"dropdown")]),_:3},8,["wrap-style"])]),trigger:Object(o["cb"])(()=>[Object(o["n"])("div",{class:["el-dropdown",e.dropdownSize?"el-dropdown--"+e.dropdownSize:""]},[e.splitButton?(Object(o["E"])(),Object(o["j"])(c,{key:1},{default:Object(o["cb"])(()=>[Object(o["n"])(l,{size:e.dropdownSize,type:e.type,onClick:e.handlerMainButtonClick},{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"default")]),_:3},8,["size","type","onClick"]),Object(o["n"])(l,{size:e.dropdownSize,type:e.type,class:"el-dropdown__caret-button"},{default:Object(o["cb"])(()=>[ql]),_:1},8,["size","type"])]),_:1})):Object(o["M"])(e.$slots,"default",{key:0})],2)]),_:1},8,["visible","placement","effect","trigger"])},Fl.__file="packages/dropdown/src/dropdown.vue",Fl.install=e=>{e.component(Fl.name,Fl)};const Yl=Fl;var $l=Object(o["o"])({name:"ElDropdownItem",props:{command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,icon:String},setup(e){const{elDropdown:t}=zl(),r=Object(o["p"])();return{handleClick:function(o){var n,i;e.disabled?o.stopImmediatePropagation():(t.hideOnClick.value&&(null===(n=t.handleClick)||void 0===n||n.call(t)),null===(i=t.commandHandler)||void 0===i||i.call(t,e.command,r,o))}}}});$l.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("li",{class:["el-dropdown-menu__item",{"is-disabled":e.disabled,"el-dropdown-menu__item--divided":e.divided}],"aria-disabled":e.disabled,tabindex:e.disabled?null:-1,onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.icon?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:e.icon},null,2)):Object(o["k"])("v-if",!0),Object(o["M"])(e.$slots,"default")],10,["aria-disabled","tabindex"])},$l.__file="packages/dropdown/src/dropdown-item.vue",$l.install=e=>{e.component($l.name,$l)};const Kl=$l;var Jl=Object(o["o"])({name:"ElDropdownMenu",directives:{ClickOutside:fo},setup(){const{_elDropdownSize:e,elDropdown:t}=zl(),r=e.value;function n(){var e;null===(e=t.hide)||void 0===e||e.call(t)}return Object(o["B"])(()=>{const e=Object(o["p"])();Wl(e,t.triggerElm.value,t.instance)}),{size:r,show:function(){var e;["click","contextmenu"].includes(t.trigger.value)||null===(e=t.show)||void 0===e||e.call(t)},hide:function(){["click","contextmenu"].includes(t.trigger.value)||n()},innerHide:n,triggerElm:t.triggerElm}}});Jl.render=function(e,t,r,n,i,a){const s=Object(o["O"])("clickOutside");return Object(o["db"])((Object(o["E"])(),Object(o["j"])("ul",{class:[[e.size&&"el-dropdown-menu--"+e.size],"el-dropdown-menu"],onMouseenter:t[1]||(t[1]=Object(o["fb"])((...t)=>e.show&&e.show(...t),["stop"])),onMouseleave:t[2]||(t[2]=Object(o["fb"])((...t)=>e.hide&&e.hide(...t),["stop"]))},[Object(o["M"])(e.$slots,"default")],34)),[[s,e.innerHide,e.triggerElm]])},Jl.__file="packages/dropdown/src/dropdown-menu.vue",Jl.install=e=>{e.component(Jl.name,Jl)};const Xl=Jl;let Ql=0;var ec=Object(o["o"])({name:"ImgEmpty",setup:()=>({id:++Ql})});const tc={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},rc=Object(o["n"])("stop",{"stop-color":"#FCFCFD",offset:"0%"},null,-1),oc=Object(o["n"])("stop",{"stop-color":"#EEEFF3",offset:"100%"},null,-1),nc=Object(o["n"])("stop",{"stop-color":"#FCFCFD",offset:"0%"},null,-1),ic=Object(o["n"])("stop",{"stop-color":"#E9EBEF",offset:"100%"},null,-1),ac={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},sc={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},lc={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},cc=Object(o["n"])("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"#F7F8FC"},null,-1),uc=Object(o["n"])("polygon",{id:"Rectangle-Copy-14",fill:"#E5E7E9",transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,-1),dc={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},pc=Object(o["n"])("polygon",{id:"Rectangle-Copy-10",fill:"#E5E7E9",transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,-1),hc=Object(o["n"])("polygon",{id:"Rectangle-Copy-11",fill:"#EDEEF2",points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,-1),fc=Object(o["n"])("polygon",{id:"Rectangle-Copy-13",fill:"#F8F9FB",transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,-1),gc={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},mc=Object(o["n"])("polygon",{id:"Rectangle-Copy-18",fill:"#F8F9FB",transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,-1);ec.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("svg",tc,[Object(o["n"])("defs",null,[Object(o["n"])("linearGradient",{id:"linearGradient-1-"+e.id,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[rc,oc],8,["id"]),Object(o["n"])("linearGradient",{id:"linearGradient-2-"+e.id,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[nc,ic],8,["id"]),Object(o["n"])("rect",{id:"path-3-"+e.id,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),Object(o["n"])("g",ac,[Object(o["n"])("g",sc,[Object(o["n"])("g",lc,[cc,uc,Object(o["n"])("g",dc,[pc,hc,Object(o["n"])("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),fc]),Object(o["n"])("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),Object(o["n"])("g",gc,[Object(o["n"])("mask",{id:"mask-4-"+e.id,fill:"white"},[Object(o["n"])("use",{"xlink:href":"#path-3-"+e.id},null,8,["xlink:href"])],8,["id"]),Object(o["n"])("use",{id:"Mask",fill:"#E0E3E9",transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":"#path-3-"+e.id},null,8,["xlink:href"]),Object(o["n"])("polygon",{id:"Rectangle-Copy",fill:"#D5D7DE",mask:`url(#mask-4-${e.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 -1.70530257e-13 16"},null,8,["mask"])]),mc])])])])},ec.__file="packages/empty/src/img-empty.vue";var vc=Object(o["o"])({name:"ElEmpty",components:{[ec.name]:ec},props:{image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},setup:e=>({emptyDescription:Object(o["h"])(()=>e.description||qn("el.table.emptyText")),imageStyle:Object(o["h"])(()=>({width:e.imageSize?e.imageSize+"px":""}))})});const bc={class:"el-empty"},_c={class:"el-empty__description"},Ec={key:1},Oc={key:0,class:"el-empty__bottom"};vc.render=function(e,t,r,n,i,a){const s=Object(o["N"])("img-empty");return Object(o["E"])(),Object(o["j"])("div",bc,[Object(o["n"])("div",{class:"el-empty__image",style:e.imageStyle},[e.image?(Object(o["E"])(),Object(o["j"])("img",{key:0,src:e.image,ondragstart:"return false"},null,8,["src"])):Object(o["M"])(e.$slots,"image",{key:1},()=>[Object(o["n"])(s)])],4),Object(o["n"])("div",_c,[e.$slots.description?Object(o["M"])(e.$slots,"description",{key:0}):(Object(o["E"])(),Object(o["j"])("p",Ec,Object(o["R"])(e.emptyDescription),1))]),e.$slots.default?(Object(o["E"])(),Object(o["j"])("div",Oc,[Object(o["M"])(e.$slots,"default")])):Object(o["k"])("v-if",!0)])},vc.__file="packages/empty/src/index.vue",vc.install=e=>{e.component(vc.name,vc)};const yc=vc;var Sc=Object(o["o"])({name:"ElFooter",props:{height:{type:String,default:"60px"}}});Sc.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("footer",{class:"el-footer",style:{height:e.height}},[Object(o["M"])(e.$slots,"default")],4)},Sc.__file="packages/container/src/footer.vue",Sc.install=e=>{e.component(Sc.name,Sc)};const Tc=Sc;var Cc=Object(o["o"])({name:"ElLabelWrap",props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const r=Object(o["J"])(null),n=Object(o["r"])("elForm"),i=Object(o["r"])("elFormItem"),a=Object(o["J"])(0);Object(o["ab"])(a,(t,r)=>{e.updateAll&&(n.registerLabelWidth(t,r),i.updateComputedLabelWidth(t))});const s=(i="update")=>{Object(o["v"])(()=>{t.default&&e.isAutoWidth&&("update"===i?a.value=(()=>{var e;if(null===(e=r.value)||void 0===e?void 0:e.firstElementChild){const e=window.getComputedStyle(r.value.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0})():"remove"===i&&n.deregisterLabelWidth(a.value))})},l=()=>s("update");return Object(o["B"])(()=>{Dr(r.value.firstElementChild,l),l()}),Object(o["D"])(l),Object(o["y"])(()=>{s("remove"),Ur(r.value.firstElementChild,l)}),function(){var e;return t?Object(o["q"])(o["b"],{ref:r},null===(e=t.default)||void 0===e?void 0:e.call(t)):null}}}),Rc=Object(o["o"])({name:"ElFormItem",componentName:"ElFormItem",components:{LabelWrap:Cc},props:{label:String,labelWidth:[String,Number],prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{types:String,validator:yo}},setup(e,{slots:t}){const r=d(),n=_r(),i=Object(o["r"])("elForm",{}),a=Object(o["J"])(""),s=Object(o["J"])(""),l=Object(o["J"])(!1),c=Object(o["J"])(""),u=Object(o["p"])(),p=Object(o["h"])(()=>{let e=u.parent;for(;e&&"ElForm"!==e.type.name;){if("ElFormItem"===e.type.name)return!0;e=e.parent}return!1});let h=void 0;Object(o["ab"])(()=>e.error,e=>{s.value=e,a.value=e?"error":""},{immediate:!0}),Object(o["ab"])(()=>e.validateStatus,e=>{a.value=e});const f=Object(o["h"])(()=>e.for||e.prop),g=Object(o["h"])(()=>{if("top"===i.labelPosition)return{};const t=Cr(e.labelWidth)||Cr(i.labelWidth);return t?{width:t}:{}}),m=Object(o["h"])(()=>{if("top"===i.labelPosition||i.inline)return{};if(!e.label&&!e.labelWidth&&p.value)return{};const r=Cr(e.labelWidth)||Cr(i.labelWidth),o={};return e.label||t.label||(o.marginLeft=r),o}),v=Object(o["h"])(()=>{const t=i.model;if(!t||!e.prop)return;let r=e.prop;return-1!==r.indexOf(":")&&(r=r.replace(/:/,".")),ur(t,r,!0).v}),b=Object(o["h"])(()=>{let e=T(),t=!1;return e&&e.length&&e.every(e=>!e.required||(t=!0,!1)),t}),_=Object(o["h"])(()=>e.size||i.size),E=Object(o["h"])(()=>_.value||n.size),O=(t,r=zt)=>{l.value=!1;const o=C(t);if((!o||0===o.length)&&void 0===e.required)return void r();a.value="validating";const n={};o&&o.length>0&&o.forEach(e=>{delete e.trigger}),n[e.prop]=o;const c=new Ut["a"](n),u={};u[e.prop]=v.value,c.validate(u,{firstFields:!0},(t,o)=>{var n;a.value=t?"error":"success",s.value=t?t[0].message:"",r(s.value,o),null===(n=i.emit)||void 0===n||n.call(i,"validate",e.prop,!t,s.value||null)})},y=()=>{a.value="",s.value="",l.value=!1},S=()=>{a.value="",s.value="";let t=i.model,r=v.value,n=e.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));let c=ur(t,n,!0);l.value=!0,Array.isArray(r)?c.o[c.k]=[].concat(h):c.o[c.k]=h,Object(o["v"])(()=>{l.value=!1})},T=()=>{const t=i.rules,r=e.rules,o=void 0!==e.required?{required:!!e.required}:[],n=ur(t,e.prop||"",!1),a=t?n.o[e.prop||""]||n.v:[];return[].concat(r||a||[]).concat(o)},C=e=>T().filter(t=>!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)).map(e=>Object.assign({},e)),R=()=>{O("blur")},k=()=>{l.value?l.value=!1:O("change")},I=()=>{(T().length||void 0!==e.required)&&(r.on("el.form.blur",R),r.on("el.form.change",k))},j=Object(o["I"])(Object.assign(Object.assign({},Object(o["U"])(e)),{size:E,validateState:a,removeValidateEvents:()=>{r.off("el.form.blur",R),r.off("el.form.change",k)},addValidateEvents:I,resetField:S,clearValidate:y,validate:O,formItemMitt:r,updateComputedLabelWidth:e=>{c.value=e?e+"px":""}}));return Object(o["B"])(()=>{var t;if(e.prop){null===(t=i.formMitt)||void 0===t||t.emit(To,j);let e=v.value;h=Array.isArray(e)?[...e]:e,I()}}),Object(o["y"])(()=>{var e;null===(e=i.formMitt)||void 0===e||e.emit(Co,j)}),Object(o["G"])("elFormItem",j),{formItemClass:Object(o["h"])(()=>[{"el-form-item--feedback":i.statusIcon,"is-error":"error"===a.value,"is-validating":"validating"===a.value,"is-success":"success"===a.value,"is-required":b.value||e.required,"is-no-asterisk":i.hideRequiredAsterisk},E.value?"el-form-item--"+E.value:""]),shouldShowError:Object(o["h"])(()=>"error"===a.value&&e.showMessage&&i.showMessage),elForm:i,labelStyle:g,contentStyle:m,validateMessage:s,labelFor:f,resetField:S,clearValidate:y}}});Rc.render=function(e,t,r,n,i,a){const s=Object(o["N"])("LabelWrap");return Object(o["E"])(),Object(o["j"])("div",{class:["el-form-item",e.formItemClass]},[Object(o["n"])(s,{"is-auto-width":"auto"===e.labelStyle.width,"update-all":"auto"===e.elForm.labelWidth},{default:Object(o["cb"])(()=>[e.label||e.$slots.label?(Object(o["E"])(),Object(o["j"])("label",{key:0,for:e.labelFor,class:"el-form-item__label",style:e.labelStyle},[Object(o["M"])(e.$slots,"label",{},()=>[Object(o["m"])(Object(o["R"])(e.label+e.elForm.labelSuffix),1)])],12,["for"])):Object(o["k"])("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Object(o["n"])("div",{class:"el-form-item__content",style:e.contentStyle},[Object(o["M"])(e.$slots,"default"),Object(o["n"])(o["d"],{name:"el-zoom-in-top"},{default:Object(o["cb"])(()=>[e.shouldShowError?Object(o["M"])(e.$slots,"error",{key:0,error:e.validateMessage},()=>[Object(o["n"])("div",{class:["el-form-item__error",{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm.inlineMessage||!1}]},Object(o["R"])(e.validateMessage),3)]):Object(o["k"])("v-if",!0)]),_:3})],4)],2)},Rc.__file="packages/form/src/form-item.vue",Rc.install=e=>{e.component(Rc.name,Rc)};const kc=Rc;var Ic=Object(o["o"])({name:"ElHeader",props:{height:{type:String,default:"60px"}}});Ic.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("header",{class:"el-header",style:{height:e.height}},[Object(o["M"])(e.$slots,"default")],4)},Ic.__file="packages/container/src/header.vue",Ic.install=e=>{e.component(Ic.name,Ic)};const jc=Ic;var Lc=Object(o["o"])({name:"ElIcon",props:{name:{type:String,default:""}}});Lc.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("i",{class:"el-icon-"+e.name},null,2)},Lc.__file="packages/icon/src/index.vue",Lc.install=e=>{e.component(Lc.name,Lc)};const Mc=Lc,Nc={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},Ac=!Vt&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel";var Pc=Object(o["o"])({name:"ElImageViewer",props:{urlList:{type:Array,default:[]},zIndex:{type:Number,default:2e3},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1}},emits:["close","switch"],setup(e,{emit:t}){let r=null,n=null,i=null;const a=Object(o["J"])(!0),s=Object(o["J"])(e.initialIndex),l=Object(o["J"])(null),c=Object(o["J"])(null),u=Object(o["J"])(Nc.CONTAIN);let d=Object(o["J"])({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1});const p=Object(o["h"])(()=>{const{urlList:t}=e;return t.length<=1}),h=Object(o["h"])(()=>0===s.value),f=Object(o["h"])(()=>s.value===e.urlList.length-1),g=Object(o["h"])(()=>e.urlList[s.value]),m=Object(o["h"])(()=>{const{scale:e,deg:t,offsetX:r,offsetY:o,enableTransition:n}=d.value,i={transform:`scale(${e}) rotate(${t}deg)`,transition:n?"transform .3s":"",marginLeft:r+"px",marginTop:o+"px"};return u.value.name===Nc.CONTAIN.name&&(i.maxWidth=i.maxHeight="100%"),i});function v(){kr(document,"keydown",r),kr(document,Ac,n),r=null,n=null,t("close")}function b(){d.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function _(){if(a.value)return;const e=Object.keys(Nc),t=Object.values(Nc),r=u.value.name,o=(t.findIndex(e=>e.name===r)+1)%e.length;u.value=Nc[e[o]],b()}function E(){if(h.value&&!e.infinite)return;const t=e.urlList.length;s.value=(s.value-1+t)%t}function O(){if(f.value&&!e.infinite)return;const t=e.urlList.length;s.value=(s.value+1)%t}function y(e,t={}){if(a.value)return;const{zoomRate:r,rotateDeg:o,enableTransition:n}=Object.assign({zoomRate:.2,rotateDeg:90,enableTransition:!0},t);switch(e){case"zoomOut":d.value.scale>.2&&(d.value.scale=parseFloat((d.value.scale-r).toFixed(3)));break;case"zoomIn":d.value.scale=parseFloat((d.value.scale+r).toFixed(3));break;case"clocelise":d.value.deg+=o;break;case"anticlocelise":d.value.deg-=o}d.value.enableTransition=n}return Object(o["ab"])(g,()=>{Object(o["v"])(()=>{c.value.complete||(a.value=!0)})}),Object(o["ab"])(s,e=>{b(),t("switch",e)}),Object(o["B"])(()=>{var e,t;r=gr(e=>{switch(e.code){case to.esc:v();break;case to.space:_();break;case to.left:E();break;case to.up:y("zoomIn");break;case to.right:O();break;case to.down:y("zoomOut")}}),n=gr(e=>{y((e.wheelDelta?e.wheelDelta:-e.detail)>0?"zoomIn":"zoomOut",{zoomRate:.015,enableTransition:!1})}),Rr(document,"keydown",r),Rr(document,Ac,n),null===(t=null===(e=l.value)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}),{index:s,wrapper:l,img:c,isSingle:p,isFirst:h,isLast:f,currentImg:g,imgStyle:m,mode:u,handleActions:y,prev:E,next:O,hide:v,toggleMode:_,handleImgLoad:function(){a.value=!1},handleImgError:function(e){a.value=!1,e.target.alt=qn("el.image.error")},handleMouseDown:function(e){if(a.value||0!==e.button)return;const{offsetX:t,offsetY:r}=d.value,o=e.pageX,n=e.pageY;i=gr(e=>{d.value=Object.assign(Object.assign({},d.value),{offsetX:t+e.pageX-o,offsetY:r+e.pageY-n})}),Rr(document,"mousemove",i),Rr(document,"mouseup",()=>{kr(document,"mousemove",i)}),e.preventDefault()}}}});const wc=Object(o["n"])("i",{class:"el-icon-close"},null,-1),xc=Object(o["n"])("i",{class:"el-icon-arrow-left"},null,-1),Dc=Object(o["n"])("i",{class:"el-icon-arrow-right"},null,-1),Uc={class:"el-image-viewer__btn el-image-viewer__actions"},Bc={class:"el-image-viewer__actions__inner"},Zc=Object(o["n"])("i",{class:"el-image-viewer__actions__divider"},null,-1),Hc=Object(o["n"])("i",{class:"el-image-viewer__actions__divider"},null,-1),Gc={class:"el-image-viewer__canvas"};Pc.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],{name:"viewer-fade"},{default:Object(o["cb"])(()=>[Object(o["n"])("div",{ref:"wrapper",tabindex:-1,class:"el-image-viewer__wrapper",style:{zIndex:e.zIndex}},[Object(o["n"])("div",{class:"el-image-viewer__mask",onClick:t[1]||(t[1]=Object(o["fb"])(t=>e.hideOnClickModal&&e.hide(),["self"]))}),Object(o["k"])(" CLOSE "),Object(o["n"])("span",{class:"el-image-viewer__btn el-image-viewer__close",onClick:t[2]||(t[2]=(...t)=>e.hide&&e.hide(...t))},[wc]),Object(o["k"])(" ARROW "),e.isSingle?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["n"])("span",{class:["el-image-viewer__btn el-image-viewer__prev",{"is-disabled":!e.infinite&&e.isFirst}],onClick:t[3]||(t[3]=(...t)=>e.prev&&e.prev(...t))},[xc],2),Object(o["n"])("span",{class:["el-image-viewer__btn el-image-viewer__next",{"is-disabled":!e.infinite&&e.isLast}],onClick:t[4]||(t[4]=(...t)=>e.next&&e.next(...t))},[Dc],2)],64)),Object(o["k"])(" ACTIONS "),Object(o["n"])("div",Uc,[Object(o["n"])("div",Bc,[Object(o["n"])("i",{class:"el-icon-zoom-out",onClick:t[5]||(t[5]=t=>e.handleActions("zoomOut"))}),Object(o["n"])("i",{class:"el-icon-zoom-in",onClick:t[6]||(t[6]=t=>e.handleActions("zoomIn"))}),Zc,Object(o["n"])("i",{class:e.mode.icon,onClick:t[7]||(t[7]=(...t)=>e.toggleMode&&e.toggleMode(...t))},null,2),Hc,Object(o["n"])("i",{class:"el-icon-refresh-left",onClick:t[8]||(t[8]=t=>e.handleActions("anticlocelise"))}),Object(o["n"])("i",{class:"el-icon-refresh-right",onClick:t[9]||(t[9]=t=>e.handleActions("clocelise"))})])]),Object(o["k"])(" CANVAS "),Object(o["n"])("div",Gc,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.urlList,(r,n)=>Object(o["db"])((Object(o["E"])(),Object(o["j"])("img",{ref:"img",key:r,src:r,style:e.imgStyle,class:"el-image-viewer__img",onLoad:t[10]||(t[10]=(...t)=>e.handleImgLoad&&e.handleImgLoad(...t)),onError:t[11]||(t[11]=(...t)=>e.handleImgError&&e.handleImgError(...t)),onMousedown:t[12]||(t[12]=(...t)=>e.handleMouseDown&&e.handleMouseDown(...t))},null,44,["src"])),[[o["Z"],n===e.index]])),128))])],4)]),_:1})},Pc.__file="packages/image-viewer/src/index.vue",Pc.install=e=>{e.component(Image.name,Image)};const Vc=Pc,zc=()=>void 0!==document.documentElement.style.objectFit,Wc="none",Fc="contain",qc="cover",Yc="fill",$c="scale-down";let Kc="";var Jc=Object(o["o"])({name:"ElImage",components:{ImageViewer:Vc},inheritAttrs:!1,props:{appendToBody:{type:Boolean,default:!1},hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,default:""},lazy:{type:Boolean,default:!1},scrollContainer:{type:[String,Object],default:null},previewSrcList:{type:Array,default:()=>[]},zIndex:{type:Number,default:2e3}},emits:["error"],setup(e,{emit:t}){const r=Kr(),n=Object(o["J"])(!1),i=Object(o["J"])(!0),a=Object(o["J"])(0),s=Object(o["J"])(0),l=Object(o["J"])(!1),c=Object(o["J"])(null);let u=null,d=null;const p=Object(o["h"])(()=>{const{fit:t}=e;return!Vt&&t?zc()?{"object-fit":t}:function(e){const t=a.value,r=s.value;if(!c.value)return{};const{clientWidth:o,clientHeight:n}=c.value;if(!(t&&r&&o&&n))return{};const i=t/r,l=o/n;switch(e===$c&&(e=t<o&&r<n?Wc:Fc),e){case Wc:return{width:"auto",height:"auto"};case Fc:return i<l?{width:"auto"}:{height:"auto"};case qc:return i<l?{height:"auto"}:{width:"auto"};default:return{}}}(t):{}}),h=Object(o["h"])(()=>{const{fit:t}=e;return!Vt&&!zc()&&t!==Yc}),f=Object(o["h"])(()=>{const{previewSrcList:t}=e;return Array.isArray(t)&&t.length>0}),g=Object(o["h"])(()=>{const{src:t,previewSrcList:r}=e;let o=0;const n=r.indexOf(t);return n>=0&&(o=n),o}),m=()=>{if(Vt)return;const t=r.value;i.value=!0,n.value=!1;const o=new Image;o.onload=e=>function(e,t){a.value=t.width,s.value=t.height,i.value=!1,n.value=!1}(0,o),o.onerror=v,Object.keys(t).forEach(e=>{if("onload"===e.toLowerCase())return;const r=t[e];o.setAttribute(e,r)}),o.src=e.src};function v(e){i.value=!1,n.value=!0,t("error",e)}function b(){((e,t)=>{if(Vt||!e||!t)return!1;const r=e.getBoundingClientRect();let o;return o=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),r.top<o.bottom&&r.bottom>o.top&&r.right>o.left&&r.left<o.right})(c.value,u)&&(m(),E())}function _(){if(Vt)return;const{scrollContainer:t}=e;var r;u=(r=t)&&1===r.nodeType?t:Kt(t)&&""!==t?document.querySelector(t):Ar(c.value),u&&(d=gt()(b,200),Rr(u,"scroll",d),setTimeout(()=>b(),100))}function E(){!Vt&&u&&d&&(kr(u,"scroll",d),u=null,d=null)}return Object(o["ab"])(()=>e.src,()=>{m()}),Object(o["B"])(()=>{e.lazy?Object(o["v"])(_):m()}),Object(o["y"])(()=>{e.lazy&&E()}),{attrs:r,loading:i,hasLoadError:n,showViewer:l,imgWidth:a,imgHeight:s,imageStyle:p,alignCenter:h,preview:f,imageIndex:g,clickHandler:function(){f.value&&(Kc=document.body.style.overflow,document.body.style.overflow="hidden",l.value=!0)},closeViewer:function(){document.body.style.overflow=Kc,l.value=!1},container:c,handleError:v,t:qn}}});const Xc=Object(o["n"])("div",{class:"el-image__placeholder"},null,-1),Qc={class:"el-image__error"};Jc.render=function(e,t,r,n,i,a){const s=Object(o["N"])("image-viewer");return Object(o["E"])(),Object(o["j"])("div",{ref:"container",class:["el-image",e.$attrs.class],style:e.$attrs.style},[e.loading?Object(o["M"])(e.$slots,"placeholder",{key:0},()=>[Xc]):e.hasLoadError?Object(o["M"])(e.$slots,"error",{key:1},()=>[Object(o["n"])("div",Qc,Object(o["R"])(e.t("el.image.error")),1)]):(Object(o["E"])(),Object(o["j"])("img",Object(o["u"])({key:2,class:"el-image__inner"},e.attrs,{src:e.src,style:e.imageStyle,class:{"el-image__inner--center":e.alignCenter,"el-image__preview":e.preview},onClick:t[1]||(t[1]=(...t)=>e.clickHandler&&e.clickHandler(...t))}),null,16,["src"])),(Object(o["E"])(),Object(o["j"])(o["c"],{to:"body",disabled:!e.appendToBody},[e.preview?(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[e.showViewer?(Object(o["E"])(),Object(o["j"])(s,{key:0,"z-index":e.zIndex,"initial-index":e.imageIndex,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,onClose:e.closeViewer},null,8,["z-index","initial-index","url-list","hide-on-click-modal","onClose"])):Object(o["k"])("v-if",!0)],2112)):Object(o["k"])("v-if",!0)],8,["disabled"]))],6)},Jc.__file="packages/image/src/index.vue",Jc.install=e=>{e.component(Jc.name,Jc)};const eu=Jc;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tu(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))}const ru="ElInfiniteScroll",ou={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},nu=(e,t)=>vr(ou).reduce((r,[o,n])=>{var i,a;const{type:s,default:l}=n,c=e.getAttribute("infinite-scroll-"+o);let u=null!==(a=null!==(i=t[c])&&void 0!==i?i:c)&&void 0!==a?a:l;return u="false"!==u&&u,u=s(u),r[o]=Number.isNaN(u)?l:u,r},{}),iu=e=>{const{observer:t}=e[ru];t&&(t.disconnect(),delete e[ru].observer)},au=(e,t)=>{const{container:r,containerEl:o,instance:n,observer:i,lastScrollTop:a}=e[ru],{disabled:s,distance:l}=nu(e,n),{clientHeight:c,scrollHeight:u,scrollTop:d}=o,p=d-a;if(e[ru].lastScrollTop=d,i||s||p<0)return;let h=!1;if(r===e)h=u-(c+d)<=l;else{const{clientTop:t,scrollHeight:r}=e;h=d+c>=((e,t)=>Math.abs(Pr(e)-Pr(t)))(e,o)+t+r-l}h&&t.call(n)};function su(e,t){const{containerEl:r,instance:o}=e[ru],{disabled:n}=nu(e,o);n||(r.scrollHeight<=r.clientHeight?t.call(o):iu(e))}const lu={mounted(e,t){return tu(this,void 0,void 0,(function*(){const{instance:r,value:n}=t;$t(n)||sr(ru,"'v-infinite-scroll' binding value must be a function"),yield Object(o["v"])();const{delay:i,immediate:a}=nu(e,r),s=Ar(e,!0),l=s===window?document.documentElement:s,c=gt()(au.bind(null,e,n),i);if(s){if(e[ru]={instance:r,container:s,containerEl:l,delay:i,cb:n,onScroll:c,lastScrollTop:l.scrollTop},a){const t=new MutationObserver(gt()(su.bind(null,e,n),50));e[ru].observer=t,t.observe(e,{childList:!0,subtree:!0}),su(e,n)}s.addEventListener("scroll",c)}}))},unmounted(e){const{container:t,onScroll:r}=e[ru];null==t||t.removeEventListener("scroll",r),iu(e)},install:e=>{e.directive("InfiniteScroll",lu)}};var cu=Object(o["o"])({name:"ElInputNumber",components:{ElInput:Ho},directives:{RepeatClick:go},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},modelValue:{required:!0,validator:e=>"Number"===tr(e)||void 0===e},disabled:{type:Boolean,default:!1},size:{type:String,validator:yo},controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===parseInt(e+"",10)}},emits:["update:modelValue","change","input","blur","focus"],setup(e,{emit:t}){const r=_r(),n=Object(o["r"])("elForm",{}),i=Object(o["r"])("elFormItem",{}),a=Object(o["J"])(null),s=Object(o["I"])({currentValue:e.modelValue,userInput:null}),l=Object(o["h"])(()=>b(e.modelValue)<e.min),c=Object(o["h"])(()=>v(e.modelValue)>e.max),u=Object(o["h"])(()=>{const t=m(e.step);return void 0!==e.precision?(t>e.precision&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),e.precision):Math.max(m(e.modelValue),t)}),d=Object(o["h"])(()=>e.controls&&"right"===e.controlsPosition),p=Object(o["h"])(()=>e.size||i.size||r.size),h=Object(o["h"])(()=>e.disabled||n.disabled),f=Object(o["h"])(()=>{if(null!==s.userInput)return s.userInput;let t=s.currentValue;return"number"==typeof t&&void 0!==e.precision&&(t=t.toFixed(e.precision)),t}),g=(e,t)=>(void 0===t&&(t=u.value),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)+"")),m=e=>{if(void 0===e)return 0;const t=e.toString(),r=t.indexOf(".");let o=0;return-1!==r&&(o=t.length-r-1),o},v=t=>{if("number"!=typeof t&&void 0!==t)return s.currentValue;const r=Math.pow(10,u.value);return g((r*t+r*e.step)/r)},b=t=>{if("number"!=typeof t&&void 0!==t)return s.currentValue;const r=Math.pow(10,u.value);return g((r*t-r*e.step)/r)},_=r=>{const o=s.currentValue;"number"==typeof r&&void 0!==e.precision&&(r=g(r,e.precision)),void 0!==r&&r>=e.max&&(r=e.max),void 0!==r&&r<=e.min&&(r=e.min),o!==r&&(s.userInput=null,t("update:modelValue",r),t("input",r),t("change",r,o),s.currentValue=r)};return Object(o["ab"])(()=>e.modelValue,r=>{let o=void 0===r?r:Number(r);if(void 0!==o){if(isNaN(o))return;if(e.stepStrictly){const t=m(e.step),r=Math.pow(10,t);o=Math.round(o/e.step)*r*e.step/r}void 0!==e.precision&&(o=g(o,e.precision))}void 0!==o&&o>=e.max&&(o=e.max,t("update:modelValue",o)),void 0!==o&&o<=e.min&&(o=e.min,t("update:modelValue",o)),s.currentValue=o,s.userInput=null},{immediate:!0}),Object(o["B"])(()=>{let r=a.value.input;r.setAttribute("role","spinbutton"),r.setAttribute("aria-valuemax",e.max),r.setAttribute("aria-valuemin",e.min),r.setAttribute("aria-valuenow",s.currentValue),r.setAttribute("aria-disabled",h.value),"Number"!==tr(e.modelValue)&&void 0!==e.modelValue&&t("update:modelValue",void 0)}),Object(o["D"])(()=>{a.value.input.setAttribute("aria-valuenow",s.currentValue)}),{input:a,displayValue:f,handleInput:e=>s.userInput=e,handleInputChange:e=>{const t=""===e?void 0:Number(e);isNaN(t)&&""!==e||_(t),s.userInput=null},controlsAtRight:d,decrease:()=>{if(h.value||l.value)return;const t=e.modelValue||0,r=b(t);_(r)},increase:()=>{if(h.value||c.value)return;const t=e.modelValue||0,r=v(t);_(r)},inputNumberSize:p,inputNumberDisabled:h,maxDisabled:c,minDisabled:l}}});cu.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input"),l=Object(o["O"])("repeat-click");return Object(o["E"])(),Object(o["j"])("div",{class:["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}],onDragstart:t[5]||(t[5]=Object(o["fb"])(()=>{},["prevent"]))},[e.controls?Object(o["db"])((Object(o["E"])(),Object(o["j"])("span",{key:0,class:["el-input-number__decrease",{"is-disabled":e.minDisabled}],role:"button",onKeydown:t[1]||(t[1]=Object(o["eb"])((...t)=>e.decrease&&e.decrease(...t),["enter"]))},[Object(o["n"])("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-down":"minus")},null,2)],34)),[[l,e.decrease]]):Object(o["k"])("v-if",!0),e.controls?Object(o["db"])((Object(o["E"])(),Object(o["j"])("span",{key:1,class:["el-input-number__increase",{"is-disabled":e.maxDisabled}],role:"button",onKeydown:t[2]||(t[2]=Object(o["eb"])((...t)=>e.increase&&e.increase(...t),["enter"]))},[Object(o["n"])("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-up":"plus")},null,2)],34)),[[l,e.increase]]):Object(o["k"])("v-if",!0),Object(o["n"])(s,{ref:"input","model-value":e.displayValue,placeholder:e.placeholder,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label,onKeydown:[Object(o["eb"])(Object(o["fb"])(e.increase,["prevent"]),["up"]),Object(o["eb"])(Object(o["fb"])(e.decrease,["prevent"]),["down"])],onBlur:t[3]||(t[3]=t=>e.$emit("blur",t)),onFocus:t[4]||(t[4]=t=>e.$emit("focus",t)),onInput:e.handleInput,onChange:e.handleInputChange},null,8,["model-value","placeholder","disabled","size","max","min","name","label","onKeydown","onInput","onChange"])],34)},cu.__file="packages/input-number/src/index.vue",cu.install=e=>{e.component(cu.name,cu)};const uu=cu;var du=Object(o["o"])({name:"ElLink",props:{type:{type:String,default:"default",validator:e=>["default","primary","success","warning","info","danger"].includes(e)},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:String,default:""}},emits:["click"],setup:(e,{emit:t})=>({handleClick:function(r){e.disabled||t("click",r)}})});const pu={key:1,class:"el-link--inner"};du.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("a",{class:["el-link",e.type?"el-link--"+e.type:"",e.disabled&&"is-disabled",e.underline&&!e.disabled&&"is-underline"],href:e.disabled?null:e.href,onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.icon?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:e.icon},null,2)):Object(o["k"])("v-if",!0),e.$slots.default?(Object(o["E"])(),Object(o["j"])("span",pu,[Object(o["M"])(e.$slots,"default")])):Object(o["k"])("v-if",!0),e.$slots.icon?Object(o["M"])(e.$slots,"icon",{key:2}):Object(o["k"])("v-if",!0)],10,["href"])},du.__file="packages/link/src/index.vue",du.install=e=>{e.component(du.name,du)};const hu=du,fu={parent:null,background:"",spinner:!1,text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},gu={fullscreenLoading:null},mu=(e,t,r)=>{"absolute"!==r.originalPosition.value&&"fixed"!==r.originalPosition.value?jr(t,"el-loading-parent--relative"):Lr(t,"el-loading-parent--relative"),e.fullscreen&&e.lock?jr(t,"el-loading-parent--hidden"):Lr(t,"el-loading-parent--hidden")},vu=function(e={}){if(Vt)return;"string"==typeof(e=Object.assign(Object.assign({},fu),e)).target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&gu.fullscreenLoading&&gu.fullscreenLoading.close();const t=e.body?document.body:e.target;e.parent=t;const r=function({options:e,globalLoadingOption:t}){let r=null,n=null;const i=Object(o["J"])(!1),a=Object(o["I"])(Object.assign(Object.assign({},e),{originalPosition:"",originalOverflow:"",visible:!1}));function s(){const e=a.parent;if(!e.vLoadingAddClassList){let t=e.getAttribute("loading-number");t=Number.parseInt(t)-1,t?e.setAttribute("loading-number",t.toString()):(Lr(e,"el-loading-parent--relative"),e.removeAttribute("loading-number")),Lr(e,"el-loading-parent--hidden")}r.el&&r.el.parentNode&&r.el.parentNode.removeChild(r.el)}const l=Object.assign(Object.assign({},Object(o["U"])(a)),{setText:function(e){a.text=e},close:function(){a.parent.vLoadingAddClassList=null,a.fullscreen&&(t.fullscreenLoading=void 0),i.value=!0,clearTimeout(n),n=window.setTimeout(()=>{i.value&&(i.value=!1,s())},400),a.visible=!1},handleAfterLeave:function(){i.value&&(i.value=!1,s())}}),c={name:"ElLoading",setup:()=>l,render(){const e=Object(o["q"])("svg",{class:"circular",viewBox:"25 25 50 50"},[Object(o["q"])("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),t=Object(o["q"])("i",{class:this.spinner}),r=Object(o["q"])("p",{class:"el-loading-text"},[this.text]);return Object(o["q"])(o["d"],{name:"el-loading-fade",onAfterLeave:this.handleAfterLeave},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{style:{backgroundColor:this.background||""},class:["el-loading-mask",this.customClass,this.fullscreen?"is-fullscreen":""]},[Object(o["q"])("div",{class:"el-loading-spinner"},[this.spinner?t:e,this.text?r:null])]),[[o["Z"],this.visible]])])})}};return r=Object(o["n"])(c),Object(o["K"])(r,document.createElement("div")),Object.assign(Object.assign({},l),{vm:r,get $el(){return r.el}})}({options:e,globalLoadingOption:gu});((e,t,r)=>{tu(void 0,void 0,void 0,(function*(){const n={};e.fullscreen?(r.originalPosition.value=Mr(document.body,"position"),r.originalOverflow.value=Mr(document.body,"overflow"),n.zIndex=String(en.nextZIndex())):e.body?(r.originalPosition.value=Mr(document.body,"position"),yield Object(o["v"])(),["top","left"].forEach(t=>{const r="top"===t?"scrollTop":"scrollLeft";n[t]=e.target.getBoundingClientRect()[t]+document.body[r]+document.documentElement[r]-parseInt(Mr(document.body,"margin-"+t),10)+"px"}),["height","width"].forEach(t=>{n[t]=e.target.getBoundingClientRect()[t]+"px"})):r.originalPosition.value=Mr(t,"position"),Object.keys(n).forEach(e=>{r.$el.style[e]=n[e]})}))})(e,t,r),mu(e,t,r),e.parent.vLoadingAddClassList=()=>{mu(e,t,r)};let n=t.getAttribute("loading-number");return n=n?Number.parseInt(n)+1:1,t.setAttribute("loading-number",n.toString()),t.appendChild(r.$el),Object(o["v"])().then(()=>{r.visible.value=!qt(e,"visible")||e.visible}),e.fullscreen&&(gu.fullscreenLoading=r),r},bu=(e,t)=>{const r=e.getAttribute("element-loading-text"),o=e.getAttribute("element-loading-spinner"),n=e.getAttribute("element-loading-background"),i=e.getAttribute("element-loading-custom-class"),a=t.instance;e.instance=vu({text:a&&a[r]||r,spinner:a&&a[o]||o,background:a&&a[n]||n,customClass:a&&a[i]||i,fullscreen:!!t.modifiers.fullscreen,target:t.modifiers.fullscreen?null:e,body:!!t.modifiers.body,visible:!0,lock:!!t.modifiers.lock})},_u={mounted(e,t){t.value&&bu(e,t)},updated(e,t){const r=e.instance;t.oldValue!==t.value&&(t.value?bu(e,t):r.close())},unmounted(e){var t;null===(t=null==e?void 0:e.instance)||void 0===t||t.close()}};var Eu={install(e){e.directive("loading",_u),e.config.globalProperties.$loading=vu},directive:_u,service:vu},Ou=Object(o["o"])({name:"ElMain"});const yu={class:"el-main"};Ou.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("main",yu,[Object(o["M"])(e.$slots,"default")])},Ou.__file="packages/container/src/main.vue",Ou.install=e=>{e.component(Ou.name,Ou)};const Su=Ou;class Tu{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",t=>{let r=!1;switch(t.code){case to.down:this.gotoSubIndex(this.subIndex+1),r=!0;break;case to.up:this.gotoSubIndex(this.subIndex-1),r=!0;break;case to.tab:io(e,"mouseleave");break;case to.enter:case to.space:r=!0,t.currentTarget.click()}return r&&(t.preventDefault(),t.stopPropagation()),!1})})}}class Cu{constructor(e){this.domNode=e,this.submenu=null,this.submenu=null,this.init()}init(){this.domNode.setAttribute("tabindex","0");const e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new Tu(this,e)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case to.down:io(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case to.up:io(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case to.tab:io(e.currentTarget,"mouseleave");break;case to.enter:case to.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()})}}class Ru{constructor(e){this.domNode=e,this.init()}init(){const e=this.domNode.childNodes;[].filter.call(e,e=>1===e.nodeType).forEach(e=>{new Cu(e)})}}var ku=Object(o["o"])({name:"ElMenuCollapseTransition",setup:()=>({on:{beforeEnter(e){e.style.opacity=.2},enter(e,t){jr(e,"el-opacity-transition"),e.style.opacity=1,t()},afterEnter(e){Lr(e,"el-opacity-transition"),e.style.opacity=""},beforeLeave(e){e.dataset||(e.dataset={}),Ir(e,"el-menu--collapse")?(Lr(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,jr(e,"el-menu--collapse")):(jr(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,Lr(e,"el-menu--collapse")),e.style.width=e.scrollWidth+"px",e.style.overflow="hidden"},leave(e){jr(e,"horizontal-collapse-transition"),e.style.width=e.dataset.scrollWidth+"px"}}})});function Iu(e){return Object(o["h"])(()=>{const t=e.backgroundColor;return t?function(e,t=.2){let{red:r,green:o,blue:n}=function(e){let t=e.replace("#","");if(/^[0-9a-fA-F]{3}$/.test(t)){const e=t.split("");for(let t=2;t>=0;t--)e.splice(t,0,e[t]);t=e.join("")}return/^[0-9a-fA-F]{6}$/.test(t)?{red:parseInt(t.slice(0,2),16),green:parseInt(t.slice(2,4),16),blue:parseInt(t.slice(4,6),16)}:{red:255,green:255,blue:255}}(e);return t>0?(r*=1-t,o*=1-t,n*=1-t):(r+=(255-r)*t,o+=(255-o)*t,n+=(255-n)*t),`rgb(${Math.round(r)}, ${Math.round(o)}, ${Math.round(n)})`}(t):""})}ku.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],Object(o["u"])({mode:"out-in"},Object(o["S"])(e.on)),{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"default")]),_:3},16)},ku.__file="packages/menu/src/menu-collapse-transition.vue";var ju=Object(o["o"])({name:"ElMenu",componentName:"ElMenu",components:{ElMenuCollapseTransition:ku},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:{type:String},textColor:{type:String},activeTextColor:{type:String},collapseTransition:{type:Boolean,default:!0}},emits:["close","open","select"],setup(e,t){const r=Object(o["J"])(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),n=Object(o["p"])(),i=Object(o["J"])(e.defaultActive),a=Object(o["J"])({}),s=Object(o["J"])({}),l=Object(o["J"])(!1),c=d(),u=n.appContext.config.globalProperties.$router,p=Iu(e),h=Object(o["h"])(()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse),f=()=>{const t=i.value,r=a.value[t];r&&"horizontal"!==e.mode&&!e.collapse&&r.indexPath.forEach(e=>{let t=s.value[e];t&&v(e,null==t?void 0:t.indexPath)})},g=e=>{s.value[e.index]=e},m=e=>{delete s.value[e.index]},v=(t,n)=>{r.value.includes(t)||(e.uniqueOpened&&(r.value=r.value.filter(e=>-1!==(Object(o["s"])(n)?n.value:n).indexOf(e))),r.value.push(t))},b=e=>{const t=r.value.indexOf(e);-1!==t&&r.value.splice(t,1)},_=e=>{const{index:o,indexPath:n}=e;r.value.includes(o)?(b(o),t.emit("close",o,n.value)):(v(o,n),t.emit("open",o,n.value))},E=o=>{const{index:n,indexPath:a}=o,s=null!==o.index,l=i.value;s&&(i.value=o.index),t.emit("select",n,a.value,o),("horizontal"===e.mode||e.collapse)&&(r.value=[]),e.router&&u&&s&&O(o,e=>{if(i.value=l,e){if("NavigationDuplicated"===e.name)return;console.error(e)}})},O=(e,t)=>{let r=e.route||e.index;try{null==u||u.push(r,()=>null,t)}catch(e){console.error(e)}},y=t=>{const r=a.value,o=r[t]||r[i.value]||r[e.defaultActive];o?(i.value=o.index,f()):l.value?l.value=!1:i.value=null};return Object(o["ab"])(()=>e.defaultActive,e=>{a.value[e]||(i.value=""),y(e)}),Object(o["ab"])(a.value,()=>{y()}),Object(o["ab"])(()=>e.collapse,(t,o)=>{t!==o&&(l.value=!0),t&&(r.value=[]),c.emit("rootMenu:toggle-collapse",Boolean(e.collapse))}),Object(o["G"])("rootMenu",{props:e,openedMenus:r,items:a,submenus:s,hoverBackground:p,activeIndex:i,isMenuPopup:h,methods:{addMenuItem:e=>{a.value[e.index]=e},removeMenuItem:e=>{delete a.value[e.index]},addSubMenu:g,removeSubMenu:m,openMenu:v,closeMenu:b},rootMenuEmit:c.emit,rootMenuOn:c.on}),Object(o["G"])("subMenu:"+n.uid,{addSubMenu:g,removeSubMenu:m}),Object(o["B"])(()=>{f(),c.on("menuItem:item-click",E),c.on("submenu:submenu-click",_),"horizontal"===e.mode&&new Ru(n.vnode.el)}),{hoverBackground:p,isMenuPopup:h,props:e,open:e=>{const{indexPath:t}=s.value[e.toString()];t.forEach(e=>v(e,t))},close:e=>{b(e)}}}});ju.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-menu-collapse-transition");return e.props.collapseTransition?(Object(o["E"])(),Object(o["j"])(s,{key:0},{default:Object(o["cb"])(()=>[(Object(o["E"])(),Object(o["j"])("ul",{key:+e.props.collapse,role:"menubar",style:{backgroundColor:e.props.backgroundColor||""},class:{"el-menu":!0,"el-menu--horizontal":"horizontal"===e.mode,"el-menu--collapse":e.props.collapse}},[Object(o["M"])(e.$slots,"default")],6))]),_:3})):(Object(o["E"])(),Object(o["j"])("ul",{key:+e.props.collapse,role:"menubar",style:{backgroundColor:e.props.backgroundColor||""},class:{"el-menu":!0,"el-menu--horizontal":"horizontal"===e.mode,"el-menu--collapse":e.props.collapse}},[Object(o["M"])(e.$slots,"default")],6))},ju.__file="packages/menu/src/menu.vue",ju.install=e=>{e.component(ju.name,ju)};const Lu=ju;function Mu(e,t){const r=Object(o["r"])("rootMenu"),n=Object(o["h"])(()=>{let r=e.parent;const o=[t];for(;"ElMenu"!==r.type.name;)r.props.index&&o.unshift(r.props.index),r=r.parent;return o});return{parentMenu:Object(o["h"])(()=>{let t=e.parent;for(;t&&-1===["ElMenu","ElSubmenu"].indexOf(t.type.name);)t=t.parent;return t}),paddingStyle:Object(o["h"])(()=>{let t=e.parent;if("vertical"!==r.props.mode)return{};let o=20;if(r.props.collapse)o=20;else for(;t&&"ElMenu"!==t.type.name;)"ElSubmenu"===t.type.name&&(o+=20),t=t.parent;return{paddingLeft:o+"px"}}),indexPath:n}}var Nu=Object(o["o"])({name:"ElTooltip",components:{ElPopper:mn},props:Object.assign(Object.assign({},nn),{manual:{type:Boolean,default:!1},modelValue:{type:Boolean,validator:e=>"boolean"==typeof e,default:void 0},openDelay:{type:Number,default:0},visibleArrow:{type:Boolean,default:!0},tabindex:{type:[String,Number],default:"0"}}),emits:[lo],setup(e,t){e.manual&&void 0===e.modelValue&&sr("[ElTooltip]","You need to pass a v-model to el-tooltip when `manual` is true");const r=Object(o["J"])(null);return{popper:r,onUpdateVisible:e=>{t.emit(lo,e)},updatePopper:()=>r.value.update()}},render(){const{$slots:e,content:t,manual:r,openDelay:n,onUpdateVisible:i,showAfter:a,visibleArrow:s,modelValue:l,tabindex:c}=this,u=()=>{sr("[ElTooltip]","you need to provide a valid default slot.")};return Object(o["q"])(mn,Object.assign(Object.assign({},Object.keys(nn).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:this[t]}),{})),{ref:"popper",manualMode:r,showAfter:n||a,showArrow:s,visible:l,"onUpdate:visible":i}),{default:()=>e.content?e.content():t,trigger:()=>{if(e.default){const t=dn(e.default(),1);return t||u(),Object(o["g"])(t,{tabindex:c},!0)}u()}})}});Nu.install=e=>{e.component(Nu.name,Nu)};const Au=Nu;var Pu=Object(o["o"])({name:"ElMenuItem",componentName:"ElMenuItem",components:{ElTooltip:Au},props:{index:{default:null,validator:e=>"string"==typeof e||null===e},route:[String,Object],disabled:Boolean},emits:["click"],setup(e,{emit:t,slots:r}){const n=Object(o["p"])(),i=Object(o["r"])("rootMenu"),{parentMenu:a,paddingStyle:s,indexPath:l}=Mu(n,e.index),{addSubMenu:c,removeSubMenu:u}=Object(o["r"])("subMenu:"+a.value.uid),d=Object(o["h"])(()=>e.index===i.activeIndex.value),p=Object(o["h"])(()=>i.hoverBackground.value),h=Object(o["h"])(()=>i.props.backgroundColor||""),f=Object(o["h"])(()=>i.props.activeTextColor||""),g=Object(o["h"])(()=>i.props.textColor||""),m=Object(o["h"])(()=>i.props.mode),v=Object(o["h"])(()=>"ElMenu"!==a.value.type.name),b=Object(o["h"])(()=>{const e={color:d.value?f.value:g.value,borderBottomColor:""};return"horizontal"!==m.value||v.value||(e.borderBottomColor=d.value?i.props.activeTextColor?f.value:"":"transparent"),e});return Object(o["B"])(()=>{c({index:e.index,indexPath:l,active:d}),i.methods.addMenuItem({index:e.index,indexPath:l,active:d})}),Object(o["y"])(()=>{u({index:e.index,indexPath:l,active:d}),i.methods.removeMenuItem({index:e.index,indexPath:l,active:d})}),{parentMenu:a,rootMenu:i,slots:r,paddingStyle:s,itemStyle:b,backgroundColor:h,active:d,handleClick:()=>{e.disabled||(i.rootMenuEmit("menuItem:item-click",{index:e.index,indexPath:l,route:e.route}),t("click",{index:e.index,indexPath:l.value}))},onMouseEnter:()=>{("horizontal"!==m.value||i.props.backgroundColor)&&(n.vnode.el.style.backgroundColor=p.value)},onMouseLeave:()=>{("horizontal"!==m.value||i.props.backgroundColor)&&(n.vnode.el.style.backgroundColor=h.value)}}}});const wu={style:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}};Pu.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-tooltip");return Object(o["E"])(),Object(o["j"])("li",{class:["el-menu-item",{"is-active":e.active,"is-disabled":e.disabled}],role:"menuitem",tabindex:"-1",style:[e.paddingStyle,e.itemStyle,{backgroundColor:e.backgroundColor}],onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t)),onMouseenter:t[2]||(t[2]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onFocus:t[3]||(t[3]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onBlur:t[4]||(t[4]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onMouseleave:t[5]||(t[5]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.slots.title?(Object(o["E"])(),Object(o["j"])(s,{key:0,effect:"dark",placement:"right"},{content:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"title")]),default:Object(o["cb"])(()=>[Object(o["n"])("div",wu,[Object(o["M"])(e.$slots,"default")])]),_:3})):(Object(o["E"])(),Object(o["j"])(o["b"],{key:1},[Object(o["M"])(e.$slots,"default"),Object(o["M"])(e.$slots,"title")],64))],38)},Pu.__file="packages/menu/src/menuItem.vue",Pu.install=e=>{e.component(Pu.name,Pu)};const xu=Pu;var Du=Object(o["o"])({name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",props:{title:{type:String}},setup(e,{slots:t}){const r=Object(o["I"])({paddingLeft:20}),n=Object(o["p"])(),i=Object(o["h"])(()=>{let e=20,t=n.parent;if(a.collapse)return 20;for(;t&&"ElMenu"!==t.type.name;)"ElSubmenu"===t.type.name&&(e+=20),t=t.parent;return e}),{props:a}=Object(o["r"])("rootMenu");return{data:r,levelPadding:i,props:e,slots:t}}});const Uu={class:"el-menu-item-group"};Du.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("li",Uu,[Object(o["n"])("div",{class:"el-menu-item-group__title",style:{paddingLeft:e.levelPadding+"px"}},[e.slots.title?Object(o["M"])(e.$slots,"title",{key:1}):(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["m"])(Object(o["R"])(e.title),1)],2112))],4),Object(o["n"])("ul",null,[Object(o["M"])(e.$slots,"default")])])},Du.__file="packages/menu/src/menuItemGroup.vue",Du.install=e=>{e.component(Du.name,Du)};const Bu=Du,Zu={success:"success",info:"info",warning:"warning",error:"error"};var Hu=Object(o["o"])({name:"ElMessage",props:{customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},onClose:{type:Function,required:!0},showClose:{type:Boolean,default:!1},type:{type:String,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=Object(o["h"])(()=>{const t=e.type;return t&&Zu[t]?"el-message__icon el-icon-"+Zu[t]:""}),r=Object(o["h"])(()=>({top:e.offset+"px",zIndex:e.zIndex})),n=Object(o["J"])(!1);let i=null;function a(){e.duration>0&&(i=setTimeout(()=>{n.value&&s()},e.duration))}function s(){n.value=!1}function l({code:e}){e===to.esc?n.value&&s():a()}return Object(o["B"])(()=>{a(),n.value=!0,Rr(document,"keydown",l)}),Object(o["y"])(()=>{kr(document,"keydown",l)}),{typeClass:t,customStyle:r,visible:n,close:s,clearTimer:function(){clearTimeout(i),i=null},startTimer:a}}});const Gu={key:0,class:"el-message__content"};Hu.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],{name:"el-message-fade",onBeforeLeave:e.onClose,onAfterLeave:t[4]||(t[4]=t=>e.$emit("destroy"))},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{id:e.id,class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.customStyle,role:"alert",onMouseenter:t[2]||(t[2]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.type||e.iconClass?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:[e.typeClass,e.iconClass]},null,2)):Object(o["k"])("v-if",!0),Object(o["M"])(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(Object(o["E"])(),Object(o["j"])(o["b"],{key:1},[Object(o["k"])(" Caution here, message could've been compromised, never use user's input as message "),Object(o["k"])("  eslint-disable-next-line "),Object(o["n"])("p",{class:"el-message__content",innerHTML:e.message},null,8,["innerHTML"])],2112)):(Object(o["E"])(),Object(o["j"])("p",Gu,Object(o["R"])(e.message),1))]),e.showClose?(Object(o["E"])(),Object(o["j"])("div",{key:1,class:"el-message__closeBtn el-icon-close",onClick:t[1]||(t[1]=Object(o["fb"])((...t)=>e.close&&e.close(...t),["stop"]))})):Object(o["k"])("v-if",!0)],46,["id"]),[[o["Z"],e.visible]])]),_:3},8,["onBeforeLeave"])},Hu.__file="packages/message/src/index.vue";const Vu=[];let zu=1;const Wu=function(e={}){if(Vt)return;"string"==typeof e&&(e={message:e});let t=e,r=e.offset||20;Vu.forEach(({vm:e})=>{r+=(e.el.offsetHeight||0)+16}),r+=16;const n="message_"+zu++,i=t.onClose;t=Object.assign(Object.assign({},t),{onClose:()=>{!function(e,t){const r=Vu.findIndex(({vm:t})=>{const{id:r}=t.component.props;return e===r});if(-1===r)return;const{vm:o}=Vu[r];if(!o)return;null==t||t(o);const n=o.el.offsetHeight;Vu.splice(r,1);const i=Vu.length;if(!(i<1))for(let a=r;a<i;a++){const e=parseInt(Vu[a].vm.el.style.top,10)-n-16;Vu[a].vm.component.props.offset=e}}(n,i)},offset:r,id:n,zIndex:en.nextZIndex()});const a=document.createElement("div");a.className="container_"+n;const s=t.message,l=Object(o["n"])(Hu,t,Object(o["t"])(t.message)?{default:()=>s}:null);return l.props.onDestroy=()=>{Object(o["K"])(null,a)},Object(o["K"])(l,a),Vu.push({vm:l}),document.body.appendChild(a.firstElementChild),{close:()=>l.component.proxy.visible=!1}};["success","warning","info","error"].forEach(e=>{Wu[e]=t=>("string"==typeof t?t={message:t,type:e}:t.type=e,Wu(t))}),Wu.closeAll=function(){for(let e=Vu.length-1;e>=0;e--)Vu[e].vm.component.ctx.close()};const Fu=Wu;Fu.install=e=>{e.config.globalProperties.$message=Fu};const qu={success:"success",info:"info",warning:"warning",error:"error"};var Yu=Object(o["o"])({name:"ElMessageBox",directives:{TrapFocus:bo},components:{ElButton:Zn,ElInput:Ho,ElOverlay:Il},inheritAttrs:!1,props:{buttonSize:{type:String,validator:yo},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const r=Object(o["J"])(!1),n=Object(o["I"])({beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,iconClass:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:en.nextZIndex()}),i=Object(o["h"])(()=>n.iconClass||(n.type&&qu[n.type]?"el-icon-"+qu[n.type]:"")),a=Object(o["h"])(()=>!!n.message),s=Object(o["J"])(null),l=Object(o["J"])(null),c=Object(o["h"])(()=>"el-button--primary "+n.confirmButtonClass);function u(){r.value&&(r.value=!1,Object(o["v"])(()=>{n.action&&t("action",n.action)}))}Object(o["ab"])(()=>n.inputValue,t=>tu(this,void 0,void 0,(function*(){yield Object(o["v"])(),"prompt"===e.boxType&&null!==t&&p()})),{immediate:!0}),Object(o["ab"])(()=>r.value,t=>{t&&("alert"!==e.boxType&&"confirm"!==e.boxType||Object(o["v"])().then(()=>{var e,t,r;null===(r=null===(t=null===(e=l.value)||void 0===e?void 0:e.$el)||void 0===t?void 0:t.focus)||void 0===r||r.call(t)}),n.zIndex=en.nextZIndex()),"prompt"===e.boxType&&(t?Object(o["v"])().then(()=>{s.value&&s.value.$el&&h().focus()}):(n.editorErrorMessage="",n.validateError=!1))}),Object(o["B"])(()=>tu(this,void 0,void 0,(function*(){yield Object(o["v"])(),e.closeOnHashChange&&Rr(window,"hashchange",u)}))),Object(o["y"])(()=>{e.closeOnHashChange&&kr(window,"hashchange",u)});const d=t=>{var r;("prompt"!==e.boxType||"confirm"!==t||p())&&(n.action=t,n.beforeClose?null===(r=n.beforeClose)||void 0===r||r.call(n,t,n,u):u())},p=()=>{if("prompt"===e.boxType){const e=n.inputPattern;if(e&&!e.test(n.inputValue||""))return n.editorErrorMessage=n.inputErrorMessage||qn("el.messagebox.error"),n.validateError=!0,!1;const t=n.inputValidator;if("function"==typeof t){const e=t(n.inputValue);if(!1===e)return n.editorErrorMessage=n.inputErrorMessage||qn("el.messagebox.error"),n.validateError=!0,!1;if("string"==typeof e)return n.editorErrorMessage=e,n.validateError=!0,!1}}return n.editorErrorMessage="",n.validateError=!1,!0},h=()=>{const e=s.value.$refs;return e.input||e.textarea},f=()=>{d("close")};return e.closeOnPressEscape?so({handleClose:f},r):((e,t,r)=>{const n=e=>{r(e)&&e.stopImmediatePropagation()};Object(o["ab"])(()=>e.value,e=>{e?Rr(document,t,n,!0):kr(document,t,n,!0)},{immediate:!0})})(r,"keydown",e=>e.code===to.esc),e.lockScroll&&Qr(r),eo(r),Object.assign(Object.assign({},Object(o["U"])(n)),{visible:r,hasMessage:a,icon:i,confirmButtonClasses:c,inputRef:s,confirmRef:l,doClose:u,handleClose:f,handleWrapperClick:()=>{e.closeOnClickModal&&d(n.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:()=>{if("textarea"!==n.inputType)return d("confirm")},handleAction:d,t:qn})}});const $u={key:0,class:"el-message-box__header"},Ku={class:"el-message-box__title"},Ju=Object(o["n"])("i",{class:"el-message-box__close el-icon-close"},null,-1),Xu={class:"el-message-box__content"},Qu={class:"el-message-box__container"},ed={key:1,class:"el-message-box__message"},td={key:0},rd={class:"el-message-box__input"},od={class:"el-message-box__btns"};Yu.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input"),l=Object(o["N"])("el-button"),c=Object(o["N"])("el-overlay"),u=Object(o["O"])("trap-focus");return Object(o["E"])(),Object(o["j"])(o["d"],{name:"fade-in-linear",onAfterLeave:t[8]||(t[8]=t=>e.$emit("vanish"))},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])(c,{"z-index":e.zIndex,"overlay-class":["is-message-box",e.modalClass],mask:e.modal,onClick:Object(o["fb"])(e.handleWrapperClick,["self"])},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{ref:"root","aria-label":e.title||"dialog","aria-modal":"true",class:["el-message-box",e.customClass,{"el-message-box--center":e.center}]},[null!==e.title&&void 0!==e.title?(Object(o["E"])(),Object(o["j"])("div",$u,[Object(o["n"])("div",Ku,[e.icon&&e.center?(Object(o["E"])(),Object(o["j"])("div",{key:0,class:["el-message-box__status",e.icon]},null,2)):Object(o["k"])("v-if",!0),Object(o["n"])("span",null,Object(o["R"])(e.title),1)]),e.showClose?(Object(o["E"])(),Object(o["j"])("button",{key:0,type:"button",class:"el-message-box__headerbtn","aria-label":"Close",onClick:t[1]||(t[1]=t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[2]||(t[2]=Object(o["eb"])(Object(o["fb"])(t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Ju],32)):Object(o["k"])("v-if",!0)])):Object(o["k"])("v-if",!0),Object(o["n"])("div",Xu,[Object(o["n"])("div",Qu,[e.icon&&!e.center&&e.hasMessage?(Object(o["E"])(),Object(o["j"])("div",{key:0,class:["el-message-box__status",e.icon]},null,2)):Object(o["k"])("v-if",!0),e.hasMessage?(Object(o["E"])(),Object(o["j"])("div",ed,[Object(o["M"])(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(Object(o["E"])(),Object(o["j"])("p",{key:1,innerHTML:e.message},null,8,["innerHTML"])):(Object(o["E"])(),Object(o["j"])("p",td,Object(o["R"])(e.message),1))])])):Object(o["k"])("v-if",!0)]),Object(o["db"])(Object(o["n"])("div",rd,[Object(o["n"])(s,{ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.inputValue=t),type:e.inputType,placeholder:e.inputPlaceholder,class:{invalid:e.validateError},onKeydown:Object(o["eb"])(Object(o["fb"])(e.handleInputEnter,["prevent"]),["enter"])},null,8,["modelValue","type","placeholder","class","onKeydown"]),Object(o["n"])("div",{class:"el-message-box__errormsg",style:{visibility:e.editorErrorMessage?"visible":"hidden"}},Object(o["R"])(e.editorErrorMessage),5)],512),[[o["Z"],e.showInput]])]),Object(o["n"])("div",od,[e.showCancelButton?(Object(o["E"])(),Object(o["j"])(l,{key:0,loading:e.cancelButtonLoading,class:[e.cancelButtonClass],round:e.roundButton,size:e.buttonSize||"small",onClick:t[4]||(t[4]=t=>e.handleAction("cancel")),onKeydown:t[5]||(t[5]=Object(o["eb"])(Object(o["fb"])(t=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Object(o["k"])("v-if",!0),Object(o["db"])(Object(o["n"])(l,{ref:"confirmRef",loading:e.confirmButtonLoading,class:[e.confirmButtonClasses],round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.buttonSize||"small",onClick:t[6]||(t[6]=t=>e.handleAction("confirm")),onKeydown:t[7]||(t[7]=Object(o["eb"])(Object(o["fb"])(t=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[o["Z"],e.showConfirmButton]])])],10,["aria-label"]),[[u]])]),_:3},8,["z-index","overlay-class","mask","onClick"]),[[o["Z"],e.visible]])]),_:1})},Yu.__file="packages/message-box/src/index.vue";const nd=new Map,id=e=>{const t=document.createElement("div");e.onVanish=()=>{Object(o["K"])(null,t),nd.delete(n)},e.onAction=t=>{const o=nd.get(n);let i;i=e.showInput?{value:n.inputValue,action:t}:t,e.callback?e.callback(i,r.proxy):"cancel"===t||"close"===t?e.distinguishCancelAndClose&&"cancel"!==t?o.reject("close"):o.reject("cancel"):o.resolve(i)};const r=((e,t)=>{const r=Object(o["q"])(Yu,e);return Object(o["K"])(r,t),document.body.appendChild(t.firstElementChild),r.component})(e,t),n=r.proxy;for(const o in e)qt(e,o)&&!qt(n.$props,o)&&(n[o]=e[o]);return Object(o["ab"])(()=>n.message,(e,t)=>{Object(o["t"])(e)?r.slots.default=()=>[e]:Object(o["t"])(t)&&!Object(o["t"])(e)&&delete r.slots.default},{immediate:!0}),n.visible=!0,n};function ad(e){if(Vt)return;let t;return Kt(e)||Object(o["t"])(e)?e={message:e}:t=e.callback,new Promise((r,o)=>{const n=id(e);nd.set(n,{options:e,callback:t,resolve:r,reject:o})})}ad.alert=(e,t,r)=>("object"==typeof t?(r=t,t=""):void 0===t&&(t=""),ad(Object.assign({title:t,message:e,type:"",closeOnPressEscape:!1,closeOnClickModal:!1},r,{boxType:"alert"}))),ad.confirm=(e,t,r)=>("object"==typeof t?(r=t,t=""):void 0===t&&(t=""),ad(Object.assign({title:t,message:e,type:"",showCancelButton:!0},r,{boxType:"confirm"}))),ad.prompt=(e,t,r)=>("object"==typeof t?(r=t,t=""):void 0===t&&(t=""),ad(Object.assign({title:t,message:e,showCancelButton:!0,showInput:!0,type:""},r,{boxType:"prompt"}))),ad.close=()=>{nd.forEach((e,t)=>{t.doClose()}),nd.clear()};const sd=ad;sd.install=e=>{e.config.globalProperties.$msgbox=sd,e.config.globalProperties.$messageBox=sd,e.config.globalProperties.$alert=sd.alert,e.config.globalProperties.$confirm=sd.confirm,e.config.globalProperties.$prompt=sd.prompt};const ld={success:"success",info:"info",warning:"warning",error:"error"};var cd=Object(o["o"])({name:"ElNotification",props:{customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},offset:{type:Number,default:0},onClick:{type:Function,default:()=>{}},onClose:{type:Function,required:!0},position:{type:String,default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,default:""},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=Object(o["J"])(!1);let r=null;const n=Object(o["h"])(()=>{const t=e.type;return t&&ld[t]?"el-icon-"+ld[t]:""}),i=Object(o["h"])(()=>e.position.indexOf("right")>1?"right":"left"),a=Object(o["h"])(()=>e.position.startsWith("top")?"top":"bottom"),s=Object(o["h"])(()=>({[a.value]:e.offset+"px","z-index":e.zIndex}));function l(){e.duration>0&&(r=setTimeout(()=>{t.value&&u()},e.duration))}function c(){clearTimeout(r),r=null}function u(){t.value=!1}function d({code:e}){e===to.delete||e===to.backspace?c():e===to.esc?t.value&&u():l()}return Object(o["B"])(()=>{l(),t.value=!0,Rr(document,"keydown",d)}),Object(o["y"])(()=>{kr(document,"keydown",d)}),{horizontalClass:i,typeClass:n,positionStyle:s,visible:t,close:u,clearTimer:c,startTimer:l}}});const ud={key:0};cd.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])(o["d"],{name:"el-notification-fade",onBeforeLeave:e.onClose,onAfterLeave:t[5]||(t[5]=t=>e.$emit("destroy"))},{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("div",{id:e.id,class:["el-notification",e.customClass,e.horizontalClass],style:e.positionStyle,role:"alert",onMouseenter:t[2]||(t[2]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.startTimer&&e.startTimer(...t)),onClick:t[4]||(t[4]=(...t)=>e.onClick&&e.onClick(...t))},[e.type||e.iconClass?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-notification__icon",[e.typeClass,e.iconClass]]},null,2)):Object(o["k"])("v-if",!0),Object(o["n"])("div",{class:["el-notification__group",{"is-with-icon":e.typeClass||e.iconClass}]},[Object(o["n"])("h2",{class:"el-notification__title",textContent:Object(o["R"])(e.title)},null,8,["textContent"]),Object(o["db"])(Object(o["n"])("div",{class:"el-notification__content",style:e.title?null:"margin: 0"},[Object(o["M"])(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(Object(o["E"])(),Object(o["j"])(o["b"],{key:1},[Object(o["k"])(" Caution here, message could've been compromized, nerver use user's input as message "),Object(o["k"])(" eslint-disable-next-line "),Object(o["n"])("p",{innerHTML:e.message},null,8,["innerHTML"])],2112)):(Object(o["E"])(),Object(o["j"])("p",ud,Object(o["R"])(e.message),1))])],4),[[o["Z"],e.message]]),e.showClose?(Object(o["E"])(),Object(o["j"])("div",{key:0,class:"el-notification__closeBtn el-icon-close",onClick:t[1]||(t[1]=Object(o["fb"])((...t)=>e.close&&e.close(...t),["stop"]))})):Object(o["k"])("v-if",!0)],2)],46,["id"]),[[o["Z"],e.visible]])]),_:3},8,["onBeforeLeave"])},cd.__file="packages/notification/src/index.vue";const dd={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let pd=1;const hd=function(e={}){if(Vt)return;const t=e.position||"top-right";let r=e.offset||0;dd[t].forEach(({vm:e})=>{r+=(e.el.offsetHeight||0)+16}),r+=16;const n="notification_"+pd++,i=e.onClose;e=Object.assign(Object.assign({},e),{onClose:()=>{!function(e,t,r){const o=dd[t],n=o.findIndex(({vm:t})=>t.component.props.id===e);if(-1===n)return;const{vm:i}=o[n];if(!i)return;null==r||r(i);const a=i.el.offsetHeight,s=t.split("-")[0];o.splice(n,1);const l=o.length;if(!(l<1))for(let c=n;c<l;c++){const{el:e,component:t}=o[c].vm,r=parseInt(e.style[s],10)-a-16;t.props.offset=r}}(n,t,i)},offset:r,id:n,zIndex:en.nextZIndex()});const a=document.createElement("div"),s=Object(o["n"])(cd,e,Object(o["t"])(e.message)?{default:()=>e.message}:null);return s.props.onDestroy=()=>{Object(o["K"])(null,a)},Object(o["K"])(s,a),dd[t].push({vm:s}),document.body.appendChild(a.firstElementChild),{close:()=>{s.component.proxy.visible=!1}}};["success","warning","info","error"].forEach(e=>{Object.assign(hd,{[e]:(t={})=>(("string"==typeof t||Object(o["t"])(t))&&(t={message:t}),t.type=e,hd(t))})});const fd=hd;fd.install=e=>{e.config.globalProperties.$notify=fd};const gd="elOptionQueryChange",md="elOptionGroupQueryChange";function vd(e,t){const r=Object(o["r"])("ElSelect"),n=Object(o["r"])("ElSelectGroup",{disabled:!1}),i=Object(o["h"])(()=>"[object object]"===Object.prototype.toString.call(e.value).toLowerCase()),a=Object(o["h"])(()=>r.props.multiple?p(r.props.modelValue,e.value):h(e.value,r.props.modelValue)),s=Object(o["h"])(()=>{if(r.props.multiple){const e=r.props.modelValue||[];return!a.value&&e.length>=r.props.multipleLimit&&r.props.multipleLimit>0}return!1}),l=Object(o["h"])(()=>e.label||(i.value?"":e.value)),c=Object(o["h"])(()=>e.value||e.label||""),u=Object(o["h"])(()=>e.disabled||t.groupDisabled||s.value),d=Object(o["p"])(),p=(e=[],t)=>{if(i.value){const o=r.props.valueKey;return e&&e.some(e=>cr(e,o)===cr(t,o))}return e&&e.indexOf(t)>-1},h=(e,t)=>{if(i.value){const{valueKey:o}=r.props;return cr(e,o)===cr(t,o)}return e===t};return Object(o["ab"])(()=>l.value,()=>{e.created||r.props.remote||r.setSelected()}),Object(o["ab"])(()=>e.value,(t,o)=>{const{remote:n,valueKey:i}=r.props;if(!e.created&&!n){if(i&&"object"==typeof t&&"object"==typeof o&&t[i]===o[i])return;r.setSelected()}}),Object(o["ab"])(()=>n.disabled,()=>{t.groupDisabled=n.disabled},{immediate:!0}),r.selectEmitter.on(gd,o=>{const n=new RegExp(((e="")=>String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"))(o),"i");t.visible=n.test(l.value)||e.created,t.visible||r.filteredOptionsCount--}),{select:r,currentLabel:l,currentValue:c,itemSelected:a,isDisabled:u,hoverItem:()=>{e.disabled||n.disabled||(r.hoverIndex=r.optionsArray.indexOf(d))}}}var bd=Object(o["o"])({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=Object(o["I"])({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:r,itemSelected:n,isDisabled:i,select:a,hoverItem:s}=vd(e,t),{visible:l,hover:c}=Object(o["U"])(t),u=Object(o["p"])().proxy;return a.onOptionCreate(u),Object(o["y"])(()=>{const{selected:t}=a;let r=a.props.multiple?t:[t];const o=a.cachedOptions.has(e.value),n=r.some(e=>e.value===u.value);o&&!n&&a.cachedOptions.delete(e.value),a.onOptionDestroy(e.value)}),{currentLabel:r,itemSelected:n,isDisabled:i,select:a,hoverItem:s,visible:l,hover:c,selectOptionClick:function(){!0!==e.disabled&&!0!==t.groupDisabled&&a.handleOptionSelect(u,!0)}}}});bd.render=function(e,t,r,n,i,a){return Object(o["db"])((Object(o["E"])(),Object(o["j"])("li",{class:["el-select-dropdown__item",{selected:e.itemSelected,"is-disabled":e.isDisabled,hover:e.hover}],onMouseenter:t[1]||(t[1]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[2]||(t[2]=Object(o["fb"])((...t)=>e.selectOptionClick&&e.selectOptionClick(...t),["stop"]))},[Object(o["M"])(e.$slots,"default",{},()=>[Object(o["n"])("span",null,Object(o["R"])(e.currentLabel),1)])],34)),[[o["Z"],e.visible]])},bd.__file="packages/select/src/option.vue";var _d=Object(o["o"])({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Object(o["r"])("ElSelect"),t=Object(o["h"])(()=>e.props.popperClass),r=Object(o["h"])(()=>e.props.multiple),n=Object(o["J"])("");function i(){var t;n.value=(null===(t=e.selectWrapper)||void 0===t?void 0:t.getBoundingClientRect().width)+"px"}return Object(o["B"])(()=>{Dr(e.selectWrapper,i)}),Object(o["y"])(()=>{Ur(e.selectWrapper,i)}),{minWidth:n,popperClass:t,isMultiple:r}}});_d.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-select-dropdown",[{"is-multiple":e.isMultiple},e.popperClass]],style:{minWidth:e.minWidth}},[Object(o["M"])(e.$slots,"default")],6)},_d.__file="packages/select/src/select-dropdown.vue";const Ed=(e,t,r)=>{const n=_r(),i=Object(o["J"])(null),a=Object(o["J"])(null),s=Object(o["J"])(null),c=Object(o["J"])(null),u=Object(o["J"])(null),d=Object(o["J"])(null),p=Object(o["J"])(-1),h=Object(o["r"])("elForm",{}),f=Object(o["r"])("elFormItem",{}),g=Object(o["h"])(()=>!e.filterable||e.multiple||!(!Vt&&!isNaN(Number(document.documentMode)))&&!(!Vt&&navigator.userAgent.indexOf("Edge")>-1)&&!t.visible),m=Object(o["h"])(()=>e.disabled||h.disabled),v=Object(o["h"])(()=>{const r=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!m.value&&t.inputHovering&&r}),b=Object(o["h"])(()=>e.remote&&e.filterable?"":t.visible?"arrow-up is-reverse":"arrow-up"),_=Object(o["h"])(()=>e.remote?300:0),E=Object(o["h"])(()=>e.loading?e.loadingText||qn("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||qn("el.select.noMatch"):0===t.options.size?e.noDataText||qn("el.select.noData"):null)),O=Object(o["h"])(()=>Array.from(t.options.values())),y=Object(o["h"])(()=>Array.from(t.cachedOptions.values())),S=Object(o["h"])(()=>{const r=O.value.filter(e=>!e.created).some(e=>e.currentLabel===t.query);return e.filterable&&e.allowCreate&&""!==t.query&&!r}),T=Object(o["h"])(()=>e.size||f.size||n.size),C=Object(o["h"])(()=>["small","mini"].indexOf(T.value)>-1?"mini":"small"),R=Object(o["h"])(()=>t.visible&&!1!==E.value);Object(o["ab"])(()=>m.value,()=>{Object(o["v"])(()=>{k()})}),Object(o["ab"])(()=>e.placeholder,e=>{t.cachedPlaceHolder=t.currentPlaceholder=e}),Object(o["ab"])(()=>e.modelValue,(r,o)=>{var n;e.multiple&&(k(),r&&r.length>0||a.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",I(t.query))),M(),e.filterable&&!e.multiple&&(t.inputLength=20),Ct()(r,o)||null===(n=f.formItemMitt)||void 0===n||n.emit("el.form.change",r)},{flush:"post",deep:!0}),Object(o["ab"])(()=>t.visible,n=>{var i,l;n?(null===(l=null===(i=s.value)||void 0===i?void 0:i.update)||void 0===l||l.call(i),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,e.multiple?a.value.focus():t.selectedLabel&&(t.currentPlaceholder=t.selectedLabel,t.selectedLabel=""),I(t.query),e.multiple||e.remote||(t.selectEmitter.emit("elOptionQueryChange",""),t.selectEmitter.emit("elOptionGroupQueryChange")))):(a.value&&a.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,A(),Object(o["v"])(()=>{a.value&&""===a.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),r.emit("visible-change",n)}),Object(o["ab"])(()=>t.options.entries(),()=>{var r,o,n;if(Vt)return;null===(o=null===(r=s.value)||void 0===r?void 0:r.update)||void 0===o||o.call(r),e.multiple&&k();const i=(null===(n=u.value)||void 0===n?void 0:n.querySelectorAll("input"))||[];-1===[].indexOf.call(i,document.activeElement)&&M(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&L()},{flush:"post"}),Object(o["ab"])(()=>t.hoverIndex,e=>{"number"==typeof e&&e>-1&&(p.value=O.value[e]||{}),O.value.forEach(e=>{e.hover=p.value===e})});const k=()=>{e.collapseTags&&!e.filterable||Object(o["v"])(()=>{var e,r;if(!i.value)return;const o=i.value.$el.childNodes,n=[].filter.call(o,e=>"INPUT"===e.tagName)[0],a=c.value,l=t.initialInputHeight||40;n.style.height=0===t.selected.length?l+"px":Math.max(a?a.clientHeight+(a.clientHeight>l?6:0):0,l)+"px",t.tagInMultiLine=parseFloat(n.style.height)>l,t.visible&&!1!==E.value&&(null===(r=null===(e=s.value)||void 0===e?void 0:e.update)||void 0===r||r.call(e))})},I=r=>{t.previousQuery===r||t.isOnComposition||(null!==t.previousQuery||"function"!=typeof e.filterMethod&&"function"!=typeof e.remoteMethod?(t.previousQuery=r,Object(o["v"])(()=>{var e,r;t.visible&&(null===(r=null===(e=s.value)||void 0===e?void 0:e.update)||void 0===r||r.call(e))}),t.hoverIndex=-1,e.multiple&&e.filterable&&Object(o["v"])(()=>{const r=15*a.value.length+20;t.inputLength=e.collapseTags?Math.min(50,r):r,j(),k()}),e.remote&&"function"==typeof e.remoteMethod?(t.hoverIndex=-1,e.remoteMethod(r)):"function"==typeof e.filterMethod?(e.filterMethod(r),t.selectEmitter.emit("elOptionGroupQueryChange")):(t.filteredOptionsCount=t.optionsCount,t.selectEmitter.emit("elOptionQueryChange",r),t.selectEmitter.emit("elOptionGroupQueryChange")),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&L()):t.previousQuery=r)},j=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=a.value.value?"":t.cachedPlaceHolder)},L=()=>{t.hoverIndex=-1;let e=!1;for(let r=t.options.size-1;r>=0;r--)if(O.value[r].created){e=!0,t.hoverIndex=r;break}if(!e)for(let r=0;r!==t.options.size;++r){const e=O.value[r];if(t.query){if(!e.disabled&&!e.groupDisabled&&e.visible){t.hoverIndex=r;break}}else if(e.itemSelected){t.hoverIndex=r;break}}},M=()=>{var r;if(!e.multiple){const o=N(e.modelValue);return(null===(r=o.props)||void 0===r?void 0:r.created)?(t.createdLabel=o.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=o.currentLabel,t.selected=o,void(e.filterable&&(t.query=t.selectedLabel))}const n=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(e=>{n.push(N(e))}),t.selected=n,Object(o["v"])(()=>{k()})},N=r=>{let o;const n="object"===tr(r).toLowerCase(),i="null"===tr(r).toLowerCase(),a="undefined"===tr(r).toLowerCase();for(let l=t.cachedOptions.size-1;l>=0;l--){const t=y.value[l];if(n?cr(t.value,e.valueKey)===cr(r,e.valueKey):t.value===r){o={value:r,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(o)return o;const s={value:r,currentLabel:n||i||a?"":r};return e.multiple&&(s.hitState=!1),s},A=()=>{setTimeout(()=>{e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(e=>O.value.indexOf(e))):t.hoverIndex=-1:t.hoverIndex=O.value.indexOf(t.selected)},300)},P=()=>{var e;t.inputWidth=null===(e=i.value)||void 0===e?void 0:e.$el.getBoundingClientRect().width},w=l()(()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,I(t.query))},_.value),x=l()(e=>{I(e.target.value)},_.value),D=t=>{Ct()(e.modelValue,t)||r.emit("change",t)},U=o=>{o.stopPropagation();const n=e.multiple?[]:"";if("string"!=typeof n)for(const e of t.selected)e.isDisabled&&n.push(e.value);r.emit(lo,n),D(n),t.visible=!1,r.emit("clear")},B=(n,i)=>{if(e.multiple){const o=(e.modelValue||[]).slice(),i=Z(o,n.value);i>-1?o.splice(i,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(n.value),r.emit(lo,o),D(o),n.created&&(t.query="",I(""),t.inputLength=20),e.filterable&&a.value.focus()}else r.emit(lo,n.value),D(n.value),t.visible=!1;t.isSilentBlur=i,H(),t.visible||Object(o["v"])(()=>{G(n)})},Z=(t=[],r)=>{if(!Jt(r))return t.indexOf(r);const o=e.valueKey;let n=-1;return t.some((e,t)=>cr(e,o)===cr(r,o)&&(n=t,!0)),n},H=()=>{t.softFocus=!0;const e=a.value||i.value;e&&e.focus()},G=e=>{var t,r,o,n;const i=Array.isArray(e)?e[0]:e;let a=null;if(null==i?void 0:i.value){const e=O.value.filter(e=>e.value===i.value);e.length>0&&(a=e[0].$el)}if(s.value&&a){const e=null===(o=null===(r=null===(t=s.value)||void 0===t?void 0:t.popperRef)||void 0===r?void 0:r.querySelector)||void 0===o?void 0:o.call(r,".el-select-dropdown__wrap");e&&ya(e,a)}null===(n=d.value)||void 0===n||n.handleScroll()},V=e=>{if(!Array.isArray(t.selected))return;const r=t.selected[t.selected.length-1];return r?!0===e||!1===e?(r.hitState=e,e):(r.hitState=!r.hitState,r.hitState):void 0},z=()=>{e.automaticDropdown||m.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:t.visible=!t.visible,t.visible&&(a.value||i.value).focus())},W=Object(o["h"])(()=>O.value.filter(e=>e.visible).every(e=>e.disabled)),F=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!W.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const r=O.value[t.hoverIndex];!0!==r.disabled&&!0!==r.groupDisabled&&r.visible||F(e),Object(o["v"])(()=>G(p.value))}}else t.visible=!0};return{optionsArray:O,selectSize:T,handleResize:()=>{var t,r;P(),null===(r=null===(t=s.value)||void 0===t?void 0:t.update)||void 0===r||r.call(t),e.multiple&&k()},debouncedOnInputChange:w,debouncedQueryChange:x,deletePrevTag:o=>{if(o.target.value.length<=0&&!V()){const t=e.modelValue.slice();t.pop(),r.emit(lo,t),D(t)}1===o.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)},deleteTag:(o,n)=>{const i=t.selected.indexOf(n);if(i>-1&&!m.value){const t=e.modelValue.slice();t.splice(i,1),r.emit(lo,t),D(t),r.emit("remove-tag",n.value)}o.stopPropagation()},deleteSelected:U,handleOptionSelect:B,scrollToOption:G,readonly:g,resetInputHeight:k,showClose:v,iconClass:b,showNewOption:S,collapseTagSize:C,setSelected:M,managePlaceholder:j,selectDisabled:m,emptyText:E,toggleLastOptionHitState:V,resetInputState:e=>{e.code!==to.backspace&&V(!1),t.inputLength=15*a.value.length+20,k()},handleComposition:e=>{const r=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,Object(o["v"])(()=>I(r));else{const e=r[r.length-1]||"";t.isOnComposition=!Oo(e)}},onOptionCreate:e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e)},onOptionDestroy:e=>{t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e)},handleMenuEnter:()=>{Object(o["v"])(()=>G(t.selected))},handleFocus:o=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(t.visible=!0,e.filterable&&(t.menuVisibleOnFocus=!0)),r.emit("focus",o))},blur:()=>{t.visible=!1,i.value.blur()},handleBlur:e=>{Object(o["v"])(()=>{t.isSilentBlur?t.isSilentBlur=!1:r.emit("blur",e)}),t.softFocus=!1},handleClearClick:e=>{U(e)},handleClose:()=>{t.visible=!1},toggleMenu:z,selectOption:()=>{t.visible?O.value[t.hoverIndex]&&B(O.value[t.hoverIndex],void 0):z()},getValueKey:t=>Jt(t.value)?cr(t.value,e.valueKey):t.value,navigateOptions:F,dropMenuVisible:R,reference:i,input:a,popper:s,tags:c,selectWrapper:u,scrollbar:d}};var Od=Object(o["o"])({name:"ElSelect",componentName:"ElSelect",components:{ElInput:Ho,ElSelectMenu:_d,ElOption:bd,ElTag:Ma,ElScrollbar:Fo,ElPopper:mn},directives:{ClickOutside:fo},props:{name:String,id:String,modelValue:[Array,String,Number,Boolean,Object],autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:yo},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0},clearIcon:{type:String,default:"el-icon-circle-close"}},emits:[lo,"change","remove-tag","clear","visible-change","focus","blur"],setup(e,t){const r=function(e){const t=d();return Object(o["I"])({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:qn("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,selectEmitter:t,prefixWidth:null,tagInMultiLine:!1})}(e),{optionsArray:n,selectSize:i,readonly:a,handleResize:s,collapseTagSize:l,debouncedOnInputChange:c,debouncedQueryChange:u,deletePrevTag:p,deleteTag:h,deleteSelected:f,handleOptionSelect:g,scrollToOption:m,setSelected:v,resetInputHeight:b,managePlaceholder:_,showClose:E,selectDisabled:O,iconClass:y,showNewOption:S,emptyText:T,toggleLastOptionHitState:C,resetInputState:R,handleComposition:k,onOptionCreate:I,onOptionDestroy:j,handleMenuEnter:L,handleFocus:M,blur:N,handleBlur:A,handleClearClick:P,handleClose:w,toggleMenu:x,selectOption:D,getValueKey:U,navigateOptions:B,dropMenuVisible:Z,reference:H,input:G,popper:V,tags:z,selectWrapper:W,scrollbar:F}=Ed(e,r,t),{focus:q}=(Y=H,{focus:()=>{var e,t;null===(t=null===(e=Y.value)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}});var Y;const{inputWidth:$,selected:K,inputLength:J,filteredOptionsCount:X,visible:Q,softFocus:ee,selectedLabel:te,hoverIndex:re,query:oe,inputHovering:ne,currentPlaceholder:ie,menuVisibleOnFocus:ae,isOnComposition:se,isSilentBlur:le,options:ce,cachedOptions:ue,optionsCount:de,prefixWidth:pe,tagInMultiLine:he}=Object(o["U"])(r);Object(o["G"])("ElSelect",Object(o["I"])({props:e,options:ce,optionsArray:n,cachedOptions:ue,optionsCount:de,filteredOptionsCount:X,hoverIndex:re,handleOptionSelect:g,selectEmitter:r.selectEmitter,onOptionCreate:I,onOptionDestroy:j,selectWrapper:W,selected:K,setSelected:v})),Object(o["B"])(()=>{if(r.cachedPlaceHolder=ie.value=e.placeholder||qn("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(ie.value=""),Dr(W.value,s),H.value&&H.value.$el){const e={medium:36,small:32,mini:28},t=H.value.input;r.initialInputHeight=t.getBoundingClientRect().height||e[i.value]}e.remote&&e.multiple&&b(),Object(o["v"])(()=>{if(H.value.$el&&($.value=H.value.$el.getBoundingClientRect().width),t.slots.prefix){const e=H.value.$el.childNodes,t=[].filter.call(e,e=>"INPUT"===e.tagName)[0],o=H.value.$el.querySelector(".el-input__prefix");pe.value=Math.max(o.getBoundingClientRect().width+5,30),r.prefixWidth&&(t.style.paddingLeft=Math.max(r.prefixWidth,30)+"px")}}),v()}),Object(o["y"])(()=>{Ur(W.value,s)}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(lo,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(lo,"");const fe=Object(o["h"])(()=>{var e;return null===(e=V.value)||void 0===e?void 0:e.popperRef});return{tagInMultiLine:he,prefixWidth:pe,selectSize:i,readonly:a,handleResize:s,collapseTagSize:l,debouncedOnInputChange:c,debouncedQueryChange:u,deletePrevTag:p,deleteTag:h,deleteSelected:f,handleOptionSelect:g,scrollToOption:m,inputWidth:$,selected:K,inputLength:J,filteredOptionsCount:X,visible:Q,softFocus:ee,selectedLabel:te,hoverIndex:re,query:oe,inputHovering:ne,currentPlaceholder:ie,menuVisibleOnFocus:ae,isOnComposition:se,isSilentBlur:le,options:ce,resetInputHeight:b,managePlaceholder:_,showClose:E,selectDisabled:O,iconClass:y,showNewOption:S,emptyText:T,toggleLastOptionHitState:C,resetInputState:R,handleComposition:k,handleMenuEnter:L,handleFocus:M,blur:N,handleBlur:A,handleClearClick:P,handleClose:w,toggleMenu:x,selectOption:D,getValueKey:U,navigateOptions:B,dropMenuVisible:Z,focus:q,reference:H,input:G,popper:V,popperPaneRef:fe,tags:z,selectWrapper:W,scrollbar:F}}});const yd={class:"select-trigger"},Sd={key:0},Td={class:"el-select__tags-text"},Cd={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}},Rd={key:1,class:"el-select-dropdown__empty"};Od.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-tag"),l=Object(o["N"])("el-input"),c=Object(o["N"])("el-option"),u=Object(o["N"])("el-scrollbar"),d=Object(o["N"])("el-select-menu"),p=Object(o["N"])("el-popper"),h=Object(o["O"])("click-outside");return Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{ref:"selectWrapper",class:["el-select",[e.selectSize?"el-select--"+e.selectSize:""]],onClick:t[26]||(t[26]=Object(o["fb"])((...t)=>e.toggleMenu&&e.toggleMenu(...t),["stop"]))},[Object(o["n"])(p,{ref:"popper",visible:e.dropMenuVisible,"onUpdate:visible":t[25]||(t[25]=t=>e.dropMenuVisible=t),placement:"bottom-start","append-to-body":e.popperAppendToBody,"popper-class":"el-select__popper "+e.popperClass,"fallback-placements":["bottom-start","top-start","right","left"],"manual-mode":"",effect:"light",pure:"",trigger:"click",transition:"el-zoom-in-top","stop-popper-mouse-event":!1,"gpu-acceleration":!1,onBeforeEnter:e.handleMenuEnter},{trigger:Object(o["cb"])(()=>[Object(o["n"])("div",yd,[e.multiple?(Object(o["E"])(),Object(o["j"])("div",{key:0,ref:"tags",class:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?(Object(o["E"])(),Object(o["j"])("span",Sd,[Object(o["n"])(s,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":"",onClose:t[1]||(t[1]=t=>e.deleteTag(t,e.selected[0]))},{default:Object(o["cb"])(()=>[Object(o["n"])("span",{class:"el-select__tags-text",style:{"max-width":e.inputWidth-123+"px"}},Object(o["R"])(e.selected[0].currentLabel),5)]),_:1},8,["closable","size","hit"]),e.selected.length>1?(Object(o["E"])(),Object(o["j"])(s,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Object(o["cb"])(()=>[Object(o["n"])("span",Td,"+ "+Object(o["R"])(e.selected.length-1),1)]),_:1},8,["size"])):Object(o["k"])("v-if",!0)])):Object(o["k"])("v-if",!0),Object(o["k"])(" <div> "),e.collapseTags?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])(o["d"],{key:1,onAfterLeave:e.resetInputHeight},{default:Object(o["cb"])(()=>[Object(o["n"])("span",{style:{marginLeft:e.prefixWidth&&e.selected.length?e.prefixWidth+"px":null}},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.selected,t=>(Object(o["E"])(),Object(o["j"])(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":"",onClose:r=>e.deleteTag(r,t)},{default:Object(o["cb"])(()=>[Object(o["n"])("span",{class:"el-select__tags-text",style:{"max-width":e.inputWidth-75+"px"}},Object(o["R"])(t.currentLabel),5)]),_:2},1032,["closable","size","hit","onClose"]))),128))],4)]),_:1},8,["onAfterLeave"])),Object(o["k"])(" </div> "),e.filterable?Object(o["db"])((Object(o["E"])(),Object(o["j"])("input",{key:2,ref:"input","onUpdate:modelValue":t[2]||(t[2]=t=>e.query=t),type:"text",class:["el-select__input",[e.selectSize?"is-"+e.selectSize:""]],disabled:e.selectDisabled,autocomplete:e.autocomplete,style:{marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?e.prefixWidth+"px":null,flexGrow:"1",width:e.inputLength/(e.inputWidth-32)+"%",maxWidth:e.inputWidth-42+"px"},onFocus:t[3]||(t[3]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[4]||(t[4]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[5]||(t[5]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[6]||(t[6]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[7]||(t[7]=Object(o["eb"])(Object(o["fb"])(t=>e.navigateOptions("next"),["prevent"]),["down"])),t[8]||(t[8]=Object(o["eb"])(Object(o["fb"])(t=>e.navigateOptions("prev"),["prevent"]),["up"])),t[9]||(t[9]=Object(o["eb"])(Object(o["fb"])(t=>e.visible=!1,["stop","prevent"]),["esc"])),t[10]||(t[10]=Object(o["eb"])(Object(o["fb"])((...t)=>e.selectOption&&e.selectOption(...t),["stop","prevent"]),["enter"])),t[11]||(t[11]=Object(o["eb"])((...t)=>e.deletePrevTag&&e.deletePrevTag(...t),["delete"])),t[12]||(t[12]=Object(o["eb"])(t=>e.visible=!1,["tab"]))],onCompositionstart:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[14]||(t[14]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[15]||(t[15]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[16]||(t[16]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,["disabled","autocomplete"])),[[o["Y"],e.query]]):Object(o["k"])("v-if",!0)],4)):Object(o["k"])("v-if",!0),Object(o["n"])(l,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[18]||(t[18]=t=>e.selectedLabel=t),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:{"is-focus":e.visible},tabindex:e.multiple&&e.filterable?"-1":null,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onKeydown:[t[19]||(t[19]=Object(o["eb"])(Object(o["fb"])(t=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[20]||(t[20]=Object(o["eb"])(Object(o["fb"])(t=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Object(o["eb"])(Object(o["fb"])(e.selectOption,["stop","prevent"]),["enter"]),t[21]||(t[21]=Object(o["eb"])(Object(o["fb"])(t=>e.visible=!1,["stop","prevent"]),["esc"])),t[22]||(t[22]=Object(o["eb"])(t=>e.visible=!1,["tab"]))],onMouseenter:t[23]||(t[23]=t=>e.inputHovering=!0),onMouseleave:t[24]||(t[24]=t=>e.inputHovering=!1)},Object(o["l"])({suffix:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("i",{class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]},null,2),[[o["Z"],!e.showClose]]),e.showClose?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:"el-select__caret el-input__icon "+e.clearIcon,onClick:t[17]||(t[17]=(...t)=>e.handleClearClick&&e.handleClearClick(...t))},null,2)):Object(o["k"])("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Object(o["cb"])(()=>[Object(o["n"])("div",Cd,[Object(o["M"])(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onKeydown"])])]),default:Object(o["cb"])(()=>[Object(o["n"])(d,null,{default:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])(u,{ref:"scrollbar",tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount}},{default:Object(o["cb"])(()=>[e.showNewOption?(Object(o["E"])(),Object(o["j"])(c,{key:0,value:e.query,created:!0},null,8,["value"])):Object(o["k"])("v-if",!0),Object(o["M"])(e.$slots,"default")]),_:3},8,["class"]),[[o["Z"],e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[e.$slots.empty?Object(o["M"])(e.$slots,"empty",{key:0}):(Object(o["E"])(),Object(o["j"])("p",Rd,Object(o["R"])(e.emptyText),1))],2112)):Object(o["k"])("v-if",!0)]),_:3})]),_:1},8,["visible","append-to-body","popper-class","onBeforeEnter"])],2)),[[h,e.handleClose,e.popperPaneRef]])},Od.__file="packages/select/src/select.vue",Od.install=e=>{e.component(Od.name,Od)};const kd=Od,Id=bd;Id.install=e=>{e.component(Id.name,Id)};var jd=Object(o["o"])({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=Object(o["J"])(!0);Object(o["G"])("ElSelectGroup",Object(o["I"])(Object.assign({},Object(o["U"])(e))));const r=Object(o["r"])("ElSelect");return r.selectEmitter.on(md,()=>{var e;t.value=null===(e=null==r?void 0:r.optionsArray)||void 0===e?void 0:e.some(e=>!0===e.visible)}),{visible:t}}});const Ld={class:"el-select-group__wrap"},Md={class:"el-select-group__title"},Nd={class:"el-select-group"};jd.render=function(e,t,r,n,i,a){return Object(o["db"])((Object(o["E"])(),Object(o["j"])("ul",Ld,[Object(o["n"])("li",Md,Object(o["R"])(e.label),1),Object(o["n"])("li",null,[Object(o["n"])("ul",Nd,[Object(o["M"])(e.$slots,"default")])])],512)),[[o["Z"],e.visible]])},jd.__file="packages/select/src/option-group.vue",jd.install=e=>{e.component(jd.name,jd)};const Ad=jd;var Pd=Object(o["o"])({name:"ElPageHeader",props:{icon:{type:String,default:"el-icon-back"},title:{type:String,default:()=>qn("el.pageHeader.title")},content:{type:String,default:""}},emits:["back"],setup:(e,{emit:t})=>({handleClick:function(){t("back")}})});const wd={class:"el-page-header"},xd={key:0,class:"el-page-header__icon"},Dd={class:"el-page-header__title"},Ud={class:"el-page-header__content"};Pd.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",wd,[Object(o["n"])("div",{class:"el-page-header__left",onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.icon||e.$slots.icon?(Object(o["E"])(),Object(o["j"])("div",xd,[Object(o["M"])(e.$slots,"icon",{},()=>[Object(o["n"])("i",{class:e.icon},null,2)])])):Object(o["k"])("v-if",!0),Object(o["n"])("div",Dd,[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["m"])(Object(o["R"])(e.title),1)])])]),Object(o["n"])("div",Ud,[Object(o["M"])(e.$slots,"content",{},()=>[Object(o["m"])(Object(o["R"])(e.content),1)])])])},Pd.__file="packages/page-header/src/index.vue",Pd.install=e=>{e.component(Pd.name,Pd)};const Bd=Pd;var Zd=Object(o["o"])({name:"Prev",props:{disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String,default:""}},setup:e=>({internalDisabled:Object(o["h"])(()=>e.disabled||e.currentPage<=1)})});const Hd={key:0},Gd={key:1,class:"el-icon el-icon-arrow-left"};Zd.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("button",{type:"button",class:"btn-prev",disabled:e.internalDisabled,onClick:t[1]||(t[1]=Object(o["fb"])(()=>{},["self","prevent"]))},[e.prevText?(Object(o["E"])(),Object(o["j"])("span",Hd,Object(o["R"])(e.prevText),1)):(Object(o["E"])(),Object(o["j"])("i",Gd))],8,["disabled"])},Zd.__file="packages/pagination/src/prev.vue";var Vd=Object(o["o"])({name:"Next",props:{disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String,default:""}},setup:e=>({internalDisabled:Object(o["h"])(()=>e.disabled||e.currentPage===e.pageCount||0===e.pageCount)})});const zd={key:0},Wd={key:1,class:"el-icon el-icon-arrow-right"};Vd.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("button",{type:"button",class:"btn-next",disabled:e.internalDisabled,onClick:t[1]||(t[1]=Object(o["fb"])(()=>{},["self","prevent"]))},[e.nextText?(Object(o["E"])(),Object(o["j"])("span",zd,Object(o["R"])(e.nextText),1)):(Object(o["E"])(),Object(o["j"])("i",Wd))],8,["disabled"])},Vd.__file="packages/pagination/src/next.vue";const Fd=()=>{const e=Object(o["r"])("pagination",{});return{pagination:e,pageCount:e.pageCount,disabled:e.disabled,currentPage:e.currentPage}};var qd=Object(o["o"])({name:"Sizes",components:{ElSelect:kd,ElOption:Id},props:{pageSize:Number,pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String,default:""},disabled:Boolean},emits:["page-size-change"],setup(e,{emit:t}){const{pagination:r}=Fd(),n=Object(o["J"])(e.pageSize);Object(o["ab"])(()=>e.pageSizes,(r,o)=>{if(!Ct()(r,o)&&Array.isArray(r)){const o=r.indexOf(e.pageSize)>-1?e.pageSize:e.pageSizes[0];t("page-size-change",o)}}),Object(o["ab"])(()=>e.pageSize,e=>{n.value=e});const i=Object(o["h"])(()=>e.pageSizes);return{t:qn,innerPagesizes:i,innerPageSize:n,handleChange:function(e){e!==n.value&&(n.value=e,null==r||r.handleSizesChange(Number(e)))}}}});const Yd={class:"el-pagination__sizes"};qd.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-option"),l=Object(o["N"])("el-select");return Object(o["E"])(),Object(o["j"])("span",Yd,[Object(o["n"])(l,{"model-value":e.innerPageSize,disabled:e.disabled,"popper-class":e.popperClass,size:"mini",onChange:e.handleChange},{default:Object(o["cb"])(()=>[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.innerPagesizes,t=>(Object(o["E"])(),Object(o["j"])(s,{key:t,value:t,label:t+e.t("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","onChange"])])},qd.__file="packages/pagination/src/sizes.vue";var $d=Object(o["o"])({components:{ElInput:Ho},setup(){const{pagination:e,pageCount:t,disabled:r,currentPage:n}=Fd(),i=Object(o["J"])(null),a=Object(o["h"])(()=>{var e;return null!==(e=i.value)&&void 0!==e?e:n.value});return{t:qn,userInput:i,pageCount:t,disabled:r,handleInput:function(e){i.value=Number(e)},handleChange:function(t){null==e||e.changeEvent(Number(t)),i.value=null},innerValue:a}}});const Kd={class:"el-pagination__jump"};$d.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input");return Object(o["E"])(),Object(o["j"])("span",Kd,[Object(o["m"])(Object(o["R"])(e.t("el.pagination.goto"))+" ",1),Object(o["n"])(s,{size:"mini",class:"el-pagination__editor is-in-pagination",min:1,max:e.pageCount,disabled:e.disabled,"model-value":e.innerValue,type:"number","onUpdate:modelValue":e.handleInput,onChange:e.handleChange},null,8,["max","disabled","model-value","onUpdate:modelValue","onChange"]),Object(o["m"])(" "+Object(o["R"])(e.t("el.pagination.pageClassifier")),1)])},$d.__file="packages/pagination/src/jumper.vue";var Jd=Object(o["o"])({name:"Total",props:{total:{type:Number,default:1e3}},setup:()=>({t:qn})});const Xd={class:"el-pagination__total"};Jd.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("span",Xd,Object(o["R"])(e.t("el.pagination.total",{total:e.total})),1)},Jd.__file="packages/pagination/src/total.vue";var Qd=Object(o["o"])({name:"ElPager",props:{currentPage:{type:Number,default:1},pageCount:{type:Number},pagerCount:{type:Number,default:7},disabled:Boolean},emits:["change"],setup(e,{emit:t}){const r=Object(o["J"])(!1),n=Object(o["J"])(!1),i=Object(o["J"])("el-icon-more"),a=Object(o["J"])("el-icon-more"),s=Object(o["h"])(()=>{const t=e.pagerCount,r=(t-1)/2,o=Number(e.currentPage),n=Number(e.pageCount);let i=!1,a=!1;n>t&&(o>t-r&&(i=!0),o<n-r&&(a=!0));const s=[];if(i&&!a)for(let e=n-(t-2);e<n;e++)s.push(e);else if(!i&&a)for(let e=2;e<t;e++)s.push(e);else if(i&&a){const e=Math.floor(t/2)-1;for(let t=o-e;t<=o+e;t++)s.push(t)}else for(let e=2;e<n;e++)s.push(e);return s});return Object(o["bb"])(()=>{const t=(e.pagerCount-1)/2;r.value=!1,n.value=!1,e.pageCount>e.pagerCount&&(e.currentPage>e.pagerCount-t&&(r.value=!0),e.currentPage<e.pageCount-t&&(n.value=!0))}),Object(o["bb"])(()=>{r.value||(a.value="el-icon-more")}),Object(o["bb"])(()=>{n.value||(i.value="el-icon-more")}),{showPrevMore:r,showNextMore:n,quicknextIconClass:i,quickprevIconClass:a,pagers:s,onMouseenter:function(t){e.disabled||("left"===t?a.value="el-icon-d-arrow-left":i.value="el-icon-d-arrow-right")},onPagerClick:function(r){const o=r.target;if("ul"===o.tagName.toLowerCase()||e.disabled)return;let n=Number(o.textContent);const i=e.pageCount,a=e.currentPage,s=e.pagerCount-2;o.className.includes("more")&&(o.className.includes("quickprev")?n=a-s:o.className.includes("quicknext")&&(n=a+s)),isNaN(n)||(n<1&&(n=1),n>i&&(n=i)),n!==a&&t("change",n)}}}});Qd.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("ul",{class:"el-pager",onClick:t[5]||(t[5]=(...t)=>e.onPagerClick&&e.onPagerClick(...t))},[e.pageCount>0?(Object(o["E"])(),Object(o["j"])("li",{key:0,class:[{active:1===e.currentPage,disabled:e.disabled},"number"]}," 1 ",2)):Object(o["k"])("v-if",!0),e.showPrevMore?(Object(o["E"])(),Object(o["j"])("li",{key:1,class:["el-icon more btn-quickprev",[e.quickprevIconClass,{disabled:e.disabled}]],onMouseenter:t[1]||(t[1]=t=>e.onMouseenter("left")),onMouseleave:t[2]||(t[2]=t=>e.quickprevIconClass="el-icon-more")},null,34)):Object(o["k"])("v-if",!0),(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.pagers,t=>(Object(o["E"])(),Object(o["j"])("li",{key:t,class:[{active:e.currentPage===t,disabled:e.disabled},"number"]},Object(o["R"])(t),3))),128)),e.showNextMore?(Object(o["E"])(),Object(o["j"])("li",{key:2,class:["el-icon more btn-quicknext",[e.quicknextIconClass,{disabled:e.disabled}]],onMouseenter:t[3]||(t[3]=t=>e.onMouseenter("right")),onMouseleave:t[4]||(t[4]=t=>e.quicknextIconClass="el-icon-more")},null,34)):Object(o["k"])("v-if",!0),e.pageCount>1?(Object(o["E"])(),Object(o["j"])("li",{key:3,class:[{active:e.currentPage===e.pageCount,disabled:e.disabled},"number"]},Object(o["R"])(e.pageCount),3)):Object(o["k"])("v-if",!0)])},Qd.__file="packages/pagination/src/pager.vue";const ep=e=>Number.isNaN(e)?10:e,tp=Object(o["o"])({name:"ElPagination",components:{Prev:Zd,Next:Vd,Sizes:qd,Jumper:$d,Total:Jd,Pager:Qd},props:{pageSize:{type:Number,default:10},small:Boolean,total:{type:Number},pageCount:{type:Number},pagerCount:{type:Number,validator:e=>(0|e)===e&&e>4&&e<22&&e%2==1,default:7},currentPage:{type:Number,default:1},layout:{type:String,default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String,default:""},prevText:{type:String,default:""},nextText:{type:String,default:""},background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},emits:["size-change","current-change","prev-click","next-click","update:currentPage","update:pageSize"],setup(e,{emit:t}){const r=Object(o["J"])(-1),n=Object(o["J"])(!1),i=Object(o["J"])(ep(e.pageSize)),a=Object(o["h"])(()=>"number"==typeof e.total?Math.max(1,Math.ceil(e.total/i.value)):"number"==typeof e.pageCount?Math.max(1,e.pageCount):null),s=Object(o["J"])(u(e.currentPage));function l(){(s.value!==r.value||n.value)&&(r.value=s.value,n.value=!1,t("update:currentPage",s.value),t("current-change",s.value))}function c(e){s.value=u(e),n.value=!0,l()}function u(e){let t;return"string"==typeof e&&(e=parseInt(e,10)),isNaN(e)||e<1?t=1:a.value<e&&(t=a.value),null!=t?t:e}return Object(o["ab"])(()=>e.currentPage,e=>{s.value=u(e),r.value=s.value}),Object(o["ab"])(()=>e.pageSize,e=>{i.value=ep(e)}),Object(o["ab"])(()=>a.value,e=>{const t=s.value;e>0&&0===t?s.value=1:t>e&&(s.value=0===e?1:e,l())}),Object(o["G"])("pagination",{pageCount:Object(o["h"])(()=>e.pageCount),disabled:Object(o["h"])(()=>e.disabled),currentPage:Object(o["h"])(()=>s.value),changeEvent:c,handleSizesChange:function(e){n.value=!0,i.value=e,t("update:pageSize",e),t("size-change",e)}}),{internalCurrentPage:s,internalPageSize:i,lastEmittedPage:r,userChangePageSize:n,internalPageCount:a,getValidCurrentPage:u,emitChange:l,handleCurrentChange:c,prev:function(){if(e.disabled)return;const r=s.value-1;s.value=u(r),t("prev-click",s.value),l()},next:function(){if(e.disabled)return;const r=s.value+1;s.value=u(r),t("next-click",s.value),l()}}},render(){var e,t,r;const n=this.layout;if(!n)return null;if(this.hideOnSinglePage&&this.internalPageCount<=1)return null;const i=Object(o["q"])("div",{class:["el-pagination",{"is-background":this.background,"el-pagination--small":this.small}]}),a=[],s=[],l=Object(o["q"])("div",{class:"el-pagination__rightwrapper"},s),c={prev:Object(o["q"])(Zd,{disabled:this.disabled,currentPage:this.internalCurrentPage,prevText:this.prevText,onClick:this.prev}),jumper:Object(o["q"])($d),pager:Object(o["q"])(Qd,{currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,pagerCount:this.pagerCount,onChange:this.handleCurrentChange,disabled:this.disabled}),next:Object(o["q"])(Vd,{disabled:this.disabled,currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,nextText:this.nextText,onClick:this.next}),sizes:Object(o["q"])(qd,{pageSize:this.pageSize,pageSizes:this.pageSizes,popperClass:this.popperClass,disabled:this.disabled}),slot:null!==(r=null===(t=null===(e=this.$slots)||void 0===e?void 0:e.default)||void 0===t?void 0:t.call(e))&&void 0!==r?r:null,total:Object(o["q"])(Jd,{total:this.total})},u=n.split(",").map(e=>e.trim());let d=!1;return u.forEach(e=>{"->"!==e?d?s.push(c[e]):a.push(c[e]):d=!0}),d&&s.length>0&&a.unshift(l),Object(o["q"])(i,{},a)}});tp.install=e=>{e.component(tp.name,tp)};var rp=Object(o["o"])({name:"ElPopconfirm",components:{ElButton:Zn,ElPopper:mn},props:{title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},emits:["confirm","cancel"],setup(e,{emit:t}){const r=Object(o["J"])(!1),n=Object(o["h"])(()=>e.confirmButtonText||qn("el.popconfirm.confirmButtonText")),i=Object(o["h"])(()=>e.cancelButtonText||qn("el.popconfirm.cancelButtonText"));return{visible:r,confirm:()=>{r.value=!1,t("confirm")},cancel:()=>{r.value=!1,t("cancel")},confirmButtonText_:n,cancelButtonText_:i}}});const op={class:"el-popconfirm"},np={class:"el-popconfirm__main"},ip={class:"el-popconfirm__action"};rp.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-button"),l=Object(o["N"])("el-popper");return Object(o["E"])(),Object(o["j"])(l,{visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t),trigger:"click",effect:"light","popper-class":"el-popover","append-to-body":"","fallback-placements":["bottom","top","right","left"]},{trigger:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"reference")]),default:Object(o["cb"])(()=>[Object(o["n"])("div",op,[Object(o["n"])("p",np,[e.hideIcon?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("i",{key:0,class:[e.icon,"el-popconfirm__icon"],style:{color:e.iconColor}},null,6)),Object(o["m"])(" "+Object(o["R"])(e.title),1)]),Object(o["n"])("div",ip,[Object(o["n"])(s,{size:"mini",type:e.cancelButtonType,onClick:e.cancel},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.cancelButtonText_),1)]),_:1},8,["type","onClick"]),Object(o["n"])(s,{size:"mini",type:e.confirmButtonType,onClick:e.confirm},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.confirmButtonText_),1)]),_:1},8,["type","onClick"])])])]),_:1},8,["visible"])},rp.__file="packages/popconfirm/src/index.vue",rp.install=e=>{e.component(rp.name,rp)};const ap=rp,sp=["update:visible","after-enter","after-leave","show","hide"],lp={key:0,class:"el-popover__title",role:"title"};var cp=Object(o["o"])({name:"ElPopover",components:{ElPopper:mn},props:Object.assign(Object.assign({},nn),{content:{type:String},trigger:{type:String,default:"click"},title:{type:String},transition:{type:String,default:"fade-in-linear"},width:{type:[String,Number],default:150},appendToBody:{type:Boolean,default:!0},tabindex:[String,Number]}),emits:sp,setup(e,t){return function(e,t){const r=Object(o["J"])(en.nextZIndex()),n=Object(o["h"])(()=>Kt(e.width)?e.width:e.width+"px"),i=Object(o["h"])(()=>({width:n.value,zIndex:r.value})),a=an(e,t);return Object(o["ab"])(a.visibility,e=>{e&&(r.value=en.nextZIndex()),t.emit(e?"show":"hide")}),Object.assign(Object.assign({},a),{popperStyle:i})}(e,t)},render(){const{$slots:e}=this,t=e.reference?e.reference():null,r=pn(this.title,"div",lp,Object(o["R"])(this.title),on.TEXT),n=Object(o["M"])(e,"default",{},()=>[Object(o["m"])(Object(o["R"])(this.content),on.TEXT)]),{events:i,onAfterEnter:a,onAfterLeave:s,onPopperMouseEnter:l,onPopperMouseLeave:c,popperStyle:u,popperId:d,popperClass:p,showArrow:h,transition:f,visibility:g,tabindex:m}=this,v=[this.content?"el-popover--plain":"","el-popover",p].join(" ");let b=sn({effect:rn.LIGHT,name:f,popperClass:v,popperStyle:u,popperId:d,visibility:g,onMouseenter:l,onMouseleave:c,onAfterEnter:a,onAfterLeave:s,stopPopperMouseEvent:!1},[r,n,fn(h)]);const _=t?hn(t,Object.assign({ariaDescribedby:d,ref:"triggerRef",tabindex:m},i)):Object(o["k"])("v-if",!0);return Object(o["q"])(o["b"],null,["click"===this.trigger?Object(o["db"])(_,[[fo,this.hide]]):_,Object(o["q"])(o["c"],{disabled:!this.appendToBody,to:"body"},[b])])}});cp.__file="packages/popover/src/index.vue";const up=(e,t,r)=>{const o=t.arg||t.value,n=r.dirs[0].instance.$refs[o];n&&(n.triggerRef=e,e.setAttribute("tabindex",n.tabindex),Object.entries(n.events).forEach(([t,r])=>{Rr(e,t.toLowerCase().slice(2),r)}))};var dp={mounted(e,t,r){up(e,t,r)},updated(e,t,r){up(e,t,r)}};cp.install=e=>{e.component(cp.name,cp),e.directive("popover",dp)},cp.directive=dp;const pp=cp;var hp=Object(o["o"])({name:"ElProgress",props:{type:{type:String,default:"line",validator:e=>["line","circle","dashboard"].indexOf(e)>-1},percentage:{type:Number,default:0,required:!0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",validator:e=>["","success","exception","warning"].indexOf(e)>-1},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:{type:Function,default:e=>e+"%"}},setup(e){const t=Object(o["h"])(()=>({width:e.percentage+"%",animationDuration:e.duration+"s",backgroundColor:g(e.percentage)})),r=Object(o["h"])(()=>(e.strokeWidth/e.width*100).toFixed(1)),n=Object(o["h"])(()=>"circle"===e.type||"dashboard"===e.type?parseInt(""+(50-parseFloat(r.value)/2),10):0),i=Object(o["h"])(()=>{const t=n.value,r="dashboard"===e.type;return`\n          M 50 50\n          m 0 ${r?"":"-"}${t}\n          a ${t} ${t} 0 1 1 0 ${r?"-":""}${2*t}\n          a ${t} ${t} 0 1 1 0 ${r?"":"-"}${2*t}\n          `}),a=Object(o["h"])(()=>2*Math.PI*n.value),s=Object(o["h"])(()=>"dashboard"===e.type?.75:1),l=Object(o["h"])(()=>-1*a.value*(1-s.value)/2+"px"),c=Object(o["h"])(()=>({strokeDasharray:`${a.value*s.value}px, ${a.value}px`,strokeDashoffset:l.value})),u=Object(o["h"])(()=>({strokeDasharray:`${a.value*s.value*(e.percentage/100)}px, ${a.value}px`,strokeDashoffset:l.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"})),d=Object(o["h"])(()=>{let t;if(e.color)t=g(e.percentage);else switch(e.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t}),p=Object(o["h"])(()=>"warning"===e.status?"el-icon-warning":"line"===e.type?"success"===e.status?"el-icon-circle-check":"el-icon-circle-close":"success"===e.status?"el-icon-check":"el-icon-close"),h=Object(o["h"])(()=>"line"===e.type?12+.4*e.strokeWidth:.111111*e.width+2),f=Object(o["h"])(()=>e.format(e.percentage)),g=t=>{var r;const{color:o}=e;if("function"==typeof o)return o(t);if("string"==typeof o)return o;{const e=100/o.length,n=o.map((t,r)=>"string"==typeof t?{color:t,percentage:(r+1)*e}:t).sort((e,t)=>e.percentage-t.percentage);for(let r=0;r<n.length;r++)if(n[r].percentage>t)return n[r].color;return null===(r=n[n.length-1])||void 0===r?void 0:r.color}},m=Object(o["h"])(()=>({percentage:e.percentage}));return{barStyle:t,relativeStrokeWidth:r,radius:n,trackPath:i,perimeter:a,rate:s,strokeDashoffset:l,trailPathStyle:c,circlePathStyle:u,stroke:d,iconClass:p,progressTextSize:h,content:f,getCurrentColor:g,slotData:m}}});const fp={key:0,class:"el-progress-bar"},gp={key:0,class:"el-progress-bar__innerText"},mp={viewBox:"0 0 100 100"},vp={key:0};hp.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-progress",["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}]],role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?(Object(o["E"])(),Object(o["j"])("div",fp,[Object(o["n"])("div",{class:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[Object(o["n"])("div",{class:["el-progress-bar__inner",{"el-progress-bar__inner--indeterminate":e.indeterminate}],style:e.barStyle},[(e.showText||e.$slots.default)&&e.textInside?(Object(o["E"])(),Object(o["j"])("div",gp,[Object(o["M"])(e.$slots,"default",e.slotData,()=>[Object(o["n"])("span",null,Object(o["R"])(e.content),1)])])):Object(o["k"])("v-if",!0)],6)],4)])):(Object(o["E"])(),Object(o["j"])("div",{key:1,class:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[(Object(o["E"])(),Object(o["j"])("svg",mp,[Object(o["n"])("path",{class:"el-progress-circle__track",d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none",style:e.trailPathStyle},null,12,["d","stroke-width"]),Object(o["n"])("path",{class:"el-progress-circle__path",d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0,style:e.circlePathStyle},null,12,["d","stroke","stroke-linecap","stroke-width"])]))],4)),!e.showText&&!e.$slots.default||e.textInside?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("div",{key:2,class:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[Object(o["M"])(e.$slots,"default",e.slotData,()=>[e.status?(Object(o["E"])(),Object(o["j"])("i",{key:1,class:e.iconClass},null,2)):(Object(o["E"])(),Object(o["j"])("span",vp,Object(o["R"])(e.content),1))])],4))],10,["aria-valuenow"])},hp.__file="packages/progress/src/index.vue",hp.install=e=>{e.component(hp.name,hp)};const bp=hp;var _p=Object(o["o"])({name:"ElRadioButton",props:{label:{type:[String,Number,Boolean],default:""},disabled:Boolean,name:{type:String,default:""}},setup(e){const{isGroup:t,radioGroup:r,elFormItemSize:n,ELEMENT:i,focus:a,elForm:s}=oa(),l=Object(o["h"])(()=>r.radioGroupSize||n.value||i.size),c=Object(o["h"])({get:()=>r.modelValue,set(e){r.changeEvent(e)}}),{isDisabled:u,tabIndex:d}=na(e,{model:c,elForm:s,radioGroup:r,isGroup:t});return{isGroup:t,size:l,isDisabled:u,tabIndex:d,value:c,focus:a,activeStyle:Object(o["h"])(()=>({backgroundColor:r.fill||"",borderColor:r.fill||"",boxShadow:r.fill?"-1px 0 0 0 "+r.fill:"",color:r.textColor||""}))}}});_p.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("label",{class:["el-radio-button",[e.size?"el-radio-button--"+e.size:"",{"is-active":e.value===e.label,"is-disabled":e.isDisabled,"is-focus":e.focus}]],role:"radio","aria-checked":e.value===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex,onKeydown:t[5]||(t[5]=Object(o["eb"])(Object(o["fb"])(t=>e.value=e.isDisabled?e.value:e.label,["stop","prevent"]),["space"]))},[Object(o["db"])(Object(o["n"])("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),class:"el-radio-button__orig-radio",value:e.label,type:"radio",name:e.name,disabled:e.isDisabled,tabindex:"-1",onFocus:t[2]||(t[2]=t=>e.focus=!0),onBlur:t[3]||(t[3]=t=>e.focus=!1)},null,40,["value","name","disabled"]),[[o["X"],e.value]]),Object(o["n"])("span",{class:"el-radio-button__inner",style:e.value===e.label?e.activeStyle:null,onKeydown:t[4]||(t[4]=Object(o["fb"])(()=>{},["stop"]))},[Object(o["M"])(e.$slots,"default",{},()=>[Object(o["m"])(Object(o["R"])(e.label),1)])],36)],42,["aria-checked","aria-disabled","tabindex"])},_p.__file="packages/radio/src/radio-button.vue",_p.install=e=>{e.component(_p.name,_p)};const Ep=_p;var Op=Object(o["o"])({name:"ElRadioGroup",componentName:"ElRadioGroup",props:{modelValue:{type:[String,Number,Boolean],default:""},size:{type:String,validator:yo},fill:{type:String,default:""},textColor:{type:String,default:""},disabled:Boolean},emits:[lo,"change"],setup(e,t){const r=Object(o["J"])(null),n=Object(o["r"])("elFormItem",{}),i=Object(o["h"])(()=>e.size||n.size);return Object(o["G"])("RadioGroup",Object(o["I"])(Object.assign(Object.assign({name:"ElRadioGroup"},Object(o["U"])(e)),{radioGroupSize:i,changeEvent:e=>{t.emit(lo,e),Object(o["v"])(()=>{t.emit("change",e)})}}))),Object(o["ab"])(()=>e.modelValue,e=>{var t;null===(t=n.formItemMitt)||void 0===t||t.emit("el.form.change",[e])}),Object(o["B"])(()=>{const e=r.value.querySelectorAll("[type=radio]"),t=e[0];!Array.from(e).some(e=>e.checked)&&t&&(t.tabIndex=0)}),{handleKeydown:e=>{const t=e.target,o="INPUT"===t.nodeName?"[type=radio]":"[role=radio]",n=r.value.querySelectorAll(o),i=n.length,a=Array.from(n).indexOf(t),s=r.value.querySelectorAll("[role=radio]");let l=null;switch(e.code){case to.left:case to.up:e.stopPropagation(),e.preventDefault(),l=0===a?i-1:a-1;break;case to.right:case to.down:e.stopPropagation(),e.preventDefault(),l=a===i-1?0:a+1}null!==l&&(s[l].click(),s[l].focus())},radioGroupSize:i,radioGroup:r}}});Op.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{ref:"radioGroup",class:"el-radio-group",role:"radiogroup",onKeydown:t[1]||(t[1]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[Object(o["M"])(e.$slots,"default")],544)},Op.__file="packages/radio/src/radio-group.vue",Op.install=e=>{e.component(Op.name,Op)};const yp=Op;var Sp=Object(o["o"])({name:"ElRate",props:{modelValue:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:()=>["#F7BA2A","#F7BA2A","#F7BA2A"]},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:()=>["el-icon-star-on","el-icon-star-on","el-icon-star-on"]},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:()=>["Extremely bad","Disappointed","Fair","Satisfied","Surprise"]},scoreTemplate:{type:String,default:"{value}"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const r=Object(o["r"])("elForm",{}),n=Object(o["J"])(e.modelValue),i=Object(o["h"])(()=>e.disabled||r.disabled),a=Object(o["h"])(()=>{let t="";return e.showScore?t=e.scoreTemplate.replace(/\{\s*value\s*\}/,i.value?""+e.modelValue:""+n.value):e.showText&&(t=e.texts[Math.ceil(n.value)-1]),t});function s(e,t){const r=Object.keys(t).filter(r=>{const o=t[r];return Jt(o)&&o.excluded?e<r:e<=r}).sort((e,t)=>e-t),o=t[r[0]];return Jt(o)?o.value:o||""}const l=Object(o["h"])(()=>100*e.modelValue-100*Math.floor(e.modelValue)),c=Object(o["h"])(()=>Yt(e.colors)?{[e.lowThreshold]:e.colors[0],[e.highThreshold]:{value:e.colors[1],excluded:!0},[e.max]:e.colors[2]}:e.colors),u=Object(o["h"])(()=>s(n.value,c.value)),d=Object(o["h"])(()=>{let t="";return i.value?t=l.value+"%":e.allowHalf&&(t="50%"),{color:u.value,width:t}}),p=Object(o["h"])(()=>Yt(e.iconClasses)?{[e.lowThreshold]:e.iconClasses[0],[e.highThreshold]:{value:e.iconClasses[1],excluded:!0},[e.max]:e.iconClasses[2]}:e.iconClasses),h=Object(o["h"])(()=>s(e.modelValue,p.value)),f=Object(o["h"])(()=>i.value?e.disabledVoidIconClass:e.voidIconClass),g=Object(o["h"])(()=>s(n.value,p.value)),m=Object(o["h"])(()=>{let t=Array(e.max),r=n.value;return t.fill(g.value,0,r),t.fill(f.value,r,e.max),t}),v=Object(o["J"])(!0);Object(o["ab"])(()=>e.modelValue,t=>{n.value=t,v.value=e.modelValue!==Math.floor(e.modelValue)});const b=Object(o["J"])(-1);return e.modelValue||t("update:modelValue",0),{hoverIndex:b,currentValue:n,rateDisabled:i,text:a,decimalStyle:d,decimalIconClass:h,classes:m,showDecimalIcon:function(t){let r=i.value&&l.value>0&&t-1<e.modelValue&&t>e.modelValue,o=e.allowHalf&&v.value&&t-.5<=n.value&&t>n.value;return r||o},getIconStyle:function(t){const r=i.value?e.disabledVoidColor:e.voidColor;return{color:t<=n.value?u.value:r}},selectValue:function(r){i.value||(e.allowHalf&&v.value?(t("update:modelValue",n.value),e.modelValue!==n.value&&t("change",n.value)):(t("update:modelValue",r),e.modelValue!==r&&t("change",r)))},handleKey:function(r){if(i.value)return;let o=n.value;const a=r.code;return a===to.up||a===to.right?(e.allowHalf?o+=.5:o+=1,r.stopPropagation(),r.preventDefault()):a!==to.left&&a!==to.down||(e.allowHalf?o-=.5:o-=1,r.stopPropagation(),r.preventDefault()),o=o<0?0:o,o=o>e.max?e.max:o,t("update:modelValue",o),t("change",o),o},setCurrentValue:function(t,r){if(!i.value){if(e.allowHalf){let e=r.target;Ir(e,"el-rate__item")&&(e=e.querySelector(".el-rate__icon")),Ir(e,"el-rate__decimal")&&(e=e.parentNode),v.value=2*r.offsetX<=e.clientWidth,n.value=v.value?t-.5:t}else n.value=t;b.value=t}},resetCurrentValue:function(){i.value||(e.allowHalf&&(v.value=e.modelValue!==Math.floor(e.modelValue)),n.value=e.modelValue,b.value=-1)}}}});Sp.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:"el-rate",role:"slider","aria-valuenow":e.currentValue,"aria-valuetext":e.text,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",onKeydown:t[2]||(t[2]=(...t)=>e.handleKey&&e.handleKey(...t))},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.max,(r,n)=>(Object(o["E"])(),Object(o["j"])("span",{key:n,class:"el-rate__item",style:{cursor:e.rateDisabled?"auto":"pointer"},onMousemove:t=>e.setCurrentValue(r,t),onMouseleave:t[1]||(t[1]=(...t)=>e.resetCurrentValue&&e.resetCurrentValue(...t)),onClick:t=>e.selectValue(r)},[Object(o["n"])("i",{class:[[e.classes[r-1],{hover:e.hoverIndex===r}],"el-rate__icon"],style:e.getIconStyle(r)},[e.showDecimalIcon(r)?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:[e.decimalIconClass,"el-rate__decimal"],style:e.decimalStyle},null,6)):Object(o["k"])("v-if",!0)],6)],44,["onMousemove","onClick"]))),128)),e.showText||e.showScore?(Object(o["E"])(),Object(o["j"])("span",{key:0,class:"el-rate__text",style:{color:e.textColor}},Object(o["R"])(e.text),5)):Object(o["k"])("v-if",!0)],40,["aria-valuenow","aria-valuetext","aria-valuemax"])},Sp.__file="packages/rate/src/index.vue",Sp.install=e=>{e.component(Sp.name,Sp)};const Tp=Sp,Cp=Object(o["o"])({name:"ElRow",props:{tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,default:"start"},align:{type:String,default:"top"}},setup(e,{slots:t}){const r=Object(o["h"])(()=>e.gutter);Object(o["G"])("ElRow",{gutter:r});const n=Object(o["h"])(()=>{const t={marginLeft:"",marginRight:""};return e.gutter&&(t.marginLeft=`-${e.gutter/2}px`,t.marginRight=t.marginLeft),t});return()=>{var r;return Object(o["q"])(e.tag,{class:["el-row","start"!==e.justify?"is-justify-"+e.justify:"","top"!==e.align?"is-align-"+e.align:""],style:n.value},null===(r=t.default)||void 0===r?void 0:r.call(t))}}});Cp.install=e=>{e.component(Cp.name,Cp)};const Rp=(e,t,r)=>{const{disabled:n,min:i,max:a,step:s,showTooltip:c,precision:u,sliderSize:d,formatTooltip:p,emitChange:h,resetSize:f,updateDragging:g}=Object(o["r"])("SliderProvider"),{tooltip:m,tooltipVisible:v,formatValue:b,displayTooltip:_,hideTooltip:E}=((e,t,r)=>{const n=Object(o["J"])(null),i=Object(o["J"])(!1),a=Object(o["h"])(()=>t.value instanceof Function),s=Object(o["h"])(()=>a.value&&t.value(e.modelValue)||e.modelValue),c=l()(()=>{r.value&&(i.value=!0)},50),u=l()(()=>{r.value&&(i.value=!1)},50);return{tooltip:n,tooltipVisible:i,formatValue:s,displayTooltip:c,hideTooltip:u}})(e,p,c),O=Object(o["h"])(()=>(e.modelValue-i.value)/(a.value-i.value)*100+"%"),y=Object(o["h"])(()=>e.vertical?{bottom:O.value}:{left:O.value}),S=e=>{let t,r;return e.type.startsWith("touch")?(r=e.touches[0].clientY,t=e.touches[0].clientX):(r=e.clientY,t=e.clientX),{clientX:t,clientY:r}},T=r=>{t.dragging=!0,t.isClick=!0;const{clientX:o,clientY:n}=S(r);e.vertical?t.startY=n:t.startX=o,t.startPosition=parseFloat(O.value),t.newPosition=t.startPosition},C=r=>{if(t.dragging){let o;t.isClick=!1,_(),f();const{clientX:n,clientY:i}=S(r);e.vertical?(t.currentY=i,o=(t.startY-t.currentY)/d.value*100):(t.currentX=n,o=(t.currentX-t.startX)/d.value*100),t.newPosition=t.startPosition+o,k(t.newPosition)}},R=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||E(),t.isClick||(k(t.newPosition),h())},0),kr(window,"mousemove",C),kr(window,"touchmove",C),kr(window,"mouseup",R),kr(window,"touchend",R),kr(window,"contextmenu",R))},k=n=>tu(void 0,void 0,void 0,(function*(){if(null===n||isNaN(n))return;n<0?n=0:n>100&&(n=100);const l=100/((a.value-i.value)/s.value);let c=Math.round(n/l)*l*(a.value-i.value)*.01+i.value;c=parseFloat(c.toFixed(u.value)),r(lo,c),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),yield Object(o["v"])(),t.dragging&&_(),m.value.updatePopper()}));return Object(o["ab"])(()=>t.dragging,e=>{g(e)}),{tooltip:m,tooltipVisible:v,showTooltip:c,wrapperStyle:y,formatValue:b,handleMouseEnter:()=>{t.hovering=!0,_()},handleMouseLeave:()=>{t.hovering=!1,t.dragging||E()},onButtonDown:e=>{n.value||(e.preventDefault(),T(e),Rr(window,"mousemove",C),Rr(window,"touchmove",C),Rr(window,"mouseup",R),Rr(window,"touchend",R),Rr(window,"contextmenu",R))},onLeftKeyDown:()=>{n.value||(t.newPosition=parseFloat(O.value)-s.value/(a.value-i.value)*100,k(t.newPosition),h())},onRightKeyDown:()=>{n.value||(t.newPosition=parseFloat(O.value)+s.value/(a.value-i.value)*100,k(t.newPosition),h())},setPosition:k}};var kp=Object(o["o"])({name:"ElSliderButton",components:{ElTooltip:Au},props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:{type:String,default:""}},emits:[lo],setup(e,{emit:t}){const r=Object(o["I"])({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:e.modelValue}),{tooltip:n,showTooltip:i,tooltipVisible:a,wrapperStyle:s,formatValue:l,handleMouseEnter:c,handleMouseLeave:u,onButtonDown:d,onLeftKeyDown:p,onRightKeyDown:h,setPosition:f}=Rp(e,r,t),{hovering:g,dragging:m}=Object(o["U"])(r);return{tooltip:n,tooltipVisible:a,showTooltip:i,wrapperStyle:s,formatValue:l,handleMouseEnter:c,handleMouseLeave:u,onButtonDown:d,onLeftKeyDown:p,onRightKeyDown:h,setPosition:f,hovering:g,dragging:m}}});kp.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-tooltip");return Object(o["E"])(),Object(o["j"])("div",{ref:"button",class:["el-slider__button-wrapper",{hover:e.hovering,dragging:e.dragging}],style:e.wrapperStyle,tabindex:"0",onMouseenter:t[2]||(t[2]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onMousedown:t[4]||(t[4]=(...t)=>e.onButtonDown&&e.onButtonDown(...t)),onTouchstart:t[5]||(t[5]=(...t)=>e.onButtonDown&&e.onButtonDown(...t)),onFocus:t[6]||(t[6]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onBlur:t[7]||(t[7]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onKeydown:[t[8]||(t[8]=Object(o["eb"])((...t)=>e.onLeftKeyDown&&e.onLeftKeyDown(...t),["left"])),t[9]||(t[9]=Object(o["eb"])((...t)=>e.onRightKeyDown&&e.onRightKeyDown(...t),["right"])),t[10]||(t[10]=Object(o["eb"])(Object(o["fb"])((...t)=>e.onLeftKeyDown&&e.onLeftKeyDown(...t),["prevent"]),["down"])),t[11]||(t[11]=Object(o["eb"])(Object(o["fb"])((...t)=>e.onRightKeyDown&&e.onRightKeyDown(...t),["prevent"]),["up"]))]},[Object(o["n"])(s,{ref:"tooltip",modelValue:e.tooltipVisible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tooltipVisible=t),placement:"top","stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!e.showTooltip,manual:""},{content:Object(o["cb"])(()=>[Object(o["n"])("span",null,Object(o["R"])(e.formatValue),1)]),default:Object(o["cb"])(()=>[Object(o["n"])("div",{class:["el-slider__button",{hover:e.hovering,dragging:e.dragging}]},null,2)]),_:1},8,["modelValue","popper-class","disabled"])],38)},kp.__file="packages/slider/src/button.vue";var Ip=Object(o["o"])({name:"ElMarker",props:{mark:{type:[String,Object],default:()=>{}}},setup:e=>({label:Object(o["h"])(()=>"string"==typeof e.mark?e.mark:e.mark.label)}),render(){var e;return Object(o["q"])("div",{class:"el-slider__marks-text",style:null===(e=this.mark)||void 0===e?void 0:e.style},this.label)}});Ip.__file="packages/slider/src/marker.vue";var jp=Object(o["o"])({name:"ElSlider",components:{ElInputNumber:uu,SliderButton:kp,SliderMarker:Ip},props:{modelValue:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String,default:""},debounce:{type:Number,default:300},label:{type:String,default:void 0},tooltipClass:{type:String,default:void 0},marks:Object},emits:[lo,"change","input"],setup(e,{emit:t}){const r=Object(o["I"])({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:n,slider:i,firstButton:a,secondButton:s,sliderDisabled:l,minValue:c,maxValue:u,runwayStyle:d,barStyle:p,resetSize:h,emitChange:f,onSliderClick:g}=((e,t,r)=>{const n=Object(o["r"])("elForm",{}),i=Object(o["r"])("elFormItem",{}),a=Object(o["J"])(null),s=Object(o["J"])(null),l=Object(o["J"])(null),c={firstButton:s,secondButton:l},u=Object(o["h"])(()=>e.disabled||n.disabled||!1),d=Object(o["h"])(()=>Math.min(t.firstValue,t.secondValue)),p=Object(o["h"])(()=>Math.max(t.firstValue,t.secondValue)),h=Object(o["h"])(()=>e.range?100*(p.value-d.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%"),f=Object(o["h"])(()=>e.range?100*(d.value-e.min)/(e.max-e.min)+"%":"0%"),g=Object(o["h"])(()=>e.vertical?{height:e.height}:{}),m=Object(o["h"])(()=>e.vertical?{height:h.value,bottom:f.value}:{width:h.value,left:f.value}),v=()=>{a.value&&(t.sliderSize=a.value["client"+(e.vertical?"Height":"Width")])},b=r=>{const o=e.min+r*(e.max-e.min)/100;if(!e.range)return void s.value.setPosition(r);let n;n=Math.abs(d.value-o)<Math.abs(p.value-o)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",c[n].value.setPosition(r)},_=()=>tu(void 0,void 0,void 0,(function*(){yield Object(o["v"])(),r("change",e.range?[d.value,p.value]:e.modelValue)}));return{elFormItem:i,slider:a,firstButton:s,secondButton:l,sliderDisabled:u,minValue:d,maxValue:p,runwayStyle:g,barStyle:m,resetSize:v,setPosition:b,emitChange:_,onSliderClick:r=>{if(!u.value&&!t.dragging){if(v(),e.vertical){const e=a.value.getBoundingClientRect().bottom;b((e-r.clientY)/t.sliderSize*100)}else{const e=a.value.getBoundingClientRect().left;b((r.clientX-e)/t.sliderSize*100)}_()}}}})(e,r,t),{stops:m,getStopStyle:v}=((e,t,r,n)=>({stops:Object(o["h"])(()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const o=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),a=Array.from({length:o-1}).map((e,t)=>(t+1)*i);return e.range?a.filter(t=>t<100*(r.value-e.min)/(e.max-e.min)||t>100*(n.value-e.min)/(e.max-e.min)):a.filter(r=>r>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:t=>e.vertical?{bottom:t+"%"}:{left:t+"%"}}))(e,r,c,u),b=(e=>Object(o["h"])(()=>e.marks?Object.keys(e.marks).map(parseFloat).sort((e,t)=>e-t).filter(t=>t<=e.max&&t>=e.min).map(t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]})):[]))(e);Lp(e,r,c,u,t,n);const _=Object(o["h"])(()=>{let t=[e.min,e.max,e.step].map(e=>{let t=(""+e).split(".")[1];return t?t.length:0});return Math.max.apply(null,t)}),{sliderWrapper:E}=Mp(e,r,h),{firstValue:O,secondValue:y,oldValue:S,dragging:T,sliderSize:C}=Object(o["U"])(r);return Object(o["G"])("SliderProvider",Object.assign(Object.assign({},Object(o["U"])(e)),{sliderSize:C,disabled:l,precision:_,emitChange:f,resetSize:h,updateDragging:e=>{r.dragging=e}})),{firstValue:O,secondValue:y,oldValue:S,dragging:T,sliderSize:C,slider:i,firstButton:a,secondButton:s,sliderDisabled:l,runwayStyle:d,barStyle:p,emitChange:f,onSliderClick:g,getStopStyle:v,stops:m,markList:b,sliderWrapper:E}}});const Lp=(e,t,r,n,i,a)=>{const s=e=>{i(lo,e),i("input",e)},l=()=>e.range?![r.value,n.value].every((e,r)=>e===t.oldValue[r]):e.modelValue!==t.oldValue,c=()=>{var o,i;if(e.min>e.max)return void sr("Slider","min should not be greater than max.");const c=e.modelValue;e.range&&Array.isArray(c)?c[1]<e.min?s([e.min,e.min]):c[0]>e.max?s([e.max,e.max]):c[0]<e.min?s([e.min,c[1]]):c[1]>e.max?s([c[0],e.max]):(t.firstValue=c[0],t.secondValue=c[1],l()&&(null===(o=a.formItemMitt)||void 0===o||o.emit("el.form.change",[r.value,n.value]),t.oldValue=c.slice())):e.range||"number"!=typeof c||isNaN(c)||(c<e.min?s(e.min):c>e.max?s(e.max):(t.firstValue=c,l()&&(null===(i=a.formItemMitt)||void 0===i||i.emit("el.form.change",c),t.oldValue=c)))};c(),Object(o["ab"])(()=>t.dragging,e=>{e||c()}),Object(o["ab"])(()=>t.firstValue,t=>{e.range?s([r.value,n.value]):s(t)}),Object(o["ab"])(()=>t.secondValue,()=>{e.range&&s([r.value,n.value])}),Object(o["ab"])(()=>e.modelValue,(e,r)=>{t.dragging||Array.isArray(e)&&Array.isArray(r)&&e.every((e,t)=>e===r[t])||c()}),Object(o["ab"])(()=>[e.min,e.max],()=>{c()})},Mp=(e,t,r)=>{const n=Object(o["J"])(null);return Object(o["B"])(()=>tu(void 0,void 0,void 0,(function*(){let i;e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue],i=`${t.firstValue}-${t.secondValue}`):("number"!=typeof e.modelValue||isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue,i=t.firstValue),n.value.setAttribute("aria-valuetext",i),n.value.setAttribute("aria-label",e.label?e.label:`slider between ${e.min} and ${e.max}`),Rr(window,"resize",r),yield Object(o["v"])(),r()}))),Object(o["y"])(()=>{kr(window,"resize",r)}),{sliderWrapper:n}},Np={key:1},Ap={class:"el-slider__marks"};jp.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-input-number"),l=Object(o["N"])("slider-button"),c=Object(o["N"])("slider-marker");return Object(o["E"])(),Object(o["j"])("div",{ref:"sliderWrapper",class:["el-slider",{"is-vertical":e.vertical,"el-slider--with-input":e.showInput}],role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled},[e.showInput&&!e.range?(Object(o["E"])(),Object(o["j"])(s,{key:0,ref:"input",modelValue:e.firstValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.firstValue=t),class:"el-slider__input",step:e.step,disabled:e.sliderDisabled,controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:e.inputSize,onChange:e.emitChange},null,8,["modelValue","step","disabled","controls","min","max","debounce","size","onChange"])):Object(o["k"])("v-if",!0),Object(o["n"])("div",{ref:"slider",class:["el-slider__runway",{"show-input":e.showInput&&!e.range,disabled:e.sliderDisabled}],style:e.runwayStyle,onClick:t[4]||(t[4]=(...t)=>e.onSliderClick&&e.onSliderClick(...t))},[Object(o["n"])("div",{class:"el-slider__bar",style:e.barStyle},null,4),Object(o["n"])(l,{ref:"firstButton",modelValue:e.firstValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.firstValue=t),vertical:e.vertical,"tooltip-class":e.tooltipClass},null,8,["modelValue","vertical","tooltip-class"]),e.range?(Object(o["E"])(),Object(o["j"])(l,{key:0,ref:"secondButton",modelValue:e.secondValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.secondValue=t),vertical:e.vertical,"tooltip-class":e.tooltipClass},null,8,["modelValue","vertical","tooltip-class"])):Object(o["k"])("v-if",!0),e.showStops?(Object(o["E"])(),Object(o["j"])("div",Np,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.stops,(t,r)=>(Object(o["E"])(),Object(o["j"])("div",{key:r,class:"el-slider__stop",style:e.getStopStyle(t)},null,4))),128))])):Object(o["k"])("v-if",!0),e.markList.length>0?(Object(o["E"])(),Object(o["j"])(o["b"],{key:2},[Object(o["n"])("div",null,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.markList,(t,r)=>(Object(o["E"])(),Object(o["j"])("div",{key:r,style:e.getStopStyle(t.position),class:"el-slider__stop el-slider__marks-stop"},null,4))),128))]),Object(o["n"])("div",Ap,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.markList,(t,r)=>(Object(o["E"])(),Object(o["j"])(c,{key:r,mark:t.mark,style:e.getStopStyle(t.position)},null,8,["mark","style"]))),128))])],64)):Object(o["k"])("v-if",!0)],6)],10,["aria-valuemin","aria-valuemax","aria-orientation","aria-disabled"])},jp.__file="packages/slider/src/index.vue",jp.install=e=>{e.component(jp.name,jp)};const Pp=jp;var wp=Object(o["o"])({name:"ElStep",props:{title:{type:String,default:""},icon:{type:String,default:""},description:{type:String,default:""},status:{type:String,default:"",validator:e=>["","wait","process","finish","error","success"].includes(e)}},setup(e){const t=Object(o["J"])(-1),r=Object(o["J"])({}),n=Object(o["J"])(""),i=Object(o["r"])("ElSteps"),a=Object(o["p"])();Object(o["B"])(()=>{Object(o["ab"])([()=>i.props.active,()=>i.props.processStatus,()=>i.props.finishStatus],([e])=>{b(e)},{immediate:!0})}),Object(o["y"])(()=>{i.steps.value=i.steps.value.filter(e=>e.uid!==a.uid)});const s=Object(o["h"])(()=>e.status||n.value),l=Object(o["h"])(()=>{const e=i.steps.value[t.value-1];return e?e.currentStatus:"wait"}),c=Object(o["h"])(()=>i.props.alignCenter),u=Object(o["h"])(()=>"vertical"===i.props.direction),d=Object(o["h"])(()=>i.props.simple),p=Object(o["h"])(()=>i.steps.value.length),h=Object(o["h"])(()=>{var e;return(null===(e=i.steps.value[p.value-1])||void 0===e?void 0:e.uid)===a.uid}),f=Object(o["h"])(()=>d.value?"":i.props.space),g=Object(o["h"])(()=>{const e={flexBasis:"number"==typeof f.value?f.value+"px":f.value?f.value:100/(p.value-(c.value?0:1))+"%"};return u.value||h.value&&(e.maxWidth=100/p.value+"%"),e}),m=e=>{t.value=e},v=e=>{let o=100;const n={};n.transitionDelay=150*t.value+"ms",e===i.props.processStatus?o=0:"wait"===e&&(o=0,n.transitionDelay=-150*t.value+"ms"),n.borderWidth=o&&!d.value?"1px":0,n["vertical"===i.props.direction?"height":"width"]=o+"%",r.value=n},b=e=>{e>t.value?n.value=i.props.finishStatus:e===t.value&&"error"!==l.value?n.value=i.props.processStatus:n.value="wait";const r=i.steps.value[p.value-1];r&&r.calcProgress(n.value)},_=Object(o["I"])({uid:Object(o["h"])(()=>a.uid),currentStatus:s,setIndex:m,calcProgress:v});return i.steps.value=[...i.steps.value,_],{index:t,lineStyle:r,currentStatus:s,isCenter:c,isVertical:u,isSimple:d,isLast:h,space:f,style:g,parent:i,setIndex:m,calcProgress:v,updateStatus:b}}});const xp={class:"el-step__line"},Dp={key:1,class:"el-step__icon-inner"},Up={class:"el-step__main"},Bp={key:0,class:"el-step__arrow"};wp.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{style:e.style,class:["el-step",e.isSimple?"is-simple":"is-"+e.parent.props.direction,e.isLast&&!e.space&&!e.isCenter&&"is-flex",e.isCenter&&!e.isVertical&&!e.isSimple&&"is-center"]},[Object(o["k"])(" icon & line "),Object(o["n"])("div",{class:["el-step__head","is-"+e.currentStatus]},[Object(o["n"])("div",xp,[Object(o["n"])("i",{class:"el-step__line-inner",style:e.lineStyle},null,4)]),Object(o["n"])("div",{class:["el-step__icon","is-"+(e.icon?"icon":"text")]},["success"!==e.currentStatus&&"error"!==e.currentStatus?Object(o["M"])(e.$slots,"icon",{key:0},()=>[e.icon?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-step__icon-inner",e.icon]},null,2)):Object(o["k"])("v-if",!0),e.icon||e.isSimple?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("div",Dp,Object(o["R"])(e.index+1),1))]):(Object(o["E"])(),Object(o["j"])("i",{key:1,class:["el-step__icon-inner","is-status","el-icon-"+("success"===e.currentStatus?"check":"close")]},null,2))],2)],2),Object(o["k"])(" title & description "),Object(o["n"])("div",Up,[Object(o["n"])("div",{class:["el-step__title","is-"+e.currentStatus]},[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["m"])(Object(o["R"])(e.title),1)])],2),e.isSimple?(Object(o["E"])(),Object(o["j"])("div",Bp)):(Object(o["E"])(),Object(o["j"])("div",{key:1,class:["el-step__description","is-"+e.currentStatus]},[Object(o["M"])(e.$slots,"description",{},()=>[Object(o["m"])(Object(o["R"])(e.description),1)])],2))])],6)},wp.__file="packages/steps/src/item.vue",wp.install=e=>{e.component(wp.name,wp)};const Zp=wp;var Hp=Object(o["o"])({name:"ElSteps",props:{space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},alignCenter:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},finishStatus:{type:String,default:"finish",validator:e=>["wait","process","finish","error","success"].includes(e)},processStatus:{type:String,default:"process",validator:e=>["wait","process","finish","error","success"].includes(e)}},emits:["change"],setup(e,{emit:t}){const r=Object(o["J"])([]);return Object(o["ab"])(r,()=>{r.value.forEach((e,t)=>{e.setIndex(t)})}),Object(o["G"])("ElSteps",{props:e,steps:r}),Object(o["ab"])(()=>e.active,(e,r)=>{t("change",e,r)}),{steps:r}}});Hp.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-steps",e.simple?"el-steps--simple":"el-steps--"+e.direction]},[Object(o["M"])(e.$slots,"default")],2)},Hp.__file="packages/steps/src/index.vue",Hp.install=e=>{e.component(Hp.name,Hp)};const Gp=Hp;var Vp=Object(o["o"])({name:"ElSubmenu",componentName:"ElSubmenu",props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},setup(e){const t=Object(o["I"])({popperJS:null,timeout:null,items:{},submenus:{},currentPlacement:"",mouseInChild:!1,opened:!1}),r=Object(o["J"])(null),n=Object(o["J"])(null),i=Object(o["p"])(),{paddingStyle:a,indexPath:s,parentMenu:l}=Mu(i,e.index),{openedMenus:c,isMenuPopup:u,hoverBackground:p,methods:h,props:f,methods:{closeMenu:g},rootMenuOn:m,rootMenuEmit:v}=Object(o["r"])("rootMenu"),{addSubMenu:b,removeSubMenu:_,handleMouseleave:E}=Object(o["r"])("subMenu:"+l.value.uid),O=Object(o["h"])(()=>"horizontal"===L.value&&y.value||"vertical"===L.value&&!f.collapse?"el-icon-arrow-down":"el-icon-arrow-right"),y=Object(o["h"])(()=>{let e=!0,t=i.parent;for(;t&&"ElMenu"!==t.type.name;){if(["ElSubmenu","ElMenuItemGroup"].includes(t.type.name)){e=!1;break}t=t.parent}return e}),S=Object(o["h"])(()=>void 0===e.popperAppendToBody?y.value:Boolean(e.popperAppendToBody)),T=Object(o["h"])(()=>f.collapse?"el-zoom-in-left":"el-zoom-in-top"),C=Object(o["h"])(()=>c.value.includes(e.index)),R=Object(o["h"])(()=>{let e=!1;const r=t.submenus,o=t.items;return Object.keys(o).forEach(t=>{o[t].active&&(e=!0)}),Object.keys(r).forEach(t=>{r[t].active&&(e=!0)}),e}),k=Object(o["h"])(()=>f.backgroundColor||""),I=Object(o["h"])(()=>f.activeTextColor||""),j=Object(o["h"])(()=>f.textColor||""),L=Object(o["h"])(()=>f.mode),M=Object(o["h"])(()=>"horizontal"!==L.value?{color:j.value}:{borderBottomColor:R.value?f.activeTextColor?I.value:"":"transparent",color:R.value?I.value:j.value}),N=d(),A=e=>{var t;e?D():null===(t=n.value)||void 0===t||t.doDestroy()},P=e=>{t.submenus[e.index]=e},w=e=>{delete t.submenus[e.index]},x=(r=!1)=>{"click"===f.menuTrigger&&"horizontal"===f.mode||!f.collapse&&"vertical"===f.mode||(N.emit("submenu:mouse-leave-child"),clearTimeout(t.timeout),t.timeout=setTimeout(()=>{!t.mouseInChild&&g(e.index)},e.hideTimeout),S.value&&r&&"ElSubmenu"===i.parent.type.name&&E(!0))},D=()=>{t.currentPlacement="horizontal"===L.value&&y.value?"bottom-start":"right-start"};return Object(o["G"])("subMenu:"+i.uid,{addSubMenu:P,removeSubMenu:w,handleMouseleave:x}),Object(o["x"])(()=>{m("rootMenu:toggle-collapse",e=>{A(e)}),N.on("submenu:mouse-enter-child",()=>{t.mouseInChild=!0,clearTimeout(t.timeout)}),N.on("submenu:mouse-leave-child",()=>{t.mouseInChild=!1,clearTimeout(t.timeout)})}),Object(o["B"])(()=>{h.addSubMenu({index:e.index,indexPath:s,active:R}),b({index:e.index,indexPath:s,active:R}),D()}),Object(o["y"])(()=>{_({index:e.index,indexPath:s,active:R}),h.removeSubMenu({index:e.index,indexPath:s,active:R})}),{data:t,props:e,mode:L,active:R,isMenuPopup:u,opened:C,paddingStyle:a,titleStyle:M,backgroundColor:k,rootProps:f,menuTransitionName:T,submenuTitleIcon:O,appendToBody:S,handleClick:()=>{const t=e.disabled;"hover"===f.menuTrigger&&"horizontal"===f.mode||f.collapse&&"vertical"===f.mode||t||v("submenu:submenu-click",{index:e.index,indexPath:s})},handleMouseenter:(r,o=e.showTimeout)=>{if(!("ActiveXObject"in window)&&"focus"===r.type&&!r.relatedTarget)return;const n=e.disabled;"click"===f.menuTrigger&&"horizontal"===f.mode||!f.collapse&&"vertical"===f.mode||n||(N.emit("submenu:mouse-enter-child"),clearTimeout(t.timeout),t.timeout=setTimeout(()=>{h.openMenu(e.index,s)},o),S.value&&l.value.vnode.el.dispatchEvent(new MouseEvent("mouseenter")))},handleMouseleave:x,handleTitleMouseenter:()=>{var e;if("horizontal"===L.value&&!f.backgroundColor)return;const t=(null===(e=n.value)||void 0===e?void 0:e.triggerRef)||r.value;t&&(t.style.backgroundColor=p.value)},handleTitleMouseleave:()=>{var e;if("horizontal"===L.value&&!f.backgroundColor)return;const t=(null===(e=n.value)||void 0===e?void 0:e.triggerRef)||r.value;t&&(t.style.backgroundColor=f.backgroundColor||"")},addItem:e=>{t.items[e.index]=e},removeItem:e=>{delete t.items[e.index]},addSubMenu:P,removeSubMenu:w,popperVnode:n,verticalTitleRef:r}},render(){var e,t;const r=[null===(t=(e=this.$slots).title)||void 0===t?void 0:t.call(e),Object(o["q"])("i",{class:["el-submenu__icon-arrow",this.submenuTitleIcon]},null)],n={backgroundColor:this.rootProps.backgroundColor||""},i=this.isMenuPopup?Object(o["q"])(mn,{ref:"popperVNode",manualMode:!0,visible:this.opened,"onUpdate:visible":e=>this.opened=e,effect:"light",pure:!0,offset:6,showArrow:!1,popperClass:this.popperClass,placement:this.data.currentPlacement,appendToBody:this.appendToBody,transition:this.menuTransitionName,gpuAcceleration:!1},{default:()=>{var e,t;return Object(o["q"])("div",{ref:"menu",class:["el-menu--"+this.mode,this.popperClass],onMouseenter:e=>this.handleMouseenter(e,100),onMouseleave:()=>this.handleMouseleave(!0),onFocus:e=>this.handleMouseenter(e,100)},[Object(o["q"])("ul",{class:["el-menu el-menu--popup","el-menu--popup-"+this.data.currentPlacement],style:n},[null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)])])},trigger:()=>Object(o["q"])("div",{class:"el-submenu__title",style:[this.paddingStyle,this.titleStyle,{backgroundColor:this.backgroundColor}],onClick:this.handleClick,onMouseenter:this.handleTitleMouseenter,onMouseleave:this.handleTitleMouseleave},r)}):Object(o["q"])(o["b"],{},[Object(o["q"])("div",{class:"el-submenu__title",style:[this.paddingStyle,this.titleStyle,{backgroundColor:this.backgroundColor}],ref:"verticalTitleRef",onClick:this.handleClick,onMouseenter:this.handleTitleMouseenter,onMouseleave:this.handleTitleMouseleave},r),Object(o["q"])($a,{},{default:()=>{var e,t;return Object(o["db"])(Object(o["q"])("ul",{role:"menu",class:"el-menu el-menu--inline",style:n},[null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)]),[[o["Z"],this.opened]])}})]);return Object(o["q"])("li",{class:["el-submenu",{"is-active":this.active,"is-opened":this.opened,"is-disabled":this.disabled}],role:"menuitem",ariaHaspopup:!0,ariaExpanded:this.opened,onMouseenter:this.handleMouseenter,onMouseleave:()=>this.handleMouseleave(!0),onFocus:this.handleMouseenter},[i])}});Vp.__file="packages/menu/src/submenu.vue",Vp.install=e=>{e.component(Vp.name,Vp)};const zp=Vp;var Wp=Object(o["o"])({name:"ElSwitch",props:{modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:Function},emits:["update:modelValue","change","input"],setup(e,t){const r=Object(o["r"])("elForm",{}),n=Object(o["r"])("elFormItem",{}),i=Object(o["J"])(!1!==e.modelValue),a=Object(o["J"])(null),s=Object(o["J"])(null),l="ElSwitch";Object(o["ab"])(()=>e.modelValue,()=>{i.value=!0}),Object(o["ab"])(()=>e.value,()=>{i.value=!1});const c=Object(o["h"])(()=>i.value?e.modelValue:e.value),u=Object(o["h"])(()=>c.value===e.activeValue);~[e.activeValue,e.inactiveValue].indexOf(c.value)||(t.emit("update:modelValue",e.inactiveValue),t.emit("change",e.inactiveValue),t.emit("input",e.inactiveValue)),Object(o["ab"])(u,()=>{var t;a.value.checked=u.value,(e.activeColor||e.inactiveColor)&&h(),e.validateEvent&&(null===(t=n.formItemMitt)||void 0===t||t.emit("el.form.change",[c.value]))});const d=Object(o["h"])(()=>e.disabled||e.loading||(r||{}).disabled),p=()=>{const r=u.value?e.inactiveValue:e.activeValue;t.emit("update:modelValue",r),t.emit("change",r),t.emit("input",r),Object(o["v"])(()=>{a.value.checked=u.value})},h=()=>{const t=u.value?e.activeColor:e.inactiveColor,r=s.value;r.style.borderColor=t,r.style.backgroundColor=t,r.children[0].style.color=t};return Object(o["B"])(()=>{(e.activeColor||e.inactiveColor)&&h(),a.value.checked=u.value}),{input:a,core:s,switchDisabled:d,checked:u,handleChange:p,switchValue:()=>{if(d.value)return;const{beforeChange:t}=e;if(!t)return void p();const r=t();[Xt(r),hr(r)].some(e=>e)||sr(l,"beforeChange must return type `Promise<boolean>` or `boolean`"),Xt(r)?r.then(e=>{e&&p()}).catch(e=>{}):r&&p()},focus:()=>{var e,t;null===(t=null===(e=a.value)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)}}}});const Fp={class:"el-switch__action"},qp={key:0,class:"el-icon-loading"};Wp.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-switch",{"is-disabled":e.switchDisabled,"is-checked":e.checked}],role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:t[3]||(t[3]=Object(o["fb"])((...t)=>e.switchValue&&e.switchValue(...t),["prevent"]))},[Object(o["n"])("input",{id:e.id,ref:"input",class:"el-switch__input",type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:t[1]||(t[1]=(...t)=>e.handleChange&&e.handleChange(...t)),onKeydown:t[2]||(t[2]=Object(o["eb"])((...t)=>e.switchValue&&e.switchValue(...t),["enter"]))},null,40,["id","name","true-value","false-value","disabled"]),e.inactiveIconClass||e.inactiveText?(Object(o["E"])(),Object(o["j"])("span",{key:0,class:["el-switch__label","el-switch__label--left",e.checked?"":"is-active"]},[e.inactiveIconClass?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:[e.inactiveIconClass]},null,2)):Object(o["k"])("v-if",!0),!e.inactiveIconClass&&e.inactiveText?(Object(o["E"])(),Object(o["j"])("span",{key:1,"aria-hidden":e.checked},Object(o["R"])(e.inactiveText),9,["aria-hidden"])):Object(o["k"])("v-if",!0)],2)):Object(o["k"])("v-if",!0),Object(o["n"])("span",{ref:"core",class:"el-switch__core",style:{width:(e.width||40)+"px"}},[Object(o["n"])("div",Fp,[e.loading?(Object(o["E"])(),Object(o["j"])("i",qp)):Object(o["k"])("v-if",!0)])],4),e.activeIconClass||e.activeText?(Object(o["E"])(),Object(o["j"])("span",{key:1,class:["el-switch__label","el-switch__label--right",e.checked?"is-active":""]},[e.activeIconClass?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:[e.activeIconClass]},null,2)):Object(o["k"])("v-if",!0),!e.activeIconClass&&e.activeText?(Object(o["E"])(),Object(o["j"])("span",{key:1,"aria-hidden":!e.checked},Object(o["R"])(e.activeText),9,["aria-hidden"])):Object(o["k"])("v-if",!0)],2)):Object(o["k"])("v-if",!0)],10,["aria-checked","aria-disabled"])},Wp.__file="packages/switch/src/index.vue",Wp.install=e=>{e.component(Wp.name,Wp)};const Yp=Wp;var $p=Object(o["o"])({name:"ElTabPane",props:{label:{type:String,default:""},name:{type:String,default:""},closable:Boolean,disabled:Boolean,lazy:Boolean},setup(e){const t=Object(o["J"])(null),r=Object(o["J"])(!1),n=Object(o["r"])("rootTabs"),i=Object(o["r"])("updatePaneState");if(!n||!i)throw new Error("ElTabPane must use with ElTabs");const a=Object(o["h"])(()=>e.closable||n.props.closable),s=Object(o["h"])(()=>{const o=n.currentName.value===(e.name||t.value);return o&&(r.value=!0),o}),l=Object(o["h"])(()=>e.name||t.value),c=Object(o["h"])(()=>!e.lazy||r.value||s.value),u=Object(o["p"])();return i({uid:u.uid,instance:u,props:e,paneName:l,active:s,index:t,isClosable:a}),{index:t,loaded:r,isClosable:a,active:s,paneName:l,shouldBeRender:c}}});$p.render=function(e,t,r,n,i,a){return e.shouldBeRender?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{key:0,id:"pane-"+e.paneName,class:"el-tab-pane",role:"tabpanel","aria-hidden":!e.active,"aria-labelledby":"tab-"+e.paneName},[Object(o["M"])(e.$slots,"default")],8,["id","aria-hidden","aria-labelledby"])),[[o["Z"],e.active]]):Object(o["k"])("v-if",!0)},$p.__file="packages/tabs/src/tab-pane.vue",$p.install=e=>{e.component($p.name,$p)};const Kp=$p,Jp=function(e){let t=e.target;for(;t&&"HTML"!==t.tagName.toUpperCase();){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null},Xp=function(e){return null!==e&&"object"==typeof e},Qp=function(e,t,r,o,n){if(!t&&!o&&(!n||Array.isArray(n)&&!n.length))return e;r="string"==typeof r?"descending"===r?-1:1:r&&r<0?-1:1;const i=o?null:function(r,o){return n?(Array.isArray(n)||(n=[n]),n.map((function(t){return"string"==typeof t?cr(r,t):t(r,o,e)}))):("$key"!==t&&Xp(r)&&"$value"in r&&(r=r.$value),[Xp(r)?cr(r,t):r])};return e.map((function(e,t){return{value:e,index:t,key:i?i(e,t):null}})).sort((function(e,t){let n=function(e,t){if(o)return o(e.value,t.value);for(let r=0,o=e.key.length;r<o;r++){if(e.key[r]<t.key[r])return-1;if(e.key[r]>t.key[r])return 1}return 0}(e,t);return n||(n=e.index-t.index),n*+r})).map(e=>e.value)},eh=function(e,t){let r=null;return e.columns.forEach((function(e){e.id===t&&(r=e)})),r},th=function(e,t){const r=(t.className||"").match(/el-table_[^\s]+/gm);return r?eh(e,r[0]):null},rh=(e,t)=>{if(!e)throw new Error("row is required when get row identity");if("string"==typeof t){if(t.indexOf(".")<0)return e[t]+"";const r=t.split(".");let o=e;for(let e=0;e<r.length;e++)o=o[r[e]];return o+""}if("function"==typeof t)return t.call(null,e)},oh=function(e,t){const r={};return(e||[]).forEach((e,o)=>{r[rh(e,t)]={row:e,index:o}}),r};function nh(e){return void 0!==e&&(e=parseInt(e,10),isNaN(e)&&(e=null)),+e}function ih(e){return"number"==typeof e?e:"string"==typeof e?/^\d+(?:px)?$/.test(e)?parseInt(e,10):e:null}function ah(e,t,r){let o=!1;const n=e.indexOf(t),i=-1!==n,a=()=>{e.push(t),o=!0},s=()=>{e.splice(n,1),o=!0};return"boolean"==typeof r?r&&!i?a():!r&&i&&s():i?s():a(),o}function sh(e,t,r="children",o="hasChildren"){const n=e=>!(Array.isArray(e)&&e.length);function i(e,a,s){t(e,a,s),a.forEach(e=>{if(e[o])return void t(e,null,s+1);const a=e[r];n(a)||i(e,a,s+1)})}e.forEach(e=>{if(e[o])return void t(e,null,0);const a=e[r];n(a)||i(e,a,0)})}let lh;const ch=e=>{const t=[];return e.forEach(e=>{e.children?t.push.apply(t,ch(e.children)):t.push(e)}),t};function uh(){const e=Object(o["p"])(),t=Object(o["J"])(null),r=Object(o["J"])([]),n=Object(o["J"])([]),i=Object(o["J"])(!1),a=Object(o["J"])([]),s=Object(o["J"])([]),l=Object(o["J"])([]),c=Object(o["J"])([]),u=Object(o["J"])([]),d=Object(o["J"])([]),p=Object(o["J"])([]),h=Object(o["J"])([]),f=Object(o["J"])(0),g=Object(o["J"])(0),m=Object(o["J"])(0),v=Object(o["J"])(!1),b=Object(o["J"])([]),_=Object(o["J"])(!1),E=Object(o["J"])(!1),O=Object(o["J"])(null),y=Object(o["J"])({}),S=Object(o["J"])(null),T=Object(o["J"])(null),C=Object(o["J"])(null),R=Object(o["J"])(null),k=Object(o["J"])(null);Object(o["ab"])(r,()=>e.state&&j(!1),{deep:!0});const I=()=>{c.value=a.value.filter(e=>!0===e.fixed||"left"===e.fixed),u.value=a.value.filter(e=>"right"===e.fixed),c.value.length>0&&a.value[0]&&"selection"===a.value[0].type&&!a.value[0].fixed&&(a.value[0].fixed=!0,c.value.unshift(a.value[0]));const e=a.value.filter(e=>!e.fixed);s.value=[].concat(c.value).concat(e).concat(u.value);const t=ch(e),r=ch(c.value),o=ch(u.value);f.value=t.length,g.value=r.length,m.value=o.length,l.value=[].concat(r).concat(t).concat(o),i.value=c.value.length>0||u.value.length>0},j=(t,r=!1)=>{t&&I(),r?e.state.doLayout():e.state.debouncedUpdateLayout()},L=t=>{var r;if(!e||!e.store)return 0;const{treeData:o}=e.store.states;let n=0;const i=null===(r=o.value[t])||void 0===r?void 0:r.children;return i&&(n+=i.length,i.forEach(e=>{n+=L(e)})),n},M=(e,t,r)=>{T.value&&T.value!==e&&(T.value.order=null),T.value=e,C.value=t,R.value=r},N=()=>{let e=Object(o["V"])(n);Object.keys(y.value).forEach(t=>{const r=y.value[t];if(!r||0===r.length)return;const o=eh({columns:l.value},t);o&&o.filterMethod&&(e=e.filter(e=>r.some(t=>o.filterMethod.call(null,t,e,o))))}),S.value=e},A=()=>{r.value=((e,t)=>{const r=t.sortingColumn;return r&&"string"!=typeof r.sortable?Qp(e,t.sortProp,t.sortOrder,r.sortMethod,r.sortBy):e})(S.value,{sortingColumn:T.value,sortProp:C.value,sortOrder:R.value})},{setExpandRowKeys:P,toggleRowExpansion:w,updateExpandRows:x,states:D,isRowExpanded:U}=function(e){const t=Object(o["p"])(),r=Object(o["J"])(!1),n=Object(o["J"])([]);return{updateExpandRows:()=>{const t=e.data.value||[],o=e.rowKey.value;if(r.value)n.value=t.slice();else if(o){const e=oh(n.value,o);n.value=t.reduce((t,r)=>{const n=rh(r,o);return e[n]&&t.push(r),t},[])}else n.value=[]},toggleRowExpansion:(e,r)=>{ah(n.value,e,r)&&(t.emit("expand-change",e,n.value.slice()),t.store.scheduleLayout())},setExpandRowKeys:r=>{t.store.assertRowKey();const o=e.data.value||[],i=e.rowKey.value,a=oh(o,i);n.value=r.reduce((e,t)=>{const r=a[t];return r&&e.push(r.row),e},[])},isRowExpanded:t=>{const r=e.rowKey.value;return r?!!oh(n.value,r)[rh(t,r)]:-1!==n.value.indexOf(t)},states:{expandRows:n,defaultExpandAll:r}}}({data:r,rowKey:t}),{updateTreeExpandKeys:B,toggleTreeExpansion:Z,loadOrToggle:H,states:G}=function(e){const t=Object(o["J"])([]),r=Object(o["J"])({}),n=Object(o["J"])(16),i=Object(o["J"])(!1),a=Object(o["J"])({}),s=Object(o["J"])("hasChildren"),l=Object(o["J"])("children"),c=Object(o["p"])(),u=Object(o["h"])(()=>{if(!e.rowKey.value)return{};const t=e.data.value||[];return p(t)}),d=Object(o["h"])(()=>{const t=e.rowKey.value,r=Object.keys(a.value),o={};return r.length?(r.forEach(e=>{if(a.value[e].length){const r={children:[]};a.value[e].forEach(e=>{const n=rh(e,t);r.children.push(n),e[s.value]&&!o[n]&&(o[n]={children:[]})}),o[e]=r}}),o):o}),p=t=>{const r=e.rowKey.value,o={};return sh(t,(e,t,n)=>{const a=rh(e,r);Array.isArray(t)?o[a]={children:t.map(e=>rh(e,r)),level:n}:i.value&&(o[a]={children:[],lazy:!0,level:n})},l.value,s.value),o},h=()=>{var e,n;const a=u.value,s=d.value,l=Object.keys(a),p={};if(l.length){const n=Object(o["V"])(r),u=null===(e=c.store)||void 0===e?void 0:e.states.defaultExpandAll.value,d=[],h=(e,r)=>{const o=u||t.value&&-1!==t.value.indexOf(r);return!!(e&&e.expanded||o)};l.forEach(e=>{const t=n[e],r=Object.assign({},a[e]);if(r.expanded=h(t,e),r.lazy){const{loaded:o=!1,loading:n=!1}=t||{};r.loaded=!!o,r.loading=!!n,d.push(e)}p[e]=r});const f=Object.keys(s);i.value&&f.length&&d.length&&f.forEach(e=>{const t=n[e],r=s[e].children;if(-1!==d.indexOf(e)){if(0!==p[e].children.length)throw new Error("[ElTable]children must be an empty array.");p[e].children=r}else{const{loaded:o=!1,loading:n=!1}=t||{};p[e]={lazy:!0,loaded:!!o,loading:!!n,expanded:h(t,e),children:r,level:""}}})}r.value=p,null===(n=c.store)||void 0===n||n.updateTableScrollY()};Object(o["ab"])(()=>u.value,h),Object(o["ab"])(()=>d.value,h);const f=(t,o)=>{c.store.assertRowKey();const n=e.rowKey.value,i=rh(t,n),a=i&&r.value[i];if(i&&a&&"expanded"in a){const e=a.expanded;o=void 0===o?!a.expanded:o,r.value[i].expanded=o,e!==o&&c.emit("expand-change",t,o),c.store.updateTableScrollY()}},g=(e,t,o)=>{const{load:n}=c.props;n&&!r.value[t].loaded&&(r.value[t].loading=!0,n(e,o,o=>{if(!Array.isArray(o))throw new Error("[ElTable] data must be an array");r.value[t].loading=!1,r.value[t].loaded=!0,r.value[t].expanded=!0,o.length&&(a.value[t]=o),c.emit("expand-change",e,!0)}))};return{loadData:g,loadOrToggle:t=>{c.store.assertRowKey();const o=e.rowKey.value,n=rh(t,o),a=r.value[n];i.value&&a&&"loaded"in a&&!a.loaded?g(t,n,a):f(t,void 0)},toggleTreeExpansion:f,updateTreeExpandKeys:e=>{t.value=e,h()},updateTreeData:h,normalize:p,states:{expandRowKeys:t,treeData:r,indent:n,lazy:i,lazyTreeNodeMap:a,lazyColumnIdentifier:s,childrenColumnName:l}}}({data:r,rowKey:t}),{updateCurrentRowData:V,updateCurrentRow:z,setCurrentRowKey:W,states:F}=function(e){const t=Object(o["p"])(),r=Object(o["J"])(null),n=Object(o["J"])(null),i=()=>{r.value=null},a=t=>{const{data:r=[],rowKey:i}=e;let a=null;i.value&&(a=Er(Object(o["V"])(r),e=>rh(e,i.value)===t)),n.value=a};return{setCurrentRowKey:e=>{t.store.assertRowKey(),r.value=e,a(e)},restoreCurrentRowKey:i,setCurrentRowByKey:a,updateCurrentRow:e=>{const r=n.value;if(e&&e!==r)return n.value=e,void t.emit("current-change",n.value,r);!e&&r&&(n.value=null,t.emit("current-change",null,r))},updateCurrentRowData:()=>{const o=e.rowKey.value,s=e.data.value||[],l=n.value;if(-1===s.indexOf(l)&&l){if(o){const e=rh(l,o);a(e)}else n.value=null;null===n.value&&t.emit("current-change",null,l)}else r.value&&(a(r.value),i())},states:{_currentRowKey:r,currentRow:n}}}({data:r,rowKey:t});return{assertRowKey:()=>{if(!t.value)throw new Error("[ElTable] prop row-key is required")},updateColumns:I,scheduleLayout:j,isSelected:e=>b.value.indexOf(e)>-1,clearSelection:()=>{v.value=!1,b.value.length&&(b.value=[],e.emit("selection-change",[]))},cleanSelection:()=>{let o;if(t.value){o=[];const e=oh(b.value,t.value),n=oh(r.value,t.value);for(const t in e)qt(e,t)&&!n[t]&&o.push(e[t].row)}else o=b.value.filter(e=>-1===r.value.indexOf(e));if(o.length){const t=b.value.filter(e=>-1===o.indexOf(e));b.value=t,e.emit("selection-change",t.slice())}},toggleRowSelection:(t,r,o=!0)=>{if(ah(b.value,t,r)){const r=(b.value||[]).slice();o&&e.emit("select",r,t),e.emit("selection-change",r)}},_toggleAllSelection:()=>{var t,o;const n=E.value?!v.value:!(v.value||b.value.length);v.value=n;let i=!1,a=0;const s=null===(o=null===(t=null==e?void 0:e.store)||void 0===t?void 0:t.states)||void 0===o?void 0:o.rowKey.value;r.value.forEach((e,t)=>{const r=t+a;O.value?O.value.call(null,e,r)&&ah(b.value,e,n)&&(i=!0):ah(b.value,e,n)&&(i=!0),a+=L(rh(e,s))}),i&&e.emit("selection-change",b.value?b.value.slice():[]),e.emit("select-all",b.value)},toggleAllSelection:null,updateSelectionByRowKey:()=>{const e=oh(b.value,t.value);r.value.forEach(r=>{const o=rh(r,t.value),n=e[o];n&&(b.value[n.index]=r)})},updateAllSelected:()=>{var o,n,i;if(0===(null===(o=r.value)||void 0===o?void 0:o.length))return void(v.value=!1);let a;t.value&&(a=oh(b.value,t.value));let s=!0,l=0,c=0;for(let d=0,p=(r.value||[]).length;d<p;d++){const o=null===(i=null===(n=null==e?void 0:e.store)||void 0===n?void 0:n.states)||void 0===i?void 0:i.rowKey.value,p=d+c,h=r.value[d],f=O.value&&O.value.call(null,h,p);if(u=h,a?a[rh(u,t.value)]:-1!==b.value.indexOf(u))l++;else if(!O.value||f){s=!1;break}c+=L(rh(h,o))}var u;0===l&&(s=!1),v.value=s},updateFilters:(e,t)=>{Array.isArray(e)||(e=[e]);const r={};return e.forEach(e=>{y.value[e.id]=t,r[e.columnKey||e.id]=t}),r},updateCurrentRow:z,updateSort:M,execFilter:N,execSort:A,execQuery:e=>{e&&e.filter||N(),A()},clearFilter:t=>{const{tableHeader:r,fixedTableHeader:o,rightFixedTableHeader:n}=e.refs;let i={};r&&(i=Object.assign(i,r.filterPanels)),o&&(i=Object.assign(i,o.filterPanels)),n&&(i=Object.assign(i,n.filterPanels));const a=Object.keys(i);if(a.length)if("string"==typeof t&&(t=[t]),Array.isArray(t)){const r=t.map(e=>function(e,t){let r=null;for(let o=0;o<e.columns.length;o++){const n=e.columns[o];if(n.columnKey===t){r=n;break}}return r}({columns:l.value},e));a.forEach(e=>{const t=r.find(t=>t.id===e);t&&(t.filteredValue=[])}),e.store.commit("filterChange",{column:r,values:[],silent:!0,multi:!0})}else a.forEach(e=>{const t=l.value.find(t=>t.id===e);t&&(t.filteredValue=[])}),y.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:()=>{T.value&&(M(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},toggleRowExpansion:w,setExpandRowKeysAdapter:e=>{P(e),B(e)},setCurrentRowKey:W,toggleRowExpansionAdapter:(e,t)=>{l.value.some(({type:e})=>"expand"===e)?w(e,t):Z(e,t)},isRowExpanded:U,updateExpandRows:x,updateCurrentRowData:V,loadOrToggle:H,states:Object.assign(Object.assign(Object.assign({rowKey:t,data:r,_data:n,isComplex:i,_columns:a,originColumns:s,columns:l,fixedColumns:c,rightFixedColumns:u,leafColumns:d,fixedLeafColumns:p,rightFixedLeafColumns:h,leafColumnsLength:f,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:m,isAllSelected:v,selection:b,reserveSelection:_,selectOnIndeterminate:E,selectable:O,filters:y,filteredData:S,sortingColumn:T,sortProp:C,sortOrder:R,hoverRow:k},D),G),F)}}function dh(e,t){return e.map(e=>{var r;return e.id===t.id?t:((null===(r=e.children)||void 0===r?void 0:r.length)&&(e.children=dh(e.children,t)),e)})}function ph(e){e.forEach(e=>{var t,r;e.no=null===(t=e.getColumnIndex)||void 0===t?void 0:t.call(e),(null===(r=e.children)||void 0===r?void 0:r.length)&&ph(e.children)}),e.sort((e,t)=>e.no-t.no)}function hh(){const e=Object(o["p"])(),t=uh(),r={setData(t,r){const n=Object(o["V"])(t.data)!==r;t.data.value=r,t._data.value=r,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),Object(o["V"])(t.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):n?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,r,n){const i=Object(o["V"])(t._columns);let a=[];n?(n&&!n.children&&(n.children=[]),n.children.push(r),a=dh(i,n)):(i.push(r),a=i),ph(a),t._columns.value=a,"selection"===r.type&&(t.selectable.value=r.selectable,t.reserveSelection.value=r.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},removeColumn(t,r,n){const i=Object(o["V"])(t._columns)||[];if(n)n.children.splice(n.children.findIndex(e=>e.id===r.id),1),0===n.children.length&&delete n.children,t._columns.value=dh(i,n);else{const e=i.indexOf(r);e>-1&&(i.splice(e,1),t._columns.value=i)}e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,r){const{prop:n,order:i,init:a}=r;if(n){const r=Er(Object(o["V"])(t.columns),e=>e.property===n);r&&(r.order=i,e.store.updateSort(r,n,i),e.store.commit("changeSortCondition",{init:a}))}},changeSortCondition(t,r){const{sortingColumn:n,sortProp:i,sortOrder:a}=t;null===Object(o["V"])(a)&&(t.sortingColumn.value=null,t.sortProp.value=null),e.store.execQuery({filter:!0}),r&&(r.silent||r.init)||e.emit("sort-change",{column:Object(o["V"])(n),prop:Object(o["V"])(i),order:Object(o["V"])(a)}),e.store.updateTableScrollY()},filterChange(t,r){const{column:o,values:n,silent:i}=r,a=e.store.updateFilters(o,n);e.store.execQuery(),i||e.emit("filter-change",a),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(t,r){e.store.toggleRowSelection(r),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,r){e.store.updateCurrentRow(r)}};return Object.assign(Object.assign({},t),{mutations:r,commit:function(t,...r){const o=e.store.mutations;if(!o[t])throw new Error("Action not found: "+t);o[t].apply(e,[e.store.states].concat(r))},updateTableScrollY:function(){Object(o["v"])(()=>e.layout.updateScrollY.apply(e.layout))}})}const fh={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function gh(e,t){if(!e)throw new Error("Table is required.");const r=hh();return r.toggleAllSelection=l()(r._toggleAllSelection,10),Object.keys(fh).forEach(e=>{mh(vh(t,e),e,r)}),function(e,t){Object.keys(fh).forEach(r=>{Object(o["ab"])(()=>vh(t,r),t=>{mh(t,r,e)})})}(r,t),r}function mh(e,t,r){let o=e,n=fh[t];"object"==typeof fh[t]&&(n=n.key,o=o||fh[t].default),r.states[n].value=o}function vh(e,t){if(t.includes(".")){const r=t.split(".");let o=e;return r.forEach(e=>{o=o[e]}),o}return e[t]}class bh{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Object(o["J"])(null),this.scrollX=Object(o["J"])(!1),this.scrollY=Object(o["J"])(!1),this.bodyWidth=Object(o["J"])(null),this.fixedWidth=Object(o["J"])(null),this.rightFixedWidth=Object(o["J"])(null),this.tableHeight=Object(o["J"])(null),this.headerHeight=Object(o["J"])(44),this.appendHeight=Object(o["J"])(0),this.footerHeight=Object(o["J"])(44),this.viewportHeight=Object(o["J"])(null),this.bodyHeight=Object(o["J"])(null),this.fixedBodyHeight=Object(o["J"])(null),this.gutterWidth=Xr();for(const t in e)qt(e,t)&&(Object(o["s"])(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}updateScrollY(){if(null===this.height.value)return!1;const e=this.table.refs.bodyWrapper;if(this.table.vnode.el&&e){let t=!0;const r=this.scrollY.value;return t=null!==this.bodyHeight.value&&e.querySelector(".el-table__body").offsetHeight>this.bodyHeight.value,this.scrollY.value=t,r!==t}return!1}setHeight(e,t="height"){if(Vt)return;const r=this.table.vnode.el;if(e=ih(e),this.height.value=Number(e),!r&&(e||0===e))return Object(o["v"])(()=>this.setHeight(e,t));"number"==typeof e?(r.style[t]=e+"px",this.updateElsHeight()):"string"==typeof e&&(r.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)}),e}updateElsHeight(){if(!this.table.$ready)return Object(o["v"])(()=>this.updateElsHeight());const{headerWrapper:e,appendWrapper:t,footerWrapper:r}=this.table.refs;if(this.appendHeight.value=t?t.offsetHeight:0,this.showHeader&&!e)return;const n=e?e.querySelector(".el-table__header tr"):null,i=this.headerDisplayNone(n),a=this.headerHeight.value=this.showHeader?e.offsetHeight:0;if(this.showHeader&&!i&&e.offsetWidth>0&&(this.table.store.states.columns.value||[]).length>0&&a<2)return Object(o["v"])(()=>this.updateElsHeight());const s=this.tableHeight.value=this.table.vnode.el.clientHeight,l=this.footerHeight.value=r?r.offsetHeight:0;null!==this.height.value&&(this.bodyHeight.value=s-a-l+(r?1:0)),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?s-this.gutterWidth:s,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;"DIV"!==t.tagName;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(Vt)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let r=0;const o=this.getFlattenColumns(),n=o.filter(e=>"number"!=typeof e.width);if(o.forEach(e=>{"number"==typeof e.width&&e.realWidth&&(e.realWidth=null)}),n.length>0&&e){o.forEach(e=>{r+=Number(e.width||e.minWidth||80)});const e=this.scrollY.value?this.gutterWidth:0;if(r<=t-e){this.scrollX.value=!1;const o=t-e-r;if(1===n.length)n[0].realWidth=Number(n[0].minWidth||80)+o;else{const e=o/n.reduce((e,t)=>e+Number(t.minWidth||80),0);let t=0;n.forEach((r,o)=>{if(0===o)return;const n=Math.floor(Number(r.minWidth||80)*e);t+=n,r.realWidth=Number(r.minWidth||80)+n}),n[0].realWidth=Number(n[0].minWidth||80)+o-t}}else this.scrollX.value=!0,n.forEach((function(e){e.realWidth=Number(e.minWidth)}));this.bodyWidth.value=Math.max(r,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(e=>{e.width||e.minWidth?e.realWidth=Number(e.width||e.minWidth):e.realWidth=80,r+=e.realWidth}),this.scrollX.value=r>t,this.bodyWidth.value=r;const i=this.store.states.fixedColumns.value;if(i.length>0){let e=0;i.forEach((function(t){e+=Number(t.realWidth||t.width)})),this.fixedWidth.value=e}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let e=0;a.forEach((function(t){e+=Number(t.realWidth||t.width)})),this.rightFixedWidth.value=e}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(t=>{var r,o;switch(e){case"columns":null===(r=t.state)||void 0===r||r.onColumnsChange(this);break;case"scrollable":null===(o=t.state)||void 0===o||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}var _h=Object(o["o"])({name:"ElTableFilterPanel",components:{ElCheckbox:ra,ElCheckboxGroup:Va,ElScrollbar:Fo,ElPopper:mn},directives:{ClickOutside:fo},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=Object(o["p"])(),r=t.parent;r.filterPanels.value[e.column.id]||(r.filterPanels.value[e.column.id]=t);const n=Object(o["J"])(!1),i=Object(o["J"])(null),a=Object(o["h"])(()=>e.column&&e.column.filters),s=Object(o["h"])({get:()=>(e.column.filteredValue||[])[0],set:e=>{l.value&&(null!=e?l.value.splice(0,1,e):l.value.splice(0,1))}}),l=Object(o["h"])({get:()=>e.column&&e.column.filteredValue||[],set(t){e.column&&e.upDataColumn("filteredValue",t)}}),c=Object(o["h"])(()=>!e.column||e.column.filterMultiple),u=()=>{n.value=!1},d=t=>{e.store.commit("filterChange",{column:e.column,values:t}),e.store.updateAllSelected()};Object(o["ab"])(n,t=>{e.column&&e.upDataColumn("filterOpened",t)},{immediate:!0});const p=Object(o["h"])(()=>{var e;return null===(e=i.value)||void 0===e?void 0:e.popperRef});return{tooltipVisible:n,multiple:c,filteredValue:l,filterValue:s,filters:a,handleConfirm:()=>{d(l.value),u()},handleReset:()=>{l.value=[],d(l.value),u()},handleSelect:e=>{s.value=e,d(null!=e?l.value:[]),u()},isActive:e=>e.value===s.value,t:qn,showFilterPanel:e=>{e.stopPropagation(),n.value=!n.value},hideFilterPanel:()=>{n.value=!1},popperPaneRef:p,tooltip:i}}});const Eh={key:0},Oh={class:"el-table-filter__content"},yh={class:"el-table-filter__bottom"},Sh={key:1,class:"el-table-filter__list"};function Th(e){const t=Object(o["p"])();Object(o["x"])(()=>{r.value.addObserver(t)}),Object(o["B"])(()=>{n(r.value),i(r.value)}),Object(o["D"])(()=>{n(r.value),i(r.value)}),Object(o["C"])(()=>{r.value.removeObserver(t)});const r=Object(o["h"])(()=>{const t=e.layout;if(!t)throw new Error("Can not find table layout.");return t}),n=t=>{var r;const o=(null===(r=e.vnode.el)||void 0===r?void 0:r.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const n=t.getFlattenColumns(),i={};n.forEach(e=>{i[e.id]=e});for(let e=0,a=o.length;e<a;e++){const t=o[e],r=t.getAttribute("name"),n=i[r];n&&t.setAttribute("width",n.realWidth||n.width)}},i=t=>{const r=e.vnode.el.querySelectorAll("colgroup > col[name=gutter]");for(let e=0,n=r.length;e<n;e++)r[e].setAttribute("width",t.scrollY.value?t.gutterWidth:"0");const o=e.vnode.el.querySelectorAll("th.gutter");for(let e=0,n=o.length;e<n;e++){const r=o[e];r.style.width=t.scrollY.value?t.gutterWidth+"px":"0",r.style.display=t.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:n,onScrollableChange:i}}function Ch(e){const t=Object(o["p"])().parent,r=t.store.states;return{getHeaderRowStyle:e=>{const r=t.props.headerRowStyle;return"function"==typeof r?r.call(null,{rowIndex:e}):r},getHeaderRowClass:e=>{const r=[],o=t.props.headerRowClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o.call(null,{rowIndex:e})),r.join(" ")},getHeaderCellStyle:(e,r,o,n)=>{const i=t.props.headerCellStyle;return"function"==typeof i?i.call(null,{rowIndex:e,columnIndex:r,row:o,column:n}):i},getHeaderCellClass:(o,n,i,a)=>{const s=[a.id,a.order,a.headerAlign,a.className,a.labelClassName];0===o&&((t,o)=>{let n=0;for(let e=0;e<t;e++)n+=o[e].colSpan;const i=n+o[t].colSpan-1;return"left"===e.fixed?i>=r.fixedLeafColumnsLength.value:"right"===e.fixed?n<r.columns.value.length-r.rightFixedLeafColumnsLength.value:i<r.fixedLeafColumnsLength.value||n>=r.columns.value.length-r.rightFixedLeafColumnsLength.value})(n,i)&&s.push("is-hidden"),a.children||s.push("is-leaf"),a.sortable&&s.push("is-sortable");const l=t.props.headerCellClassName;return"string"==typeof l?s.push(l):"function"==typeof l&&s.push(l.call(null,{rowIndex:o,columnIndex:n,row:i,column:a})),s.join(" ")}}}_h.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-checkbox"),l=Object(o["N"])("el-checkbox-group"),c=Object(o["N"])("el-scrollbar"),u=Object(o["N"])("el-popper"),d=Object(o["O"])("click-outside");return Object(o["E"])(),Object(o["j"])(u,{ref:"tooltip",visible:e.tooltipVisible,"onUpdate:visible":t[6]||(t[6]=t=>e.tooltipVisible=t),offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,effect:"light",pure:"","manual-mode":"","popper-class":"el-table-filter","append-to-body":""},{default:Object(o["cb"])(()=>[e.multiple?(Object(o["E"])(),Object(o["j"])("div",Eh,[Object(o["n"])("div",Oh,[Object(o["n"])(c,{"wrap-class":"el-table-filter__wrap"},{default:Object(o["cb"])(()=>[Object(o["n"])(l,{modelValue:e.filteredValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filteredValue=t),class:"el-table-filter__checkbox-group"},{default:Object(o["cb"])(()=>[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.filters,e=>(Object(o["E"])(),Object(o["j"])(s,{key:e.value,label:e.value},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),Object(o["n"])("div",yh,[Object(o["n"])("button",{class:{"is-disabled":0===e.filteredValue.length},disabled:0===e.filteredValue.length,type:"",onClick:t[2]||(t[2]=(...t)=>e.handleConfirm&&e.handleConfirm(...t))},Object(o["R"])(e.t("el.table.confirmFilter")),11,["disabled"]),Object(o["n"])("button",{type:"",onClick:t[3]||(t[3]=(...t)=>e.handleReset&&e.handleReset(...t))},Object(o["R"])(e.t("el.table.resetFilter")),1)])])):(Object(o["E"])(),Object(o["j"])("ul",Sh,[Object(o["n"])("li",{class:[{"is-active":void 0===e.filterValue||null===e.filterValue},"el-table-filter__list-item"],onClick:t[4]||(t[4]=t=>e.handleSelect(null))},Object(o["R"])(e.t("el.table.clearFilter")),3),(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.filters,t=>(Object(o["E"])(),Object(o["j"])("li",{key:t.value,class:[{"is-active":e.isActive(t)},"el-table-filter__list-item"],label:t.value,onClick:r=>e.handleSelect(t.value)},Object(o["R"])(t.text),11,["label","onClick"]))),128))]))]),trigger:Object(o["cb"])(()=>[Object(o["db"])(Object(o["n"])("span",{class:"el-table__column-filter-trigger el-none-outline",onClick:t[5]||(t[5]=(...t)=>e.showFilterPanel&&e.showFilterPanel(...t))},[Object(o["n"])("i",{class:["el-icon-arrow-down",e.column.filterOpened?"el-icon-arrow-up":""]},null,2)],512),[[d,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement"])},_h.__file="packages/table/src/filter-panel.vue";const Rh=e=>{const t=[];return e.forEach(e=>{e.children?(t.push(e),t.push.apply(t,Rh(e.children))):t.push(e)}),t};function kh(e){const t=Object(o["p"])().parent,r=Object(o["h"])(()=>(e=>{let t=1;const r=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach(o=>{r(o,e),t+=o.colSpan}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,r(e,void 0)});const o=[];for(let n=0;n<t;n++)o.push([]);return Rh(e).forEach(e=>{e.children?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)}),o})(e.store.states.originColumns.value));return{isGroup:Object(o["h"])(()=>{const e=r.value.length>1;return e&&(t.state.isGroup.value=!0),e}),toggleAllSelection:e=>{e.stopPropagation(),t.store.commit("toggleAllSelection")},columnRows:r}}function Ih(){return Object(o["q"])("col",{name:"gutter"})}function jh(e,t=!1){return Object(o["q"])("colgroup",{},[...e.map(e=>Object(o["q"])("col",{name:e.id,key:e.id})),t&&Ih()])}var Lh=Object(o["o"])({name:"ElTableHeader",components:{ElCheckbox:ra},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const r=Object(o["p"])(),n=r.parent,i=n.store.states,a=Object(o["J"])({}),{tableLayout:s,onColumnsChange:l,onScrollableChange:c}=Th(n),u=Object(o["h"])(()=>!e.fixed&&s.gutterWidth);Object(o["B"])(()=>{Object(o["v"])(()=>{const{prop:t,order:r}=e.defaultSort;n.store.commit("sort",{prop:t,order:r,init:!0})})});const{handleHeaderClick:d,handleHeaderContextMenu:p,handleMouseDown:h,handleMouseMove:f,handleMouseOut:g,handleSortClick:m,handleFilterClick:v}=function(e,t){const r=Object(o["p"])(),n=r.parent,i=e=>{e.stopPropagation()},a=Object(o["J"])(null),s=Object(o["J"])(!1),l=Object(o["J"])({}),c=(t,r,o)=>{t.stopPropagation();const i=r.order===o?null:o||(({order:e,sortOrders:t})=>{if(""===e)return t[0];const r=t.indexOf(e||null);return t[r>t.length-2?0:r+1]})(r);let a=t.target;for(;a&&"TH"!==a.tagName;)a=a.parentNode;if(a&&"TH"===a.tagName&&Ir(a,"noclick"))return void Lr(a,"noclick");if(!r.sortable)return;const s=e.store.states;let l,c=s.sortProp.value;const u=s.sortingColumn.value;(u!==r||u===r&&null===u.order)&&(u&&(u.order=null),s.sortingColumn.value=r,c=r.property),l=r.order=i||null,s.sortProp.value=c,s.sortOrder.value=l,n.store.commit("changeSortCondition")};return{handleHeaderClick:(e,t)=>{!t.filters&&t.sortable?c(e,t,!1):t.filterable&&!t.sortable&&i(e),n.emit("header-click",t,e)},handleHeaderContextMenu:(e,t)=>{n.emit("header-contextmenu",t,e)},handleMouseDown:(o,i)=>{if(!Vt&&!(i.children&&i.children.length>0)&&a.value&&e.border){s.value=!0;const c=n;t("set-drag-visible",!0);const u=c.vnode.el.getBoundingClientRect().left,d=r.vnode.el.querySelector("th."+i.id),p=d.getBoundingClientRect(),h=p.left-u+30;jr(d,"noclick"),l.value={startMouseLeft:o.clientX,startLeft:p.right-u,startColumnLeft:p.left-u,tableLeft:u};const f=c.refs.resizeProxy;f.style.left=l.value.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const g=e=>{const t=e.clientX-l.value.startMouseLeft,r=l.value.startLeft+t;f.style.left=Math.max(h,r)+"px"},m=()=>{if(s.value){const{startColumnLeft:r,startLeft:n}=l.value,u=parseInt(f.style.left,10)-r;i.width=i.realWidth=u,c.emit("header-dragend",i.width,n-r,i,o),e.store.scheduleLayout(!1,!0),document.body.style.cursor="",s.value=!1,a.value=null,l.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m),document.onselectstart=null,document.ondragstart=null,setTimeout((function(){Lr(d,"noclick")}),0)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",m)}},handleMouseMove:(t,r)=>{if(r.children&&r.children.length>0)return;let o=t.target;for(;o&&"TH"!==o.tagName;)o=o.parentNode;if(r&&r.resizable&&!s.value&&e.border){const e=o.getBoundingClientRect(),n=document.body.style;e.width>12&&e.right-t.pageX<8?(n.cursor="col-resize",Ir(o,"is-sortable")&&(o.style.cursor="col-resize"),a.value=r):s.value||(n.cursor="",Ir(o,"is-sortable")&&(o.style.cursor="pointer"),a.value=null)}},handleMouseOut:()=>{Vt||(document.body.style.cursor="")},handleSortClick:c,handleFilterClick:i}}(e,t),{getHeaderRowStyle:b,getHeaderRowClass:_,getHeaderCellStyle:E,getHeaderCellClass:O}=Ch(e),{isGroup:y,toggleAllSelection:S,columnRows:T}=kh(e);return r.state={onColumnsChange:l,onScrollableChange:c},r.filterPanels=a,{columns:i.columns,filterPanels:a,hasGutter:u,onColumnsChange:l,onScrollableChange:c,columnRows:T,getHeaderRowClass:_,getHeaderRowStyle:b,getHeaderCellClass:O,getHeaderCellStyle:E,handleHeaderClick:d,handleHeaderContextMenu:p,handleMouseDown:h,handleMouseMove:f,handleMouseOut:g,handleSortClick:m,handleFilterClick:v,isGroup:y,toggleAllSelection:S}},render(){return Object(o["q"])("table",{border:"0",cellpadding:"0",cellspacing:"0",class:"el-table__header"},[jh(this.columns,this.hasGutter),Object(o["q"])("thead",{class:{"is-group":this.isGroup,"has-gutter":this.hasGutter}},this.columnRows.map((e,t)=>Object(o["q"])("tr",{class:this.getHeaderRowClass(t),key:t,style:this.getHeaderRowStyle(t)},e.map((r,n)=>Object(o["q"])("th",{class:this.getHeaderCellClass(t,n,e,r),colspan:r.colSpan,key:r.id+"-thead",rowSpan:r.rowSpan,style:this.getHeaderCellStyle(t,n,e,r),onClick:e=>this.handleHeaderClick(e,r),onContextmenu:e=>this.handleHeaderContextMenu(e,r),onMousedown:e=>this.handleMouseDown(e,r),onMousemove:e=>this.handleMouseMove(e,r),onMouseout:this.handleMouseOut},[Object(o["q"])("div",{class:["cell",r.filteredValue&&r.filteredValue.length>0?"highlight":"",r.labelClassName]},[r.renderHeader?r.renderHeader({column:r,$index:n,store:this.store,_self:this.$parent}):r.label,r.sortable&&Object(o["q"])("span",{onClick:e=>this.handleSortClick(e,r),class:"caret-wrapper"},[Object(o["q"])("i",{onClick:e=>this.handleSortClick(e,r,"ascending"),class:"sort-caret ascending"}),Object(o["q"])("i",{onClick:e=>this.handleSortClick(e,r,"descending"),class:"sort-caret descending"})]),r.filterable&&Object(o["q"])(_h,{store:this.$parent.store,placement:r.filterPlacement||"bottom-start",column:r,upDataColumn:(e,t)=>{r[e]=t}})])])))))])}});function Mh(e){const t=Object(o["p"])().parent,r=Object(o["J"])(""),n=Object(o["J"])(Object(o["q"])("div")),i=(r,o,n)=>{const i=t,a=Jp(r);let s;a&&(s=th({columns:e.store.states.columns.value},a),s&&i.emit("cell-"+n,o,s,a,r)),i.emit("row-"+n,o,s,r)};return{handleDoubleClick:(e,t)=>{i(e,t,"dblclick")},handleClick:(t,r)=>{e.store.commit("setCurrentRow",r),i(t,r,"click")},handleContextMenu:(e,t)=>{i(e,t,"contextmenu")},handleMouseEnter:l()((function(t){e.store.commit("setHoverRow",t)}),30),handleMouseLeave:l()((function(){e.store.commit("setHoverRow",null)}),30),handleCellMouseEnter:(r,o)=>{const n=t,i=Jp(r);if(i){const t=th({columns:e.store.states.columns.value},i),a=n.hoverState={cell:i,column:t,row:o};n.emit("cell-mouse-enter",a.row,a.column,a.cell,r)}const a=r.target.querySelector(".cell");if(!Ir(a,"el-tooltip")||!a.childNodes.length)return;const s=document.createRange();s.setStart(a,0),s.setEnd(a,a.childNodes.length),(s.getBoundingClientRect().width+((parseInt(Mr(a,"paddingLeft"),10)||0)+(parseInt(Mr(a,"paddingRight"),10)||0))>a.offsetWidth||a.scrollWidth>a.offsetWidth)&&function(e,t,r,o){function n(){i&&i.update()}lh=function t(){try{i&&i.destroy(),a&&document.body.removeChild(a),kr(e,"mouseenter",n),kr(e,"mouseleave",t)}catch(e){}};let i=null;const a=function(){const e="light"===o,r=document.createElement("div");return r.className="el-popper "+(e?"is-light":"is-dark"),r.innerHTML=t,r.style.zIndex=String(en.nextZIndex()),document.body.appendChild(r),r}(),s=function(){const e=document.createElement("div");return e.className="el-popper__arrow",e.style.bottom="-4px",e}();a.appendChild(s),i=ht(e,a,Object.assign({modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:s,padding:10}}]},r)),Rr(e,"mouseenter",n),Rr(e,"mouseleave",lh)}(i,i.innerText||i.textContent,{placement:"top",strategy:"fixed"},o.tooltipEffect)},handleCellMouseLeave:e=>{if(!Jp(e))return;const r=t.hoverState;t.emit("cell-mouse-leave",null==r?void 0:r.row,null==r?void 0:r.column,null==r?void 0:r.cell,e)},tooltipContent:r,tooltipTrigger:n}}function Nh(e){const t=Object(o["p"])().parent,{handleDoubleClick:r,handleClick:n,handleContextMenu:i,handleMouseEnter:a,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=Mh(e),{getRowStyle:p,getRowClass:h,getCellStyle:f,getCellClass:g,getSpan:m,getColspanRealWidth:v}=function(e){const t=Object(o["p"])().parent,r=t=>"left"===e.fixed?t>=e.store.states.fixedLeafColumnsLength.value:"right"===e.fixed?t<e.store.states.columns.value.length-e.store.states.rightFixedLeafColumnsLength.value:t<e.store.states.fixedLeafColumnsLength.value||t>=e.store.states.columns.value.length-e.store.states.rightFixedLeafColumnsLength.value;return{getRowStyle:(e,r)=>{const o=t.props.rowStyle;return"function"==typeof o?o.call(null,{row:e,rowIndex:r}):o||null},getRowClass:(r,o)=>{const n=["el-table__row"];t.props.highlightCurrentRow&&r===e.store.states.currentRow.value&&n.push("current-row"),e.stripe&&o%2==1&&n.push("el-table__row--striped");const i=t.props.rowClassName;return"string"==typeof i?n.push(i):"function"==typeof i&&n.push(i.call(null,{row:r,rowIndex:o})),e.store.states.expandRows.value.indexOf(r)>-1&&n.push("expanded"),n},getCellStyle:(e,r,o,n)=>{const i=t.props.cellStyle;return"function"==typeof i?i.call(null,{rowIndex:e,columnIndex:r,row:o,column:n}):i},getCellClass:(e,o,n,i)=>{const a=[i.id,i.align,i.className];r(o)&&a.push("is-hidden");const s=t.props.cellClassName;return"string"==typeof s?a.push(s):"function"==typeof s&&a.push(s.call(null,{rowIndex:e,columnIndex:o,row:n,column:i})),a.join(" ")},getSpan:(e,r,o,n)=>{let i=1,a=1;const s=t.props.spanMethod;if("function"==typeof s){const t=s({row:e,column:r,rowIndex:o,columnIndex:n});Array.isArray(t)?(i=t[0],a=t[1]):"object"==typeof t&&(i=t.rowspan,a=t.colspan)}return{rowspan:i,colspan:a}},getColspanRealWidth:(e,t,r)=>{if(t<1)return e[r].realWidth;const o=e.map(({realWidth:e,width:t})=>e||t).slice(r,r+t);return Number(o.reduce((e,t)=>Number(e)+Number(t),-1))},isColumnHidden:r}}(e),b=Object(o["h"])(()=>{return t=e.store.states.columns.value,r=({type:e})=>"default"===e,t.findIndex(r);var t,r}),_=(e,r)=>{const o=t.props.rowKey;return o?rh(e,o):r},E=(u,d,E)=>{const{tooltipEffect:O,store:y}=e,{indent:S,columns:T}=y.states,C=h(u,d);let R=!0;return E&&(C.push("el-table__row--level-"+E.level),R=E.display),Object(o["q"])("tr",{style:[R?null:{display:"none"},p(u,d)],class:C,key:_(u,d),onDblclick:e=>r(e,u),onClick:e=>n(e,u),onContextmenu:e=>i(e,u),onMouseenter:()=>a(d),onMouseleave:s},T.value.map((r,n)=>{const{rowspan:i,colspan:a}=m(u,r,d,n);if(!i||!a)return null;const s=Object.assign({},r);s.realWidth=v(T.value,a,n);const p={store:e.store,_self:e.context||t,column:s,row:u,$index:d};n===b.value&&E&&(p.treeNode={indent:E.level*S.value,level:E.level},"boolean"==typeof E.expanded&&(p.treeNode.expanded=E.expanded,"loading"in E&&(p.treeNode.loading=E.loading),"noLazyChildren"in E&&(p.treeNode.noLazyChildren=E.noLazyChildren)));const h=`${d},${n}`,_=s.columnKey||s.rawColumnKey||"";return Object(o["q"])("td",{style:f(d,n,u,r),class:g(d,n,u,r),key:`${_}${h}`,rowspan:i,colspan:a,onMouseenter:e=>l(e,Object.assign(Object.assign({},u),{tooltipEffect:O})),onMouseleave:c},[r.renderCell(p)])}))};return{wrappedRowRender:(r,n)=>{const i=e.store,{isRowExpanded:a,assertRowKey:s}=i,{treeData:l,lazyTreeNodeMap:c,childrenColumnName:u,rowKey:d}=i.states;if(i.states.columns.value.some(({type:e})=>"expand"===e)&&a(r)){const e=t.renderExpanded,a=E(r,n,void 0);return e?[[a,Object(o["q"])("tr",{key:"expanded-row__"+a.key},[Object(o["q"])("td",{colspan:i.states.columns.value.length,class:"el-table__expanded-cell"},[e({row:r,$index:n,store:i})])])]]:(console.error("[Element Error]renderExpanded is required."),a)}if(Object.keys(l.value).length){s();const e=rh(r,d.value);let t=l.value[e],o=null;t&&(o={expanded:t.expanded,level:t.level,display:!0},"boolean"==typeof t.lazy&&("boolean"==typeof t.loaded&&t.loaded&&(o.noLazyChildren=!(t.children&&t.children.length)),o.loading=t.loading));const i=[E(r,n,o)];if(t){let o=0;const a=(e,r)=>{e&&e.length&&r&&e.forEach(e=>{const s={display:r.display&&r.expanded,level:r.level+1,expanded:!1,noLazyChildren:!1,loading:!1},p=rh(e,d.value);if(null==p)throw new Error("for nested data item, row-key is required.");if(t=Object.assign({},l.value[p]),t&&(s.expanded=t.expanded,t.level=t.level||s.level,t.display=!(!t.expanded||!s.display),"boolean"==typeof t.lazy&&("boolean"==typeof t.loaded&&t.loaded&&(s.noLazyChildren=!(t.children&&t.children.length)),s.loading=t.loading)),o++,i.push(E(e,n+o,s)),t){const r=c.value[p]||e[u.value];a(r,t)}})};t.display=!0;const s=c.value[e]||r[u.value];a(s,t)}return i}return E(r,n,void 0)},tooltipContent:u,tooltipTrigger:d}}const Ah={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Ph=Object(o["o"])({name:"ElTableBody",props:Ah,setup(e){const t=Object(o["p"])(),r=t.parent,{wrappedRowRender:n,tooltipContent:i,tooltipTrigger:a}=Nh(e),{onColumnsChange:s,onScrollableChange:l}=Th(r);return Object(o["ab"])(e.store.states.hoverRow,(r,o)=>{if(!e.store.states.isComplex.value||Vt)return;let n=window.requestAnimationFrame;n||(n=e=>window.setTimeout(e,16)),n(()=>{const e=t.vnode.el.querySelectorAll(".el-table__row"),n=e[o],i=e[r];n&&Lr(n,"hover-row"),i&&jr(i,"hover-row")})}),Object(o["C"])(()=>{null==lh||lh()}),Object(o["D"])(()=>{null==lh||lh()}),{onColumnsChange:s,onScrollableChange:l,wrappedRowRender:n,tooltipContent:i,tooltipTrigger:a}},render(){const e=this.store.states.data.value||[];return Object(o["q"])("table",{class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0"},[jh(this.store.states.columns.value),Object(o["q"])("tbody",{},[e.reduce((e,t)=>e.concat(this.wrappedRowRender(t,e.length)),[])])])}});function wh(e){const t=Object(o["p"])().parent,r=t.store,{leftFixedLeafCount:n,rightFixedLeafCount:i,columnsCount:a,leftFixedCount:s,rightFixedCount:l,columns:c}=function(){const e=Object(o["p"])().parent.store;return{leftFixedLeafCount:Object(o["h"])(()=>e.states.fixedLeafColumnsLength.value),rightFixedLeafCount:Object(o["h"])(()=>e.states.rightFixedColumns.value.length),columnsCount:Object(o["h"])(()=>e.states.columns.value.length),leftFixedCount:Object(o["h"])(()=>e.states.fixedColumns.value.length),rightFixedCount:Object(o["h"])(()=>e.states.rightFixedColumns.value.length),columns:e.states.columns}}(),u=Object(o["h"])(()=>!e.fixed&&t.layout.gutterWidth);return{hasGutter:u,getRowClasses:(t,o)=>{const c=[t.id,t.align,t.labelClassName];return t.className&&c.push(t.className),((t,r,o)=>{if(e.fixed||"left"===e.fixed)return t>=n.value;if("right"===e.fixed){let e=0;for(let o=0;o<t;o++)e+=r[o].colSpan;return e<a.value-i.value}return!(e.fixed||!o.fixed)||t<s.value||t>=a.value-l.value})(o,r.states.columns.value,t)&&c.push("is-hidden"),t.children||c.push("is-leaf"),c},columns:c}}var xh=Object(o["o"])({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{hasGutter:t,getRowClasses:r,columns:o}=wh(e);return{getRowClasses:r,hasGutter:t,columns:o}},render(){let e=[];return this.summaryMethod?e=this.summaryMethod({columns:this.columns,data:this.store.states.data.value}):this.columns.forEach((t,r)=>{if(0===r)return void(e[r]=this.sumText);const o=this.store.states.data.value.map(e=>Number(e[t.property])),n=[];let i=!0;o.forEach(e=>{if(!isNaN(e)){i=!1;const t=(""+e).split(".")[1];n.push(t?t.length:0)}});const a=Math.max.apply(null,n);e[r]=i?"":o.reduce((e,t)=>{const r=Number(t);return isNaN(r)?e:parseFloat((e+t).toFixed(Math.min(a,20)))},0)}),Object(o["q"])("table",{class:"el-table__footer",cellspacing:"0",cellpadding:"0",border:"0"},[jh(this.columns,this.hasGutter),Object(o["q"])("tbody",{class:[{"has-gutter":this.hasGutter}]},[Object(o["q"])("tr",{},[...this.columns.map((t,r)=>Object(o["q"])("td",{key:r,colspan:t.colSpan,rowspan:t.rowSpan,class:this.getRowClasses(t,r)},[Object(o["q"])("div",{class:["cell",t.labelClassName]},[e[r]])])),this.hasGutter&&Ih()])])])}});function Dh(e,t,r,n){const i=_r(),a=Object(o["J"])(!1),s=Object(o["J"])(null),l=Object(o["J"])(!1),c=Object(o["J"])({width:null,height:null}),u=Object(o["J"])(!1);Object(o["bb"])(()=>{t.setHeight(e.height)}),Object(o["bb"])(()=>{t.setMaxHeight(e.maxHeight)}),Object(o["ab"])(()=>[e.currentRowKey,r.states.rowKey],([e,t])=>{Object(o["V"])(t)&&r.setCurrentRowKey(e+"")},{immediate:!0}),Object(o["ab"])(()=>e.data,e=>{n.store.commit("setData",e)},{immediate:!0,deep:!0}),Object(o["bb"])(()=>{e.expandRowKeys&&r.setExpandRowKeysAdapter(e.expandRowKeys)});const d=Object(o["h"])(()=>e.height||e.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),p=()=>{d.value&&t.updateElsHeight(),t.updateColumnsWidth(),f()};Object(o["B"])(()=>{h("is-scrolling-left"),g(),r.updateColumns(),p(),c.value={width:n.vnode.el.offsetWidth,height:n.vnode.el.offsetHeight},r.states.columns.value.forEach(e=>{e.filteredValue&&e.filteredValue.length&&n.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})}),n.$ready=!0});const h=e=>{const{bodyWrapper:r}=n.refs;((e,r)=>{if(!e)return;const o=Array.from(e.classList).filter(e=>!e.startsWith("is-scrolling-"));o.push(t.scrollX.value?r:"is-scrolling-none"),e.className=o.join(" ")})(r,e)},f=gt()((function(){if(!n.refs.bodyWrapper)return;const{scrollLeft:e,scrollTop:t,offsetWidth:r,scrollWidth:o}=n.refs.bodyWrapper,{headerWrapper:i,footerWrapper:a,fixedBodyWrapper:s,rightFixedBodyWrapper:l}=n.refs;i&&(i.scrollLeft=e),a&&(a.scrollLeft=e),s&&(s.scrollTop=t),l&&(l.scrollTop=t),h(e>=o-r-1?"is-scrolling-right":0===e?"is-scrolling-left":"is-scrolling-middle")}),10),g=()=>{window.addEventListener("resize",p),n.refs.bodyWrapper.addEventListener("scroll",f,{passive:!0}),e.fit&&Dr(n.vnode.el,v)};Object(o["C"])(()=>{m()});const m=()=>{var t;null===(t=n.refs.bodyWrapper)||void 0===t||t.removeEventListener("scroll",f,!0),window.removeEventListener("resize",p),e.fit&&Ur(n.vnode.el,v)},v=()=>{if(!n.$ready)return;let t=!1;const r=n.vnode.el,{width:o,height:i}=c.value,a=r.offsetWidth;o!==a&&(t=!0);const s=r.offsetHeight;(e.height||d.value)&&i!==s&&(t=!0),t&&(c.value={width:a,height:s},p())},b=Object(o["h"])(()=>e.size||i.size),_=Object(o["h"])(()=>{const{bodyWidth:e,scrollY:r,gutterWidth:o}=t;return e.value?e.value-(r.value?o:0)+"px":""});return{isHidden:a,renderExpanded:s,setDragVisible:e=>{l.value=e},isGroup:u,handleMouseLeave:()=>{n.store.commit("setHoverRow",null),n.hoverState&&(n.hoverState=null)},handleHeaderFooterMousewheel:(e,t)=>{const{pixelX:r,pixelY:o}=t;Math.abs(r)>=Math.abs(o)&&(n.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},tableSize:b,bodyHeight:Object(o["h"])(()=>{const r=t.headerHeight.value||0,o=t.bodyHeight.value,n=t.footerHeight.value||0;if(e.height)return{height:o?o+"px":""};if(e.maxHeight){const t=ih(e.maxHeight);if("number"==typeof t)return{"max-height":t-n-(e.showHeader?r:0)+"px"}}return{}}),emptyBlockStyle:Object(o["h"])(()=>{if(e.data&&e.data.length)return null;let r="100%";return t.appendHeight.value&&(r=`calc(100% - ${t.appendHeight.value}px)`),{width:_.value,height:r}}),handleFixedMousewheel:(e,t)=>{const r=n.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const o=r.scrollTop;t.pixelY<0&&0!==o&&e.preventDefault(),t.pixelY>0&&r.scrollHeight-r.clientHeight>o&&e.preventDefault(),r.scrollTop+=Math.ceil(t.pixelY/5)}else r.scrollLeft+=Math.ceil(t.pixelX/5)},fixedHeight:Object(o["h"])(()=>e.maxHeight?e.showSummary?{bottom:0}:{bottom:t.scrollX.value&&e.data.length?t.gutterWidth+"px":""}:e.showSummary?{height:t.tableHeight.value?t.tableHeight.value+"px":""}:{height:t.viewportHeight.value?t.viewportHeight.value+"px":""}),fixedBodyHeight:Object(o["h"])(()=>{if(e.height)return{height:t.fixedBodyHeight.value?t.fixedBodyHeight.value+"px":""};if(e.maxHeight){let r=ih(e.maxHeight);if("number"==typeof r)return r=t.scrollX.value?r-t.gutterWidth:r,e.showHeader&&(r-=t.headerHeight.value),r-=t.footerHeight.value,{"max-height":r+"px"}}return{}}),resizeProxyVisible:l,bodyWidth:_,resizeState:c,doLayout:p}}var Uh={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""}};let Bh=1;var Zh=Object(o["o"])({name:"ElTable",directives:{Mousewheel:Eo},components:{TableHeader:Lh,TableBody:Ph,TableFooter:xh},props:Uh,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){let t=Object(o["p"])();const r=gh(t,e);t.store=r;const n=new bh({store:t.store,table:t,fit:e.fit,showHeader:e.showHeader});t.layout=n;const i=Object(o["h"])(()=>0===(r.states.data.value||[]).length),{setCurrentRow:a,toggleRowSelection:s,clearSelection:c,clearFilter:u,toggleAllSelection:d,toggleRowExpansion:p,clearSort:h,sort:f}=function(e){return{setCurrentRow:t=>{e.commit("setCurrentRow",t)},toggleRowSelection:(t,r)=>{e.toggleRowSelection(t,r,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(t,r)=>{e.toggleRowExpansionAdapter(t,r)},clearSort:()=>{e.clearSort()},sort:(t,r)=>{e.commit("sort",{prop:t,order:r})}}}(r),{isHidden:g,renderExpanded:m,setDragVisible:v,isGroup:b,handleMouseLeave:_,handleHeaderFooterMousewheel:E,tableSize:O,bodyHeight:y,emptyBlockStyle:S,handleFixedMousewheel:T,fixedHeight:C,fixedBodyHeight:R,resizeProxyVisible:k,bodyWidth:I,resizeState:j,doLayout:L}=Dh(e,n,r,t),M=l()(L,50),N="el-table_"+Bh++;return t.tableId=N,t.state={isGroup:b,resizeState:j,doLayout:L,debouncedUpdateLayout:M},{layout:n,store:r,handleHeaderFooterMousewheel:E,handleMouseLeave:_,tableId:N,tableSize:O,isHidden:g,isEmpty:i,renderExpanded:m,resizeProxyVisible:k,resizeState:j,isGroup:b,bodyWidth:I,bodyHeight:y,emptyBlockStyle:S,debouncedUpdateLayout:M,handleFixedMousewheel:T,fixedHeight:C,fixedBodyHeight:R,setCurrentRow:a,toggleRowSelection:s,clearSelection:c,clearFilter:u,toggleAllSelection:d,toggleRowExpansion:p,clearSort:h,doLayout:L,sort:f,t:qn,setDragVisible:v,context:t}}});const Hh={ref:"hiddenColumns",class:"hidden-columns"},Gh={key:0,ref:"headerWrapper",class:"el-table__header-wrapper"},Vh={class:"el-table__empty-text"},zh={key:1,ref:"appendWrapper",class:"el-table__append-wrapper"},Wh={key:1,ref:"footerWrapper",class:"el-table__footer-wrapper"},Fh={key:0,ref:"fixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},qh={key:1,ref:"fixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},Yh={key:0,ref:"rightFixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},$h={key:1,ref:"rightFixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},Kh={ref:"resizeProxy",class:"el-table__column-resize-proxy"};Zh.render=function(e,t,r,n,i,a){const s=Object(o["N"])("table-header"),l=Object(o["N"])("table-body"),c=Object(o["N"])("table-footer"),u=Object(o["O"])("mousewheel");return Object(o["E"])(),Object(o["j"])("div",{class:[{"el-table--fit":e.fit,"el-table--striped":e.stripe,"el-table--border":e.border||e.isGroup,"el-table--hidden":e.isHidden,"el-table--group":e.isGroup,"el-table--fluid-height":e.maxHeight,"el-table--scrollable-x":e.layout.scrollX.value,"el-table--scrollable-y":e.layout.scrollY.value,"el-table--enable-row-hover":!e.store.states.isComplex.value,"el-table--enable-row-transition":0!==(e.store.states.data.value||[]).length&&(e.store.states.data.value||[]).length<100},e.tableSize?"el-table--"+e.tableSize:"",e.className,"el-table"],style:e.style,onMouseleave:t[1]||(t[1]=t=>e.handleMouseLeave())},[Object(o["n"])("div",Hh,[Object(o["M"])(e.$slots,"default")],512),e.showHeader?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",Gh,[Object(o["n"])(s,{ref:"tableHeader",border:e.border,"default-sort":e.defaultSort,store:e.store,style:{width:e.layout.bodyWidth.value?e.layout.bodyWidth.value+"px":""},onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","style","onSetDragVisible"])],512)),[[u,e.handleHeaderFooterMousewheel]]):Object(o["k"])("v-if",!0),Object(o["n"])("div",{ref:"bodyWrapper",style:[e.bodyHeight],class:"el-table__body-wrapper"},[Object(o["n"])(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe,style:{width:e.bodyWidth}},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),e.isEmpty?(Object(o["E"])(),Object(o["j"])("div",{key:0,ref:"emptyBlock",style:e.emptyBlockStyle,class:"el-table__empty-block"},[Object(o["n"])("span",Vh,[Object(o["M"])(e.$slots,"empty",{},()=>[Object(o["m"])(Object(o["R"])(e.emptyText||e.t("el.table.emptyText")),1)])])],4)):Object(o["k"])("v-if",!0),e.$slots.append?(Object(o["E"])(),Object(o["j"])("div",zh,[Object(o["M"])(e.$slots,"append")],512)):Object(o["k"])("v-if",!0)],4),e.showSummary?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",Wh,[Object(o["n"])(c,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:{width:e.layout.bodyWidth.value?e.layout.bodyWidth.value+"px":""},"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],512)),[[o["Z"],!e.isEmpty],[u,e.handleHeaderFooterMousewheel]]):Object(o["k"])("v-if",!0),e.store.states.fixedColumns.value.length>0?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{key:2,ref:"fixedWrapper",style:[{width:e.layout.fixedWidth.value?e.layout.fixedWidth.value+"px":""},e.fixedHeight],class:"el-table__fixed"},[e.showHeader?(Object(o["E"])(),Object(o["j"])("div",Fh,[Object(o["n"])(s,{ref:"fixedTableHeader",border:e.border,store:e.store,style:{width:e.bodyWidth},fixed:"left",onSetDragVisible:e.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):Object(o["k"])("v-if",!0),Object(o["n"])("div",{ref:"fixedBodyWrapper",style:[{top:e.layout.headerHeight.value+"px"},e.fixedBodyHeight],class:"el-table__fixed-body-wrapper"},[Object(o["n"])(l,{highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe,style:{width:e.bodyWidth},fixed:"left"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),e.$slots.append?(Object(o["E"])(),Object(o["j"])("div",{key:0,style:{height:e.layout.appendHeight.value+"px"},class:"el-table__append-gutter"},null,4)):Object(o["k"])("v-if",!0)],4),e.showSummary?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",qh,[Object(o["n"])(c,{border:e.border,store:e.store,style:{width:e.bodyWidth},"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,fixed:"left"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[o["Z"],!e.isEmpty]]):Object(o["k"])("v-if",!0)],4)),[[u,e.handleFixedMousewheel]]):Object(o["k"])("v-if",!0),e.store.states.rightFixedColumns.value.length>0?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{key:3,ref:"rightFixedWrapper",style:[{width:e.layout.rightFixedWidth.value?e.layout.rightFixedWidth.value+"px":"",right:e.layout.scrollY.value?(e.border?e.layout.gutterWidth:e.layout.gutterWidth||0)+"px":""},e.fixedHeight],class:"el-table__fixed-right"},[e.showHeader?(Object(o["E"])(),Object(o["j"])("div",Yh,[Object(o["n"])(s,{ref:"rightFixedTableHeader",border:e.border,store:e.store,style:{width:e.bodyWidth},fixed:"right",onSetDragVisible:e.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):Object(o["k"])("v-if",!0),Object(o["n"])("div",{ref:"rightFixedBodyWrapper",style:[{top:e.layout.headerHeight.value+"px"},e.fixedBodyHeight],class:"el-table__fixed-body-wrapper"},[Object(o["n"])(l,{highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe,style:{width:e.bodyWidth},fixed:"right"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),e.$slots.append?(Object(o["E"])(),Object(o["j"])("div",{key:0,style:{height:e.layout.appendHeight.value+"px"},class:"el-table__append-gutter"},null,4)):Object(o["k"])("v-if",!0)],4),e.showSummary?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",$h,[Object(o["n"])(c,{border:e.border,store:e.store,style:{width:e.bodyWidth},"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,fixed:"right"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[o["Z"],!e.isEmpty]]):Object(o["k"])("v-if",!0)],4)),[[u,e.handleFixedMousewheel]]):Object(o["k"])("v-if",!0),e.store.states.rightFixedColumns.value.length>0?(Object(o["E"])(),Object(o["j"])("div",{key:4,ref:"rightFixedPatch",style:{width:e.layout.scrollY.value?e.layout.gutterWidth+"px":"0",height:e.layout.headerHeight.value+"px"},class:"el-table__fixed-right-patch"},null,4)):Object(o["k"])("v-if",!0),Object(o["db"])(Object(o["n"])("div",Kh,null,512),[[o["Z"],e.resizeProxyVisible]])],38)},Zh.__file="packages/table/src/table.vue",Zh.install=e=>{e.component(Zh.name,Zh)};const Jh=Zh,Xh={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Qh={selection:{renderHeader:function({store:e}){return Object(o["q"])(ra,{disabled:e.states.data.value&&0===e.states.data.value.length,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell:function({row:e,column:t,store:r,$index:n}){return Object(o["q"])(ra,{disabled:!!t.selectable&&!t.selectable.call(null,e,n),onChange:()=>{r.commit("rowSelectedChanged",e)},onClick:e=>e.stopPropagation(),modelValue:r.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader:function({column:e}){return e.label||"#"},renderCell:function({column:e,$index:t}){let r=t+1;const n=e.index;return"number"==typeof n?r=t+n:"function"==typeof n&&(r=n(t)),Object(o["q"])("div",{},[r])},sortable:!1},expand:{renderHeader:function({column:e}){return e.label||""},renderCell:function({row:e,store:t}){const r=["el-table__expand-icon"];return t.states.expandRows.value.indexOf(e)>-1&&r.push("el-table__expand-icon--expanded"),Object(o["q"])("div",{class:r,onClick:function(r){r.stopPropagation(),t.toggleRowExpansion(e)}},[Object(o["q"])("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function ef({row:e,column:t,$index:r}){var o;const n=t.property,i=n&&ur(e,n,!1).v;return t&&t.formatter?t.formatter(e,t,i,r):(null===(o=null==i?void 0:i.toString)||void 0===o?void 0:o.call(i))||""}function tf(e,t,r){const n=Object(o["p"])(),i=Object(o["J"])(""),a=Object(o["J"])(!1),s=Object(o["J"])(),l=Object(o["J"])();Object(o["bb"])(()=>{s.value=e.align?"is-"+e.align:null,s.value}),Object(o["bb"])(()=>{l.value=e.headerAlign?"is-"+e.headerAlign:s.value,l.value});const c=Object(o["h"])(()=>{let e=n.vnode.vParent||n.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e}),u=Object(o["J"])(nh(e.width)),d=Object(o["J"])((void 0!==(p=e.minWidth)&&(p=nh(p),isNaN(p)&&(p=80)),p));var p;return{columnId:i,realAlign:s,isSubColumn:a,realHeaderAlign:l,columnOrTableParent:c,setColumnWidth:e=>(u.value&&(e.width=u.value),d.value&&(e.minWidth=d.value),e.minWidth||(e.minWidth=80),e.realWidth=Number(void 0===e.width?e.minWidth:e.width),e),setColumnForcedProps:e=>{const t=e.type,r=Qh[t]||{};return Object.keys(r).forEach(t=>{const o=r[t];void 0!==o&&(e[t]="className"===t?`${e[t]} ${o}`:o)}),e},setColumnRenders:i=>{e.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==i.type&&(i.renderHeader=e=>{n.columnConfig.value.label;const r=t.header;return r?r(e):i.label});let a=i.renderCell;return"expand"===i.type?(i.renderCell=e=>Object(o["q"])("div",{class:"cell"},[a(e)]),r.value.renderExpanded=e=>t.default?t.default(e):t.default):(a=a||ef,i.renderCell=e=>{let r=null;r=t.default?t.default(e):a(e);const s=function({row:e,treeNode:t,store:r}){if(!t)return null;const n=[],i=function(t){t.stopPropagation(),r.loadOrToggle(e)};if(t.indent&&n.push(Object(o["q"])("span",{class:"el-table__indent",style:{"padding-left":t.indent+"px"}})),"boolean"!=typeof t.expanded||t.noLazyChildren)n.push(Object(o["q"])("span",{class:"el-table__placeholder"}));else{const e=["el-table__expand-icon",t.expanded?"el-table__expand-icon--expanded":""];let r=["el-icon-arrow-right"];t.loading&&(r=["el-icon-loading"]),n.push(Object(o["q"])("div",{class:e,onClick:i},[Object(o["q"])("i",{class:r})]))}return n}(e),l={class:"cell",style:{}};return i.showOverflowTooltip&&(l.class+=" el-tooltip",l.style={width:(e.column.realWidth||Number(e.column.width))-1+"px"}),(e=>{function t(e){var t;"ElTableColumn"===(null===(t=null==e?void 0:e.type)||void 0===t?void 0:t.name)&&(e.vParent=n)}e instanceof Array?e.forEach(e=>t(e)):t(e)})(r),Object(o["q"])("div",l,[s,r])}),i},getPropsData:(...t)=>t.reduce((t,r)=>(Array.isArray(r)&&r.forEach(r=>{t[r]=e[r]}),t),{}),getColumnElIndex:(e,t)=>[].indexOf.call(e,t)}}var rf={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(e=>["ascending","descending",null].indexOf(e)>-1)}};let of=1;const nf=Object(o["o"])({name:"ElTableColumn",components:{ElCheckbox:ra},props:rf,setup(e,{slots:t}){const r=Object(o["p"])(),n=Object(o["J"])({}),i=Object(o["h"])(()=>{let e=r.parent;for(;e&&!e.tableId;)e=e.parent;return e}),{registerNormalWatchers:a,registerComplexWatchers:s}=function(e,t){const r=Object(o["p"])();return{registerComplexWatchers:()=>{const n={realWidth:"width",realMinWidth:"minWidth"},i=["fixed"].reduce((e,t)=>(e[t]=t,e),n);Object.keys(i).forEach(i=>{const a=n[i];qt(t,a)&&Object(o["ab"])(()=>t[a],t=>{r.columnConfig.value[a]=t,r.columnConfig.value[i]=t;const o="fixed"===a;e.value.store.scheduleLayout(o)})})},registerNormalWatchers:()=>{const e={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},n=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"].reduce((e,t)=>(e[t]=t,e),e);Object.keys(n).forEach(n=>{const i=e[n];qt(t,i)&&Object(o["ab"])(()=>t[i],e=>{r.columnConfig.value[n]=e})})}}}(i,e),{columnId:l,isSubColumn:c,realHeaderAlign:u,columnOrTableParent:d,setColumnWidth:p,setColumnForcedProps:h,setColumnRenders:f,getPropsData:g,getColumnElIndex:m,realAlign:v}=tf(e,t,i),b=d.value;l.value=(b.tableId||b.columnId)+"_column_"+of++,Object(o["x"])(()=>{c.value=i.value!==b;const t=e.type||"default",o=""===e.sortable||e.sortable,d=Object.assign(Object.assign({},Xh[t]),{id:l.value,type:t,property:e.prop||e.property,align:v,headerAlign:u,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:o,index:e.index,rawColumnKey:r.vnode.key});let m=g(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);m=function(e,t){const r={};let o;for(o in e)r[o]=e[o];for(o in t)if(qt(t,o)){const e=t[o];void 0!==e&&(r[o]=e)}return r}(d,m),m=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}(f,p,h)(m),n.value=m,a(),s()}),Object(o["B"])(()=>{var e;const t=d.value,o=c.value?t.vnode.el.children:null===(e=t.refs.hiddenColumns)||void 0===e?void 0:e.children,a=()=>m(o||[],r.vnode.el);n.value.getColumnIndex=a,a()>-1&&i.value.store.commit("insertColumn",n.value,c.value?t.columnConfig.value:null)}),Object(o["y"])(()=>{i.value.store.commit("removeColumn",n.value,c.value?b.columnConfig.value:null)}),r.columnId=l.value,r.columnConfig=n},render(){var e,t,r;let n=[];try{const i=null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e,{row:{},column:{},$index:-1});if(i instanceof Array)for(const e of i)"ElTableColumn"===(null===(r=e.type)||void 0===r?void 0:r.name)?n.push(e):e.type===o["b"]&&e.children instanceof Array&&n.push(...e.children)}catch(e){n=[]}return Object(o["q"])("div",n)}});nf.install=e=>{e.component(nf.name,nf)};var af=Object(o["o"])({name:"ElTabBar",props:{tabs:{type:Array,default:()=>[]}},setup(e){const t=Object(o["r"])("rootTabs");if(!t)throw new Error("ElTabBar must use with ElTabs");const r=Object(o["p"])(),n=()=>{let o={},n=0,i=0;const a=["top","bottom"].includes(t.props.tabPosition)?"width":"height",s="width"===a?"x":"y";e.tabs.every(t=>{var o;let s=null===(o=r.parent.refs)||void 0===o?void 0:o["tab-"+t.paneName];if(!s)return!1;if(t.active){i=s["client"+ir(a)];const t=window.getComputedStyle(s);return"width"===a&&(e.tabs.length>1&&(i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)),n+=parseFloat(t.paddingLeft)),!1}return n+=s["client"+ir(a)],!0});const l=`translate${ir(s)}(${n}px)`;return o[a]=i+"px",o.transform=l,o.msTransform=l,o.webkitTransform=l,o},i=Object(o["J"])(n());return Object(o["ab"])(()=>e.tabs,()=>{Object(o["v"])(()=>{i.value=n()})}),{rootTabs:t,barStyle:i}}});af.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:["el-tabs__active-bar","is-"+e.rootTabs.props.tabPosition],style:e.barStyle},null,6)},af.__file="packages/tabs/src/tab-bar.vue";var sf=Object(o["o"])({name:"ElTabNav",components:{TabBar:af},props:{panes:{type:Array,default:()=>[]},currentName:{type:String,default:""},editable:Boolean,onTabClick:{type:Function,default:zt},onTabRemove:{type:Function,default:zt},type:{type:String,default:""},stretch:Boolean},setup(){const e=Object(o["r"])("rootTabs");e||sr("[ElTabNav]","ElTabNav must be nested inside ElTabs");const t=Object(o["J"])(!1),r=Object(o["J"])(0),n=Object(o["J"])(!1),i=Object(o["J"])(!0),a=Object(o["J"])(null),s=Object(o["J"])(null),l=Object(o["J"])(null),c=Object(o["h"])(()=>["top","bottom"].includes(e.props.tabPosition)?"width":"height"),u=Object(o["h"])(()=>({transform:`translate${"width"===c.value?"X":"Y"}(-${r.value}px)`})),d=()=>{if(!t.value)return;const o=s.value,n=l.value.querySelector(".is-active");if(!n)return;const i=a.value,c=["top","bottom"].includes(e.props.tabPosition),u=n.getBoundingClientRect(),d=i.getBoundingClientRect(),p=c?o.offsetWidth-d.width:o.offsetHeight-d.height,h=r.value;let f=h;c?(u.left<d.left&&(f=h-(d.left-u.left)),u.right>d.right&&(f=h+u.right-d.right)):(u.top<d.top&&(f=h-(d.top-u.top)),u.bottom>d.bottom&&(f=h+(u.bottom-d.bottom))),f=Math.max(f,0),r.value=Math.min(f,p)},p=()=>{if(!s.value)return;const e=s.value["offset"+ir(c.value)],o=a.value["offset"+ir(c.value)],n=r.value;if(o<e){const n=r.value;t.value=t.value||{},t.value.prev=n,t.value.next=n+o<e,e-n<o&&(r.value=e-o)}else t.value=!1,n>0&&(r.value=0)},h=()=>{i.value&&(n.value=!0)},f=()=>{const e=document.visibilityState;"hidden"===e?i.value=!1:"visible"===e&&setTimeout(()=>{i.value=!0},50)},g=()=>{i.value=!1},m=()=>{setTimeout(()=>{i.value=!0},50)};return Object(o["D"])(()=>{p()}),Object(o["B"])(()=>{Dr(l.value,p),Rr(document,"visibilitychange",f),Rr(window,"blur",g),Rr(window,"focus",m),setTimeout(()=>{d()},0)}),Object(o["y"])(()=>{l.value&&Ur(l.value,p),kr(document,"visibilitychange",f),kr(window,"blur",g),kr(window,"focus",m)}),{rootTabs:e,scrollable:t,navOffset:r,isFocus:n,focusable:i,navScroll$:a,nav$:s,el$:l,sizeName:c,navStyle:u,scrollPrev:()=>{const e=a.value["offset"+ir(c.value)],t=r.value;if(!t)return;let o=t>e?t-e:0;r.value=o},scrollNext:()=>{const e=s.value["offset"+ir(c.value)],t=a.value["offset"+ir(c.value)],o=r.value;if(e-o<=t)return;let n=e-o>2*t?o+t:e-t;r.value=n},scrollToActiveTab:d,update:p,changeTab:e=>{const t=e.code;let r,o,n;const{up:i,down:a,left:s,right:l}=to;-1!==[i,a,s,l].indexOf(t)&&(n=e.currentTarget.querySelectorAll("[role=tab]"),o=Array.prototype.indexOf.call(n,e.target),r=t===s||t===i?0===o?n.length-1:o-1:o<n.length-1?o+1:0,n[r].focus(),n[r].click(),h())},setFocus:h,removeFocus:()=>{n.value=!1},visibilityChangeHandler:f,windowBlurHandler:g,windowFocusHandler:m}},render(){const{type:e,panes:t,editable:r,stretch:n,onTabClick:i,onTabRemove:a,navStyle:s,scrollable:l,scrollNext:c,scrollPrev:u,changeTab:d,setFocus:p,removeFocus:h,rootTabs:f,isFocus:g}=this,m=l?[Object(o["q"])("span",{class:["el-tabs__nav-prev",l.prev?"":"is-disabled"],onClick:u},[Object(o["q"])("i",{class:"el-icon-arrow-left"})]),Object(o["q"])("span",{class:["el-tabs__nav-next",l.next?"":"is-disabled"],onClick:c},[Object(o["q"])("i",{class:"el-icon-arrow-right"})])]:null,v=t.map((e,t)=>{var n,s;let l=e.props.name||e.index||""+t;const c=e.isClosable||r;e.index=""+t;const u=c?Object(o["q"])("span",{class:"el-icon-close",onClick:t=>{a(e,t)}}):null,d=(null===(s=(n=e.instance.slots).label)||void 0===s?void 0:s.call(n))||e.props.label,m=e.active?0:-1;return Object(o["q"])("div",{class:{"el-tabs__item":!0,["is-"+f.props.tabPosition]:!0,"is-active":e.active,"is-disabled":e.props.disabled,"is-closable":c,"is-focus":g},id:"tab-"+l,key:"tab-"+l,"aria-controls":"pane-"+l,role:"tab","aria-selected":e.active,ref:"tab-"+l,tabindex:m,onFocus:()=>{p()},onBlur:()=>{h()},onClick:t=>{h(),i(e,l,t)},onKeydown:t=>{!c||t.code!==to.delete&&t.code!==to.backspace||a(e,t)}},[d,u])});return Object(o["q"])("div",{ref:"el$",class:["el-tabs__nav-wrap",l?"is-scrollable":"","is-"+f.props.tabPosition]},[m,Object(o["q"])("div",{class:"el-tabs__nav-scroll",ref:"navScroll$"},[Object(o["q"])("div",{class:["el-tabs__nav","is-"+f.props.tabPosition,n&&["top","bottom"].includes(f.props.tabPosition)?"is-stretch":""],ref:"nav$",style:s,role:"tablist",onKeydown:d},[e?null:Object(o["q"])(af,{tabs:t}),v])])])}});sf.__file="packages/tabs/src/tab-nav.vue";var lf=Object(o["o"])({name:"ElTabs",components:{TabNav:sf},props:{type:{type:String,default:""},activeName:{type:String,default:""},closable:Boolean,addable:Boolean,modelValue:{type:String,default:""},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:{type:Function,default:null},stretch:Boolean},emits:["tab-click","edit","tab-remove","tab-add","input","update:modelValue"],setup(e,t){const r=Object(o["J"])(null),n=Object(o["J"])(e.modelValue||e.activeName||"0"),i=Object(o["J"])([]),a=Object(o["p"])(),s={};Object(o["G"])("rootTabs",{props:e,currentName:n}),Object(o["G"])("updatePaneState",e=>{s[e.uid]=e}),Object(o["ab"])(()=>e.activeName,e=>{d(e)}),Object(o["ab"])(()=>e.modelValue,e=>{d(e)}),Object(o["ab"])(n,()=>{r.value&&Object(o["v"])(()=>{r.value.$nextTick(()=>{r.value.scrollToActiveTab()})}),c(!0)});const l=(e,t=[])=>(Array.from(e.children||[]).forEach(e=>{let r=e.type;r=r.name||r,"ElTabPane"===r&&e.component?t.push(e.component):r!==o["b"]&&"template"!==r||l(e,t)}),t),c=(e=!1)=>{if(t.slots.default){const t=a.subTree.children,r=Array.from(t).find(({props:e})=>"el-tabs__content"===e.class);if(!r)return;const o=l(r).map(e=>s[e.uid]),n=!(o.length===i.value.length&&o.every((e,t)=>e.uid===i.value[t].uid));(e||n)&&(i.value=o)}else 0!==i.value.length&&(i.value=[])},u=e=>{n.value=e,t.emit("input",e),t.emit("update:modelValue",e)},d=t=>{if(n.value===t)return;const o=e.beforeLeave,i=o&&o(t,n.value);i&&Xt(i)?i.then(()=>{var e,o;u(t),null===(o=(e=r.value).removeFocus)||void 0===o||o.call(e)},()=>{}):!1!==i&&u(t)};return Object(o["D"])(()=>{c()}),Object(o["B"])(()=>{c()}),{nav$:r,handleTabClick:(e,r,o)=>{e.props.disabled||(d(r),t.emit("tab-click",e,o))},handleTabRemove:(e,r)=>{e.props.disabled||(r.stopPropagation(),t.emit("edit",e.props.name,"remove"),t.emit("tab-remove",e.props.name))},handleTabAdd:()=>{t.emit("edit",null,"add"),t.emit("tab-add")},currentName:n,panes:i}},render(){var e;let{type:t,handleTabClick:r,handleTabRemove:n,handleTabAdd:i,currentName:a,panes:s,editable:l,addable:c,tabPosition:u,stretch:d}=this;const p=l||c?Object(o["q"])("span",{class:"el-tabs__new-tab",tabindex:"0",onClick:i,onKeydown:e=>{e.code===to.enter&&i()}},[Object(o["q"])("i",{class:"el-icon-plus"})]):null,h=Object(o["q"])("div",{class:["el-tabs__header","is-"+u]},[p,Object(o["q"])(sf,{currentName:a,editable:l,type:t,panes:s,stretch:d,ref:"nav$",onTabClick:r,onTabRemove:n})]),f=Object(o["q"])("div",{class:"el-tabs__content"},null===(e=this.$slots)||void 0===e?void 0:e.default());return Object(o["q"])("div",{class:{"el-tabs":!0,"el-tabs--card":"card"===t,["el-tabs--"+u]:!0,"el-tabs--border-card":"border-card"===t}},"bottom"!==u?[h,f]:[f,h])}});lf.__file="packages/tabs/src/tabs.vue",lf.install=e=>{e.component(lf.name,lf)};const cf=lf,uf=e=>{const t=(e||"").split(":");return t.length>=2?{hours:parseInt(t[0],10),minutes:parseInt(t[1],10)}:null},df=(e,t)=>{const r=uf(e),o=uf(t),n=r.minutes+60*r.hours,i=o.minutes+60*o.hours;return n===i?0:n>i?1:-1},pf=(e,t)=>{const r=uf(e),o=uf(t),n={hours:r.hours,minutes:r.minutes};return n.minutes+=o.minutes,n.hours+=o.hours,n.hours+=Math.floor(n.minutes/60),n.minutes=n.minutes%60,(e=>(e.hours<10?"0"+e.hours:e.hours)+":"+(e.minutes<10?"0"+e.minutes:e.minutes))(n)};var hf=Object(o["o"])({name:"ElTimeSelect",components:{ElSelect:kd,ElOption:Id},model:{prop:"value",event:"change"},props:{modelValue:String,editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},size:{type:String,default:"",validator:e=>!e||-1!==["medium","small","mini"].indexOf(e)},placeholder:{type:String,default:""},start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:String,default:""},maxTime:{type:String,default:""},name:{type:String,default:""},prefixIcon:{type:String,default:"el-icon-time"},clearIcon:{type:String,default:"el-icon-circle-close"}},emits:["change","blur","focus","update:modelValue"],setup:e=>({value:Object(o["h"])(()=>e.modelValue),items:Object(o["h"])(()=>{const t=[];if(e.start&&e.end&&e.step){let r=e.start;for(;df(r,e.end)<=0;)t.push({value:r,disabled:df(r,e.minTime||"-1:-1")<=0||df(r,e.maxTime||"100:100")>=0}),r=pf(r,e.step)}return t})})});hf.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-option"),l=Object(o["N"])("el-select");return Object(o["E"])(),Object(o["j"])(l,{"model-value":e.value,disabled:!e.editable,clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,placeholder:e.placeholder,"default-first-option":"",filterable:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:modelValue",t)),onChange:t[2]||(t[2]=t=>e.$emit("change",t)),onBlur:t[3]||(t[3]=t=>e.$emit("blur",t)),onFocus:t[4]||(t[4]=t=>e.$emit("focus",t))},{prefix:Object(o["cb"])(()=>[Object(o["n"])("i",{class:"el-input__icon "+e.prefixIcon},null,2)]),default:Object(o["cb"])(()=>[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.items,e=>(Object(o["E"])(),Object(o["j"])(s,{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","placeholder"])},hf.__file="packages/time-select/src/time-select.vue",hf.install=e=>{e.component(hf.name,hf)};const ff=hf;var gf=Object(o["o"])({name:"ElTimeline",setup:(e,t)=>(Object(o["G"])("timeline",t),()=>{var e,r;return Object(o["q"])("ul",{class:{"el-timeline":!0}},null===(r=(e=t.slots).default)||void 0===r?void 0:r.call(e))})});gf.__file="packages/timeline/src/index.vue",gf.install=e=>{e.component(gf.name,gf)};const mf=gf;var vf=Object(o["o"])({name:"ElTimelineItem",props:{timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:{type:String,default:""},color:{type:String,default:""},size:{type:String,default:"normal"},icon:{type:String,default:""}},setup(){Object(o["r"])("timeline")}});const bf={class:"el-timeline-item"},_f=Object(o["n"])("div",{class:"el-timeline-item__tail"},null,-1),Ef={key:1,class:"el-timeline-item__dot"},Of={class:"el-timeline-item__wrapper"},yf={key:0,class:"el-timeline-item__timestamp is-top"},Sf={class:"el-timeline-item__content"},Tf={key:1,class:"el-timeline-item__timestamp is-bottom"};vf.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("li",bf,[_f,e.$slots.dot?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("div",{key:0,class:["el-timeline-item__node",["el-timeline-item__node--"+(e.size||""),"el-timeline-item__node--"+(e.type||"")]],style:{backgroundColor:e.color}},[e.icon?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:["el-timeline-item__icon",e.icon]},null,2)):Object(o["k"])("v-if",!0)],6)),e.$slots.dot?(Object(o["E"])(),Object(o["j"])("div",Ef,[Object(o["M"])(e.$slots,"dot")])):Object(o["k"])("v-if",!0),Object(o["n"])("div",Of,[e.hideTimestamp||"top"!==e.placement?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("div",yf,Object(o["R"])(e.timestamp),1)),Object(o["n"])("div",Sf,[Object(o["M"])(e.$slots,"default")]),e.hideTimestamp||"bottom"!==e.placement?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("div",Tf,Object(o["R"])(e.timestamp),1))])])},vf.__file="packages/timeline/src/item.vue",vf.install=e=>{e.component(vf.name,vf)};const Cf=vf;var Rf=Object(o["o"])({name:"ElTransferPanel",components:{ElCheckboxGroup:Va,ElCheckbox:ra,ElInput:Ho,OptionContent:({option:e})=>e},props:{data:{type:Array,default:()=>[]},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},emits:["checked-change"],setup(e,{emit:t,slots:r}){const n=Object(o["I"])({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:i,keyProp:a,disabledProp:s,filteredData:l,checkedSummary:c,isIndeterminate:u,handleAllCheckedChange:d}=((e,t,r)=>{const n=Object(o["h"])(()=>e.props.label||"label"),i=Object(o["h"])(()=>e.props.key||"key"),a=Object(o["h"])(()=>e.props.disabled||"disabled"),s=Object(o["h"])(()=>e.data.filter(r=>"function"==typeof e.filterMethod?e.filterMethod(t.query,r):(r[n.value]||r[i.value].toString()).toLowerCase().includes(t.query.toLowerCase()))),l=Object(o["h"])(()=>s.value.filter(e=>!e[a.value])),c=Object(o["h"])(()=>{const r=t.checked.length,o=e.data.length,{noChecked:n,hasChecked:i}=e.format;return n&&i?r>0?i.replace(/\${checked}/g,r.toString()).replace(/\${total}/g,o.toString()):n.replace(/\${total}/g,o.toString()):`${r}/${o}`}),u=Object(o["h"])(()=>{const e=t.checked.length;return e>0&&e<l.value.length}),d=()=>{const e=l.value.map(e=>e[i.value]);t.allChecked=e.length>0&&e.every(e=>t.checked.includes(e))};return Object(o["ab"])(()=>t.checked,(e,o)=>{if(d(),t.checkChangeByUser){const t=e.concat(o).filter(t=>!e.includes(t)||!o.includes(t));r("checked-change",e,t)}else r("checked-change",e),t.checkChangeByUser=!0}),Object(o["ab"])(l,()=>{d()}),Object(o["ab"])(()=>e.data,()=>{const e=[],r=s.value.map(e=>e[i.value]);t.checked.forEach(t=>{r.includes(t)&&e.push(t)}),t.checkChangeByUser=!1,t.checked=e}),Object(o["ab"])(()=>e.defaultChecked,(e,r)=>{if(r&&e.length===r.length&&e.every(e=>r.includes(e)))return;const o=[],n=l.value.map(e=>e[i.value]);e.forEach(e=>{n.includes(e)&&o.push(e)}),t.checkChangeByUser=!1,t.checked=o},{immediate:!0}),{labelProp:n,keyProp:i,disabledProp:a,filteredData:s,checkableData:l,checkedSummary:c,isIndeterminate:u,updateAllChecked:d,handleAllCheckedChange:e=>{t.checked=e?l.value.map(e=>e[i.value]):[]}}})(e,n,t),p=Object(o["h"])(()=>n.query.length>0&&0===l.value.length),h=Object(o["h"])(()=>n.query.length>0&&n.inputHover?"circle-close":"search"),f=Object(o["h"])(()=>!!r.default()[0].children.length),{checked:g,allChecked:m,query:v,inputHover:b,checkChangeByUser:_}=Object(o["U"])(n);return{labelProp:i,keyProp:a,disabledProp:s,filteredData:l,checkedSummary:c,isIndeterminate:u,handleAllCheckedChange:d,checked:g,allChecked:m,query:v,inputHover:b,checkChangeByUser:_,hasNoMatch:p,inputIcon:h,hasFooter:f,clearQuery:()=>{"circle-close"===h.value&&(n.query="")},t:qn}}});const kf={class:"el-transfer-panel"},If={class:"el-transfer-panel__header"},jf={key:0,class:"el-transfer-panel__footer"};Rf.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-checkbox"),l=Object(o["N"])("el-input"),c=Object(o["N"])("option-content"),u=Object(o["N"])("el-checkbox-group");return Object(o["E"])(),Object(o["j"])("div",kf,[Object(o["n"])("p",If,[Object(o["n"])(s,{modelValue:e.allChecked,"onUpdate:modelValue":t[1]||(t[1]=t=>e.allChecked=t),indeterminate:e.isIndeterminate,onChange:e.handleAllCheckedChange},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.title)+" ",1),Object(o["n"])("span",null,Object(o["R"])(e.checkedSummary),1)]),_:1},8,["modelValue","indeterminate","onChange"])]),Object(o["n"])("div",{class:["el-transfer-panel__body",e.hasFooter?"is-with-footer":""]},[e.filterable?(Object(o["E"])(),Object(o["j"])(l,{key:0,modelValue:e.query,"onUpdate:modelValue":t[3]||(t[3]=t=>e.query=t),class:"el-transfer-panel__filter",size:"small",placeholder:e.placeholder,onMouseenter:t[4]||(t[4]=t=>e.inputHover=!0),onMouseleave:t[5]||(t[5]=t=>e.inputHover=!1)},{prefix:Object(o["cb"])(()=>[Object(o["n"])("i",{class:["el-input__icon","el-icon-"+e.inputIcon],onClick:t[2]||(t[2]=(...t)=>e.clearQuery&&e.clearQuery(...t))},null,2)]),_:1},8,["modelValue","placeholder"])):Object(o["k"])("v-if",!0),Object(o["db"])(Object(o["n"])(u,{modelValue:e.checked,"onUpdate:modelValue":t[6]||(t[6]=t=>e.checked=t),class:[{"is-filterable":e.filterable},"el-transfer-panel__list"]},{default:Object(o["cb"])(()=>[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.filteredData,t=>(Object(o["E"])(),Object(o["j"])(s,{key:t[e.keyProp],class:"el-transfer-panel__item",label:t[e.keyProp],disabled:t[e.disabledProp]},{default:Object(o["cb"])(()=>[Object(o["n"])(c,{option:e.optionRender(t)},null,8,["option"])]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[o["Z"],!e.hasNoMatch&&e.data.length>0]]),Object(o["db"])(Object(o["n"])("p",{class:"el-transfer-panel__empty"},Object(o["R"])(e.hasNoMatch?e.t("el.transfer.noMatch"):e.t("el.transfer.noData")),513),[[o["Z"],e.hasNoMatch||0===e.data.length]])],2),e.hasFooter?(Object(o["E"])(),Object(o["j"])("p",jf,[Object(o["M"])(e.$slots,"default")])):Object(o["k"])("v-if",!0)])},Rf.__file="packages/transfer/src/transfer-panel.vue";const Lf="change";var Mf=Object(o["o"])({name:"ElTransfer",components:{TransferPanel:Rf,ElButton:Zn},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:e=>["original","push","unshift"].includes(e)}},emits:[lo,Lf,"left-check-change","right-check-change"],setup(e,{emit:t,slots:r}){const n=Object(o["r"])("elFormItem",{}),i=Object(o["I"])({leftChecked:[],rightChecked:[]}),{propsKey:a,sourceData:s,targetData:l}=(e=>{const t=Object(o["h"])(()=>e.props.key),r=Object(o["h"])(()=>e.data.reduce((e,r)=>(e[r[t.value]]=r)&&e,{})),n=Object(o["h"])(()=>e.data.filter(r=>!e.modelValue.includes(r[t.value]))),i=Object(o["h"])(()=>"original"===e.targetOrder?e.data.filter(r=>e.modelValue.includes(r[t.value])):e.modelValue.reduce((e,t)=>{const o=r.value[t];return o&&e.push(o),e},[]));return{propsKey:t,sourceData:n,targetData:i}})(e),{onSourceCheckedChange:c,onTargetCheckedChange:u}=((e,t)=>({onSourceCheckedChange:(r,o)=>{e.leftChecked=r,void 0!==o&&t("left-check-change",r,o)},onTargetCheckedChange:(r,o)=>{e.rightChecked=r,void 0!==o&&t("right-check-change",r,o)}}))(i,t),{addToLeft:d,addToRight:p}=((e,t,r,o)=>{const n=(e,t,r)=>{o(lo,e),o(Lf,e,t,r)};return{addToLeft:()=>{const r=e.modelValue.slice();t.rightChecked.forEach(e=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)}),n(r,"left",t.rightChecked)},addToRight:()=>{let o=e.modelValue.slice();const i=e.data.filter(o=>{const n=o[r.value];return t.leftChecked.includes(n)&&!e.modelValue.includes(n)}).map(e=>e[r.value]);o="unshift"===e.targetOrder?i.concat(o):o.concat(i),n(o,"right",t.leftChecked)}}})(e,i,a,t),h=Object(o["J"])(null),f=Object(o["J"])(null),g=Object(o["h"])(()=>2===e.buttonTexts.length),m=Object(o["h"])(()=>e.titles[0]||qn("el.transfer.titles.0")),v=Object(o["h"])(()=>e.titles[1]||qn("el.transfer.titles.1")),b=Object(o["h"])(()=>e.filterPlaceholder||qn("el.transfer.filterPlaceholder"));Object(o["ab"])(()=>e.modelValue,e=>{var t;null===(t=n.formItemMitt)||void 0===t||t.emit("el.form.change",e)});const _=Object(o["h"])(()=>t=>e.renderContent?e.renderContent(o["q"],t):r.default?r.default({option:t}):Object(o["q"])("span",t[e.props.label]||t[e.props.key]));return Object.assign(Object.assign({sourceData:s,targetData:l,onSourceCheckedChange:c,onTargetCheckedChange:u,addToLeft:d,addToRight:p},Object(o["U"])(i)),{hasButtonTexts:g,leftPanelTitle:m,rightPanelTitle:v,panelFilterPlaceholder:b,clearQuery:e=>{"left"===e?h.value.query="":"right"===e&&(f.value.query="")},optionRender:_})}});const Nf={class:"el-transfer"},Af={class:"el-transfer__buttons"},Pf=Object(o["n"])("i",{class:"el-icon-arrow-left"},null,-1),wf={key:0},xf={key:0},Df=Object(o["n"])("i",{class:"el-icon-arrow-right"},null,-1);Mf.render=function(e,t,r,n,i,a){const s=Object(o["N"])("transfer-panel"),l=Object(o["N"])("el-button");return Object(o["E"])(),Object(o["j"])("div",Nf,[Object(o["n"])(s,{ref:"leftPanel",data:e.sourceData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,title:e.leftPanelTitle,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:e.props,onCheckedChange:e.onSourceCheckedChange},{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Object(o["n"])("div",Af,[Object(o["n"])(l,{type:"primary",class:["el-transfer__button",e.hasButtonTexts?"is-with-texts":""],disabled:0===e.rightChecked.length,onClick:e.addToLeft},{default:Object(o["cb"])(()=>[Pf,void 0!==e.buttonTexts[0]?(Object(o["E"])(),Object(o["j"])("span",wf,Object(o["R"])(e.buttonTexts[0]),1)):Object(o["k"])("v-if",!0)]),_:1},8,["class","disabled","onClick"]),Object(o["n"])(l,{type:"primary",class:["el-transfer__button",e.hasButtonTexts?"is-with-texts":""],disabled:0===e.leftChecked.length,onClick:e.addToRight},{default:Object(o["cb"])(()=>[void 0!==e.buttonTexts[1]?(Object(o["E"])(),Object(o["j"])("span",xf,Object(o["R"])(e.buttonTexts[1]),1)):Object(o["k"])("v-if",!0),Df]),_:1},8,["class","disabled","onClick"])]),Object(o["n"])(s,{ref:"rightPanel",data:e.targetData,"option-render":e.optionRender,placeholder:e.panelFilterPlaceholder,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:e.rightPanelTitle,"default-checked":e.rightDefaultChecked,props:e.props,onCheckedChange:e.onTargetCheckedChange},{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])])},Mf.__file="packages/transfer/src/index.vue",Mf.install=e=>{e.component(Mf.name,Mf)};const Uf=Mf,Bf="$treeNodeId",Zf=function(e,t){t&&!t[Bf]&&Object.defineProperty(t,Bf,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Hf=function(e,t){return e?t[e]:t[Bf]},Gf=e=>{let t=!0,r=!0,o=!0;for(let n=0,i=e.length;n<i;n++){const i=e[n];(!0!==i.checked||i.indeterminate)&&(t=!1,i.disabled||(o=!1)),(!1!==i.checked||i.indeterminate)&&(r=!1)}return{all:t,none:r,allWithoutDisable:o,half:!t&&!r}},Vf=function(e){if(0===e.childNodes.length)return;const{all:t,none:r,half:o}=Gf(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):o?(e.checked=!1,e.indeterminate=!0):r&&(e.checked=!1,e.indeterminate=!1);const n=e.parent;n&&0!==n.level&&(e.store.checkStrictly||Vf(n))},zf=function(e,t){const r=e.store.props,o=e.data||{},n=r[t];if("function"==typeof n)return n(o,e);if("string"==typeof n)return o[n];if(void 0===n){const e=o[t];return void 0===e?"":e}};let Wf=0;class Ff{constructor(e){this.id=Wf++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)qt(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&void 0!==t.isLeaf){const e=zf(this,"isLeaf");"boolean"==typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Zf(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,o=e.key;o&&r&&-1!==r.indexOf(this.key)&&this.expand(null,e.autoExpandParent),o&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||Zf(this,e),this.data=e,this.childNodes=[],t=0===this.level&&this.data instanceof Array?this.data:zf(this,"children")||[];for(let r=0,o=t.length;r<o;r++)this.insertChild({data:t[r]})}get label(){return zf(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return zf(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(r=>r===e||t&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,r){if(!e)throw new Error("insertChild error: child is required.");if(!(e instanceof Ff)){if(!r){const r=this.getChildren(!0);-1===r.indexOf(e.data)&&(void 0===t||t<0?r.push(e.data):r.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=Object(o["I"])(new Ff(e)))instanceof Ff&&e.initialize()}e.level=this.level+1,void 0===t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let r;t&&(r=this.childNodes.indexOf(t)),this.insertChild(e,r)}insertAfter(e,t){let r;t&&(r=this.childNodes.indexOf(t),-1!==r&&(r+=1)),this.insertChild(e,r)}removeChild(e){const t=this.getChildren()||[],r=t.indexOf(e.data);r>-1&&t.splice(r,1);const o=this.childNodes.indexOf(e);o>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){t=this.childNodes[r];break}t&&this.removeChild(t)}expand(e,t){const r=()=>{if(t){let e=this.parent;for(;e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(e=>{e.canFocus=!0})};this.shouldLoadData()?this.loadData(e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Vf(this),r())}):r()}doCreateChildren(e,t={}){e.forEach(e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,r,o){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:r,allWithoutDisable:n}=Gf(this.childNodes);this.isLeaf||r||!n||(this.checked=!1,e=!1);const i=()=>{if(t){const r=this.childNodes;for(let a=0,s=r.length;a<s;a++){const n=r[a];o=o||!1!==e;const i=n.disabled?n.checked:o;n.setChecked(i,t,!0,o)}const{half:n,all:i}=Gf(r);i||(this.checked=i,this.indeterminate=n)}};if(this.shouldLoadData())return void this.loadData(()=>{i(),Vf(this)},{checked:!1!==e});i()}const n=this.parent;n&&0!==n.level&&(r||Vf(n))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const r=this.store.props;let o="children";return r&&(o=r.children||"children"),void 0===t[o]&&(t[o]=null),e&&!t[o]&&(t[o]=[]),t[o]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(e=>e.data),r={},o=[];e.forEach((e,n)=>{const i=e[Bf];i&&t.findIndex(e=>e[Bf]===i)>=0?r[i]={index:n,data:e}:o.push({index:n,data:e})}),this.store.lazy||t.forEach(e=>{r[e[Bf]]||this.removeChildByData(e)}),o.forEach(({index:e,data:t})=>{this.insertChild({data:t},e)}),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const r=r=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(r,t),this.updateLeafState(),e&&e.call(this,r)};this.store.load(this,r)}}}class qf{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)qt(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){this.root=new Ff({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load?(0,this.load)(this.root,e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,r=this.lazy,o=function(n){const i=n.root?n.root.childNodes:n.childNodes;if(i.forEach(r=>{r.visible=t.call(r,e,r.data,r),o(r)}),!n.visible&&i.length){let e=!0;e=!i.some(e=>e.visible),n.root?n.root.visible=!1===e:n.visible=!1===e}e&&(!n.visible||n.isLeaf||r||n.expand())};o(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Ff)return e;const t="object"!=typeof e?e:Hf(this.key,e);return this.nodesMap[t]||null}insertBefore(e,t){const r=this.getNode(t);r.parent.insertBefore({data:e},r)}insertAfter(e,t){const r=this.getNode(t);r.parent.insertAfter({data:e},r)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const r=t?this.getNode(t):this.root;r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(e=>{const r=t[e];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;e&&e.data&&(t?void 0!==e.key&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach(e=>{this.deregisterNode(e)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const r=[],o=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(n=>{(n.checked||t&&n.indeterminate)&&(!e||e&&n.isLeaf)&&r.push(n.data),o(n)})};return o(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(e=>(e||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(r=>{r.indeterminate&&e.push(r.data),t(r)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const r in t)qt(t,r)&&e.push(t[r]);return e}updateChildren(e,t){const r=this.nodesMap[e];if(!r)return;const o=r.childNodes;for(let n=o.length-1;n>=0;n--){const e=o[n];this.remove(e.data)}for(let n=0,i=t.length;n<i;n++){const e=t[n];this.append(e,r.data)}}_setCheckedKeys(e,t=!1,r){const o=this._getAllNodes().sort((e,t)=>t.level-e.level),n=Object.create(null),i=Object.keys(r);o.forEach(e=>e.setChecked(!1,!1));for(let a=0,s=o.length;a<s;a++){const r=o[a],s=r.data[e].toString();if(!(i.indexOf(s)>-1)){r.checked&&!n[s]&&r.setChecked(!1,!1);continue}let l=r.parent;for(;l&&l.level>0;)n[l.data[e]]=!0,l=l.parent;if(r.isLeaf||this.checkStrictly)r.setChecked(!0,!1);else if(r.setChecked(!0,!0),t){r.setChecked(!1,!1);const e=function(t){t.childNodes.forEach(t=>{t.isLeaf||t.setChecked(!1,!1),e(t)})};e(r)}}}setCheckedNodes(e,t=!1){const r=this.key,o={};e.forEach(e=>{o[(e||{})[r]]=!0}),this._setCheckedKeys(r,t,o)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const r=this.key,o={};e.forEach(e=>{o[e]=!0}),this._setCheckedKeys(r,t,o)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)})}setChecked(e,t,r){const o=this.getNode(e);o&&o.setChecked(!!t,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const r=e[this.key],o=this.nodesMap[r];this.setCurrentNode(o),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const r=this.getNode(e);r&&(this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var Yf=Object(o["o"])({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=Object(o["r"])("NodeInstance"),r=Object(o["r"])("RootTree");return()=>{const n=e.node,{data:i,store:a}=n;return e.renderContent?e.renderContent(o["q"],{_self:t,node:n,data:i,store:a}):r.ctx.slots.default?r.ctx.slots.default({node:n,data:i}):Object(o["q"])("span",{class:"el-tree-node__label"},[n.label])}}});function $f(e){const t=Object(o["r"])("TreeNodeMap",null),r={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(r),Object(o["G"])("TreeNodeMap",r),{broadcastExpanded:t=>{if(e.accordion)for(const e of r.children)e.treeNodeExpand(t)}}}Yf.__file="packages/tree/src/tree-node-content.vue";var Kf=Object(o["o"])({name:"ElTreeNode",components:{ElCollapseTransition:$a,ElCheckbox:ra,NodeContent:Yf},props:{node:{type:Ff,default:()=>({})},props:{type:Object,default:()=>({})},renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const{broadcastExpanded:r}=$f(e),n=Object(o["r"])("RootTree"),i=Object(o["J"])(!1),a=Object(o["J"])(!1),s=Object(o["J"])(null),l=Object(o["J"])(null),c=Object(o["J"])(null),{emitter:u}={emitter:Object(o["r"])("DragNodeEmitter")},d=Object(o["p"])();Object(o["G"])("NodeInstance",d),n||console.warn("Can not find node's tree."),e.node.expanded&&(i.value=!0,a.value=!0);const p=n.props.children||"children";Object(o["ab"])(()=>{const t=e.node.data[p];return t&&[...t]},()=>{e.node.updateChildren()}),Object(o["ab"])(()=>e.node.indeterminate,t=>{h(e.node.checked,t)}),Object(o["ab"])(()=>e.node.checked,t=>{h(t,e.node.indeterminate)}),Object(o["ab"])(()=>e.node.expanded,e=>{Object(o["v"])(()=>i.value=e),e&&(a.value=!0)});const h=(t,r)=>{s.value===t&&l.value===r||n.ctx.emit("check-change",e.node.data,t,r),s.value=t,l.value=r},f=()=>{e.node.isLeaf||(i.value?(n.ctx.emit("node-collapse",e.node.data,e.node,d),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,d)))},g=(t,r)=>{e.node.setChecked(r.target.checked,!n.props.checkStrictly),Object(o["v"])(()=>{const t=n.store.value;n.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})};return{node$:c,tree:n,expanded:i,childNodeRendered:a,oldChecked:s,oldIndeterminate:l,emitter:u,parent:parent,getNodeKey:e=>Hf(n.props.nodeKey,e.data),handleSelectChange:h,handleClick:()=>{const t=n.store.value;t.setCurrentNode(e.node),n.ctx.emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),n.currentNode.value=e.node,n.props.expandOnClickNode&&f(),n.props.checkOnClickNode&&!e.node.disabled&&g(null,{target:{checked:!e.node.checked}}),n.ctx.emit("node-click",e.node.data,e.node,d)},handleContextMenu:t=>{n.instance.vnode.props.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),n.ctx.emit("node-contextmenu",t,e.node.data,e.node,d)},handleExpandIconClick:f,handleCheckChange:g,handleChildNodeExpand:(e,t,o)=>{r(t),n.ctx.emit("node-expand",e,t,o)},handleDragStart:t=>{n.props.draggable&&u.emit("tree-node-drag-start",{event:t,treeNode:e})},handleDragOver:t=>{n.props.draggable&&(u.emit("tree-node-drag-over",{event:t,treeNode:{$el:c.value,node:e.node}}),t.preventDefault())},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{n.props.draggable&&u.emit("tree-node-drag-end",e)}}}});const Jf={key:1,class:"el-tree-node__loading-icon el-icon-loading"};Kf.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-checkbox"),l=Object(o["N"])("node-content"),c=Object(o["N"])("el-tree-node"),u=Object(o["N"])("el-collapse-transition");return Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{ref:"node$",class:["el-tree-node",{"is-expanded":e.expanded,"is-current":e.node.isCurrent,"is-hidden":!e.node.visible,"is-focusable":!e.node.disabled,"is-checked":!e.node.disabled&&e.node.checked}],role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[3]||(t[3]=Object(o["fb"])((...t)=>e.handleClick&&e.handleClick(...t),["stop"])),onContextmenu:t[4]||(t[4]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[5]||(t[5]=Object(o["fb"])((...t)=>e.handleDragStart&&e.handleDragStart(...t),["stop"])),onDragover:t[6]||(t[6]=Object(o["fb"])((...t)=>e.handleDragOver&&e.handleDragOver(...t),["stop"])),onDragend:t[7]||(t[7]=Object(o["fb"])((...t)=>e.handleDragEnd&&e.handleDragEnd(...t),["stop"])),onDrop:t[8]||(t[8]=Object(o["fb"])((...t)=>e.handleDrop&&e.handleDrop(...t),["stop"]))},[Object(o["n"])("div",{class:"el-tree-node__content",style:{"padding-left":(e.node.level-1)*e.tree.props.indent+"px"}},[Object(o["n"])("span",{class:[{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},"el-tree-node__expand-icon",e.tree.props.iconClass?e.tree.props.iconClass:"el-icon-caret-right"],onClick:t[1]||(t[1]=Object(o["fb"])((...t)=>e.handleExpandIconClick&&e.handleExpandIconClick(...t),["stop"]))},null,2),e.showCheckbox?(Object(o["E"])(),Object(o["j"])(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[2]||(t[2]=Object(o["fb"])(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Object(o["k"])("v-if",!0),e.node.loading?(Object(o["E"])(),Object(o["j"])("span",Jf)):Object(o["k"])("v-if",!0),Object(o["n"])(l,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],4),Object(o["n"])(u,null,{default:Object(o["cb"])(()=>[!e.renderAfterExpand||e.childNodeRendered?Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{key:0,class:"el-tree-node__children",role:"group","aria-expanded":e.expanded},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.node.childNodes,t=>(Object(o["E"])(),Object(o["j"])(c,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","onNodeExpand"]))),128))],8,["aria-expanded"])),[[o["Z"],e.expanded]]):Object(o["k"])("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key"])),[[o["Z"],e.node.visible]])},Kf.__file="packages/tree/src/tree-node.vue";var Xf=Object(o["o"])({name:"ElTree",components:{ElTreeNode:Kf},props:{data:{type:Array},emptyText:{type:String,default:()=>qn("el.tree.emptyText")},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const r=Object(o["J"])(new qf({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));r.value.initialize();const n=Object(o["J"])(r.value.root),i=Object(o["J"])(null),a=Object(o["J"])(null),s=Object(o["J"])(null),{broadcastExpanded:l}=$f(e),{dragState:c}=function({props:e,ctx:t,el$:r,dropIndicator$:n,store:i}){const a=d();Object(o["G"])("DragNodeEmitter",a);const s=Object(o["J"])({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return a.on("tree-node-drag-start",({event:r,treeNode:o})=>{if("function"==typeof e.allowDrag&&!e.allowDrag(o.node))return r.preventDefault(),!1;r.dataTransfer.effectAllowed="move";try{r.dataTransfer.setData("text/plain","")}catch(e){}s.value.draggingNode=o,t.emit("node-drag-start",o.node,r)}),a.on("tree-node-drag-over",({event:o,treeNode:i})=>{const a=i,l=s.value.dropNode;l&&l!==a&&Lr(l.$el,"is-drop-inner");const c=s.value.draggingNode;if(!c||!a)return;let u=!0,d=!0,p=!0,h=!0;"function"==typeof e.allowDrop&&(u=e.allowDrop(c.node,a.node,"prev"),h=d=e.allowDrop(c.node,a.node,"inner"),p=e.allowDrop(c.node,a.node,"next")),o.dataTransfer.dropEffect=d?"move":"none",(u||d||p)&&l!==a&&(l&&t.emit("node-drag-leave",c.node,l.node,o),t.emit("node-drag-enter",c.node,a.node,o)),(u||d||p)&&(s.value.dropNode=a),a.node.nextSibling===c.node&&(p=!1),a.node.previousSibling===c.node&&(u=!1),a.node.contains(c.node,!1)&&(d=!1),(c.node===a.node||c.node.contains(a.node))&&(u=!1,d=!1,p=!1);const f=a.$el.getBoundingClientRect(),g=r.value.getBoundingClientRect();let m;const v=u?d?.25:p?.45:1:-1,b=p?d?.75:u?.55:0:1;let _=-9999;const E=o.clientY-f.top;m=E<f.height*v?"before":E>f.height*b?"after":d?"inner":"none";const O=a.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),y=n.value;"before"===m?_=O.top-g.top:"after"===m&&(_=O.bottom-g.top),y.style.top=_+"px",y.style.left=O.right-g.left+"px","inner"===m?jr(a.$el,"is-drop-inner"):Lr(a.$el,"is-drop-inner"),s.value.showDropIndicator="before"===m||"after"===m,s.value.allowDrop=s.value.showDropIndicator||h,s.value.dropType=m,t.emit("node-drag-over",c.node,a.node,o)}),a.on("tree-node-drag-end",e=>{const{draggingNode:r,dropType:o,dropNode:n}=s.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",r&&n){const a={data:r.node.data};"none"!==o&&r.node.remove(),"before"===o?n.node.parent.insertBefore(a,n.node):"after"===o?n.node.parent.insertAfter(a,n.node):"inner"===o&&n.node.insertChild(a),"none"!==o&&i.value.registerNode(a),Lr(n.$el,"is-drop-inner"),t.emit("node-drag-end",r.node,n.node,o,e),"none"!==o&&t.emit("node-drop",r.node,n.node,o,e)}r&&!n&&t.emit("node-drag-end",r.node,null,o,e),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}),{dragState:s}}({props:e,ctx:t,el$:a,dropIndicator$:s,store:r});!function({el$:e},t){const r=Object(o["J"])([]),n=Object(o["J"])([]);Object(o["B"])(()=>{a(),Rr(e.value,"keydown",i)}),Object(o["y"])(()=>{kr(e.value,"keydown",i)}),Object(o["D"])(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),Object(o["ab"])(n,e=>{e.forEach(e=>{e.setAttribute("tabindex","-1")})});const i=o=>{const n=o.target;if(-1===n.className.indexOf("el-tree-node"))return;const i=o.code;r.value=Array.from(e.value.querySelectorAll(".is-focusable[role=treeitem]"));const a=r.value.indexOf(n);let s;if([to.up,to.down].indexOf(i)>-1){if(o.preventDefault(),i===to.up){s=-1===a?0:0!==a?a-1:r.value.length-1;const e=s;for(;!t.value.getNode(r.value[s].dataset.key).canFocus;){if(s--,s===e){s=-1;break}s<0&&(s=r.value.length-1)}}else{s=-1===a?0:a<r.value.length-1?a+1:0;const e=s;for(;!t.value.getNode(r.value[s].dataset.key).canFocus;){if(s++,s===e){s=-1;break}s>=r.value.length&&(s=0)}}-1!==s&&r.value[s].focus()}[to.left,to.right].indexOf(i)>-1&&(o.preventDefault(),n.click());const l=n.querySelector('[type="checkbox"]');[to.enter,to.space].indexOf(i)>-1&&l&&(o.preventDefault(),l.click())},a=()=>{var t;r.value=Array.from(e.value.querySelectorAll(".is-focusable[role=treeitem]")),n.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const o=e.value.querySelectorAll(".is-checked[role=treeitem]");o.length?o[0].setAttribute("tabindex","0"):null===(t=r.value[0])||void 0===t||t.setAttribute("tabindex","0")}}({el$:a},r);const u=Object(o["h"])(()=>{const{childNodes:e}=n.value;return!e||0===e.length||e.every(({visible:e})=>!e)});Object(o["ab"])(()=>e.defaultCheckedKeys,e=>{r.value.setDefaultCheckedKey(e)}),Object(o["ab"])(()=>e.defaultExpandedKeys,e=>{r.value.defaultExpandedKeys=e,r.value.setDefaultExpandedKeys(e)}),Object(o["ab"])(()=>e.data,e=>{r.value.setData(e)},{deep:!0}),Object(o["ab"])(()=>e.checkStrictly,e=>{r.value.checkStrictly=e});const p=()=>{const e=r.value.getCurrentNode();return e?e.data:null};return Object(o["G"])("RootTree",{ctx:t,props:e,store:r,root:n,currentNode:i,instance:Object(o["p"])()}),{store:r,root:n,currentNode:i,dragState:c,el$:a,dropIndicator$:s,isEmpty:u,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(t)},getNodeKey:t=>Hf(e.nodeKey,t.data),getNodePath:t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const o=r.value.getNode(t);if(!o)return[];const i=[o.data];let a=o.parent;for(;a&&a!==n.value;)i.push(a.data),a=a.parent;return i.reverse()},getCheckedNodes:(e,t)=>r.value.getCheckedNodes(e,t),getCheckedKeys:e=>r.value.getCheckedKeys(e),getCurrentNode:p,getCurrentKey:()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=p();return t?t[e.nodeKey]:null},setCheckedNodes:(t,o)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(t,o)},setCheckedKeys:(t,o)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(t,o)},setChecked:(e,t,o)=>{r.value.setChecked(e,t,o)},getHalfCheckedNodes:()=>r.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>r.value.getHalfCheckedKeys(),setCurrentNode:(t,o=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");r.value.setUserCurrentNode(t,o)},setCurrentKey:(t,o=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");r.value.setCurrentNodeKey(t,o)},getNode:e=>r.value.getNode(e),remove:e=>{r.value.remove(e)},append:(e,t)=>{r.value.append(e,t)},insertBefore:(e,t)=>{r.value.insertBefore(e,t)},insertAfter:(e,t)=>{r.value.insertAfter(e,t)},handleNodeExpand:(e,r,o)=>{l(r),t.emit("node-expand",e,r,o)},updateKeyChildren:(t,o)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(t,o)}}}});const Qf={key:0,class:"el-tree__empty-block"},eg={class:"el-tree__empty-text"},tg={ref:"dropIndicator$",class:"el-tree__drop-indicator"};Xf.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-tree-node");return Object(o["E"])(),Object(o["j"])("div",{ref:"el$",class:["el-tree",{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType}],role:"tree"},[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.root.childNodes,t=>(Object(o["E"])(),Object(o["j"])(s,{key:e.getNodeKey(t),node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(Object(o["E"])(),Object(o["j"])("div",Qf,[Object(o["n"])("span",eg,Object(o["R"])(e.emptyText),1)])):Object(o["k"])("v-if",!0),Object(o["db"])(Object(o["n"])("div",tg,null,512),[[o["Z"],e.dragState.showDropIndicator]])],2)},Xf.__file="packages/tree/src/tree.vue",Xf.install=e=>{e.component(Xf.name,Xf)};const rg=Xf;function og(e,t,r){let o;o=r.response?""+(r.response.error||r.response):r.responseText?""+r.responseText:`fail to post ${e} ${r.status}`;const n=new Error(o);return n.status=r.status,n.method="post",n.url=e,n}function ng(e){if("undefined"==typeof XMLHttpRequest)return;const t=new XMLHttpRequest,r=e.action;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});const o=new FormData;e.data&&Object.keys(e.data).forEach(t=>{o.append(t,e.data[t])}),o.append(e.filename,e.file,e.file.name),t.onerror=function(){e.onError(og(r,0,t))},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(og(r,0,t));e.onSuccess(function(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}(t))},t.open("post",r,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const n=e.headers||{};for(const i in n)qt(n,i)&&null!==n[i]&&t.setRequestHeader(i,n[i]);return t.send(o),t}var ig=Object(o["o"])({name:"ElUploadList",components:{ElProgress:bp},props:{files:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},handlePreview:{type:Function,default:()=>zt},listType:{type:String,default:"text"}},emits:["remove"],setup:(e,{emit:t})=>({focusing:Object(o["J"])(!1),parsePercentage:e=>parseInt(e,10),handleClick:t=>{e.handlePreview(t)},handleRemove:(e,r)=>{t("remove",r)},onFileClicked:e=>{e.target.focus()},t:qn})});const ag=Object(o["n"])("i",{class:"el-icon-document"},null,-1),sg={class:"el-upload-list__item-status-label"},lg={key:2,class:"el-icon-close-tip"},cg={key:4,class:"el-upload-list__item-actions"},ug=Object(o["n"])("i",{class:"el-icon-zoom-in"},null,-1),dg=Object(o["n"])("i",{class:"el-icon-delete"},null,-1);ig.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-progress");return Object(o["E"])(),Object(o["j"])(o["e"],{tag:"ul",class:["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}],name:"el-list"},{default:Object(o["cb"])(()=>[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.files,r=>(Object(o["E"])(),Object(o["j"])("li",{key:r,class:["el-upload-list__item","is-"+r.status,e.focusing?"focusing":""],tabindex:"0",onKeydown:Object(o["eb"])(t=>!e.disabled&&e.handleRemove(t,r),["delete"]),onFocus:t[1]||(t[1]=t=>e.focusing=!0),onBlur:t[2]||(t[2]=t=>e.focusing=!1),onClick:t[3]||(t[3]=(...t)=>e.onFileClicked&&e.onFileClicked(...t))},[Object(o["M"])(e.$slots,"default",{file:r},()=>["uploading"!==r.status&&["picture-card","picture"].includes(e.listType)?(Object(o["E"])(),Object(o["j"])("img",{key:0,class:"el-upload-list__item-thumbnail",src:r.url,alt:""},null,8,["src"])):Object(o["k"])("v-if",!0),Object(o["n"])("a",{class:"el-upload-list__item-name",onClick:t=>e.handleClick(r)},[ag,Object(o["m"])(Object(o["R"])(r.name),1)],8,["onClick"]),Object(o["n"])("label",sg,[Object(o["n"])("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":["picture-card","picture"].includes(e.listType)}},null,2)]),e.disabled?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("i",{key:1,class:"el-icon-close",onClick:t=>e.handleRemove(t,r)},null,8,["onClick"])),Object(o["k"])(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Object(o["k"])(" This is a bug which needs to be fixed "),Object(o["k"])(" TODO: Fix the incorrect navigation interaction "),e.disabled?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("i",lg,Object(o["R"])(e.t("el.upload.deleteTip")),1)),"uploading"===r.status?(Object(o["E"])(),Object(o["j"])(s,{key:3,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(r.percentage)},null,8,["type","stroke-width","percentage"])):Object(o["k"])("v-if",!0),"picture-card"===e.listType?(Object(o["E"])(),Object(o["j"])("span",cg,[Object(o["n"])("span",{class:"el-upload-list__item-preview",onClick:t=>e.handlePreview(r)},[ug],8,["onClick"]),e.disabled?Object(o["k"])("v-if",!0):(Object(o["E"])(),Object(o["j"])("span",{key:0,class:"el-upload-list__item-delete",onClick:t=>e.handleRemove(t,r)},[dg],8,["onClick"]))])):Object(o["k"])("v-if",!0)])],42,["onKeydown"]))),128))]),_:3},8,["class"])},ig.__file="packages/upload/src/upload-list.vue";var pg=Object(o["o"])({name:"ElUploadDrag",props:{disabled:{type:Boolean,default:!1}},emits:["file"],setup(e,{emit:t}){const r=Object(o["r"])("uploader",{}),n=Object(o["J"])(!1);return{dragover:n,onDrop:function(o){if(e.disabled||!r)return;const i=r.accept;n.value=!1,t("file",i?Array.from(o.dataTransfer.files).filter(e=>{const{type:t,name:r}=e,o=r.indexOf(".")>-1?"."+r.split(".").pop():"",n=t.replace(/\/.*$/,"");return i.split(",").map(e=>e.trim()).filter(e=>e).some(e=>e.startsWith(".")?o===e:/\/\*$/.test(e)?n===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&t===e)}):o.dataTransfer.files)},onDragover:function(){e.disabled||(n.value=!0)}}}});pg.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:{"el-upload-dragger":!0,"is-dragover":e.dragover},onDrop:t[1]||(t[1]=Object(o["fb"])((...t)=>e.onDrop&&e.onDrop(...t),["prevent"])),onDragover:t[2]||(t[2]=Object(o["fb"])((...t)=>e.onDragover&&e.onDragover(...t),["prevent"])),onDragleave:t[3]||(t[3]=Object(o["fb"])(t=>e.dragover=!1,["prevent"]))},[Object(o["M"])(e.$slots,"default")],34)},pg.__file="packages/upload/src/upload-dragger.vue";var hg=Object(o["o"])({components:{UploadDragger:pg},props:{type:{type:String,default:""},action:{type:String,required:!0},name:{type:String,default:"file"},data:{type:Object,default:()=>null},headers:{type:Object,default:()=>null},withCredentials:{type:Boolean,default:!1},multiple:{type:Boolean,default:null},accept:{type:String,default:""},onStart:{type:Function,default:zt},onProgress:{type:Function,default:zt},onSuccess:{type:Function,default:zt},onError:{type:Function,default:zt},beforeUpload:{type:Function,default:zt},drag:{type:Boolean,default:!1},onPreview:{type:Function,default:zt},onRemove:{type:Function,default:zt},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:()=>ng},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:zt}},setup(e){const t=Object(o["J"])({}),r=Object(o["J"])(!1),n=Object(o["J"])(null);function i(t){if(e.limit&&e.fileList.length+t.length>e.limit)return void e.onExceed(t,e.fileList);let r=Array.from(t);e.multiple||(r=r.slice(0,1)),0!==r.length&&r.forEach(t=>{e.onStart(t),e.autoUpload&&a(t)})}function a(t){if(n.value.value=null,!e.beforeUpload)return s(t);const r=e.beforeUpload(t);r instanceof Promise?r.then(e=>{const r=Object.prototype.toString.call(e);if("[object File]"===r||"[object Blob]"===r){"[object Blob]"===r&&(e=new File([e],t.name,{type:t.type}));for(const r in t)qt(t,r)&&(e[r]=t[r]);s(e)}else s(t)}).catch(()=>{e.onRemove(null,t)}):!1!==r?s(t):e.onRemove(null,t)}function s(r){const{uid:o}=r,n={headers:e.headers,withCredentials:e.withCredentials,file:r,data:e.data,filename:e.name,action:e.action,onProgress:t=>{e.onProgress(t,r)},onSuccess:n=>{e.onSuccess(n,r),delete t.value[o]},onError:n=>{e.onError(n,r),delete t.value[o]}},i=e.httpRequest(n);t.value[o]=i,i instanceof Promise&&i.then(n.onSuccess,n.onError)}function l(){e.disabled||(n.value.value=null,n.value.click())}return{reqs:t,mouseover:r,inputRef:n,abort:function(e){const r=t.value;if(e){let t=e;e.uid&&(t=e.uid),r[t]&&r[t].abort()}else Object.keys(r).forEach(e=>{r[e]&&r[e].abort(),delete r[e]})},post:s,handleChange:function(e){const t=e.target.files;t&&i(t)},handleClick:l,handleKeydown:function(){l()},upload:a,uploadFiles:i}}});function fg(e,t){return t.find(t=>t.uid===e.uid)}function gg(e){return Date.now()+e}hg.render=function(e,t,r,n,i,a){const s=Object(o["N"])("upload-dragger");return Object(o["E"])(),Object(o["j"])("div",{class:["el-upload","el-upload--"+e.listType],tabindex:"0",onClick:t[2]||(t[2]=(...t)=>e.handleClick&&e.handleClick(...t)),onKeydown:t[3]||(t[3]=Object(o["eb"])(Object(o["fb"])((...t)=>e.handleKeydown&&e.handleKeydown(...t),["self"]),["enter","space"]))},[e.drag?(Object(o["E"])(),Object(o["j"])(s,{key:0,disabled:e.disabled,onFile:e.uploadFiles},{default:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"default")]),_:3},8,["disabled","onFile"])):Object(o["M"])(e.$slots,"default",{key:1}),Object(o["n"])("input",{ref:"inputRef",class:"el-upload__input",type:"file",name:e.name,multiple:e.multiple,accept:e.accept,onChange:t[1]||(t[1]=(...t)=>e.handleChange&&e.handleChange(...t))},null,40,["name","multiple","accept"])],34)},hg.__file="packages/upload/src/upload.vue";var mg=Object(o["o"])({name:"ElUpload",components:{Upload:hg,UploadList:ig},props:{action:{type:String,required:!0},headers:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},beforeUpload:{type:Function,default:zt},beforeRemove:{type:Function,default:zt},onRemove:{type:Function,default:zt},onChange:{type:Function,default:zt},onPreview:{type:Function,default:zt},onSuccess:{type:Function,default:zt},onProgress:{type:Function,default:zt},onError:{type:Function,default:zt},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:ng},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:()=>zt}},setup(e){const t=Object(o["r"])("elForm",{}),r=Object(o["h"])(()=>e.disabled||t.disabled),{abort:n,clearFiles:i,handleError:a,handleProgress:s,handleStart:l,handleSuccess:c,handleRemove:u,submit:d,uploadRef:p,uploadFiles:h}=(e=>{let t=[];const r=Object(o["J"])([]),n=Object(o["J"])(null);let i=1;function a(e){n.value.abort(e)}return Object(o["ab"])(()=>e.listType,t=>{"picture-card"!==t&&"picture"!==t||(r.value=r.value.map(t=>{if(!t.url&&t.raw)try{t.url=URL.createObjectURL(t.raw)}catch(o){e.onError(o,t,r.value)}return t}))}),Object(o["ab"])(()=>e.fileList,e=>{Ct()(t,e)||(t=[],r.value=e.map(e=>{const r=Zt()(e);return t.push(r),Object.assign(Object.assign({},r),{uid:e.uid||gg(i++),status:e.status||"success"})}))},{immediate:!0,deep:!0}),{abort:a,clearFiles:function(){r.value=[]},handleError:function(t,o){const n=fg(o,r.value);n.status="fail",r.value.splice(r.value.indexOf(n),1),e.onError(t,n,r.value),e.onChange(n,r.value)},handleProgress:function(t,o){const n=fg(o,r.value);e.onProgress(t,n,r.value),n.status="uploading",n.percentage=t.percent||0},handleStart:function(t){const o=gg(i++);t.uid=o;const n={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:o};if("picture-card"===e.listType||"picture"===e.listType)try{n.url=URL.createObjectURL(t)}catch(t){console.error("[Element Error][Upload]",t),e.onError(t,n,r.value)}r.value.push(n),e.onChange(n,r.value)},handleSuccess:function(t,o){const n=fg(o,r.value);n&&(n.status="success",n.response=t,e.onSuccess(t,n,r.value),e.onChange(n,r.value))},handleRemove:function(t,o){o&&(t=fg(o,r.value));const n=()=>{a(t);const o=r.value;o.splice(o.indexOf(t),1),e.onRemove(t,o)};if(e.beforeRemove){if("function"==typeof e.beforeRemove){const o=e.beforeRemove(t,r.value);o instanceof Promise?o.then(()=>{n()}).catch(zt):!1!==o&&n()}}else n()},submit:function(){r.value.filter(e=>"ready"===e.status).forEach(e=>{n.value.upload(e.raw)})},uploadFiles:r,uploadRef:n}})(e);return Object(o["G"])("uploader",Object(o["p"])()),Object(o["y"])(()=>{h.value.forEach(e=>{e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)})}),{abort:n,dragOver:Object(o["J"])(!1),draging:Object(o["J"])(!1),handleError:a,handleProgress:s,handleRemove:u,handleStart:l,handleSuccess:c,uploadDisabled:r,uploadFiles:h,uploadRef:p,submit:d,clearFiles:i}},render(){var e,t;let r;r=this.showFileList?Object(o["q"])(ig,{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,onRemove:this.handleRemove,handlePreview:this.onPreview},this.$slots.file?{default:e=>this.$slots.file({file:e.file})}:null):null;const n={type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest,ref:"uploadRef"},i=this.$slots.trigger||this.$slots.default,a=Object(o["q"])(hg,n,{default:()=>null==i?void 0:i()});return Object(o["q"])("div",["picture-card"===this.listType?r:null,this.$slots.trigger?[a,this.$slots.default()]:a,null===(t=(e=this.$slots).tip)||void 0===t?void 0:t.call(e),"picture-card"!==this.listType?r:null])}});mg.__file="packages/upload/src/index.vue",mg.install=e=>{e.component(mg.name,mg)};const vg=mg;var bg=Object(o["o"])({props:{prefixCls:{type:String,default:"el-space"}},setup:e=>({classes:Object(o["h"])(()=>e.prefixCls+"__item")})});bg.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",{class:e.classes},[Object(o["M"])(e.$slots,"default")],2)},bg.__file="packages/space/src/item.vue";const _g={mini:4,small:8,medium:12,large:16},Eg={direction:{type:String,default:"horizontal"},class:{type:[String,Object,Array],default:""},style:{type:[String,Array,Object]},alignment:{type:String,default:"center"},prefixCls:{type:String},spacer:{type:[Object,String,Number],default:null,validator:e=>Object(o["t"])(e)||fr(e)||Kt(e)},wrap:{type:Boolean,default:!1},size:{type:[String,Array,Number],validator:e=>yo(e)||fr(e)||Yt(e)}},Og=Object(o["o"])({name:"ElSpace",props:Eg,setup:e=>function(e){const t=Object(o["h"])(()=>["el-space","el-space--"+e.direction,e.class]),r=Object(o["J"])(0),n=Object(o["J"])(0);return Object(o["ab"])(()=>[e.size,e.wrap,e.direction],([e="small",t,o])=>{if(Yt(e)){const[t=0,o=0]=e;r.value=t,n.value=o}else{let i;i=fr(e)?e:_g[e]||_g.small,t&&"horizontal"===o?r.value=n.value=i:"horizontal"===o?(r.value=i,n.value=0):(n.value=i,r.value=0)}},{immediate:!0}),{classes:t,containerStyle:Object(o["h"])(()=>[e.wrap?{flexWrap:"wrap",marginBottom:`-${n.value}px`}:null,{alignItems:e.alignment},e.style]),itemStyle:Object(o["h"])(()=>({paddingBottom:n.value+"px",marginRight:r.value+"px"}))}}(e),render(e){const{classes:t,$slots:r,containerStyle:n,itemStyle:i,spacer:a,prefixCls:s,direction:l}=e,c=Object(o["M"])(r,"default",{key:0},()=>[]);if(0===c.children.length)return null;if(Yt(c.children)){let e=[];if(c.children.forEach((t,r)=>{var n;ln(t)?Yt(t.children)&&t.children.forEach((t,r)=>{e.push(Object(o["n"])(bg,{style:i,prefixCls:s,key:"nested-"+r},{default:()=>[t]},on.PROPS|on.STYLE,["style","prefixCls"]))}):ln(n=t)||cn(n)||e.push(Object(o["n"])(bg,{style:i,prefixCls:s,key:"LoopKey"+r},{default:()=>[t]},on.PROPS|on.STYLE,["style","prefixCls"]))}),a){const t=e.length-1;e=e.reduce((e,r,n)=>n===t?[...e,r]:[...e,r,Object(o["n"])("span",{style:[i,"vertical"===l?"width: 100%":null],key:n},[Object(o["t"])(a)?a:Object(o["m"])(a,on.TEXT)],on.STYLE)],[])}return Object(o["n"])("div",{class:t,style:n},e,on.STYLE|on.CLASS)}return c.children}});Og.install=e=>{e.component(Og.name,Og)};var yg=Object(o["o"])({name:"ImgPlaceholder"});const Sg={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Tg=Object(o["n"])("path",{d:"M64 896V128h896v768H64z m64-128l192-192 116.352 116.352L640 448l256 307.2V192H128v576z m224-480a96 96 0 1 1-0.064 192.064A96 96 0 0 1 352 288z"},null,-1);yg.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("svg",Sg,[Tg])},yg.__file="packages/skeleton-item/src/img-placeholder.vue";var Cg=Object(o["o"])({name:"ElSkeletonItem",components:{[yg.name]:yg},props:{variant:{type:String,default:"text"}}});Cg.render=function(e,t,r,n,i,a){const s=Object(o["N"])("img-placeholder");return Object(o["E"])(),Object(o["j"])("div",{class:["el-skeleton__item","el-skeleton__"+e.variant]},["image"===e.variant?(Object(o["E"])(),Object(o["j"])(s,{key:0})):Object(o["k"])("v-if",!0)],2)},Cg.__file="packages/skeleton-item/src/index.vue",Cg.install=e=>{e.component(Cg.name,Cg)};const Rg=Cg;var kg=Object(o["o"])({name:"ElSkeleton",components:{[Rg.name]:Rg},props:{animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}},setup:e=>({uiLoading:function(e,t=0){if(0===t)return e;const r=Object(o["J"])(!1);let n=0;const i=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r.value=e.value},t)};return Object(o["B"])(i),Object(o["ab"])(()=>e.value,e=>{e?i():r.value=e}),r}(Object(o["h"])(()=>e.loading),e.throttle)})});kg.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-skeleton-item");return e.uiLoading?(Object(o["E"])(),Object(o["j"])("div",Object(o["u"])({key:0,class:["el-skeleton",e.animated?"is-animated":""]},e.$attrs),[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.count,t=>(Object(o["E"])(),Object(o["j"])(o["b"],{key:t},[e.loading?Object(o["M"])(e.$slots,"template",{key:0},()=>[Object(o["n"])(s,{class:"is-first",variant:"p"}),(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.rows,t=>(Object(o["E"])(),Object(o["j"])(s,{key:t,class:{"el-skeleton__paragraph":!0,"is-last":t===e.rows&&e.rows>1},variant:"p"},null,8,["class"]))),128))]):Object(o["k"])("v-if",!0)],64))),128))],16)):Object(o["M"])(e.$slots,"default",Object(o["u"])({key:1},e.$attrs))},kg.__file="packages/skeleton/src/index.vue",kg.install=e=>{e.component(kg.name,kg)};const Ig=kg;var jg=Object(o["o"])({name:"ElCheckTag",props:{checked:Boolean},emits:["change"],setup:(e,{emit:t})=>({onChange:()=>{t("change",!e.checked)}})});jg.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("span",{class:{"el-check-tag":!0,"is-checked":e.checked},onClick:t[1]||(t[1]=(...t)=>e.onChange&&e.onChange(...t))},[Object(o["M"])(e.$slots,"default")],2)},jg.__file="packages/check-tag/src/index.vue",jg.install=e=>{e.component(jg.name,jg)};const Lg=jg;var Mg=Object(o["o"])({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup:()=>({descriptions:Object(o["r"])("elDescriptions",{})}),render(){var e,t,r,n,i,a;const s=(e=>{var t;if(!Object(o["t"])(e))return void lr("VNode","value must be a VNode");const r=e.props||{},n=(null===(t=e.type)||void 0===t?void 0:t.props)||{},i={};return Object.keys(n).forEach(e=>{qt(n[e],"default")&&(i[e]=n[e].default)}),Object.keys(r).forEach(e=>{i[Object(o["f"])(e)]=r[e]}),i})(this.cell),l=(null===(r=null===(t=null===(e=this.cell)||void 0===e?void 0:e.children)||void 0===t?void 0:t.label)||void 0===r?void 0:r.call(t))||s.label,c=null===(a=null===(i=null===(n=this.cell)||void 0===n?void 0:n.children)||void 0===i?void 0:i.default)||void 0===a?void 0:a.call(i),u=s.span,d=s.align?"is-"+s.align:"",p=s.labelAlign?"is-"+s.labelAlign:d,h=s.className,f=s.labelClassName,g={width:Cr(s.width),minWidth:Cr(s.minWidth)};switch(this.type){case"label":return Object(o["q"])(this.tag,{style:g,class:["el-descriptions__label",{"is-bordered-label":this.descriptions.border},p,f],colSpan:"vertical"===this.descriptions.direction?u:1},l);case"content":return Object(o["q"])(this.tag,{style:g,class:["el-descriptions__content",d,h],colSpan:"vertical"===this.descriptions.direction?u:2*u-1},c);default:return Object(o["q"])("td",{style:g,class:[d],colSpan:u},[Object(o["q"])("span",{class:["el-descriptions__label",f]},l),Object(o["q"])("span",{class:["el-descriptions__content",h]},c)])}}}),Ng=Object(o["o"])({name:"ElDescriptionsRow",components:{[Mg.name]:Mg},props:{row:{type:Array}},setup:()=>({descriptions:Object(o["r"])("elDescriptions",{})})});const Ag={key:1};Ng.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-descriptions-cell");return"vertical"===e.descriptions.direction?(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["n"])("tr",null,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.row,(e,t)=>(Object(o["E"])(),Object(o["j"])(s,{key:"tr1-"+t,cell:e,tag:"th",type:"label"},null,8,["cell"]))),128))]),Object(o["n"])("tr",null,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.row,(e,t)=>(Object(o["E"])(),Object(o["j"])(s,{key:"tr2-"+t,cell:e,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(Object(o["E"])(),Object(o["j"])("tr",Ag,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.row,(t,r)=>(Object(o["E"])(),Object(o["j"])(o["b"],{key:"tr3-"+r},[e.descriptions.border?(Object(o["E"])(),Object(o["j"])(o["b"],{key:0},[Object(o["n"])(s,{cell:t,tag:"td",type:"label"},null,8,["cell"]),Object(o["n"])(s,{cell:t,tag:"td",type:"content"},null,8,["cell"])],64)):(Object(o["E"])(),Object(o["j"])(s,{key:1,cell:t,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))},Ng.__file="packages/descriptions/src/descriptions-row.vue";var Pg=Object(o["o"])({name:"ElDescriptions",components:{[Ng.name]:Ng},props:{border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,default:"horizontal"},size:{type:String,validator:yo},title:{type:String,default:""},extra:{type:String,default:""}},setup(e,{slots:t}){Object(o["G"])("elDescriptions",e);const r=_r(),n=Object(o["h"])(()=>e.size||r.size),i=e=>{const t=Array.isArray(e)?e:[e],r=[];return t.forEach(e=>{Array.isArray(e.children)?r.push(...i(e.children)):r.push(e)}),r},a=(t,r,o,n=!1)=>(t.props||(t.props={}),r>o&&(t.props.span=o),n&&(t.props.span=e.column),t);return{descriptionsSize:n,getRows:()=>{var r;const o=i(null===(r=t.default)||void 0===r?void 0:r.call(t)).filter(e=>{var t;return"ElDescriptionsItem"===(null===(t=null==e?void 0:e.type)||void 0===t?void 0:t.name)}),n=[];let s=[],l=e.column;return o.forEach((t,r)=>{var i;const c=(null===(i=t.props)||void 0===i?void 0:i.span)||1;if(r===o.length-1)return s.push(a(t,c,l,!0)),void n.push(s);c<l?(l-=c,s.push(t)):(s.push(a(t,c,l)),n.push(s),l=e.column,s=[])}),n}}}});const wg={class:"el-descriptions"},xg={key:0,class:"el-descriptions__header"},Dg={class:"el-descriptions__title"},Ug={class:"el-descriptions__extra"},Bg={class:"el-descriptions__body"};Pg.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-descriptions-row");return Object(o["E"])(),Object(o["j"])("div",wg,[e.title||e.extra||e.$slots.title||e.$slots.extra?(Object(o["E"])(),Object(o["j"])("div",xg,[Object(o["n"])("div",Dg,[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["m"])(Object(o["R"])(e.title),1)])]),Object(o["n"])("div",Ug,[Object(o["M"])(e.$slots,"extra",{},()=>[Object(o["m"])(Object(o["R"])(e.extra),1)])])])):Object(o["k"])("v-if",!0),Object(o["n"])("div",Bg,[Object(o["n"])("table",{class:[{"is-bordered":e.border},e.descriptionsSize?"el-descriptions--"+e.descriptionsSize:""]},[Object(o["n"])("tbody",null,[(Object(o["E"])(!0),Object(o["j"])(o["b"],null,Object(o["L"])(e.getRows(),(e,t)=>(Object(o["E"])(),Object(o["j"])(s,{key:t,row:e},null,8,["row"]))),128))])],2)])])},Pg.__file="packages/descriptions/src/index.vue",Pg.install=e=>{e.component(Pg.name,Pg)};const Zg=Pg;var Hg=Object(o["o"])({name:"ElDescriptionsItem",props:{label:{type:String,default:"1"},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});Hg.install=e=>{e.component(Hg.name,Hg)};const Gg=Hg;var Vg=Object(o["o"])({name:"IconSuccess"});const zg={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Wg=Object(o["n"])("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M34.5548098,16.4485711 C33.9612228,15.8504763 32.9988282,15.8504763 32.4052412,16.4485711 L32.4052412,16.4485711 L21.413757,27.5805811 L21.413757,27.5805811 L21.4034642,27.590855 C21.0097542,27.9781674 20.3766105,27.9729811 19.9892981,27.5792711 L19.9892981,27.5792711 L15.5947588,23.1121428 C15.0011718,22.514048 14.0387772,22.514048 13.4451902,23.1121428 C12.8516033,23.7102376 12.8516033,24.6799409 13.4451902,25.2780357 L13.4451902,25.2780357 L19.6260786,31.5514289 C20.2196656,32.1495237 21.1820602,32.1495237 21.7756472,31.5514289 L21.7756472,31.5514289 L34.5548098,18.614464 C35.1483967,18.0163692 35.1483967,17.0466659 34.5548098,16.4485711 Z"},null,-1);Vg.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("svg",zg,[Wg])},Vg.__file="packages/result/src/icon-success.vue";var Fg=Object(o["o"])({name:"IconError"});const qg={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Yg=Object(o["n"])("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.57818,15.42182 C32.0157534,14.8593933 31.1038797,14.8593933 30.541453,15.42182 L30.541453,15.42182 L24.0006789,21.9625941 L17.458547,15.42182 C16.8961203,14.8593933 15.9842466,14.8593933 15.42182,15.42182 C14.8593933,15.9842466 14.8593933,16.8961203 15.42182,17.458547 L15.42182,17.458547 L21.9639519,23.9993211 L15.42182,30.541453 C14.8593933,31.1038797 14.8593933,32.0157534 15.42182,32.57818 C15.9842466,33.1406067 16.8961203,33.1406067 17.458547,32.57818 L17.458547,32.57818 L24.0006789,26.0360481 L30.541453,32.57818 C31.1038797,33.1406067 32.0157534,33.1406067 32.57818,32.57818 C33.1406067,32.0157534 33.1406067,31.1038797 32.57818,30.541453 L32.57818,30.541453 L26.0374059,23.9993211 L32.57818,17.458547 C33.1406067,16.8961203 33.1406067,15.9842466 32.57818,15.42182 Z"},null,-1);Fg.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("svg",qg,[Yg])},Fg.__file="packages/result/src/icon-error.vue";var $g=Object(o["o"])({name:"IconWarning"});const Kg={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Jg=Object(o["n"])("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,31 C22.8954305,31 22,31.8954305 22,33 C22,34.1045695 22.8954305,35 24,35 C25.1045695,35 26,34.1045695 26,33 C26,31.8954305 25.1045695,31 24,31 Z M24,14 C23.1715729,14 22.5,14.6715729 22.5,15.5 L22.5,15.5 L22.5,27.5 C22.5,28.3284271 23.1715729,29 24,29 C24.8284271,29 25.5,28.3284271 25.5,27.5 L25.5,27.5 L25.5,15.5 C25.5,14.6715729 24.8284271,14 24,14 Z"},null,-1);$g.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("svg",Kg,[Jg])},$g.__file="packages/result/src/icon-warning.vue";var Xg=Object(o["o"])({name:"IconInfo"});const Qg={viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},em=Object(o["n"])("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,19 L21,19 C20.1715729,19 19.5,19.6715729 19.5,20.5 C19.5,21.3284271 20.1715729,22 21,22 L21,22 L22.5,22 L22.5,31 L21,31 C20.1715729,31 19.5,31.6715729 19.5,32.5 C19.5,33.3284271 20.1715729,34 21,34 L21,34 L27,34 C27.8284271,34 28.5,33.3284271 28.5,32.5 C28.5,31.6715729 27.8284271,31 27,31 L27,31 L25.5,31 L25.5,20.5 C25.5,19.6715729 24.8284271,19 24,19 L24,19 Z M24,13 C22.8954305,13 22,13.8954305 22,15 C22,16.1045695 22.8954305,17 24,17 C25.1045695,17 26,16.1045695 26,15 C26,13.8954305 25.1045695,13 24,13 Z"},null,-1);Xg.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("svg",Qg,[em])},Xg.__file="packages/result/src/icon-info.vue";const tm={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"};var rm=Object(o["o"])({name:"ElResult",components:{[Vg.name]:Vg,[Fg.name]:Fg,[$g.name]:$g,[Xg.name]:Xg},props:{title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,default:"info"}},setup:e=>({iconElement:Object(o["h"])(()=>{const t=e.icon;return t&&tm[t]?tm[t]:"icon-info"})})});const om={class:"el-result"},nm={class:"el-result__icon"},im={key:0,class:"el-result__title"},am={key:1,class:"el-result__subtitle"},sm={key:2,class:"el-result__extra"};rm.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("div",om,[Object(o["n"])("div",nm,[Object(o["M"])(e.$slots,"icon",{},()=>[(Object(o["E"])(),Object(o["j"])(Object(o["P"])(e.iconElement),{class:e.iconElement},null,8,["class"]))])]),e.title||e.$slots.title?(Object(o["E"])(),Object(o["j"])("div",im,[Object(o["M"])(e.$slots,"title",{},()=>[Object(o["n"])("p",null,Object(o["R"])(e.title),1)])])):Object(o["k"])("v-if",!0),e.subTitle||e.$slots.subTitle?(Object(o["E"])(),Object(o["j"])("div",am,[Object(o["M"])(e.$slots,"subTitle",{},()=>[Object(o["n"])("p",null,Object(o["R"])(e.subTitle),1)])])):Object(o["k"])("v-if",!0),e.$slots.extra?(Object(o["E"])(),Object(o["j"])("div",sm,[Object(o["M"])(e.$slots,"extra")])):Object(o["k"])("v-if",!0)])},rm.__file="packages/result/src/index.vue",rm.install=e=>{e.component(rm.name,rm)};const lm=rm;let cm=e=>setTimeout(e,16),um=e=>clearTimeout(e);Vt||(cm=e=>window.requestAnimationFrame(e),um=e=>window.cancelAnimationFrame(e));const dm="rtl",pm={cache:{type:Number,default:2},className:{type:String,default:""},containerElement:{type:[String,Object],default:"div"},data:{type:[Array],default:()=>[]},direction:{type:String,default:"ltr",validator:e=>"ltr"===e||e===dm},estimatedItemSize:{type:[Number]},height:{type:[String,Number],required:!0},layout:{type:String,default:"vertical"},initScrollOffset:{type:Number,default:0},innerElement:{type:[String,Object],default:"div"},total:{type:Number,required:!0},itemSize:{type:[Number,Function],required:!0},style:{type:[Object,String,Array],default:()=>({})},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!0}},hm={className:pm.className,columnCache:pm.cache,columnWidth:pm.itemSize,containerElement:pm.containerElement,data:pm.data,direction:pm.direction,estimatedColumnWidth:pm.estimatedItemSize,estimatedRowHeight:pm.estimatedItemSize,height:Object.assign(Object.assign({},pm.height),{validator:e=>fr(e)}),initScrollLeft:pm.initScrollOffset,initScrollTop:pm.initScrollOffset,innerElement:pm.innerElement,rowCache:pm.cache,rowHeight:pm.itemSize,style:pm.style,useIsScrolling:pm.useIsScrolling,width:Object.assign(Object.assign({},pm.width),{validator:e=>fr(e)}),totalColumn:pm.total,totalRow:pm.total},fm={layout:pm.layout,total:Number,ratio:Number,clientSize:Number,scrollFrom:Number,visible:Boolean},gm={horizontal:"height",vertical:"width"},mm={horizontal:"left",vertical:"top"},vm=(e,t)=>e<t?"forward":"backward",bm=e=>"ltr"===e||e===dm||"horizontal"===e,_m=e=>e===dm;let Em=null;function Om(e=!1){if(null===Em||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Em="positive-descending":(e.scrollLeft=1,Em=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),Em}return Em}const ym="undefined"!=typeof navigator&&Jt(navigator)&&/Firefox/i.test(navigator.userAgent),Sm={horizontal:"deltaX",vertical:"deltaY"},Tm=Object(o["o"])({name:"ElVirtualScrollBar",props:fm,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const r=Object(o["J"])(null),n=Object(o["J"])(null);let i=null,a=null;const s=Object(o["I"])({isDragging:!1,traveled:0}),l=Object(o["h"])(()=>Go[e.layout]),c=Object(o["h"])(()=>({display:e.visible?null:"none",position:"absolute",[gm[e.layout]]:"6px",[mm[e.layout]]:"2px",right:"2px",bottom:"2px",height:"100%",borderRadius:"4px"})),u=Object(o["h"])(()=>{if(e.ratio>=100)return Number.POSITIVE_INFINITY;if(e.ratio>=50)return e.ratio*e.clientSize/100;const t=e.clientSize/3;return Math.floor(Math.min(Math.max(e.ratio*e.clientSize,20),t))}),d=Object(o["h"])(()=>{if(!Number.isFinite(u.value))return{display:"none"};const t=u.value+"px";return function({move:e,size:t,bar:r},o){const n={},i=`translate${r.axis}(${e}px)`;return n[r.size]=t,n.transform=i,n.msTransform=i,n.webkitTransform=i,"horizontal"===o?n.height="100%":n.width="100%",n}({bar:l.value,size:t,move:s.traveled},e.layout)}),p=Object(o["h"])(()=>Math.floor(e.clientSize-u.value-4)),h=()=>{kr(window,"mousemove",m),kr(window,"mouseup",g),document.onselectstart=a,a=null;const e=n.value;kr(e,"touchmove",m),kr(e,"touchend",g)},f=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(s.isDragging=!0,s[l.value.axis]=e.currentTarget[l.value.offset]-(e[l.value.client]-e.currentTarget.getBoundingClientRect()[l.value.direction]),t("start-move"),(()=>{Rr(window,"mousemove",m),Rr(window,"mouseup",g);const e=n.value;a=document.onselectstart,document.onselectstart=()=>!1,Rr(e,"touchmove",m),Rr(e,"touchend",g)})())},g=()=>{s.isDragging=!1,s[l.value.axis]=0,t("stop-move"),h()},m=e=>{const{isDragging:o}=s;if(!o)return;const a=s[l.value.axis];if(!a)return;um(i);const c=-1*(r.value.getBoundingClientRect()[l.value.direction]-e[l.value.client])-(n.value[l.value.offset]-a);i=cm(()=>{s.traveled=Math.max(2,Math.min(c,p.value)),t("scroll",c,p.value)})},v=e=>e.preventDefault();return Object(o["ab"])(()=>e.scrollFrom,t=>{s.isDragging||(s.traveled=Math.ceil(t*e.clientSize/(e.clientSize/p.value)))}),Object(o["B"])(()=>{Vt||(Rr(r.value,"touchstart",v),Rr(n.value,"touchstart",f))}),Object(o["y"])(()=>{kr(r.value,"touchstart",v),h()}),()=>Object(o["q"])("div",{role:"presentation",ref:r,class:"el-virtual-scrollbar",style:c.value,onMousedown:Object(o["fb"])(zt,["stop","prevent"])},Object(o["q"])("div",{ref:n,class:"el-scrollbar__thumb",style:d.value,onMousedown:f},null))}}),Cm=({name:e,getOffset:t,getItemSize:r,getItemOffset:n,getEstimatedTotalSize:i,getStartIndexForOffset:a,getStopIndexForStartIndex:s,initCache:l,clearCache:c,validateProps:u})=>Object(o["o"])({name:null!=e?e:"ElVirtualList",props:pm,emits:["item-rendered","scroll"],setup(e,{emit:d,expose:p}){u(e);const h=Object(o["p"])(),f=Object(o["J"])(l(e,h)),g=Object(o["J"])(null),m=Object(o["J"])(null),v=Object(o["J"])(null),b=Object(o["J"])({isScrolling:!1,scrollDir:"forward",scrollOffset:fr(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1}),_=Object(o["h"])(()=>{const{total:t,cache:r}=e,{isScrolling:o,scrollDir:n,scrollOffset:i}=Tr(b);if(0===t)return[0,0,0,0];const l=a(e,i,Tr(f)),c=s(e,l,i,Tr(f)),u=o&&"backward"!==n?1:Math.max(1,r),d=o&&"forward"!==n?1:Math.max(1,r);return[Math.max(0,l-u),Math.max(0,Math.min(t-1,c+d)),l,c]}),E=Object(o["h"])(()=>i(e,Tr(f))),O=Object(o["h"])(()=>bm(e.layout)),y=Object(o["h"])(()=>[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},Object.assign({direction:e.direction,height:fr(e.height)?e.height+"px":e.height,width:fr(e.width)?e.width+"px":e.width},e.style)]),S=Object(o["h"])(()=>{const e=Tr(E),t=Tr(O);return{height:t?"100%":e+"px",pointerEvents:Tr(b).isScrolling?"none":void 0,width:t?e+"px":"100%"}}),T=Object(o["h"])(()=>O.value?e.width:e.height),{onWheel:C}=(({atEndEdge:e,atStartEdge:t,layout:r},o)=>{let n=null,i=0;const a=r=>r<0&&t.value||r>0&&e.value;return{hasReachedEdge:a,onWheel:e=>{um(n);const t=e[Sm[r.value]];a(i)&&a(i+t)||(i+=t,ym||e.preventDefault(),n=cm(()=>{o(i),i=0}))}}})({atStartEdge:Object(o["h"])(()=>b.value.scrollOffset<=0),atEndEdge:Object(o["h"])(()=>b.value.scrollOffset>=E.value),layout:Object(o["h"])(()=>e.layout)},e=>{var t,r;null===(r=(t=v.value).onMouseUp)||void 0===r||r.call(t),I(Math.min(b.value.scrollOffset+e,E.value-T.value))}),R=()=>{const{total:t}=e;if(t>0){const[e,t,r,o]=Tr(_);d("item-rendered",e,t,r,o)}const{scrollDir:r,scrollOffset:o,updateRequested:n}=Tr(b);d("scroll",r,o,n)},k=Gt()((e,t,r)=>({})),I=e=>{(e=Math.max(e,0))!==Tr(b).scrollOffset&&(b.value=Object.assign(Object.assign({},Tr(b)),{scrollOffset:e,scrollDir:vm(Tr(b).scrollOffset,e),updateRequested:!0}),Object(o["v"])(L))},j=(r,o="auto")=>{const{scrollOffset:n}=Tr(b);r=Math.max(0,Math.min(r,e.total-1)),I(t(e,r,o,n,Tr(f)))},L=()=>{b.value.isScrolling=!1,Object(o["v"])(()=>{k(-1,null,null)})};Object(o["B"])(()=>{if(Vt)return;const{initScrollOffset:t}=e,r=Tr(g);fr(t)&&null!==r&&(Tr(O)?r.scrollLeft=t:r.scrollTop=t),R()}),Object(o["D"])(()=>{const{direction:t,layout:r}=e,{scrollOffset:o,updateRequested:n}=Tr(b);if(n&&null!==Tr(g)){const e=Tr(g);if("horizontal"===r)if(t===dm)switch(Om()){case"negative":e.scrollLeft=-o;break;case"positive-ascending":e.scrollLeft=o;break;default:{const{clientWidth:t,scrollWidth:r}=e;e.scrollLeft=r-t-o;break}}else e.scrollLeft=o;else e.scrollTop=o}});const M={clientSize:T,estimatedTotalSize:E,windowStyle:y,windowRef:g,innerRef:m,innerStyle:S,itemsToRender:_,scrollbarRef:v,states:b,getItemStyle:t=>{const{direction:o,itemSize:i,layout:a}=e,s=k(c&&i,c&&a,c&&o);let l;if(qt(s,String(t)))l=s[t];else{const i=n(e,t,Tr(f)),a=r(e,t,Tr(f)),c=Tr(O),u=o===dm,d=c?i:0;s[t]=l={position:"absolute",left:u?void 0:d+"px",right:u?d+"px":void 0,top:c?0:i+"px",height:c?"100%":a+"px",width:c?a+"px":"100%"}}return l},onScroll:t=>{Tr(O)?(t=>{const{clientWidth:r,scrollLeft:n,scrollWidth:i}=t.currentTarget,a=Tr(b);if(a.scrollOffset===n)return;const{direction:s}=e;let l=n;if(s===dm)switch(Om()){case"negative":l=-n;break;case"positive-descending":l=i-r-n}l=Math.max(0,Math.min(l,i-r)),b.value=Object.assign(Object.assign({},a),{isScrolling:!0,scrollDir:vm(a.scrollOffset,l),scrollOffset:l,updateRequested:!1}),Object(o["v"])(L)})(t):(e=>{const{clientHeight:t,scrollHeight:r,scrollTop:n}=e.currentTarget,i=Tr(b);if(i.scrollOffset===n)return;const a=Math.max(0,Math.min(n,r-t));b.value=Object.assign(Object.assign({},i),{isScrolling:!0,scrollDir:vm(i.scrollOffset,a),scrollOffset:a,updateRequested:!1}),Object(o["v"])(L)})(t),R()},onScrollbarScroll:(e,t)=>{const r=(E.value-T.value)/t*e;I(Math.min(E.value-T.value,r))},onWheel:C,scrollTo:I,scrollToItem:j};return p({windowRef:g,innerRef:m,getItemStyleCache:k,scrollTo:I,scrollToItem:j,states:b}),M},render(e){var t;const{$slots:r,className:n,clientSize:i,containerElement:a,data:s,getItemStyle:l,innerElement:c,itemsToRender:u,innerStyle:d,layout:p,total:h,onScroll:f,onScrollbarScroll:g,onWheel:m,states:v,useIsScrolling:b,windowStyle:_}=e,[E,O]=u,y=Object(o["P"])(a),S=Object(o["P"])(c),T=[];if(h>0)for(let o=E;o<=O;o++)T.push(null===(t=r.default)||void 0===t?void 0:t.call(r,{data:s,key:o,index:o,isScrolling:b?v.isScrolling:void 0,style:l(o)}));const C=[Object(o["q"])(S,{style:d,ref:"innerRef"},Kt(S)?T:{default:()=>T})],R=Object(o["q"])(Tm,{ref:"scrollbarRef",clientSize:i,layout:p,onScroll:g,ratio:100*i/this.estimatedTotalSize,scrollFrom:v.scrollOffset/(this.estimatedTotalSize-i),total:h,visible:!0}),k=Object(o["q"])(y,{class:n,style:_,onScroll:f,onWheel:m,ref:"windowRef",key:0},Kt(y)?[C]:{default:()=>[C]});return Object(o["q"])("div",{key:0,class:"el-vl__wrapper"},[k,R])}}),Rm=Cm({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:r,layout:o,width:n},i,a,s)=>{const l=bm(o)?n:e;"production"!==Object({NODE_ENV:"production",BASE_URL:""}).ENV&&Kt(l)&&sr("[ElVirtualList]","\n        You should set\n          width/height\n        to number when your layout is\n          horizontal/vertical\n      ");const c=Math.max(0,t*r-l),u=Math.min(c,i*r),d=Math.max(0,(i+1)*r-l);switch("smart"===a&&(a=s>=d-l&&s<=u+l?"auto":"center"),a){case"start":return u;case"end":return d;case"center":{const e=Math.round(d+(u-d)/2);return e<Math.ceil(l/2)?0:e>c+Math.floor(l/2)?c:e}case"auto":default:return s>=d&&s<=u?s:s<d?d:u}},getStartIndexForOffset:({total:e,itemSize:t},r)=>Math.max(0,Math.min(e-1,Math.floor(r/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:r,layout:o,width:n},i,a)=>{const s=i*r,l=bm(o)?n:e,c=Math.ceil((l+a-s)/r);return Math.max(0,Math.min(t-1,i+c-1))},initCache(){},clearCache:!0,validateProps(){}}),km=(e,t,r)=>{const{itemSize:o}=e,{items:n,lastVisitedIndex:i}=r;if(t>i){let e=0;if(i>=0){const t=n[i];e=t.offset+t.size}for(let r=i+1;r<=t;r++){const t=o(r);n[r]={offset:e,size:t},e+=t}r.lastVisitedIndex=t}return n[t]},Im=(e,t,r,o,n)=>{for(;r<=o;){const i=r+Math.floor((o-r)/2),a=km(e,i,t).offset;if(a===n)return i;a<n?r=i+1:a>n&&(o=i-1)}return Math.max(0,r-1)},jm=(e,t,r,o)=>{const{total:n}=e;let i=1;for(;r<n&&km(e,r,t).offset<o;)r+=i,i*=2;return Im(e,t,Math.floor(r/2),Math.min(r,n-1),o)},Lm=({total:e},{items:t,estimatedItemSize:r,lastVisitedIndex:o})=>{let n=0;if(o>=e&&(o=e-1),o>=0){const e=t[o];n=e.offset+e.size}return n+(e-o-1)*r},Mm=Cm({name:"ElDynamicSizeList",getItemOffset:(e,t,r)=>km(e,t,r).offset,getItemSize:(e,t,{items:r})=>r[t].size,getEstimatedTotalSize:Lm,getOffset:(e,t,r,o,n)=>{const{height:i,layout:a,width:s}=e,l=bm(a)?s:i,c=km(e,t,n),u=Lm(e,n),d=Math.max(0,Math.min(u-l,c.offset)),p=Math.max(0,c.offset-l+c.size);switch("smart"===r&&(r=o>=p-l&&o<=d+l?"auto":"center"),r){case"start":return d;case"end":return p;case"center":return Math.round(p+(d-p)/2);case"auto":default:return o>=p&&o<=d?o:o<p?p:d}},getStartIndexForOffset:(e,t,r)=>((e,t,r)=>{const{items:o,lastVisitedIndex:n}=t;return(n>0?o[n].offset:0)>=r?Im(e,t,0,n,r):jm(e,t,Math.max(0,n),r)})(e,r,t),getStopIndexForStartIndex:(e,t,r,o)=>{const{height:n,total:i,layout:a,width:s}=e,l=bm(a)?s:n,c=km(e,t,o),u=r+l;let d=c.offset+c.size,p=t;for(;p<i-1&&d<u;)p++,d+=km(e,p,o).size;return p},initCache({estimatedItemSize:e=50},t){const r={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,o=!0)=>{r.lastVisitedIndex=Math.min(r.lastVisitedIndex,e-1),t.exposed.getItemStyleCache(-1),o&&t.proxy.$forceUpdate()}};return r},clearCache:!1,validateProps:({itemSize:e})=>{}}),Nm=({name:e,clearCache:t,getColumnPosition:r,getColumnStartIndexForOffset:n,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:s,getColumnOffset:l,getRowOffset:c,getRowPosition:u,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:p,initCache:h,validateProps:f})=>Object(o["o"])({name:null!=e?e:"ElVirtualList",props:hm,emits:["item-rendered","scroll"],setup(e,{emit:g,expose:m}){f(e);const v=Object(o["p"])(),b=Object(o["J"])(h(e,v)),_=Object(o["J"])(null),E=Object(o["J"])(null),O=Object(o["J"])({isScrolling:!1,scrollLeft:fr(e.initScrollLeft)?e.initScrollLeft:0,scrollTop:fr(e.initScrollTop)?e.initScrollTop:0,updateRequested:!1,xAxisScrollDir:"forward",yAxisScrollDir:"forward"}),y=Object(o["h"])(()=>{const{totalColumn:t,totalRow:r,columnCache:o}=e,{isScrolling:a,xAxisScrollDir:s,scrollLeft:l}=Tr(O);if(0===t||0===r)return[0,0,0,0];const c=n(e,l,Tr(b)),u=i(e,c,l,Tr(b)),d=a&&"backward"!==s?1:Math.max(1,o),p=a&&"forward"!==s?1:Math.max(1,o);return[Math.max(0,c-d),Math.max(0,Math.min(t-1,u+p)),c,u]}),S=Object(o["h"])(()=>{const{totalColumn:t,totalRow:r,rowCache:o}=e,{isScrolling:n,yAxisScrollDir:i,scrollTop:a}=Tr(O);if(0===t||0===r)return[0,0,0,0];const s=d(e,a,Tr(b)),l=p(e,s,a,Tr(b)),c=n&&"backward"!==i?1:Math.max(1,o),u=n&&"forward"!==i?1:Math.max(1,o);return[Math.max(0,s-c),Math.max(0,Math.min(r-1,l+u)),s,l]}),T=Object(o["h"])(()=>a(e,Tr(b))),C=Object(o["h"])(()=>s(e,Tr(b))),R=Object(o["h"])(()=>[{position:"relative",overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform"},Object.assign({direction:e.direction,height:fr(e.height)?e.height+"px":e.height,width:fr(e.width)?e.width+"px":e.width},e.style)]),k=Object(o["h"])(()=>{const e=Tr(C)+"px";return{height:Tr(T)+"px",pointerEvents:Tr(O).isScrolling?"none":void 0,width:e}}),I=()=>{const{totalColumn:t,totalRow:r}=e;if(t>0&&r>0){const[e,t,r,o]=Tr(y),[n,i,a,s]=Tr(S);g("item-rendered",e,t,n,i,r,o,a,s)}const{scrollLeft:o,scrollTop:n,updateRequested:i,xAxisScrollDir:a,yAxisScrollDir:s}=Tr(O);g("scroll",a,o,s,n,i)},j=Gt()((e,t,r)=>({})),L=({scrollLeft:e,scrollTop:t})=>{e=Math.max(e,0),t=Math.max(t,0);const r=Tr(O);t===r.scrollTop&&e===r.scrollLeft||(O.value=Object.assign(Object.assign({},r),{xAxisScrollDir:vm(r.scrollLeft,e),yAxisScrollDir:vm(r.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0}),Object(o["v"])(N))},M=(t=0,r=0,o="auto")=>{const n=Tr(O);r=Math.max(0,Math.min(r,e.totalColumn-1)),t=Math.max(0,Math.min(t,e.totalRow-1));const i=Xr(),u=Tr(b),d=a(e,u),p=s(e,u);L({scrollLeft:l(e,r,o,n.scrollLeft,u,p>e.width?i:0),scrollTop:c(e,t,o,n.scrollTop,u,d>e.height?i:0)})},N=()=>{O.value.isScrolling=!1,Object(o["v"])(()=>{j(-1,null,null)})};Object(o["B"])(()=>{if(Vt)return;const{initScrollLeft:t,initScrollTop:r}=e,o=Tr(_);null!==o&&(fr(t)&&(o.scrollLeft=t),fr(r)&&(o.scrollTop=r)),I()}),Object(o["D"])(()=>{const{direction:t}=e,{scrollLeft:r,scrollTop:o,updateRequested:n}=Tr(O);if(n&&null!==Tr(_)){const e=Tr(_);if(t===dm)switch(Om()){case"negative":e.scrollLeft=-r;break;case"positive-ascending":e.scrollLeft=r;break;default:{const{clientWidth:t,scrollWidth:o}=e;e.scrollLeft=o-t-r;break}}else e.scrollLeft=Math.max(0,r);e.scrollTop=Math.max(0,o)}});const A={windowStyle:R,windowRef:_,columnsToRender:y,innerRef:E,innerStyle:k,states:O,rowsToRender:S,getItemStyle:(o,n)=>{const{columnWidth:i,direction:a,rowHeight:s}=e,l=j(t&&i,t&&s,t&&a),c=`${o},${n}`;if(qt(l,c))return l[c];{const[,t]=r(e,n,Tr(b)),i=Tr(b),s=_m(a),[d,p]=u(e,o,i),[h]=r(e,n,i);return l[c]={position:"absolute",left:s?void 0:t+"px",right:s?t+"px":void 0,top:p+"px",height:d+"px",width:h+"px"},l[c]}},onScroll:t=>{const{clientHeight:r,clientWidth:n,scrollHeight:i,scrollLeft:a,scrollTop:s,scrollWidth:l}=t.currentTarget,c=Tr(O);if(c.scrollTop===s&&c.scrollLeft===a)return;let u=a;if(_m(e.direction))switch(Om()){case"negative":u=-a;break;case"positive-descending":u=l-n-a}O.value=Object.assign(Object.assign({},c),{isScrolling:!0,scrollLeft:u,scrollTop:Math.max(0,Math.min(s,i-r)),updateRequested:!1,xAxisScrollDir:vm(c.scrollLeft,u),yAxisScrollDir:vm(c.scrollTop,s)}),Object(o["v"])(N),I()},scrollTo:L,scrollToItem:M};return m({windowRef:_,innerRef:E,getItemStyleCache:j,scrollTo:L,scrollToItem:M,states:O}),A},render(e){var t;const{$slots:r,className:n,containerElement:i,columnsToRender:a,data:s,getItemStyle:l,innerElement:c,innerStyle:u,rowsToRender:d,onScroll:p,states:h,useIsScrolling:f,windowStyle:g,totalColumn:m,totalRow:v}=e,[b,_]=a,[E,O]=d,y=Object(o["P"])(i),S=Object(o["P"])(c),T=[];if(v>0&&m>0)for(let o=E;o<=O;o++)for(let e=b;e<=_;e++)T.push(null===(t=r.default)||void 0===t?void 0:t.call(r,{columnIndex:e,data:s,key:e,isScrolling:f?h.isScrolling:void 0,style:l(o,e),rowIndex:o}));const C=[Object(o["q"])(S,{style:u,ref:"innerRef"},Kt(S)?T:{default:()=>T})];return Object(o["q"])(y,{class:n,style:g,onScroll:p,ref:"windowRef"},Kt(y)?C:{default:()=>C})}}),{max:Am,min:Pm,floor:wm}=(Nm({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:r},o,n,i,a,s)=>{r=Number(r);const l=Math.max(0,e*t-r),c=Math.min(l,o*t),u=Math.max(0,o*t-r+s+t);switch("smart"===n&&(n=i>=u-r&&i<=c+r?"auto":"center"),n){case"start":return c;case"end":return u;case"center":const e=Math.round(u+(c-u)/2);return e<Math.ceil(r/2)?0:e>l+Math.floor(r/2)?l:e;case"auto":default:return i>=u&&i<=c?i:u>c||i<u?u:c}},getRowOffset:({rowHeight:e,height:t,totalRow:r},o,n,i,a,s)=>{t=Number(t);const l=Math.max(0,r*e-t),c=Math.min(l,o*e),u=Math.max(0,o*e-t+s+e);switch("smart"===n&&(n=i>=u-t&&i<=c+t?"auto":"center"),n){case"start":return c;case"end":return u;case"center":const e=Math.round(u+(c-u)/2);return e<Math.ceil(t/2)?0:e>l+Math.floor(t/2)?l:e;case"auto":default:return i>=u&&i<=c?i:u>c||i<u?u:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},r)=>Math.max(0,Math.min(t-1,Math.floor(r/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:r},o,n)=>{const i=o*e,a=Math.ceil((r+n-i)/e);return Math.max(0,Math.min(t-1,o+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},r)=>Math.max(0,Math.min(t-1,Math.floor(r/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:r},o,n)=>{const i=o*e,a=Math.ceil((r+n-i)/e);return Math.max(0,Math.min(t-1,o+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Math),xm={column:"columnWidth",row:"rowHeight"},Dm={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Um=(e,t,r,o)=>{const[n,i,a]=[r[o],e[xm[o]],r[Dm[o]]];if(t>a){let e=0;if(a>=0){const t=n[a];e=t.offset+t.size}for(let r=a+1;r<=t;r++){const t=i(r);n[r]={offset:e,size:t},e+=t}r[Dm[o]]=t}return n[t]},Bm=(e,t,r,o,n,i)=>{for(;r<=o;){const a=r+wm((o-r)/2),s=Um(e,a,t,i).offset;if(s===n)return a;s<n?r=a+1:o=a-1}return Am(0,r-1)},Zm=(e,t,r,o)=>{const[n,i]=[t[o],t[Dm[o]]];return(i>0?n[i].offset:0)>=r?Bm(e,t,0,i,r,o):((e,t,r,o,n)=>{const i="column"===n?e.totalColumn:e.totalRow;let a=1;for(;r<i&&Um(e,r,t,n).offset<o;)r+=a,a*=2;return Bm(e,t,wm(r/2),Pm(r,i-1),o,n)})(e,t,Am(0,i),r,o)},Hm=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:r,row:o})=>{let n=0;if(r>=e&&(r=e-1),r>=0){const e=o[r];n=e.offset+e.size}return n+(e-r-1)*t},Gm=({totalColumn:e},{column:t,estimatedColumnWidth:r,lastVisitedColumnIndex:o})=>{let n=0;if(o>e&&(o=e-1),o>=0){const e=t[o];n=e.offset+e.size}return n+(e-o-1)*r},Vm={column:Gm,row:Hm},zm=(e,t,r,o,n,i,a)=>{const[s,l]=["row"===i?e.height:e.width,Vm[i]],c=Um(e,t,n,i),u=l(e,n),d=Am(0,Pm(u-s,c.offset)),p=Am(0,c.offset-s+a+c.size);switch("smart"===r&&(r=o>=p-s&&o<=d+s?"auto":"center"),r){case"start":return d;case"end":return p;case"center":return Math.round(p+(d-p)/2);case"auto":default:return o>=p&&o<=d?o:p>d||o<p?p:d}};Nm({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,r)=>{const o=Um(e,t,r,"column");return[o.size,o.offset]},getRowPosition:(e,t,r)=>{const o=Um(e,t,r,"row");return[o.size,o.offset]},getColumnOffset:(e,t,r,o,n,i)=>zm(e,t,r,o,n,"column",i),getRowOffset:(e,t,r,o,n,i)=>zm(e,t,r,o,n,"row",i),getColumnStartIndexForOffset:(e,t,r)=>Zm(e,r,t,"column"),getColumnStopIndexForStartIndex:(e,t,r,o)=>{const n=Um(e,t,o,"column"),i=r+e.width;let a=n.offset+n.size,s=t;for(;s<e.totalColumn-1&&a<i;)s++,a+=Um(e,t,o,"column").size;return s},getEstimatedTotalHeight:Hm,getEstimatedTotalWidth:Gm,getRowStartIndexForOffset:(e,t,r)=>Zm(e,r,t,"row"),getRowStopIndexForStartIndex:(e,t,r,o)=>{const{totalRow:n,height:i}=e,a=Um(e,t,o,"row"),s=r+i;let l=a.size+a.offset,c=t;for(;c<n-1&&l<s;)c++,l+=Um(e,c,o,"row").size;return c},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});var Wm=Object(o["o"])({props:{item:{type:Object,required:!0},style:Object,height:Number}});Wm.render=function(e,t,r,n,i,a){return e.item.isTitle?(Object(o["E"])(),Object(o["j"])("div",{key:0,class:"el-select-group__title",style:[e.style,{lineHeight:e.height+"px"}]},Object(o["R"])(e.item.label),5)):(Object(o["E"])(),Object(o["j"])("div",{key:1,class:"el-select-group__split",style:e.style},[Object(o["n"])("span",{class:"el-select-group__split-dash",style:{top:e.height/2+"px"}},null,4)],4))},Wm.__file="packages/select-v2/src/group-item.vue";var Fm=Object(o["o"])({props:{data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean},emits:["select","hover"],setup:(e,{emit:t})=>({hoverItem:()=>{t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}})});Fm.render=function(e,t,r,n,i,a){return Object(o["E"])(),Object(o["j"])("li",{"aria-selected":e.selected,style:e.style,class:{"el-select-dropdown__option-item":!0,"is-selected":e.selected,"is-disabled":e.disabled,hover:e.hovering},onMouseenter:t[1]||(t[1]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[2]||(t[2]=Object(o["fb"])((...t)=>e.selectOptionClick&&e.selectOptionClick(...t),["stop"]))},[Object(o["M"])(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Object(o["n"])("span",null,Object(o["R"])(e.item.label),1)])],46,["aria-selected"])},Fm.__file="packages/select-v2/src/option-item.vue";var qm=Object(o["o"])({name:"ElSelectDropdown",props:{data:Array,hoveringIndex:Number,width:Number},setup(e){const t=Object(o["r"])("ElSelect"),r=Object(o["J"])([]),n=Object(o["J"])(null),i=Object(o["h"])(()=>br(t.props.estimatedOptionHeight)),a=Object(o["h"])(()=>i.value?{itemSize:t.props.itemHeight}:{estimatedSize:t.props.estimatedOptionHeight,itemSize:e=>r.value[e]});return{select:t,listProps:a,listRef:n,isSized:i,isItemDisabled:(e,r)=>{const{disabled:o,multiple:n,multipleLimit:i}=t.props;return o||!r&&!!n&&i>0&&e.length<i},isItemHovering:t=>e.hoveringIndex===t,isItemSelected:(e,r)=>t.props.multiple?((e=[],r)=>{const{props:{valueKey:o}}=t;return Jt(r)?e&&e.some(e=>cr(e,o)===cr(r,o)):e.includes(r)})(e,r.value):((e,r)=>{if(Jt(r)){const{valueKey:o}=t.props;return cr(e,o)===cr(r,o)}return e===r})(e,r.value),scrollToItem:e=>{n.value.scrollToItem(e)}}},render(e,t){var r;const{$slots:n,data:i,listProps:a,select:s,isSized:l,width:c,isItemDisabled:u,isItemHovering:d,isItemSelected:p}=e,h=l?Rm:Mm,{props:f,onSelect:g,onKeyboardNavigate:m,onKeyboardSelect:v}=s,{height:b,modelValue:_,multiple:E}=f;if(0===i.length)return Object(o["q"])("div",{class:"el-select-dropdown",style:{width:c+"px"}},null===(r=n.empty)||void 0===r?void 0:r.call(n));const O=Object(o["cb"])(e=>{const{index:t,data:r}=e,i=r[t];if("Group"===r[t].type)return Object(o["q"])(Wm,{item:i,style:e.style,height:l?a.itemSize:a.estimatedSize});const s=p(_,i),c=u(_,s);return Object(o["q"])(Fm,Object.assign(Object.assign({},e),{selected:s,disabled:i.disabled||c,hovering:d(t),item:i,onSelect:g}),{default:Object(o["cb"])(e=>Object(o["M"])(n,"default",e,()=>[Object(o["q"])("span",i.label)]))})}),y=Object(o["q"])(h,Object.assign({ref:"listRef",className:"el-select-dropdown__list",data:i,height:b,width:c,total:i.length,onKeydown:[t[1]||(t[1]=Object(o["eb"])(Object(o["fb"])(()=>m("forward"),["stop","prevent"]),["down"])),t[2]||(t[2]=Object(o["eb"])(Object(o["fb"])(()=>m("backward"),["stop","prevent"]),["up"])),t[3]||(t[3]=Object(o["eb"])(Object(o["fb"])(v,["stop","prevent"]),["enter"])),t[4]||(t[4]=Object(o["eb"])(Object(o["fb"])(()=>s.expanded=!1,["stop","prevent"]),["esc"])),t[5]||(t[5]=Object(o["eb"])(()=>s.expanded=!1,["tab"]))]},a),{default:O});return Object(o["q"])("div",{class:{"is-multiple":E,"el-select-dropdown":!0}},[y])}});qm.__file="packages/select-v2/src/select-dropdown.vue";const Ym=(e,t)=>{const r=Object(o["r"])("elForm",{}),n=Object(o["r"])("elFormItem",{}),i=_r(),a=Object(o["I"])({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,inputWidth:240,initialInputHeight:0,previousQuery:null,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),s=Object(o["J"])(-1),c=Object(o["J"])(null),u=Object(o["J"])(null),d=Object(o["J"])(null),p=Object(o["J"])(null),h=Object(o["J"])(null),f=Object(o["J"])(null),g=Object(o["J"])(null),m=Object(o["J"])(!1),v=Object(o["h"])(()=>e.disabled||r.disabled),b=Object(o["h"])(()=>{const t=34*S.value.length;return t>e.height?e.height:t}),_=Object(o["h"])(()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!v.value&&a.comboBoxHovering&&t}),E=Object(o["h"])(()=>e.remote&&e.filterable?"":m.value?"arrow-up is-reverse":"arrow-up"),O=Object(o["h"])(()=>e.remote?300:0),y=Object(o["h"])(()=>{const t=S.value;return e.loading?e.loadingText||qn("el.select.loading"):(!e.remote||""!==a.query||0!==t.length)&&(e.filterable&&a.query&&t.length>0?e.noMatchText||qn("el.select.noMatch"):0===t.length?e.noDataText||qn("el.select.noData"):null)}),S=Object(o["h"])(()=>{const t=e=>{const t=a.inputValue;return!t||e.label.includes(t)};return(e=>{const t=[];return e.map(e=>{Yt(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach(e=>{t.push(e)}),t.push({type:"Group"})):t.push(e)}),t})(e.options.concat(a.createdOptions).map(e=>{if(Yt(e.options)){const r=e.options.filter(t);if(r.length>0)return Object.assign(Object.assign({},e),{options:r})}else if(t(e))return e;return null}).filter(e=>null!==e))}),T=Object(o["h"])(()=>e.size||n.size||i.size),C=Object(o["h"])(()=>T.value),R=Object(o["h"])(()=>{var e,t,r;return(null===(r=null===(t=null===(e=h.value)||void 0===e?void 0:e.getBoundingClientRect)||void 0===t?void 0:t.call(e))||void 0===r?void 0:r.width)||200}),k=Object(o["h"])(()=>({width:(0===a.calculatedWidth?4:Math.ceil(a.calculatedWidth)+4)+"px"})),I=Object(o["h"])(()=>Yt(e.modelValue)?0===e.modelValue.length&&!a.displayInputValue:!e.filterable||0===a.displayInputValue.length),j=Object(o["h"])(()=>e.multiple?e.placeholder:a.selectedLabel||e.placeholder),L=Object(o["h"])(()=>{var e;return null===(e=p.value)||void 0===e?void 0:e.popperRef}),M=Object(o["h"])(()=>{if(e.multiple){if(e.modelValue.length>0)return S.value.findIndex(t=>t.value===e.modelValue[0])}else if(e.modelValue)return S.value.findIndex(t=>t.value===e.modelValue);return-1}),N=()=>{var e,t,r,o;null===(t=(e=u.value).focus)||void 0===t||t.call(e),null===(o=(r=p.value).update)||void 0===o||o.call(r)},A=()=>{var t,r;e.automaticDropdown||v.value||(m.value=!m.value,a.softFocus=!0,null===(r=null===(t=u.value)||void 0===t?void 0:t.focus)||void 0===r||r.call(t))},P=t=>{a.previousQuery===t||a.isOnComposition||(null!==a.previousQuery||!$t(e.filterMethod)&&!$t(e.remoteMethod)?(a.previousQuery=t,Object(o["v"])(()=>{var e,t;m.value&&(null===(t=null===(e=p.value)||void 0===e?void 0:e.update)||void 0===t||t.call(e))}),a.hoveringIndex=-1,e.multiple&&e.filterable&&Object(o["v"])(()=>{const t=15*u.value.value.length+20;a.inputLength=e.collapseTags?Math.min(50,t):t,B()}),e.remote&&$t(e.remoteMethod)?(a.hoveringIndex=-1,e.remoteMethod(t)):$t(e.filterMethod)&&e.filterMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)):a.previousQuery=t)},w=l()(()=>{e.filterable&&a.inputValue!==a.selectedLabel&&(a.query=a.selectedLabel,P(a.query))},O.value),x=l()(e=>{P(e.target.value)},O.value),D=r=>{Ct()(e.modelValue,r)||t("change",r)},U=e=>{t(lo,e),D(e)},B=()=>{e.collapseTags&&!e.filterable||Object(o["v"])(()=>{var e,t;if(!u.value)return;const r=f.value;h.value.height=r.offsetHeight,m.value&&!1!==y.value&&(null===(t=null===(e=p.value)||void 0===e?void 0:e.update)||void 0===t||t.call(e))})},Z=()=>{var t,r;H(),null===(r=null===(t=p.value)||void 0===t?void 0:t.update)||void 0===r||r.call(t),e.multiple&&B()},H=()=>{u.value&&(a.inputWidth=u.value.getBoundingClientRect().width)},G=(t,r,n=!0)=>{var i,l;if(e.multiple){let r=e.modelValue.slice();const o=((t=[],r)=>{if(!Jt(r))return t.indexOf(r);const o=e.valueKey;let n=-1;return t.some((e,t)=>cr(e,o)===cr(r,o)&&(n=t,!0)),n})(r,t.value);o>-1?(r=[...r.slice(0,o),...r.slice(o+1)],a.cachedOptions.splice(o,1)):(e.multipleLimit<=0||r.length<e.multipleLimit)&&(r=[...r,t.value],a.cachedOptions.push(t)),U(r),t.created&&(a.query="",P(""),a.inputLength=20),e.filterable&&(null===(l=(i=u.value).focus)||void 0===l||l.call(i),z("")),e.filterable&&(a.calculatedWidth=g.value.getBoundingClientRect().width),B()}else s.value=r,a.selectedLabel=t.label,U(t.value),m.value=!1;a.isComposing=!1,a.isSilentBlur=n,m.value||Object(o["v"])(()=>{})},V=()=>{e.filterable&&e.allowCreate,a.isComposing=!1,a.softFocus=!1,Object(o["v"])(()=>{var e,r;null===(r=null===(e=u.value)||void 0===e?void 0:e.blur)||void 0===r||r.call(e),g.value&&(a.calculatedWidth=g.value.getBoundingClientRect().width),a.isSilentBlur?a.isSilentBlur=!1:a.isComposing&&t("blur")})},z=e=>{a.displayInputValue=e,a.inputValue=e},W=r=>{if(v.value)return;if(e.multiple)return void(m.value=!0);let o;if(0!==e.options.length&&0!==S.value.length&&S.value.length>0){"forward"===r?(o=s.value+1,o>S.value.length-1&&(o=0)):(o=s.value-1,o<0&&(o=S.value.length-1)),s.value=o;const e=S.value[o];if(e.disabled||"Group"===e.type)return void W(r);t(lo,S.value[o]),D(S.value[o])}},F=()=>{a.displayInputValue.length>0&&!m.value&&(m.value=!0),a.calculatedWidth=g.value.getBoundingClientRect().width,e.multiple&&B(),w()},q=e=>{d.value.scrollToItem(e)},Y=()=>{if(e.multiple)e.modelValue.length>0&&(a.cachedOptions.length=0,e.modelValue.map(e=>{const t=S.value.find(t=>t.value===e);t&&a.cachedOptions.push(t)}));else if(e.modelValue){const t=S.value.find(t=>t.value===e.modelValue);t&&(a.selectedLabel=t.label)}};return Object(o["ab"])(m,e=>{var r,o;t("visible-change",e),e?null===(o=(r=p.value).update)||void 0===o||o.call(r):a.displayInputValue=""}),Object(o["ab"])([()=>e.modelValue,()=>e.options],()=>{Y()}),Object(o["B"])(()=>{Y(),Dr(h.value,Z)}),Object(o["x"])(()=>{Ur(h.value,Z)}),{collapseTagSize:C,currentPlaceholder:j,expanded:m,emptyText:y,popupHeight:b,debounce:O,filteredOptions:S,iconClass:E,inputWrapperStyle:k,popperSize:R,shouldShowPlaceholder:I,selectDisabled:v,selectSize:T,showClearBtn:_,states:a,calculatorRef:g,controlRef:c,inputRef:u,menuRef:d,popper:p,selectRef:h,selectionRef:f,popperRef:L,debouncedOnInputChange:w,debouncedQueryChange:x,deleteTag:(r,n)=>{const i=e.modelValue.indexOf(n.value);if(i>-1&&!v.value){const r=[...e.modelValue.slice(0,i),...e.modelValue.slice(i+1)];a.cachedOptions.splice(i,1),U(r),t("remove-tag",n.value),a.softFocus=!0,Object(o["v"])(N)}r.stopPropagation()},getLabel:e=>Jt(e)?e.label:e,getValueKey:t=>Jt(t)?cr(t,e.valueKey):t,handleBlur:V,handleClear:()=>{let r;r=Yt(e.modelValue)?[]:"",a.softFocus=!0,e.multiple?a.cachedOptions=[]:a.selectedLabel="",m.value=!1,U(r),t("clear"),Object(o["v"])(N)},handleClickOutside:()=>{m.value=!1,V()},handleDel:t=>{if(0===a.displayInputValue.length){t.preventDefault();const r=e.modelValue.slice();r.pop(),a.cachedOptions.pop(),U(r)}},handleEsc:()=>{a.displayInputValue.length>0?z(""):m.value=!1},handleFocus:r=>{a.isComposing=!0,a.softFocus?a.softFocus=!1:((e.automaticDropdown||e.filterable)&&(m.value=!0),t("focus",r))},handleInputBoxClick:()=>{0===a.displayInputValue.length&&m.value&&(m.value=!1)},handleMenuEnter:()=>{a.inputValue=a.displayInputValue,Object(o["v"])(()=>{~M.value&&q(M.value)})},toggleMenu:A,onCompositionUpdate:e=>{z(a.displayInputValue+=e.data),F()},onInput:F,onKeyboardNavigate:W,onKeyboardSelect:()=>{m.value?G(S.value[a.hoveringIndex],a.hoveringIndex,!1):A()},onSelect:G,onUpdateInputValue:z}},$m={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:String,default:"el-icon-circle-close"},collapseTags:Boolean,defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:Boolean,options:{type:Array,required:!0},placeholder:{type:String},popperAppendToBody:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:yo},valueKey:{type:String,default:"value"}};var Km=Object(o["o"])({name:"ElSelectV2",components:{ElSelectMenu:qm,ElTag:Ma,ElPopper:mn},directives:{ClickOutside:fo,ModelText:o["Y"]},props:$m,emits:[lo,"change","remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const r=Ym(e,t);return Object(o["G"])("ElSelect",{props:Object(o["I"])(Object.assign(Object.assign({},Object(o["U"])(e)),{height:r.popupHeight})),onSelect:r.onSelect,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect}),r}});const Jm={key:0},Xm={key:1,class:"el-select-v2__selection"},Qm={key:0,class:"el-select-v2__selected-item"},ev={class:"el-select-v2__tags-text"},tv={class:"el-select-v2__selected-item el-select-v2__input-wrapper"},rv={class:"el-select-v2__suffix"},ov={class:"el-select-v2__empty"};if(Km.render=function(e,t,r,n,i,a){const s=Object(o["N"])("el-tag"),l=Object(o["N"])("el-select-menu"),c=Object(o["N"])("el-popper"),u=Object(o["O"])("model-text"),d=Object(o["O"])("click-outside");return Object(o["db"])((Object(o["E"])(),Object(o["j"])("div",{ref:"selectRef",class:[[e.selectSize?"el-select-v2--"+e.selectSize:""],"el-select-v2"],onClick:t[20]||(t[20]=Object(o["fb"])((...t)=>e.toggleMenu&&e.toggleMenu(...t),["stop"])),onMouseenter:t[21]||(t[21]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[22]||(t[22]=t=>e.states.comboBoxHovering=!1)},[Object(o["n"])(c,{ref:"popper",visible:e.expanded,"onUpdate:visible":t[18]||(t[18]=t=>e.expanded=t),"append-to-body":e.popperAppendToBody,"popper-class":"el-select-v2__popper "+e.popperClass,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:"light","manual-mode":"",placement:"bottom-start",pure:"",transition:"el-zoom-in-top",trigger:"click",onBeforeEnter:e.handleMenuEnter,onAfterLeave:t[19]||(t[19]=t=>e.states.inputValue=e.states.displayInputValue)},{trigger:Object(o["cb"])(()=>[Object(o["n"])("div",{ref:"selectionRef",class:["el-select-v2__wrapper",{"is-focused":e.states.isComposing,"is-hovering":e.states.comboBoxHovering,"is-filterable":e.filterable,"is-disabled":e.disabled}]},[e.$slots.prefix?(Object(o["E"])(),Object(o["j"])("div",Jm,[Object(o["M"])(e.$slots,"prefix")])):Object(o["k"])("v-if",!0),e.multiple?(Object(o["E"])(),Object(o["j"])("div",Xm,[e.collapseTags&&e.modelValue.length>0?(Object(o["E"])(),Object(o["j"])("div",Qm,[Object(o["n"])(s,{closable:!e.selectDisabled&&!e.states.cachedOptions[0].disable,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:t[1]||(t[1]=t=>e.deleteTag(t,e.states.cachedOptions[0]))},{default:Object(o["cb"])(()=>[Object(o["n"])("span",{class:"el-select-v2__tags-text",style:{maxWidth:e.inputWidth-123+"px"}},Object(o["R"])(e.states.cachedOptions[0].label),5)]),_:1},8,["closable","size"]),e.modelValue.length>1?(Object(o["E"])(),Object(o["j"])(s,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Object(o["cb"])(()=>[Object(o["n"])("span",ev,"+ "+Object(o["R"])(e.modelValue.length-1),1)]),_:1},8,["size"])):Object(o["k"])("v-if",!0)])):(Object(o["E"])(!0),Object(o["j"])(o["b"],{key:1},Object(o["L"])(e.states.cachedOptions,(t,r)=>(Object(o["E"])(),Object(o["j"])("div",{key:r,class:"el-select-v2__selected-item"},[Object(o["n"])(s,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:r=>e.deleteTag(r,t)},{default:Object(o["cb"])(()=>[Object(o["m"])(Object(o["R"])(e.getLabel(t)),1)]),_:2},1032,["closable","size","onClose"])]))),128)),Object(o["n"])("div",{class:"el-select-v2__selected-item el-select-v2__input-wrapper",style:e.inputWrapperStyle},[Object(o["db"])(Object(o["n"])("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:"el-select-v2__combobox-input",disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[2]||(t[2]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onClick:t[3]||(t[3]=Object(o["fb"])((...t)=>e.handleInputBoxClick&&e.handleInputBoxClick(...t),["stop","prevent"])),onFocus:t[4]||(t[4]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[5]||(t[5]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionupdate:t[6]||(t[6]=(...t)=>e.onCompositionUpdate&&e.onCompositionUpdate(...t)),onCompositionend:t[7]||(t[7]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[8]||(t[8]=Object(o["eb"])(Object(o["fb"])((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"])),t[9]||(t[9]=Object(o["eb"])(Object(o["fb"])((...t)=>e.handleDel&&e.handleDel(...t),["stop"]),["delete"]))]},null,40,["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"]),[[u,e.states.displayInputValue]]),e.filterable?(Object(o["E"])(),Object(o["j"])("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:"el-select-v2__input-calculator",textContent:Object(o["R"])(e.states.displayInputValue)},null,8,["textContent"])):Object(o["k"])("v-if",!0)],4)])):(Object(o["E"])(),Object(o["j"])(o["b"],{key:2},[Object(o["n"])("div",tv,[Object(o["db"])(Object(o["n"])("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:"el-select-v2__combobox-input",disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onClick:t[10]||(t[10]=Object(o["fb"])((...t)=>e.handleInputBoxClick&&e.handleInputBoxClick(...t),["stop","prevent"])),onCompositionend:t[11]||(t[11]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionupdate:t[12]||(t[12]=(...t)=>e.onCompositionUpdate&&e.onCompositionUpdate(...t)),onFocus:t[13]||(t[13]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onInput:t[14]||(t[14]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:t[15]||(t[15]=Object(o["eb"])(Object(o["fb"])((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"])),"onUpdate:modelValue":t[16]||(t[16]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,40,["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"]),[[u,e.states.displayInputValue]])]),e.filterable?(Object(o["E"])(),Object(o["j"])("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:"el-select-v2__selected-item el-select-v2__input-calculator",textContent:Object(o["R"])(e.states.displayInputValue)},null,8,["textContent"])):Object(o["k"])("v-if",!0)],64)),e.shouldShowPlaceholder?(Object(o["E"])(),Object(o["j"])("span",{key:3,class:{"el-select-v2__placeholder":!0,"is-transparent":e.states.isComposing||(e.placeholder&&e.multiple?0===e.modelValue.length:!e.modelValue)}},Object(o["R"])(e.currentPlaceholder),3)):Object(o["k"])("v-if",!0),Object(o["n"])("span",rv,[Object(o["db"])(Object(o["n"])("i",{class:["el-select-v2__caret","el-input__icon","el-icon-"+e.iconClass]},null,2),[[o["Z"],!e.showClearBtn]]),e.showClearBtn?(Object(o["E"])(),Object(o["j"])("i",{key:0,class:"el-select-v2__caret el-input__icon "+e.clearIcon,onClick:t[17]||(t[17]=Object(o["fb"])((...t)=>e.handleClear&&e.handleClear(...t),["prevent","stop"]))},null,2)):Object(o["k"])("v-if",!0)])],2)]),default:Object(o["cb"])(()=>[Object(o["n"])(l,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex},{default:Object(o["cb"])(t=>[Object(o["M"])(e.$slots,"default",t)]),empty:Object(o["cb"])(()=>[Object(o["M"])(e.$slots,"empty",{},()=>[Object(o["n"])("p",ov,Object(o["R"])(e.emptyText),1)])]),_:1},8,["data","width","hovering-index"])]),_:1},8,["visible","append-to-body","popper-class","popper-options","onBeforeEnter"])],34)),[[d,e.handleClickOutside,e.popperRef]])},Km.__file="packages/select-v2/src/select.vue",Km.install=e=>{e.component(Km.name,Km)},!Vt){const e=window;e.dayjs||(e.dayjs=vt.a)}const nv=e=>{zn=e||zn,zn.name&&vt.a.locale(zn.name)},iv={size:"",zIndex:2e3},av=[Zr,Wr,qr,En,yn,Rn,jn,Nn,xn,Zn,Vn,Ui,Hi,qi,Ki,Ua,ja,ra,Za,Va,Lg,za,qa,Xa,$a,ks,js,kl,xl,Ul,Vl,Yl,Kl,Xl,yc,Tc,ko,kc,jc,Mc,eu,Vc,Ho,uu,hu,Su,Lu,xu,Bu,Id,Ad,Bd,tp,ap,mn,bp,sa,Ep,yp,Tp,Cp,Fo,kd,Pp,Zp,Gp,zp,Yp,Kp,Jh,nf,cf,Ma,ki,ff,mf,Cf,Au,Uf,rg,vg,Og,Ig,Rg,Zg,Gg,lm,Km],sv=[lu,Eu,Fu,sd,fd,pp],lv=(e,t)=>{const r=Object.assign(iv,t);var o;nv(r.locale),r.i18n&&(o=r.i18n,Wn=o),e.config.globalProperties.$ELEMENT=r,(e=>{qo=e})(r),av.forEach(t=>{e.component(t.name,t)}),sv.forEach(t=>{e.use(t)})};var cv={version:"1.0.2-beta.55",install:lv};t["c"]=cv},4160:function(e,t,r){"use strict";var o=r("23e7"),n=r("17c2");o({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"41cb":function(e,t,r){var o=r("37f8"),n=r("8c5a"),i=r("329f"),a=r("d11d"),s=r("a5d1"),l=r("3548"),c=200;function u(e,t,r){var u=-1,d=n,p=e.length,h=!0,f=[],g=f;if(r)h=!1,d=i;else if(p>=c){var m=t?null:s(e);if(m)return l(m);h=!1,d=a,g=new o}else g=t?[]:f;e:while(++u<p){var v=e[u],b=t?t(v):v;if(v=r||0!==v?v:0,h&&b===b){var _=g.length;while(_--)if(g[_]===b)continue e;t&&g.push(b),f.push(v)}else d(g,b,r)||(g!==f&&g.push(b),f.push(v))}return f}e.exports=u},"428f":function(e,t,r){var o=r("da84");e.exports=o},4362:function(e,t,r){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,o="/";t.cwd=function(){return o},t.chdir=function(t){e||(e=r("df7c")),o=e.resolve(t,o)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,r){var o=r("d039"),n=r("c6b6"),i="".split;e.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?i.call(e,""):Object(e)}:Object},"44d2":function(e,t,r){var o=r("b622"),n=r("7c73"),i=r("9bf2"),a=o("unscopables"),s=Array.prototype;void 0==s[a]&&i.f(s,a,{configurable:!0,value:n(null)}),e.exports=function(e){s[a][e]=!0}},"44de":function(e,t,r){var o=r("da84");e.exports=function(e,t){var r=o.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},"466d":function(e,t,r){"use strict";var o=r("d784"),n=r("825a"),i=r("50c4"),a=r("1d80"),s=r("8aa5"),l=r("14c3");o("match",1,(function(e,t,r){return[function(t){var r=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r):new RegExp(t)[e](String(r))},function(e){var o=r(t,e,this);if(o.done)return o.value;var a=n(e),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;var d,p=[],h=0;while(null!==(d=l(a,c))){var f=String(d[0]);p[h]=f,""===f&&(a.lastIndex=s(c,i(a.lastIndex),u)),h++}return 0===h?null:p}]}))},"467f":function(e,t,r){"use strict";var o=r("2d83");e.exports=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(o("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},4795:function(e,t,r){var o=r("23e7"),n=r("da84"),i=r("342f"),a=[].slice,s=/MSIE .\./.test(i),l=function(e){return function(t,r){var o=arguments.length>2,n=o?a.call(arguments,2):void 0;return e(o?function(){("function"==typeof t?t:Function(t)).apply(this,n)}:t,r)}};o({global:!0,bind:!0,forced:s},{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},4840:function(e,t,r){var o=r("825a"),n=r("1c0b"),i=r("b622"),a=i("species");e.exports=function(e,t){var r,i=o(e).constructor;return void 0===i||void 0==(r=o(i)[a])?t:n(r)}},"48a9":function(e,t,r){var o=r("fdb7"),n=Object.prototype,i=n.hasOwnProperty,a=n.toString,s=o?o.toStringTag:void 0;function l(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var o=!0}catch(l){}var n=a.call(e);return o&&(t?e[s]=r:delete e[s]),n}e.exports=l},"48e7":function(e,t,r){var o=r("3b9f");function n(e,t){var r=e.length;while(r--)if(o(e[r][0],t))return r;return-1}e.exports=n},4930:function(e,t,r){var o=r("2d00"),n=r("d039");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},"495d":function(e,t,r){var o=r("48e7");function n(e,t){var r=this.__data__,n=o(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}e.exports=n},"4a7b":function(e,t,r){"use strict";var o=r("c532");e.exports=function(e,t){t=t||{};var r={},n=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return o.isPlainObject(e)&&o.isPlainObject(t)?o.merge(e,t):o.isPlainObject(t)?o.merge({},t):o.isArray(t)?t.slice():t}function c(n){o.isUndefined(t[n])?o.isUndefined(e[n])||(r[n]=l(void 0,e[n])):r[n]=l(e[n],t[n])}o.forEach(n,(function(e){o.isUndefined(t[e])||(r[e]=l(void 0,t[e]))})),o.forEach(i,c),o.forEach(a,(function(n){o.isUndefined(t[n])?o.isUndefined(e[n])||(r[n]=l(void 0,e[n])):r[n]=l(void 0,t[n])})),o.forEach(s,(function(o){o in t?r[o]=l(e[o],t[o]):o in e&&(r[o]=l(void 0,e[o]))}));var u=n.concat(i).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return o.forEach(d,c),r}},"4b8f":function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},"4c91":function(e,t){function r(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}e.exports=r},"4d58":function(e,t){function r(e,t,r,o){var n=e.length,i=r+(o?1:-1);while(o?i--:++i<n)if(t(e[i],i,e))return i;return-1}e.exports=r},"4d5a":function(e,t,r){var o=r("f73a"),n=r("74aa"),i="[object Set]";function a(e){return n(e)&&o(e)==i}e.exports=a},"4d64":function(e,t,r){var o=r("fc6a"),n=r("50c4"),i=r("23cb"),a=function(e){return function(t,r,a){var s,l=o(t),c=n(l.length),u=i(a,c);if(e&&r!=r){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"4de4":function(e,t,r){"use strict";var o=r("23e7"),n=r("b727").filter,i=r("1dde"),a=i("filter");o({target:"Array",proto:!0,forced:!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(e,t,r){var o=r("a691"),n=Math.min;e.exports=function(e){return e>0?n(o(e),9007199254740991):0}},5135:function(e,t,r){var o=r("7b0b"),n={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return n.call(o(e),t)}},5270:function(e,t,r){"use strict";var o=r("c532"),n=r("c401"),i=r("2e67"),a=r("2444");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){s(e),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return s(e),t.data=n(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"53ca":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}},"54e0":function(e,t,r){var o=r("48e7");function n(e){return o(this.__data__,e)>-1}e.exports=n},5502:function(e,t,r){"use strict";r.d(t,"a",(function(){return Y})),r.d(t,"b",(function(){return a}));var o=r("7a23"),n=r("3f4e"),i="store";function a(e){return void 0===e&&(e=null),Object(o["r"])(null!==e?e:i)}function s(e,t){Object.keys(e).forEach((function(r){return t(e[r],r)}))}function l(e){return null!==e&&"object"===typeof e}function c(e){return e&&"function"===typeof e.then}function u(e,t){if(!e)throw new Error("[vuex] "+t)}function d(e,t){return function(){return e(t)}}function p(e,t,r){return t.indexOf(e)<0&&(r&&r.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function h(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;g(e,r,[],e._modules.root,!0),f(e,r,t)}function f(e,t,r){var n=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,a={};s(i,(function(t,r){a[r]=d(t,e),Object.defineProperty(e.getters,r,{get:function(){return a[r]()},enumerable:!0})})),e._state=Object(o["I"])({data:t}),e.strict&&O(e),n&&r&&e._withCommit((function(){n.data=null}))}function g(e,t,r,o,n){var i=!r.length,a=e._modules.getNamespace(r);if(o.namespaced&&(e._modulesNamespaceMap[a]&&console.error("[vuex] duplicate namespace "+a+" for the namespaced module "+r.join("/")),e._modulesNamespaceMap[a]=o),!i&&!n){var s=y(t,r.slice(0,-1)),l=r[r.length-1];e._withCommit((function(){l in s&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+r.join(".")+'"'),s[l]=o.state}))}var c=o.context=m(e,a,r);o.forEachMutation((function(t,r){var o=a+r;b(e,o,t,c)})),o.forEachAction((function(t,r){var o=t.root?r:a+r,n=t.handler||t;_(e,o,n,c)})),o.forEachGetter((function(t,r){var o=a+r;E(e,o,t,c)})),o.forEachChild((function(o,i){g(e,t,r.concat(i),o,n)}))}function m(e,t,r){var o=""===t,n={dispatch:o?e.dispatch:function(r,o,n){var i=S(r,o,n),a=i.payload,s=i.options,l=i.type;if(s&&s.root||(l=t+l,e._actions[l]))return e.dispatch(l,a);console.error("[vuex] unknown local action type: "+i.type+", global type: "+l)},commit:o?e.commit:function(r,o,n){var i=S(r,o,n),a=i.payload,s=i.options,l=i.type;s&&s.root||(l=t+l,e._mutations[l])?e.commit(l,a,s):console.error("[vuex] unknown local mutation type: "+i.type+", global type: "+l)}};return Object.defineProperties(n,{getters:{get:o?function(){return e.getters}:function(){return v(e,t)}},state:{get:function(){return y(e.state,r)}}}),n}function v(e,t){if(!e._makeLocalGettersCache[t]){var r={},o=t.length;Object.keys(e.getters).forEach((function(n){if(n.slice(0,o)===t){var i=n.slice(o);Object.defineProperty(r,i,{get:function(){return e.getters[n]},enumerable:!0})}})),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function b(e,t,r,o){var n=e._mutations[t]||(e._mutations[t]=[]);n.push((function(t){r.call(e,o.state,t)}))}function _(e,t,r,o){var n=e._actions[t]||(e._actions[t]=[]);n.push((function(t){var n=r.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return c(n)||(n=Promise.resolve(n)),e._devtoolHook?n.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):n}))}function E(e,t,r,o){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return r(o.state,o.getters,e.state,e.getters)}}function O(e){Object(o["ab"])((function(){return e._state.data}),(function(){u(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function y(e,t){return t.reduce((function(e,t){return e[t]}),e)}function S(e,t,r){return l(e)&&e.type&&(r=t,t=e,e=e.type),u("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:r}}var T="vuex bindings",C="vuex:mutations",R="vuex:actions",k="vuex",I=0;function j(e,t){Object(n["setupDevtoolsPlugin"])({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[T]},(function(r){r.addTimelineLayer({id:C,label:"Vuex Mutations",color:L}),r.addTimelineLayer({id:R,label:"Vuex Actions",color:L}),r.addInspector({id:k,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree((function(r){if(r.app===e&&r.inspectorId===k)if(r.filter){var o=[];x(o,t._modules.root,r.filter,""),r.rootNodes=o}else r.rootNodes=[w(t._modules.root,"")]})),r.on.getInspectorState((function(r){if(r.app===e&&r.inspectorId===k){var o=r.nodeId;v(t,o),r.state=D(U(t._modules,o),t._makeLocalGettersCache,o)}})),r.on.editInspectorState((function(r){if(r.app===e&&r.inspectorId===k){var o=r.nodeId,n=r.path;"root"!==o&&(n=o.split("/").filter(Boolean).concat(n)),t._withCommit((function(){r.set(t._state.data,n,r.state.value)}))}})),t.subscribe((function(e,t){var o={};e.payload&&(o.payload=e.payload),o.state=t,r.notifyComponentUpdate(),r.sendInspectorTree(k),r.sendInspectorState(k),r.addTimelineEvent({layerId:C,event:{time:Date.now(),title:e.type,data:o}})})),t.subscribeAction({before:function(e,t){var o={};e.payload&&(o.payload=e.payload),e._id=I++,e._time=Date.now(),o.state=t,r.addTimelineEvent({layerId:R,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:o}})},after:function(e,t){var o={},n=Date.now()-e._time;o.duration={_custom:{type:"duration",display:n+"ms",tooltip:"Action duration",value:n}},e.payload&&(o.payload=e.payload),o.state=t,r.addTimelineEvent({layerId:R,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:o}})}})}))}var L=8702998,M=6710886,N=16777215,A={label:"namespaced",textColor:N,backgroundColor:M};function P(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function w(e,t){return{id:t||"root",label:P(t),tags:e.namespaced?[A]:[],children:Object.keys(e._children).map((function(r){return w(e._children[r],t+r+"/")}))}}function x(e,t,r,o){o.includes(r)&&e.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:t.namespaced?[A]:[]}),Object.keys(t._children).forEach((function(n){x(e,t._children[n],r,o+n+"/")}))}function D(e,t,r){t="root"===r?t:t[r];var o=Object.keys(t),n={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};return o.length&&(n.getters=o.map((function(e){return{key:e.endsWith("/")?P(e):e,editable:!1,value:t[e]}}))),n}function U(e,t){var r=t.split("/").filter((function(e){return e}));return r.reduce((function(e,o,n){var i=e[o];if(!i)throw new Error('Missing module "'+o+'" for path "'+t+'".');return n===r.length-1?i:i._children}),"root"===t?e:e.root._children)}var B=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=("function"===typeof r?r():r)||{}},Z={namespaced:{configurable:!0}};Z.namespaced.get=function(){return!!this._rawModule.namespaced},B.prototype.addChild=function(e,t){this._children[e]=t},B.prototype.removeChild=function(e){delete this._children[e]},B.prototype.getChild=function(e){return this._children[e]},B.prototype.hasChild=function(e){return e in this._children},B.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},B.prototype.forEachChild=function(e){s(this._children,e)},B.prototype.forEachGetter=function(e){this._rawModule.getters&&s(this._rawModule.getters,e)},B.prototype.forEachAction=function(e){this._rawModule.actions&&s(this._rawModule.actions,e)},B.prototype.forEachMutation=function(e){this._rawModule.mutations&&s(this._rawModule.mutations,e)},Object.defineProperties(B.prototype,Z);var H=function(e){this.register([],e,!1)};function G(e,t,r){if(F(e,r),t.update(r),r.modules)for(var o in r.modules){if(!t.getChild(o))return void console.warn("[vuex] trying to add a new module '"+o+"' on hot reloading, manual reload is needed");G(e.concat(o),t.getChild(o),r.modules[o])}}H.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},H.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,r){return t=t.getChild(r),e+(t.namespaced?r+"/":"")}),"")},H.prototype.update=function(e){G([],this.root,e)},H.prototype.register=function(e,t,r){var o=this;void 0===r&&(r=!0),F(e,t);var n=new B(t,r);if(0===e.length)this.root=n;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],n)}t.modules&&s(t.modules,(function(t,n){o.register(e.concat(n),t,r)}))},H.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1],o=t.getChild(r);o?o.runtime&&t.removeChild(r):console.warn("[vuex] trying to unregister module '"+r+"', which is not registered")},H.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];return!!t&&t.hasChild(r)};var V={assert:function(e){return"function"===typeof e},expected:"function"},z={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},W={getters:V,mutations:V,actions:z};function F(e,t){Object.keys(W).forEach((function(r){if(t[r]){var o=W[r];s(t[r],(function(t,n){u(o.assert(t),q(e,r,n,t,o.expected))}))}}))}function q(e,t,r,o,n){var i=t+" should be "+n+' but "'+t+"."+r+'"';return e.length>0&&(i+=' in module "'+e.join(".")+'"'),i+=" is "+JSON.stringify(o)+".",i}function Y(e){return new $(e)}var $=function e(t){var r=this;void 0===t&&(t={}),u("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),u(this instanceof e,"store must be called with the new operator.");var o=t.plugins;void 0===o&&(o=[]);var n=t.strict;void 0===n&&(n=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new H(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var a=this,s=this,l=s.dispatch,c=s.commit;this.dispatch=function(e,t){return l.call(a,e,t)},this.commit=function(e,t,r){return c.call(a,e,t,r)},this.strict=n;var d=this._modules.root.state;g(this,d,[],this._modules.root),f(this,d),o.forEach((function(e){return e(r)}))},K={state:{configurable:!0}};$.prototype.install=function(e,t){e.provide(t||i,this),e.config.globalProperties.$store=this;var r=void 0===this._devtools||this._devtools;r&&j(e,this)},K.state.get=function(){return this._state.data},K.state.set=function(e){u(!1,"use store.replaceState() to explicit replace store state.")},$.prototype.commit=function(e,t,r){var o=this,n=S(e,t,r),i=n.type,a=n.payload,s=n.options,l={type:i,payload:a},c=this._mutations[i];c?(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(l,o.state)})),s&&s.silent&&console.warn("[vuex] mutation type: "+i+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+i)},$.prototype.dispatch=function(e,t){var r=this,o=S(e,t),n=o.type,i=o.payload,a={type:n,payload:i},s=this._actions[n];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,r.state)}))}catch(c){console.warn("[vuex] error in before action subscribers: "),console.error(c)}var l=s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i);return new Promise((function(e,t){l.then((function(t){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,r.state)}))}catch(c){console.warn("[vuex] error in after action subscribers: "),console.error(c)}e(t)}),(function(e){try{r._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,r.state,e)}))}catch(c){console.warn("[vuex] error in error action subscribers: "),console.error(c)}t(e)}))}))}console.error("[vuex] unknown action type: "+n)},$.prototype.subscribe=function(e,t){return p(e,this._subscribers,t)},$.prototype.subscribeAction=function(e,t){var r="function"===typeof e?{before:e}:e;return p(r,this._actionSubscribers,t)},$.prototype.watch=function(e,t,r){var n=this;return u("function"===typeof e,"store.watch only accepts a function."),Object(o["ab"])((function(){return e(n.state,n.getters)}),t,Object.assign({},r))},$.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},$.prototype.registerModule=function(e,t,r){void 0===r&&(r={}),"string"===typeof e&&(e=[e]),u(Array.isArray(e),"module path must be a string or an Array."),u(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),r.preserveState),f(this,this.state)},$.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),u(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var r=y(t.state,e.slice(0,-1));delete r[e[e.length-1]]})),h(this)},$.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),u(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},$.prototype.hotUpdate=function(e){this._modules.update(e),h(this,!0)},$.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties($.prototype,K);Q((function(e,t){var r={};return X(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),J(t).forEach((function(t){var o=t.key,n=t.val;r[o]=function(){var t=this.$store.state,r=this.$store.getters;if(e){var o=ee(this.$store,"mapState",e);if(!o)return;t=o.context.state,r=o.context.getters}return"function"===typeof n?n.call(this,t,r):t[n]},r[o].vuex=!0})),r})),Q((function(e,t){var r={};return X(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),J(t).forEach((function(t){var o=t.key,n=t.val;r[o]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var o=this.$store.commit;if(e){var i=ee(this.$store,"mapMutations",e);if(!i)return;o=i.context.commit}return"function"===typeof n?n.apply(this,[o].concat(t)):o.apply(this.$store,[n].concat(t))}})),r})),Q((function(e,t){var r={};return X(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),J(t).forEach((function(t){var o=t.key,n=t.val;n=e+n,r[o]=function(){if(!e||ee(this.$store,"mapGetters",e)){if(n in this.$store.getters)return this.$store.getters[n];console.error("[vuex] unknown getter: "+n)}},r[o].vuex=!0})),r})),Q((function(e,t){var r={};return X(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),J(t).forEach((function(t){var o=t.key,n=t.val;r[o]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var o=this.$store.dispatch;if(e){var i=ee(this.$store,"mapActions",e);if(!i)return;o=i.context.dispatch}return"function"===typeof n?n.apply(this,[o].concat(t)):o.apply(this.$store,[n].concat(t))}})),r}));function J(e){return X(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function X(e){return Array.isArray(e)||l(e)}function Q(e){return function(t,r){return"string"!==typeof t?(r=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,r)}}function ee(e,t,r){var o=e._modulesNamespaceMap[r];return o||console.error("[vuex] module namespace not found in "+t+"(): "+r),o}},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("4160"),r("159b"),r("dbb4"),r("1d1c"),r("7a82");var o=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},5691:function(e,t,r){var o=r("0b97"),n=r("d0fc"),i=r("6c9b"),a=r("54e0"),s=r("495d");function l(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype["delete"]=n,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},5692:function(e,t,r){var o=r("c430"),n=r("c6cd");(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.14.0",mode:o?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,r){var o=r("d066"),n=r("241c"),i=r("7418"),a=r("825a");e.exports=o("Reflect","ownKeys")||function(e){var t=n.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},"580a":function(e,t,r){var o=r("ae0e"),n=r("74aa");function i(e,t,r,a,s){return e===t||(null==e||null==t||!n(e)&&!n(t)?e!==e&&t!==t:o(e,t,r,a,i,s))}e.exports=i},"58b0":function(e,t,r){var o=r("1392"),n=r("aa7d"),i=r("60ed"),a=n?function(e,t){return n(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:i;e.exports=a},5903:function(e,t){var r=9007199254740991;function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}e.exports=o},"5a0c":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e=1e3,t=6e4,r=36e5,o="millisecond",n="second",i="minute",a="hour",s="day",l="week",c="month",u="quarter",d="year",p="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,r){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(r)+e},b={s:v,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),o=Math.floor(r/60),n=r%60;return(t<=0?"+":"-")+v(o,2,"0")+":"+v(n,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var o=12*(r.year()-t.year())+(r.month()-t.month()),n=t.clone().add(o,c),i=r-n<0,a=t.clone().add(o+(i?-1:1),c);return+(-(o+(r-n)/(i?n-a:a-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:p,h:a,m:i,s:n,ms:o,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",E={};E[_]=m;var O=function(e){return e instanceof C},y=function(e,t,r){var o;if(!e)return _;if("string"==typeof e)E[e]&&(o=e),t&&(E[e]=t,o=e);else{var n=e.name;E[n]=e,o=n}return!r&&o&&(_=o),o||!r&&_},S=function(e,t){if(O(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new C(r)},T=b;T.l=y,T.i=O,T.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function m(e){this.$L=y(e.locale,null,!0),this.parse(e)}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(f);if(o){var n=o[2]-1||0,i=(o[7]||"0").substring(0,3);return r?new Date(Date.UTC(o[1],n,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)):new Date(o[1],n,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return T},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var r=S(e);return this.startOf(t)<=r&&r<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,r){return T.u(e)?this[t]:this.set(r,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var r=this,o=!!T.u(t)||t,u=T.p(e),h=function(e,t){var n=T.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return o?n:n.endOf(s)},f=function(e,t){return T.w(r.toDate()[e].apply(r.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return o?h(1,0):h(31,11);case c:return o?h(1,m):h(0,m+1);case l:var _=this.$locale().weekStart||0,E=(g<_?g+7:g)-_;return h(o?v-E:v+(6-E),m);case s:case p:return f(b+"Hours",0);case a:return f(b+"Minutes",1);case i:return f(b+"Seconds",2);case n:return f(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var r,l=T.p(e),u="set"+(this.$u?"UTC":""),h=(r={},r[s]=u+"Date",r[p]=u+"Date",r[c]=u+"Month",r[d]=u+"FullYear",r[a]=u+"Hours",r[i]=u+"Minutes",r[n]=u+"Seconds",r[o]=u+"Milliseconds",r)[l],f=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var g=this.clone().set(p,1);g.$d[h](f),g.init(),this.$d=g.set(p,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[T.p(e)]()},v.add=function(o,u){var p,h=this;o=Number(o);var f=T.p(u),g=function(e){var t=S(h);return T.w(t.date(t.date()+Math.round(e*o)),h)};if(f===c)return this.set(c,this.$M+o);if(f===d)return this.set(d,this.$y+o);if(f===s)return g(1);if(f===l)return g(7);var m=(p={},p[i]=t,p[a]=r,p[n]=e,p)[f]||1,v=this.$d.getTime()+o*m;return T.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var o=e||"YYYY-MM-DDTHH:mm:ssZ",n=T.z(this),i=this.$H,a=this.$m,s=this.$M,l=r.weekdays,c=r.months,u=function(e,r,n,i){return e&&(e[r]||e(t,o))||n[r].substr(0,i)},d=function(e){return T.s(i%12||12,e,"0")},p=r.meridiem||function(e,t,r){var o=e<12?"AM":"PM";return r?o.toLowerCase():o},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:T.s(s+1,2,"0"),MMM:u(r.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:u(r.weekdaysMin,this.$W,l,2),ddd:u(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:T.s(i,2,"0"),h:d(1),hh:d(2),a:p(i,a,!0),A:p(i,a,!1),m:String(a),mm:T.s(a,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:n};return o.replace(g,(function(e,t){return t||f[e]||n.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(o,p,h){var f,g=T.p(p),m=S(o),v=(m.utcOffset()-this.utcOffset())*t,b=this-m,_=T.m(this,m);return _=(f={},f[d]=_/12,f[c]=_,f[u]=_/3,f[l]=(b-v)/6048e5,f[s]=(b-v)/864e5,f[a]=b/r,f[i]=b/t,f[n]=b/e,f)[g]||b,h?_:T.a(_)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return E[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),o=y(e,t,!0);return o&&(r.$L=o),r},v.clone=function(){return T.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),R=C.prototype;return S.prototype=R,[["$ms",o],["$s",n],["$m",i],["$H",a],["$W",s],["$M",c],["$y",d],["$D",p]].forEach((function(e){R[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,C,S),e.$i=!0),S},S.locale=y,S.isDayjs=O,S.unix=function(e){return S(1e3*e)},S.en=E[_],S.Ls=E,S.p={},S}))},"5b92":function(e,t,r){(function(e){var o=r("cbf5"),n=t&&!t.nodeType&&t,i=n&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&o.process,l=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=l}).call(this,r("62e4")(e))},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e0f":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t,r){var o=t.prototype,n=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,r,o,i){var a=e.name?e:e.$locale(),s=n(a[t]),l=n(a[r]),c=s||l.map((function(e){return e.substr(0,o)}));if(!i)return c;var u=a.weekStart;return c.map((function(e,t){return c[(t+(u||0))%7]}))},a=function(){return r.Ls[r.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,r){return t||r.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return l.bind(this)()},r.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},r.months=function(){return i(a(),"months")},r.monthsShort=function(){return i(a(),"monthsShort","months",3)},r.weekdays=function(e){return i(a(),"weekdays",null,null,e)},r.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},r.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}}}))},"5e2e":function(e,t,r){var o=r("e7d4"),n=r("93b9"),i=r("85c3");function a(e){return i(e)?o(e,!0):n(e)}e.exports=a},"5f02":function(e,t,r){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},"600b":function(e,t,r){var o=r("fdb7"),n=r("8455"),i=r("3b9f"),a=r("e8f1"),s=r("2f81"),l=r("3548"),c=1,u=2,d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Map]",g="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",O="[object DataView]",y=o?o.prototype:void 0,S=y?y.valueOf:void 0;function T(e,t,r,o,y,T,C){switch(r){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!T(new n(e),new n(t)));case d:case p:case g:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case f:var R=s;case v:var k=o&c;if(R||(R=l),e.size!=t.size&&!k)return!1;var I=C.get(e);if(I)return I==t;o|=u,C.set(e,t);var j=a(R(e),R(t),o,y,T,C);return C["delete"](e),j;case _:if(S)return S.call(e)==S.call(t)}return!1}e.exports=T},6053:function(e,t){function r(e,t){var r=-1,o=Array(e);while(++r<e)o[r]=t(r);return o}e.exports=r},"605d":function(e,t,r){var o=r("c6b6"),n=r("da84");e.exports="process"==o(n.process)},6069:function(e,t){e.exports="object"==typeof window},"60da":function(e,t,r){"use strict";var o=r("83ab"),n=r("d039"),i=r("df75"),a=r("7418"),s=r("d1e7"),l=r("7b0b"),c=r("44ad"),u=Object.assign,d=Object.defineProperty;e.exports=!u||n((function(){if(o&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||i(u({},t)).join("")!=n}))?function(e,t){var r=l(e),n=arguments.length,u=1,d=a.f,p=s.f;while(n>u){var h,f=c(arguments[u++]),g=d?i(f).concat(d(f)):i(f),m=g.length,v=0;while(m>v)h=g[v++],o&&!p.call(f,h)||(r[h]=f[h])}return r}:u},"60ed":function(e,t){function r(e){return e}e.exports=r},6277:function(e,t,r){var o=r("580a");function n(e,t,r){r="function"==typeof r?r:void 0;var n=r?r(e,t):void 0;return void 0===n?o(e,t,void 0,r):!!n}e.exports=n},"62b2":function(e,t,r){var o=r("fdb7"),n=r("11f1"),i=r("d193"),a=o?o.isConcatSpreadable:void 0;function s(e){return i(e)||n(e)||!!(a&&e&&e[a])}e.exports=s},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6547:function(e,t,r){var o=r("a691"),n=r("1d80"),i=function(e){return function(t,r){var i,a,s=String(n(t)),l=o(r),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536)}};e.exports={codeAt:i(!1),charAt:i(!0)}},"65cf":function(e,t,r){var o=r("a615"),n=r("79ed"),i=r("41cb"),a=r("d7b8"),s=n((function(e){return i(o(e,1,a,!0))}));e.exports=s},"65f0":function(e,t,r){var o=r("861d"),n=r("e8b5"),i=r("b622"),a=i("species");e.exports=function(e,t){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?o(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"665f":function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},"68cb":function(e,t,r){var o=r("edb4"),n=Object.prototype,i=n.hasOwnProperty;function a(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}e.exports=a},"69f3":function(e,t,r){var o,n,i,a=r("7f9a"),s=r("da84"),l=r("861d"),c=r("9112"),u=r("5135"),d=r("c6cd"),p=r("f772"),h=r("d012"),f="Object already initialized",g=s.WeakMap,m=function(e){return i(e)?n(e):o(e,{})},v=function(e){return function(t){var r;if(!l(t)||(r=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(a||d.state){var b=d.state||(d.state=new g),_=b.get,E=b.has,O=b.set;o=function(e,t){if(E.call(b,e))throw new TypeError(f);return t.facade=e,O.call(b,e,t),t},n=function(e){return _.call(b,e)||{}},i=function(e){return E.call(b,e)}}else{var y=p("state");h[y]=!0,o=function(e,t){if(u(e,y))throw new TypeError(f);return t.facade=e,c(e,y,t),t},n=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:o,get:n,has:i,enforce:m,getterFor:v}},"6b6a":function(e,t){function r(e,t){var r=-1,o=null==e?0:e.length;while(++r<o)if(t(e[r],r,e))return!0;return!1}e.exports=r},"6c02":function(e,t,r){"use strict";r.d(t,"a",(function(){return et})),r.d(t,"b",(function(){return W})),r.d(t,"c",(function(){return nt})),r.d(t,"d",(function(){return ot}));var o=r("7a23");r("3f4e");
/*!
  * vue-router v4.0.8
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const n="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,i=e=>n?Symbol(e):"_vr_"+e,a=i("rvlm"),s=i("rvd"),l=i("r"),c=i("rl"),u=i("rvl"),d="undefined"!==typeof window;function p(e){return e.__esModule||n&&"Module"===e[Symbol.toStringTag]}const h=Object.assign;function f(e,t){const r={};for(const o in t){const n=t[o];r[o]=Array.isArray(n)?n.map(e):e(n)}return r}let g=()=>{};const m=/\/$/,v=e=>e.replace(m,"");function b(e,t,r="/"){let o,n={},i="",a="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(o=t.slice(0,s),i=t.slice(s+1,l>-1?l:t.length),n=e(i)),l>-1&&(o=o||t.slice(0,l),a=t.slice(l,t.length)),o=R(null!=o?o:t,r),{fullPath:o+(i&&"?")+i+a,path:o,query:n,hash:a}}function _(e,t){let r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function E(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function O(e,t,r){let o=t.matched.length-1,n=r.matched.length-1;return o>-1&&o===n&&y(t.matched[o],r.matched[n])&&S(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function y(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function S(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!T(e[r],t[r]))return!1;return!0}function T(e,t){return Array.isArray(e)?C(e,t):Array.isArray(t)?C(t,e):e===t}function C(e,t){return Array.isArray(t)?e.length===t.length&&e.every((e,r)=>e===t[r]):1===e.length&&e[0]===t}function R(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),o=e.split("/");let n,i,a=r.length-1;for(n=0;n<o.length;n++)if(i=o[n],1!==a&&"."!==i){if(".."!==i)break;a--}return r.slice(0,a).join("/")+"/"+o.slice(n-(n===o.length?1:0)).join("/")}var k,I;(function(e){e["pop"]="pop",e["push"]="push"})(k||(k={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(I||(I={}));function j(e){if(!e)if(d){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),v(e)}const L=/^[^#]+#/;function M(e,t){return e.replace(L,"#")+t}function N(e,t){const r=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-r.left-(t.left||0),top:o.top-r.top-(t.top||0)}}const A=()=>({left:window.pageXOffset,top:window.pageYOffset});function P(e){let t;if("el"in e){let r=e.el;const o="string"===typeof r&&r.startsWith("#");0;const n="string"===typeof r?o?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=N(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function w(e,t){const r=history.state?history.state.position-t:-1;return r+e}const x=new Map;function D(e,t){x.set(e,t)}function U(e){const t=x.get(e);return x.delete(e),t}let B=()=>location.protocol+"//"+location.host;function Z(e,t){const{pathname:r,search:o,hash:n}=t,i=e.indexOf("#");if(i>-1){let t=n.includes(e.slice(i))?e.slice(i).length:1,r=n.slice(t);return"/"!==r[0]&&(r="/"+r),E(r,"")}const a=E(r,e);return a+o+n}function H(e,t,r,o){let n=[],i=[],a=null;const s=({state:i})=>{const s=Z(e,location),l=r.value,c=t.value;let u=0;if(i){if(r.value=s,t.value=i,a&&a===l)return void(a=null);u=c?i.position-c.position:0}else o(s);n.forEach(e=>{e(r.value,l,{delta:u,type:k.pop,direction:u?u>0?I.forward:I.back:I.unknown})})};function l(){a=r.value}function c(e){n.push(e);const t=()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)};return i.push(t),t}function u(){const{history:e}=window;e.state&&e.replaceState(h({},e.state,{scroll:A()}),"")}function d(){for(const e of i)e();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function G(e,t,r,o=!1,n=!1){return{back:e,current:t,forward:r,replaced:o,position:window.history.length,scroll:n?A():null}}function V(e){const{history:t,location:r}=window;let o={value:Z(e,r)},n={value:t.state};function i(o,i,a){const s=e.indexOf("#"),l=s>-1?(r.host&&document.querySelector("base")?e:e.slice(s))+o:B()+e+o;try{t[a?"replaceState":"pushState"](i,"",l),n.value=i}catch(c){console.error(c),r[a?"replace":"assign"](l)}}function a(e,r){const a=h({},t.state,G(n.value.back,e,n.value.forward,!0),r,{position:n.value.position});i(e,a,!0),o.value=e}function s(e,r){const a=h({},n.value,t.state,{forward:e,scroll:A()});i(a.current,a,!0);const s=h({},G(o.value,e,null),{position:a.position+1},r);i(e,s,!1),o.value=e}return n.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:n,push:s,replace:a}}function z(e){e=j(e);const t=V(e),r=H(e,t.state,t.location,t.replace);function o(e,t=!0){t||r.pauseListeners(),history.go(e)}const n=h({location:"",base:e,go:o,createHref:M.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function W(e){return e=location.host?e||location.pathname+location.search:"",e.indexOf("#")<0&&(e+="#"),z(e)}function F(e){return"string"===typeof e||e&&"object"===typeof e}function q(e){return"string"===typeof e||"symbol"===typeof e}const Y={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$=i("nf");var K;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(K||(K={}));function J(e,t){return h(new Error,{type:e,[$]:!0},t)}function X(e,t){return e instanceof Error&&$ in e&&(null==t||!!(e.type&t))}const Q="[^/]+?",ee={sensitive:!1,strict:!1,start:!0,end:!0},te=/[.+*?^${}()[\]/\\]/g;function re(e,t){const r=h({},ee,t);let o=[],n=r.start?"^":"";const i=[];for(const u of e){const e=u.length?[]:[90];r.strict&&!u.length&&(n+="/");for(let t=0;t<u.length;t++){const o=u[t];let a=40+(r.sensitive?.25:0);if(0===o.type)t||(n+="/"),n+=o.value.replace(te,"\\$&"),a+=40;else if(1===o.type){const{value:e,repeatable:r,optional:s,regexp:l}=o;i.push({name:e,repeatable:r,optional:s});const d=l||Q;if(d!==Q){a+=10;try{new RegExp(`(${d})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+c.message)}}let p=r?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(p=s&&u.length<2?`(?:/${p})`:"/"+p),s&&(p+="?"),n+=p,a+=20,s&&(a+=-8),r&&(a+=-20),".*"===d&&(a+=-50)}e.push(a)}o.push(e)}if(r.strict&&r.end){const e=o.length-1;o[e][o[e].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const a=new RegExp(n,r.sensitive?"":"i");function s(e){const t=e.match(a),r={};if(!t)return null;for(let o=1;o<t.length;o++){const e=t[o]||"",n=i[o-1];r[n.name]=e&&n.repeatable?e.split("/"):e}return r}function l(t){let r="",o=!1;for(const n of e){o&&r.endsWith("/")||(r+="/"),o=!1;for(const e of n)if(0===e.type)r+=e.value;else if(1===e.type){const{value:i,repeatable:a,optional:s}=e,l=i in t?t[i]:"";if(Array.isArray(l)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${i}"`);n.length<2&&(r.endsWith("/")?r=r.slice(0,-1):o=!0)}r+=c}}return r}return{re:a,score:o,keys:i,parse:s,stringify:l}}function oe(e,t){let r=0;while(r<e.length&&r<t.length){const o=t[r]-e[r];if(o)return o;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ne(e,t){let r=0;const o=e.score,n=t.score;while(r<o.length&&r<n.length){const e=oe(o[r],n[r]);if(e)return e;r++}return n.length-o.length}const ie={type:0,value:""},ae=/[a-zA-Z0-9_]/;function se(e){if(!e)return[[]];if("/"===e)return[[ie]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${r})/"${c}": ${e}`)}let r=0,o=r;const n=[];let i;function a(){i&&n.push(i),i=[]}let s,l=0,c="",u="";function d(){c&&(0===r?i.push({type:0,value:c}):1===r||2===r||3===r?(i.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function p(){c+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===r)switch(r){case 0:"/"===s?(c&&d(),a()):":"===s?(d(),r=1):p();break;case 4:p(),r=o;break;case 1:"("===s?r=2:ae.test(s)?p():(d(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:r=3:u+=s;break;case 3:d(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state");break}else o=r,r=4;return 2===r&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),n}function le(e,t,r){const o=re(se(e.path),r);const n=h(o,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf===!t.record.aliasOf&&t.children.push(n),n}function ce(e,t){const r=[],o=new Map;function n(e){return o.get(e)}function i(e,r,o){let n=!o,s=de(e);s.aliasOf=o&&o.record;const c=ge(t,e),u=[s];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(h({},s,{components:o?o.record.components:s.components,path:e,aliasOf:o?o.record:s}))}let d,p;for(const t of u){let{path:u}=t;if(r&&"/"!==u[0]){let e=r.record.path,o="/"===e[e.length-1]?"":"/";t.path=r.record.path+(u&&o+u)}if(d=le(t,r,c),o?o.alias.push(d):(p=p||d,p!==d&&p.alias.push(d),n&&e.name&&!he(d)&&a(e.name)),"children"in s){let e=s.children;for(let t=0;t<e.length;t++)i(e[t],d,o&&o.children[t])}o=o||d,l(d)}return p?()=>{a(p)}:g}function a(e){if(q(e)){const t=o.get(e);t&&(o.delete(e),r.splice(r.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{let t=r.indexOf(e);t>-1&&(r.splice(t,1),e.record.name&&o.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function s(){return r}function l(e){let t=0;while(t<r.length&&ne(e,r[t])>=0)t++;r.splice(t,0,e),e.record.name&&!he(e)&&o.set(e.record.name,e)}function c(e,t){let n,i,a,s={};if("name"in e&&e.name){if(n=o.get(e.name),!n)throw J(1,{location:e});a=n.record.name,s=h(ue(t.params,n.keys.filter(e=>!e.optional).map(e=>e.name)),e.params),i=n.stringify(s)}else if("path"in e)i=e.path,n=r.find(e=>e.re.test(i)),n&&(s=n.parse(i),a=n.record.name);else{if(n=t.name?o.get(t.name):r.find(e=>e.re.test(t.path)),!n)throw J(1,{location:e,currentLocation:t});a=n.record.name,s=h({},t.params,e.params),i=n.stringify(s)}const l=[];let c=n;while(c)l.unshift(c.record),c=c.parent;return{name:a,path:i,params:s,matched:l,meta:fe(l)}}return t=ge({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>i(e)),{addRoute:i,resolve:c,removeRoute:a,getRoutes:s,getRecordMatcher:n}}function ue(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}function de(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:pe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function pe(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(let o in e.components)t[o]="boolean"===typeof r?r:r[o];return t}function he(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fe(e){return e.reduce((e,t)=>h(e,t.meta),{})}function ge(e,t){let r={};for(let o in e)r[o]=o in t?t[o]:e[o];return r}const me=/#/g,ve=/&/g,be=/\//g,_e=/=/g,Ee=/\?/g,Oe=/\+/g,ye=/%5B/g,Se=/%5D/g,Te=/%5E/g,Ce=/%60/g,Re=/%7B/g,ke=/%7C/g,Ie=/%7D/g,je=/%20/g;function Le(e){return encodeURI(""+e).replace(ke,"|").replace(ye,"[").replace(Se,"]")}function Me(e){return Le(e).replace(Re,"{").replace(Ie,"}").replace(Te,"^")}function Ne(e){return Le(e).replace(Oe,"%2B").replace(je,"+").replace(me,"%23").replace(ve,"%26").replace(Ce,"`").replace(Re,"{").replace(Ie,"}").replace(Te,"^")}function Ae(e){return Ne(e).replace(_e,"%3D")}function Pe(e){return Le(e).replace(me,"%23").replace(Ee,"%3F")}function we(e){return Pe(e).replace(be,"%2F")}function xe(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function De(e){const t={};if(""===e||"?"===e)return t;const r="?"===e[0],o=(r?e.slice(1):e).split("&");for(let n=0;n<o.length;++n){const e=o[n].replace(Oe," ");let r=e.indexOf("="),i=xe(r<0?e:e.slice(0,r));if(Object.prototype.hasOwnProperty(i))continue;let a=r<0?null:xe(e.slice(r+1));if(i in t){let e=t[i];Array.isArray(e)||(e=t[i]=[e]),e.push(a)}else t[i]=a}return t}function Ue(e){let t="";for(let r in e){const o=e[r];if(r=Ae(r),null==o){void 0!==o&&(t+=(t.length?"&":"")+r);continue}let n=Array.isArray(o)?o.map(e=>e&&Ne(e)):[o&&Ne(o)];n.forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+r,null!=e&&(t+="="+e))})}return t}function Be(e){const t={};for(let r in e){let o=e[r];void 0!==o&&(t[r]=Array.isArray(o)?o.map(e=>null==e?null:""+e):null==o?o:""+o)}return t}function Ze(){let e=[];function t(t){return e.push(t),()=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function He(e,t,r,o,n){const i=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise((a,s)=>{const l=e=>{!1===e?s(J(4,{from:r,to:t})):e instanceof Error?s(e):F(e)?s(J(2,{from:t,to:e})):(i&&o.enterCallbacks[n]===i&&"function"===typeof e&&i.push(e),a())},c=e.call(o&&o.instances[n],t,r,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(e=>s(e))})}function Ge(e,t,r,o){const n=[];for(const i of e)for(const e in i.components){let a=i.components[e];if("beforeRouteEnter"===t||i.instances[e])if(Ve(a)){let s=a.__vccOpts||a;const l=s[t];l&&n.push(He(l,r,o,i,e))}else{let s=a();s=s.catch(console.error),n.push(()=>s.then(n=>{if(!n)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${i.path}"`));const a=p(n)?n.default:n;i.components[e]=a;let s=a.__vccOpts||a;const l=s[t];return l&&He(l,r,o,i,e)()}))}}return n}function Ve(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function ze(e){const t=Object(o["r"])(l),r=Object(o["r"])(c),n=Object(o["h"])(()=>t.resolve(Object(o["V"])(e.to))),i=Object(o["h"])(()=>{let{matched:e}=n.value,{length:t}=e;const o=e[t-1];let i=r.matched;if(!o||!i.length)return-1;let a=i.findIndex(y.bind(null,o));if(a>-1)return a;let s=$e(e[t-2]);return t>1&&$e(o)===s&&i[i.length-1].path!==s?i.findIndex(y.bind(null,e[t-2])):a}),a=Object(o["h"])(()=>i.value>-1&&Ye(r.params,n.value.params)),s=Object(o["h"])(()=>i.value>-1&&i.value===r.matched.length-1&&S(r.params,n.value.params));function u(r={}){return qe(r)?t[Object(o["V"])(e.replace)?"replace":"push"](Object(o["V"])(e.to)):Promise.resolve()}return{route:n,href:Object(o["h"])(()=>n.value.href),isActive:a,isExactActive:s,navigate:u}}const We=Object(o["o"])({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const r=Object(o["I"])(ze(e)),{options:n}=Object(o["r"])(l),i=Object(o["h"])(()=>({[Ke(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Ke(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const n=t.default&&t.default(r);return e.custom?n:Object(o["q"])("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},n)}}}),Fe=We;function qe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(let r in t){let o=t[r],n=e[r];if("string"===typeof o){if(o!==n)return!1}else if(!Array.isArray(n)||n.length!==o.length||o.some((e,t)=>e!==n[t]))return!1}return!0}function $e(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ke=(e,t,r)=>null!=e?e:null!=t?t:r,Je=Object(o["o"])({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:r}){const n=Object(o["r"])(u),i=Object(o["h"])(()=>e.route||n.value),l=Object(o["r"])(s,0),c=Object(o["h"])(()=>i.value.matched[l]);Object(o["G"])(s,l+1),Object(o["G"])(a,c),Object(o["G"])(u,i);const d=Object(o["J"])();return Object(o["ab"])(()=>[d.value,c.value,e.name],([e,t,r],[o,n,i])=>{t&&(t.instances[r]=e,n&&n!==t&&e&&e===o&&(t.leaveGuards.size||(t.leaveGuards=n.leaveGuards),t.updateGuards.size||(t.updateGuards=n.updateGuards))),!e||!t||n&&y(t,n)&&o||(t.enterCallbacks[r]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const n=i.value,a=c.value,s=a&&a.components[e.name],l=e.name;if(!s)return Xe(r.default,{Component:s,route:n});const u=a.props[e.name],p=u?!0===u?n.params:"function"===typeof u?u(n):u:null,f=e=>{e.component.isUnmounted&&(a.instances[l]=null)},g=Object(o["q"])(s,h({},p,t,{onVnodeUnmounted:f,ref:d}));return Xe(r.default,{Component:g,route:n})||g}}});function Xe(e,t){if(!e)return null;const r=e(t);return 1===r.length?r[0]:r}const Qe=Je;function et(e){const t=ce(e.routes,e);let r=e.parseQuery||De,n=e.stringifyQuery||Ue,i=e.history;const a=Ze(),s=Ze(),p=Ze(),m=Object(o["Q"])(Y);let v=Y;d&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const E=f.bind(null,e=>""+e),y=f.bind(null,we),S=f.bind(null,xe);function T(e,r){let o,n;return q(e)?(o=t.getRecordMatcher(e),n=r):n=e,t.addRoute(n,o)}function C(e){let r=t.getRecordMatcher(e);r&&t.removeRoute(r)}function R(){return t.getRoutes().map(e=>e.record)}function k(e){return!!t.getRecordMatcher(e)}function I(e,o){if(o=h({},o||m.value),"string"===typeof e){let n=b(r,e,o.path),a=t.resolve({path:n.path},o),s=i.createHref(n.fullPath);return h(n,a,{params:S(a.params),hash:xe(n.hash),redirectedFrom:void 0,href:s})}let a;"path"in e?a=h({},e,{path:b(r,e.path,o.path).path}):(a=h({},e,{params:y(e.params)}),o.params=y(o.params));let s=t.resolve(a,o);const l=e.hash||"";s.params=E(S(s.params));const c=_(n,h({},e,{hash:Me(l),path:s.path}));let u=i.createHref(c);return h({fullPath:c,hash:l,query:n===Ue?Be(e.query):e.query},s,{redirectedFrom:void 0,href:u})}function j(e){return"string"===typeof e?b(r,e,m.value.path):h({},e)}function L(e,t){if(v!==e)return J(8,{from:t,to:e})}function M(e){return B(e)}function N(e){return M(h(j(e),{replace:!0}))}function x(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:r}=t;let o="function"===typeof r?r(e):r;return"string"===typeof o&&(o=o.indexOf("?")>-1||o.indexOf("#")>-1?o=j(o):{path:o}),h({query:e.query,hash:e.hash,params:e.params},o)}}function B(e,t){const r=v=I(e),o=m.value,i=e.state,a=e.force,s=!0===e.replace,l=x(r);if(l)return B(h(j(l),{state:i,force:a,replace:s}),t||r);const c=r;let u;return c.redirectedFrom=t,!a&&O(n,o,r)&&(u=J(16,{to:c,from:o}),re(o,o,!0,!1)),(u?Promise.resolve(u):H(c,o)).catch(e=>X(e)?e:Q(e)).then(e=>{if(e){if(X(e,2))return B(h(j(e.to),{state:i,force:a,replace:s}),t||c)}else e=V(c,o,!0,s,i);return G(c,o,e),e})}function Z(e,t){const r=L(e,t);return r?Promise.reject(r):Promise.resolve()}function H(e,t){let r;const[o,n,i]=rt(e,t);r=Ge(o.reverse(),"beforeRouteLeave",e,t);for(const a of o)a.leaveGuards.forEach(o=>{r.push(He(o,e,t))});const l=Z.bind(null,e,t);return r.push(l),tt(r).then(()=>{r=[];for(const o of a.list())r.push(He(o,e,t));return r.push(l),tt(r)}).then(()=>{r=Ge(n,"beforeRouteUpdate",e,t);for(const o of n)o.updateGuards.forEach(o=>{r.push(He(o,e,t))});return r.push(l),tt(r)}).then(()=>{r=[];for(const o of e.matched)if(o.beforeEnter&&t.matched.indexOf(o)<0)if(Array.isArray(o.beforeEnter))for(const n of o.beforeEnter)r.push(He(n,e,t));else r.push(He(o.beforeEnter,e,t));return r.push(l),tt(r)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),r=Ge(i,"beforeRouteEnter",e,t),r.push(l),tt(r))).then(()=>{r=[];for(const o of s.list())r.push(He(o,e,t));return r.push(l),tt(r)}).catch(e=>X(e,8)?e:Promise.reject(e))}function G(e,t,r){for(const o of p.list())o(e,t,r)}function V(e,t,r,o,n){const a=L(e,t);if(a)return a;const s=t===Y,l=d?history.state:{};r&&(o||s?i.replace(e.fullPath,h({scroll:s&&l&&l.scroll},n)):i.push(e.fullPath,n)),m.value=e,re(e,t,r,s),te()}let z;function W(){z=i.listen((e,t,r)=>{let o=I(e);const n=x(o);if(n)return void B(h(n,{replace:!0}),o).catch(g);v=o;const a=m.value;d&&D(w(a.fullPath,r.delta),A()),H(o,a).catch(e=>X(e,12)?e:X(e,2)?(B(e.to,o).catch(g),Promise.reject()):(r.delta&&i.go(-r.delta,!1),Q(e))).then(e=>{e=e||V(o,a,!1),e&&r.delta&&i.go(-r.delta,!1),G(o,a,e)}).catch(g)})}let F,$=Ze(),K=Ze();function Q(e){return te(e),K.list().forEach(t=>t(e)),Promise.reject(e)}function ee(){return F&&m.value!==Y?Promise.resolve():new Promise((e,t)=>{$.add([e,t])})}function te(e){F||(F=!0,W(),$.list().forEach(([t,r])=>e?r(e):t()),$.reset())}function re(t,r,n,i){const{scrollBehavior:a}=e;if(!d||!a)return Promise.resolve();let s=!n&&U(w(t.fullPath,0))||(i||!n)&&history.state&&history.state.scroll||null;return Object(o["v"])().then(()=>a(t,r,s)).then(e=>e&&P(e)).catch(Q)}const oe=e=>i.go(e);let ne;const ie=new Set,ae={currentRoute:m,addRoute:T,removeRoute:C,hasRoute:k,getRoutes:R,resolve:I,options:e,push:M,replace:N,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:a.add,beforeResolve:s.add,afterEach:p.add,onError:K.add,isReady:ee,install(e){const t=this;e.component("RouterLink",Fe),e.component("RouterView",Qe),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Object(o["V"])(m)}),d&&!ne&&m.value===Y&&(ne=!0,M(i.location).catch(e=>{0}));const r={};for(let i in Y)r[i]=Object(o["h"])(()=>m.value[i]);e.provide(l,t),e.provide(c,Object(o["I"])(r)),e.provide(u,m);let n=e.unmount;ie.add(e),e.unmount=function(){ie.delete(e),ie.size<1&&(z(),m.value=Y,ne=!1,F=!1),n()}}};return ae}function tt(e){return e.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function rt(e,t){const r=[],o=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const i=t.matched[a];i&&(e.matched.find(e=>y(e,i))?o.push(i):r.push(i));const s=e.matched[a];s&&(t.matched.find(e=>y(e,s))||n.push(s))}return[r,o,n]}function ot(){return Object(o["r"])(l)}function nt(){return Object(o["r"])(c)}},"6c9b":function(e,t,r){var o=r("48e7");function n(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}e.exports=n},"6dd3":function(e,t,r){var o=r("edb4");function n(){this.__data__=o?o(null):{},this.size=0}e.exports=n},"6dd8":function(e,t,r){"use strict";(function(e){var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,o){return e[0]===t&&(r=o,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),o=this.__entries__[r];return o&&o[1]},t.prototype.set=function(t,r){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,o=e(r,t);~o&&r.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,o=this.__entries__;r<o.length;r++){var n=o[r];e.call(t,n[1],n[0])}},t}()}(),o="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,n=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),i=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),a=2;function s(e,t){var r=!1,o=!1,n=0;function s(){r&&(r=!1,e()),o&&c()}function l(){i(s)}function c(){var e=Date.now();if(r){if(e-n<a)return;o=!0}else r=!0,o=!1,setTimeout(l,t);n=e}return c}var l=20,c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,d=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),l)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t,o=c.some((function(e){return!!~r.indexOf(e)}));o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var r=0,o=Object.keys(t);r<o.length;r++){var n=o[r];Object.defineProperty(e,n,{value:t[n],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||n},f=T(0,0,0,0);function g(e){return parseFloat(e)||0}function m(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){var o=e["border-"+r+"-width"];return t+g(o)}),0)}function v(e){for(var t=["top","right","bottom","left"],r={},o=0,n=t;o<n.length;o++){var i=n[o],a=e["padding-"+i];r[i]=g(a)}return r}function b(e){var t=e.getBBox();return T(0,0,t.width,t.height)}function _(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return f;var o=h(e).getComputedStyle(e),n=v(o),i=n.left+n.right,a=n.top+n.bottom,s=g(o.width),l=g(o.height);if("border-box"===o.boxSizing&&(Math.round(s+i)!==t&&(s-=m(o,"left","right")+i),Math.round(l+a)!==r&&(l-=m(o,"top","bottom")+a)),!O(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return T(n.left,n.top,s,l)}var E=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox}}();function O(e){return e===h(e).document.documentElement}function y(e){return o?E(e)?b(e):_(e):f}function S(e){var t=e.x,r=e.y,o=e.width,n=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return p(a,{x:t,y:r,width:o,height:n,top:r,right:t+o,bottom:n+r,left:t}),a}function T(e,t,r,o){return{x:e,y:t,width:r,height:o}}var C=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=T(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),R=function(){function e(e,t){var r=S(t);p(this,{target:e,contentRect:r})}return e}(),k=function(){function e(e,t,o){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=o}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new C(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new R(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),I="undefined"!==typeof WeakMap?new WeakMap:new r,j=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=d.getInstance(),o=new k(t,r,this);I.set(this,o)}return e}();["observe","unobserve","disconnect"].forEach((function(e){j.prototype[e]=function(){var t;return(t=I.get(this))[e].apply(t,arguments)}}));var L=function(){return"undefined"!==typeof n.ResizeObserver?n.ResizeObserver:j}();t["a"]=L}).call(this,r("c8ba"))},"6eeb":function(e,t,r){var o=r("da84"),n=r("9112"),i=r("5135"),a=r("ce4e"),s=r("8925"),l=r("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,r,s){var l,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||n(r,"name",t),l=u(r),l.source||(l.source=d.join("string"==typeof t?t:""))),e!==o?(c?!h&&e[t]&&(p=!0):delete e[t],p?e[t]=r:n(e,t,r)):p?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},"6f51":function(e,t){var r=/\w*$/;function o(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=o},"73ab":function(e,t,r){var o=r("e07d"),n=r("ac6e"),i=r("379e"),a=r("0398"),s=r("12e2");function l(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype["delete"]=n,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,r){var o=r("428f"),n=r("5135"),i=r("e538"),a=r("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});n(t,e)||a(t,e,{value:i.f(e)})}},"74aa":function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},"766c":function(e,t,r){var o=r("e7d4"),n=r("c258"),i=r("85c3");function a(e){return i(e)?o(e):n(e)}e.exports=a},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"796c":function(e,t){function r(){return[]}e.exports=r},"79ed":function(e,t,r){var o=r("60ed"),n=r("c471"),i=r("ee01");function a(e,t){return i(n(e,t,o),e+"")}e.exports=a},"7a23":function(e,t,r){"use strict";r.d(t,"s",(function(){return Se})),r.d(t,"I",(function(){return fe})),r.d(t,"J",(function(){return Te})),r.d(t,"Q",(function(){return Ce})),r.d(t,"T",(function(){return Ae})),r.d(t,"U",(function(){return Me})),r.d(t,"V",(function(){return Ie})),r.d(t,"f",(function(){return o["e"]})),r.d(t,"R",(function(){return o["J"]})),r.d(t,"a",(function(){return To})),r.d(t,"b",(function(){return yo})),r.d(t,"c",(function(){return ho})),r.d(t,"g",(function(){return Zo})),r.d(t,"h",(function(){return En})),r.d(t,"j",(function(){return No})),r.d(t,"k",(function(){return Go})),r.d(t,"l",(function(){return Yo})),r.d(t,"m",(function(){return Ho})),r.d(t,"n",(function(){return Uo})),r.d(t,"o",(function(){return Yt})),r.d(t,"p",(function(){return sn})),r.d(t,"q",(function(){return On})),r.d(t,"r",(function(){return Lt})),r.d(t,"t",(function(){return Ao})),r.d(t,"u",(function(){return Fo})),r.d(t,"v",(function(){return Qe})),r.d(t,"w",(function(){return Xt})),r.d(t,"x",(function(){return ar})),r.d(t,"y",(function(){return ur})),r.d(t,"z",(function(){return lr})),r.d(t,"A",(function(){return Qt})),r.d(t,"B",(function(){return sr})),r.d(t,"C",(function(){return dr})),r.d(t,"D",(function(){return cr})),r.d(t,"E",(function(){return Io})),r.d(t,"F",(function(){return bt})),r.d(t,"G",(function(){return jt})),r.d(t,"H",(function(){return vt})),r.d(t,"L",(function(){return qo})),r.d(t,"M",(function(){return $o})),r.d(t,"N",(function(){return mo})),r.d(t,"O",(function(){return _o})),r.d(t,"P",(function(){return bo})),r.d(t,"S",(function(){return Jo})),r.d(t,"ab",(function(){return At})),r.d(t,"bb",(function(){return Mt})),r.d(t,"cb",(function(){return Et})),r.d(t,"db",(function(){return Wr})),r.d(t,"gb",(function(){return _t})),r.d(t,"d",(function(){return oi})),r.d(t,"e",(function(){return Si})),r.d(t,"i",(function(){return $i})),r.d(t,"K",(function(){return Yi})),r.d(t,"W",(function(){return Ai})),r.d(t,"X",(function(){return wi})),r.d(t,"Y",(function(){return Ni})),r.d(t,"Z",(function(){return Vi})),r.d(t,"eb",(function(){return Gi})),r.d(t,"fb",(function(){return Zi}));var o=r("9ff4");const n=new WeakMap,i=[];let a;const s=Symbol(""),l=Symbol("");function c(e){return e&&!0===e._isEffect}function u(e,t=o["b"]){c(e)&&(e=e.raw);const r=h(e,t);return t.lazy||r(),r}function d(e){e.active&&(f(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let p=0;function h(e,t){const r=function(){if(!r.active)return e();if(!i.includes(r)){f(r);try{return b(),i.push(r),a=r,e()}finally{i.pop(),_(),a=i[i.length-1]}}};return r.id=p++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}function f(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let g=!0;const m=[];function v(){m.push(g),g=!1}function b(){m.push(g),g=!0}function _(){const e=m.pop();g=void 0===e||e}function E(e,t,r){if(!g||void 0===a)return;let o=n.get(e);o||n.set(e,o=new Map);let i=o.get(r);i||o.set(r,i=new Set),i.has(a)||(i.add(a),a.deps.push(i))}function O(e,t,r,i,c,u){const d=n.get(e);if(!d)return;const p=new Set,h=e=>{e&&e.forEach(e=>{(e!==a||e.allowRecurse)&&p.add(e)})};if("clear"===t)d.forEach(h);else if("length"===r&&Object(o["m"])(e))d.forEach((e,t)=>{("length"===t||t>=i)&&h(e)});else switch(void 0!==r&&h(d.get(r)),t){case"add":Object(o["m"])(e)?Object(o["q"])(r)&&h(d.get("length")):(h(d.get(s)),Object(o["r"])(e)&&h(d.get(l)));break;case"delete":Object(o["m"])(e)||(h(d.get(s)),Object(o["r"])(e)&&h(d.get(l)));break;case"set":Object(o["r"])(e)&&h(d.get(s));break}const f=e=>{e.options.scheduler?e.options.scheduler(e):e()};p.forEach(f)}const y=Object(o["F"])("__proto__,__v_isRef,__isVue"),S=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(o["C"])),T=j(),C=j(!1,!0),R=j(!0),k=j(!0,!0),I={};function j(e=!1,t=!1){return function(r,n,i){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_raw"===n&&i===(e?t?de:ue:t?ce:le).get(r))return r;const a=Object(o["m"])(r);if(!e&&a&&Object(o["j"])(I,n))return Reflect.get(I,n,i);const s=Reflect.get(r,n,i);if(Object(o["C"])(n)?S.has(n):y(n))return s;if(e||E(r,"get",n),t)return s;if(Se(s)){const e=!a||!Object(o["q"])(n);return e?s.value:s}return Object(o["t"])(s)?e?me(s):fe(s):s}}["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];I[e]=function(...e){const r=Oe(this);for(let t=0,n=this.length;t<n;t++)E(r,"get",t+"");const o=t.apply(r,e);return-1===o||!1===o?t.apply(r,e.map(Oe)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];I[e]=function(...e){v();const r=t.apply(this,e);return _(),r}});const L=N(),M=N(!0);function N(e=!1){return function(t,r,n,i){let a=t[r];if(!e&&(n=Oe(n),a=Oe(a),!Object(o["m"])(t)&&Se(a)&&!Se(n)))return a.value=n,!0;const s=Object(o["m"])(t)&&Object(o["q"])(r)?Number(r)<t.length:Object(o["j"])(t,r),l=Reflect.set(t,r,n,i);return t===Oe(i)&&(s?Object(o["i"])(n,a)&&O(t,"set",r,n,a):O(t,"add",r,n)),l}}function A(e,t){const r=Object(o["j"])(e,t),n=e[t],i=Reflect.deleteProperty(e,t);return i&&r&&O(e,"delete",t,void 0,n),i}function P(e,t){const r=Reflect.has(e,t);return Object(o["C"])(t)&&S.has(t)||E(e,"has",t),r}function w(e){return E(e,"iterate",Object(o["m"])(e)?"length":s),Reflect.ownKeys(e)}const x={get:T,set:L,deleteProperty:A,has:P,ownKeys:w},D={get:R,set(e,t){return!0},deleteProperty(e,t){return!0}},U=Object(o["h"])({},x,{get:C,set:M}),B=(Object(o["h"])({},D,{get:k}),e=>Object(o["t"])(e)?fe(e):e),Z=e=>Object(o["t"])(e)?me(e):e,H=e=>e,G=e=>Reflect.getPrototypeOf(e);function V(e,t,r=!1,o=!1){e=e["__v_raw"];const n=Oe(e),i=Oe(t);t!==i&&!r&&E(n,"get",t),!r&&E(n,"get",i);const{has:a}=G(n),s=o?H:r?Z:B;return a.call(n,t)?s(e.get(t)):a.call(n,i)?s(e.get(i)):void(e!==n&&e.get(t))}function z(e,t=!1){const r=this["__v_raw"],o=Oe(r),n=Oe(e);return e!==n&&!t&&E(o,"has",e),!t&&E(o,"has",n),e===n?r.has(e):r.has(e)||r.has(n)}function W(e,t=!1){return e=e["__v_raw"],!t&&E(Oe(e),"iterate",s),Reflect.get(e,"size",e)}function F(e){e=Oe(e);const t=Oe(this),r=G(t),o=r.has.call(t,e);return o||(t.add(e),O(t,"add",e,e)),this}function q(e,t){t=Oe(t);const r=Oe(this),{has:n,get:i}=G(r);let a=n.call(r,e);a||(e=Oe(e),a=n.call(r,e));const s=i.call(r,e);return r.set(e,t),a?Object(o["i"])(t,s)&&O(r,"set",e,t,s):O(r,"add",e,t),this}function Y(e){const t=Oe(this),{has:r,get:o}=G(t);let n=r.call(t,e);n||(e=Oe(e),n=r.call(t,e));const i=o?o.call(t,e):void 0,a=t.delete(e);return n&&O(t,"delete",e,void 0,i),a}function $(){const e=Oe(this),t=0!==e.size,r=void 0,o=e.clear();return t&&O(e,"clear",void 0,void 0,r),o}function K(e,t){return function(r,o){const n=this,i=n["__v_raw"],a=Oe(i),l=t?H:e?Z:B;return!e&&E(a,"iterate",s),i.forEach((e,t)=>r.call(o,l(e),l(t),n))}}function J(e,t,r){return function(...n){const i=this["__v_raw"],a=Oe(i),c=Object(o["r"])(a),u="entries"===e||e===Symbol.iterator&&c,d="keys"===e&&c,p=i[e](...n),h=r?H:t?Z:B;return!t&&E(a,"iterate",d?l:s),{next(){const{value:e,done:t}=p.next();return t?{value:e,done:t}:{value:u?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function X(e){return function(...t){return"delete"!==e&&this}}const Q={get(e){return V(this,e)},get size(){return W(this)},has:z,add:F,set:q,delete:Y,clear:$,forEach:K(!1,!1)},ee={get(e){return V(this,e,!1,!0)},get size(){return W(this)},has:z,add:F,set:q,delete:Y,clear:$,forEach:K(!1,!0)},te={get(e){return V(this,e,!0)},get size(){return W(this,!0)},has(e){return z.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:K(!0,!1)},re={get(e){return V(this,e,!0,!0)},get size(){return W(this,!0)},has(e){return z.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:K(!0,!0)},oe=["keys","values","entries",Symbol.iterator];function ne(e,t){const r=t?e?re:ee:e?te:Q;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(Object(o["j"])(r,n)&&n in t?r:t,n,i)}oe.forEach(e=>{Q[e]=J(e,!1,!1),te[e]=J(e,!0,!1),ee[e]=J(e,!1,!0),re[e]=J(e,!0,!0)});const ie={get:ne(!1,!1)},ae={get:ne(!1,!0)},se={get:ne(!0,!1)};ne(!0,!0);const le=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap;function pe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function he(e){return e["__v_skip"]||!Object.isExtensible(e)?0:pe(Object(o["M"])(e))}function fe(e){return e&&e["__v_isReadonly"]?e:ve(e,!1,x,ie,le)}function ge(e){return ve(e,!1,U,ae,ce)}function me(e){return ve(e,!0,D,se,ue)}function ve(e,t,r,n,i){if(!Object(o["t"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=i.get(e);if(a)return a;const s=he(e);if(0===s)return e;const l=new Proxy(e,2===s?n:r);return i.set(e,l),l}function be(e){return _e(e)?be(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function _e(e){return!(!e||!e["__v_isReadonly"])}function Ee(e){return be(e)||_e(e)}function Oe(e){return e&&Oe(e["__v_raw"])||e}const ye=e=>Object(o["t"])(e)?fe(e):e;function Se(e){return Boolean(e&&!0===e.__v_isRef)}function Te(e){return ke(e)}function Ce(e){return ke(e,!0)}class Re{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:ye(e)}get value(){return E(Oe(this),"get","value"),this._value}set value(e){Object(o["i"])(Oe(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:ye(e),O(Oe(this),"set","value",e))}}function ke(e,t=!1){return Se(e)?e:new Re(e,t)}function Ie(e){return Se(e)?e.value:e}const je={get:(e,t,r)=>Ie(Reflect.get(e,t,r)),set:(e,t,r,o)=>{const n=e[t];return Se(n)&&!Se(r)?(n.value=r,!0):Reflect.set(e,t,r,o)}};function Le(e){return be(e)?e:new Proxy(e,je)}function Me(e){const t=Object(o["m"])(e)?new Array(e.length):{};for(const r in e)t[r]=Ae(e,r);return t}class Ne{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Ae(e,t){return Se(e[t])?e[t]:new Ne(e,t)}class Pe{constructor(e,t,r){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=u(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,O(Oe(this),"set","value"))}}),this["__v_isReadonly"]=r}get value(){const e=Oe(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),E(e,"get","value"),e._value}set value(e){this._setter(e)}}function we(e){let t,r;return Object(o["n"])(e)?(t=e,r=o["d"]):(t=e.get,r=e.set),new Pe(t,r,Object(o["n"])(e)||!e.set)}function xe(e,t,r,o){let n;try{n=o?e(...o):e()}catch(i){Ue(i,t,r)}return n}function De(e,t,r,n){if(Object(o["n"])(e)){const i=xe(e,t,r,n);return i&&Object(o["w"])(i)&&i.catch(e=>{Ue(e,t,r)}),i}const i=[];for(let o=0;o<e.length;o++)i.push(De(e[o],t,r,n));return i}function Ue(e,t,r,o=!0){const n=t?t.vnode:null;if(t){let o=t.parent;const n=t.proxy,i=r;while(o){const t=o.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,n,i))return;o=o.parent}const a=t.appContext.config.errorHandler;if(a)return void xe(a,null,10,[e,n,i])}Be(e,r,n,o)}function Be(e,t,r,o=!0){console.error(e)}let Ze=!1,He=!1;const Ge=[];let Ve=0;const ze=[];let We=null,Fe=0;const qe=[];let Ye=null,$e=0;const Ke=Promise.resolve();let Je=null,Xe=null;function Qe(e){const t=Je||Ke;return e?t.then(this?e.bind(this):e):t}function et(e){let t=Ve+1,r=Ge.length;const o=ct(e);while(t<r){const e=t+r>>>1,n=ct(Ge[e]);n<o?t=e+1:r=e}return t}function tt(e){if((!Ge.length||!Ge.includes(e,Ze&&e.allowRecurse?Ve+1:Ve))&&e!==Xe){const t=et(e);t>-1?Ge.splice(t,0,e):Ge.push(e),rt()}}function rt(){Ze||He||(He=!0,Je=Ke.then(ut))}function ot(e){const t=Ge.indexOf(e);t>Ve&&Ge.splice(t,1)}function nt(e,t,r,n){Object(o["m"])(e)?r.push(...e):t&&t.includes(e,e.allowRecurse?n+1:n)||r.push(e),rt()}function it(e){nt(e,We,ze,Fe)}function at(e){nt(e,Ye,qe,$e)}function st(e,t=null){if(ze.length){for(Xe=t,We=[...new Set(ze)],ze.length=0,Fe=0;Fe<We.length;Fe++)We[Fe]();We=null,Fe=0,Xe=null,st(e,t)}}function lt(e){if(qe.length){const e=[...new Set(qe)];if(qe.length=0,Ye)return void Ye.push(...e);for(Ye=e,Ye.sort((e,t)=>ct(e)-ct(t)),$e=0;$e<Ye.length;$e++)Ye[$e]();Ye=null,$e=0}}const ct=e=>null==e.id?1/0:e.id;function ut(e){He=!1,Ze=!0,st(e),Ge.sort((e,t)=>ct(e)-ct(t));try{for(Ve=0;Ve<Ge.length;Ve++){const e=Ge[Ve];e&&!1!==e.active&&xe(e,null,14)}}finally{Ve=0,Ge.length=0,lt(e),Ze=!1,Je=null,(Ge.length||ze.length||qe.length)&&ut(e)}}new Set;new Map;Object.create(null),Object.create(null);function dt(e,t,...r){const n=e.vnode.props||o["b"];let i=r;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in n){const e=("modelValue"===s?"model":s)+"Modifiers",{number:t,trim:a}=n[e]||o["b"];a?i=r.map(e=>e.trim()):t&&(i=r.map(o["L"]))}let l;let c=n[l=Object(o["K"])(t)]||n[l=Object(o["K"])(Object(o["e"])(t))];!c&&a&&(c=n[l=Object(o["K"])(Object(o["k"])(t))]),c&&De(c,e,6,i);const u=n[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else(e.emitted={})[l]=!0;De(u,e,6,i)}}function pt(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(void 0!==i)return i;const a=e.emits;let s={},l=!1;if(!Object(o["n"])(e)){const n=e=>{const r=pt(e,t,!0);r&&(l=!0,Object(o["h"])(s,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return a||l?(Object(o["m"])(a)?a.forEach(e=>s[e]=null):Object(o["h"])(s,a),n.set(e,s),s):(n.set(e,null),null)}function ht(e,t){return!(!e||!Object(o["u"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(o["j"])(e,t[0].toLowerCase()+t.slice(1))||Object(o["j"])(e,Object(o["k"])(t))||Object(o["j"])(e,t))}let ft=null,gt=null;function mt(e){const t=ft;return ft=e,gt=e&&e.type.__scopeId||null,t}function vt(e){gt=e}function bt(){gt=null}const _t=e=>Et;function Et(e,t=ft,r){if(!t)return e;if(e._n)return e;const o=(...r)=>{o._d&&Mo(-1);const n=mt(t),i=e(...r);return mt(n),o._d&&Mo(1),i};return o._n=!0,o._c=!0,o._d=!0,o}function Ot(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:a,propsOptions:[s],slots:l,attrs:c,emit:u,render:d,renderCache:p,data:h,setupState:f,ctx:g,inheritAttrs:m}=e;let v;const b=mt(e);try{let e;if(4&r.shapeFlag){const t=i||n;v=Vo(d.call(t,t,p,a,f,h,g)),e=c}else{const r=t;0,v=Vo(r.length>1?r(a,{attrs:c,slots:l,emit:u}):r(a,null)),e=t.props?c:yt(c)}let b=v;if(e&&!1!==m){const t=Object.keys(e),{shapeFlag:r}=b;t.length&&(1&r||6&r)&&(s&&t.some(o["s"])&&(e=St(e,s)),b=Zo(b,e))}0,r.dirs&&(b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&(b.transition=r.transition),v=b}catch(_){Ro.length=0,Ue(_,e,1),v=Uo(To)}return mt(b),v}const yt=e=>{let t;for(const r in e)("class"===r||"style"===r||Object(o["u"])(r))&&((t||(t={}))[r]=e[r]);return t},St=(e,t)=>{const r={};for(const n in e)Object(o["s"])(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function Tt(e,t,r){const{props:o,children:n,component:i}=e,{props:a,children:s,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!n&&!s||s&&s.$stable)||o!==a&&(o?!a||Ct(o,a,c):!!a);if(1024&l)return!0;if(16&l)return o?Ct(o,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(a[r]!==o[r]&&!ht(c,r))return!0}}return!1}function Ct(e,t,r){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(t[i]!==e[i]&&!ht(r,i))return!0}return!1}function Rt({vnode:e,parent:t},r){while(t&&t.subTree===e)(e=t.vnode).el=r,t=t.parent}const kt=e=>e.__isSuspense;function It(e,t){t&&t.pendingBranch?Object(o["m"])(e)?t.effects.push(...e):t.effects.push(e):at(e)}function jt(e,t){if(an){let r=an.provides;const o=an.parent&&an.parent.provides;o===r&&(r=an.provides=Object.create(o)),r[e]=t}else 0}function Lt(e,t,r=!1){const n=an||ft;if(n){const i=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Object(o["n"])(t)?t():t}else 0}function Mt(e,t){return Pt(e,null,t)}const Nt={};function At(e,t,r){return Pt(e,t,r)}function Pt(e,t,{immediate:r,deep:n,flush:i,onTrack:a,onTrigger:s}=o["b"],l=an){let c,p,h=!1,f=!1;if(Se(e)?(c=()=>e.value,h=!!e._shallow):be(e)?(c=()=>e,n=!0):Object(o["m"])(e)?(f=!0,h=e.some(be),c=()=>e.map(e=>Se(e)?e.value:be(e)?Dt(e):Object(o["n"])(e)?xe(e,l,2):void 0)):c=Object(o["n"])(e)?t?()=>xe(e,l,2):()=>{if(!l||!l.isUnmounted)return p&&p(),De(e,l,3,[g])}:o["d"],t&&n){const e=c;c=()=>Dt(e())}let g=e=>{p=_.options.onStop=()=>{xe(e,l,4)}},m=f?[]:Nt;const v=()=>{if(_.active)if(t){const e=_();(n||h||(f?e.some((e,t)=>Object(o["i"])(e,m[t])):Object(o["i"])(e,m)))&&(p&&p(),De(t,l,3,[e,m===Nt?void 0:m,g]),m=e)}else _()};let b;v.allowRecurse=!!t,b="sync"===i?v:"post"===i?()=>Xr(v,l&&l.suspense):()=>{!l||l.isMounted?it(v):v()};const _=u(c,{lazy:!0,onTrack:a,onTrigger:s,scheduler:b});return vn(_,l),t?r?v():m=_():"post"===i?Xr(_,l&&l.suspense):_(),()=>{d(_),l&&Object(o["I"])(l.effects,_)}}function wt(e,t,r){const n=this.proxy,i=Object(o["B"])(e)?e.includes(".")?xt(n,e):()=>n[e]:e.bind(n,n);let a;return Object(o["n"])(t)?a=t:(a=t.handler,r=t),Pt(i,a.bind(n),r,this)}function xt(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function Dt(e,t=new Set){if(!Object(o["t"])(e)||t.has(e)||e["__v_skip"])return e;if(t.add(e),Se(e))Dt(e.value,t);else if(Object(o["m"])(e))for(let r=0;r<e.length;r++)Dt(e[r],t);else if(Object(o["z"])(e)||Object(o["r"])(e))e.forEach(e=>{Dt(e,t)});else if(Object(o["v"])(e))for(const r in e)Dt(e[r],t);return e}function Ut(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sr(()=>{e.isMounted=!0}),ur(()=>{e.isUnmounting=!0}),e}const Bt=[Function,Array],Zt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bt,onEnter:Bt,onAfterEnter:Bt,onEnterCancelled:Bt,onBeforeLeave:Bt,onLeave:Bt,onAfterLeave:Bt,onLeaveCancelled:Bt,onBeforeAppear:Bt,onAppear:Bt,onAfterAppear:Bt,onAppearCancelled:Bt},setup(e,{slots:t}){const r=sn(),o=Ut();let n;return()=>{const i=t.default&&qt(t.default(),!0);if(!i||!i.length)return;const a=Oe(e),{mode:s}=a;const l=i[0];if(o.isLeaving)return zt(l);const c=Wt(l);if(!c)return zt(l);const u=Vt(c,a,o,r);Ft(c,u);const d=r.subTree,p=d&&Wt(d);let h=!1;const{getTransitionKey:f}=c.type;if(f){const e=f();void 0===n?n=e:e!==n&&(n=e,h=!0)}if(p&&p.type!==To&&(!Po(c,p)||h)){const e=Vt(p,a,o,r);if(Ft(p,e),"out-in"===s)return o.isLeaving=!0,e.afterLeave=()=>{o.isLeaving=!1,r.update()},zt(l);"in-out"===s&&c.type!==To&&(e.delayLeave=(e,t,r)=>{const n=Gt(o,p);n[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=r})}return l}}},Ht=Zt;function Gt(e,t){const{leavingVNodes:r}=e;let o=r.get(t.type);return o||(o=Object.create(null),r.set(t.type,o)),o}function Vt(e,t,r,o){const{appear:n,mode:i,persisted:a=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:p,onAfterLeave:h,onLeaveCancelled:f,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:b}=t,_=String(e.key),E=Gt(r,e),O=(e,t)=>{e&&De(e,o,9,t)},y={mode:i,persisted:a,beforeEnter(t){let o=s;if(!r.isMounted){if(!n)return;o=g||s}t._leaveCb&&t._leaveCb(!0);const i=E[_];i&&Po(e,i)&&i.el._leaveCb&&i.el._leaveCb(),O(o,[t])},enter(e){let t=l,o=c,i=u;if(!r.isMounted){if(!n)return;t=m||l,o=v||c,i=b||u}let a=!1;const s=e._enterCb=t=>{a||(a=!0,O(t?i:o,[e]),y.delayedLeave&&y.delayedLeave(),e._enterCb=void 0)};t?(t(e,s),t.length<=1&&s()):s()},leave(t,o){const n=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return o();O(d,[t]);let i=!1;const a=t._leaveCb=r=>{i||(i=!0,o(),O(r?f:h,[t]),t._leaveCb=void 0,E[n]===e&&delete E[n])};E[n]=e,p?(p(t,a),p.length<=1&&a()):a()},clone(e){return Vt(e,t,r,o)}};return y}function zt(e){if(Kt(e))return e=Zo(e),e.children=null,e}function Wt(e){return Kt(e)?e.children?e.children[0]:void 0:e}function Ft(e,t){6&e.shapeFlag&&e.component?Ft(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qt(e,t=!1){let r=[],o=0;for(let n=0;n<e.length;n++){const i=e[n];i.type===yo?(128&i.patchFlag&&o++,r=r.concat(qt(i.children,t))):(t||i.type!==To)&&r.push(i)}if(o>1)for(let n=0;n<r.length;n++)r[n].patchFlag=-2;return r}function Yt(e){return Object(o["n"])(e)?{setup:e,name:e.name}:e}const $t=e=>!!e.type.__asyncLoader;const Kt=e=>e.type.__isKeepAlive;RegExp,RegExp;function Jt(e,t){return Object(o["m"])(e)?e.some(e=>Jt(e,t)):Object(o["B"])(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function Xt(e,t){er(e,"a",t)}function Qt(e,t){er(e,"da",t)}function er(e,t,r=an){const o=e.__wdc||(e.__wdc=()=>{let t=r;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(nr(t,o,r),r){let e=r.parent;while(e&&e.parent)Kt(e.parent.vnode)&&tr(o,t,r,e),e=e.parent}}function tr(e,t,r,n){const i=nr(t,e,n,!0);dr(()=>{Object(o["I"])(n[t],i)},r)}function rr(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function or(e){return 128&e.shapeFlag?e.ssContent:e}function nr(e,t,r=an,o=!1){if(r){const n=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;v(),ln(r);const n=De(t,r,e,o);return ln(null),_(),n});return o?n.unshift(i):n.push(i),i}}const ir=e=>(t,r=an)=>(!dn||"sp"===e)&&nr(e,t,r),ar=ir("bm"),sr=ir("m"),lr=ir("bu"),cr=ir("u"),ur=ir("bum"),dr=ir("um"),pr=ir("sp"),hr=ir("rtg"),fr=ir("rtc");function gr(e,t=an){nr("ec",e,t)}let mr=!0;function vr(e){const t=Or(e),r=e.proxy,n=e.ctx;mr=!1,t.beforeCreate&&_r(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:l,provide:c,inject:u,created:d,beforeMount:p,mounted:h,beforeUpdate:f,updated:g,activated:m,deactivated:v,beforeDestroy:b,beforeUnmount:_,destroyed:E,unmounted:O,render:y,renderTracked:S,renderTriggered:T,errorCaptured:C,serverPrefetch:R,expose:k,inheritAttrs:I,components:j,directives:L,filters:M}=t,N=null;if(u&&br(u,n,N),s)for(const P in s){const e=s[P];Object(o["n"])(e)&&(n[P]=e.bind(r))}if(i){0;const t=i.call(r,r);0,Object(o["t"])(t)&&(e.data=fe(t))}if(mr=!0,a)for(const P in a){const e=a[P],t=Object(o["n"])(e)?e.bind(r,r):Object(o["n"])(e.get)?e.get.bind(r,r):o["d"];0;const i=!Object(o["n"])(e)&&Object(o["n"])(e.set)?e.set.bind(r):o["d"],s=En({get:t,set:i});Object.defineProperty(n,P,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(l)for(const o in l)Er(l[o],n,r,o);if(c){const e=Object(o["n"])(c)?c.call(r):c;Reflect.ownKeys(e).forEach(t=>{jt(t,e[t])})}function A(e,t){Object(o["m"])(t)?t.forEach(t=>e(t.bind(r))):t&&e(t.bind(r))}if(d&&_r(d,e,"c"),A(ar,p),A(sr,h),A(lr,f),A(cr,g),A(Xt,m),A(Qt,v),A(gr,C),A(fr,S),A(hr,T),A(ur,_),A(dr,O),A(pr,R),Object(o["m"])(k))if(k.length){const t=e.exposed||(e.exposed=Le({}));k.forEach(e=>{t[e]=Ae(r,e)})}else e.exposed||(e.exposed=o["b"]);y&&e.render===o["d"]&&(e.render=y),null!=I&&(e.inheritAttrs=I),j&&(e.components=j),L&&(e.directives=L)}function br(e,t,r=o["d"]){Object(o["m"])(e)&&(e=Rr(e));for(const n in e){const r=e[n];Object(o["t"])(r)?t[n]="default"in r?Lt(r.from||n,r.default,!0):Lt(r.from||n):t[n]=Lt(r)}}function _r(e,t,r){De(Object(o["m"])(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,r)}function Er(e,t,r,n){const i=n.includes(".")?xt(r,n):()=>r[n];if(Object(o["B"])(e)){const r=t[e];Object(o["n"])(r)&&At(i,r)}else if(Object(o["n"])(e))At(i,e.bind(r));else if(Object(o["t"])(e))if(Object(o["m"])(e))e.forEach(e=>Er(e,t,r,n));else{const n=Object(o["n"])(e.handler)?e.handler.bind(r):t[e.handler];Object(o["n"])(n)&&At(i,n,e)}else 0}function Or(e){const t=e.type,{mixins:r,extends:o}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,s=i.get(t);let l;return s?l=s:n.length||r||o?(l={},n.length&&n.forEach(e=>yr(l,e,a,!0)),yr(l,t,a)):l=t,i.set(t,l),l}function yr(e,t,r,o=!1){const{mixins:n,extends:i}=t;i&&yr(e,i,r,!0),n&&n.forEach(t=>yr(e,t,r,!0));for(const a in t)if(o&&"expose"===a);else{const o=Sr[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const Sr={data:Tr,props:Ir,emits:Ir,methods:Ir,computed:Ir,beforeCreate:kr,created:kr,beforeMount:kr,mounted:kr,beforeUpdate:kr,updated:kr,beforeDestroy:kr,destroyed:kr,activated:kr,deactivated:kr,errorCaptured:kr,serverPrefetch:kr,components:Ir,directives:Ir,watch:Ir,provide:Tr,inject:Cr};function Tr(e,t){return t?e?function(){return Object(o["h"])(Object(o["n"])(e)?e.call(this,this):e,Object(o["n"])(t)?t.call(this,this):t)}:t:e}function Cr(e,t){return Ir(Rr(e),Rr(t))}function Rr(e){if(Object(o["m"])(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function kr(e,t){return e?[...new Set([].concat(e,t))]:t}function Ir(e,t){return e?Object(o["h"])(Object(o["h"])(Object.create(null),e),t):t}function jr(e,t,r,n=!1){const i={},a={};Object(o["g"])(a,wo,1),e.propsDefaults=Object.create(null),Mr(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:ge(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Lr(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,l=Oe(i),[c]=e.propsOptions;let u=!1;if(!(n||s>0)||16&s){let n;Mr(e,t,i,a)&&(u=!0);for(const a in l)t&&(Object(o["j"])(t,a)||(n=Object(o["k"])(a))!==a&&Object(o["j"])(t,n))||(c?!r||void 0===r[a]&&void 0===r[n]||(i[a]=Nr(c,l,a,void 0,e,!0)):delete i[a]);if(a!==l)for(const e in a)t&&Object(o["j"])(t,e)||(delete a[e],u=!0)}else if(8&s){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let s=r[n];const d=t[s];if(c)if(Object(o["j"])(a,s))d!==a[s]&&(a[s]=d,u=!0);else{const t=Object(o["e"])(s);i[t]=Nr(c,l,t,d,e,!1)}else d!==a[s]&&(a[s]=d,u=!0)}}u&&O(e,"set","$attrs")}function Mr(e,t,r,n){const[i,a]=e.propsOptions;let s,l=!1;if(t)for(let c in t){if(Object(o["x"])(c))continue;const u=t[c];let d;i&&Object(o["j"])(i,d=Object(o["e"])(c))?a&&a.includes(d)?(s||(s={}))[d]=u:r[d]=u:ht(e.emitsOptions,c)||u!==n[c]&&(n[c]=u,l=!0)}if(a){const t=Oe(r),n=s||o["b"];for(let s=0;s<a.length;s++){const l=a[s];r[l]=Nr(i,t,l,n[l],e,!Object(o["j"])(n,l))}}return l}function Nr(e,t,r,n,i,a){const s=e[r];if(null!=s){const e=Object(o["j"])(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&Object(o["n"])(e)){const{propsDefaults:o}=i;r in o?n=o[r]:(ln(i),n=o[r]=e.call(null,t),ln(null))}else n=e}s[0]&&(a&&!e?n=!1:!s[1]||""!==n&&n!==Object(o["k"])(r)||(n=!0))}return n}function Ar(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const a=e.props,s={},l=[];let c=!1;if(!Object(o["n"])(e)){const n=e=>{c=!0;const[r,n]=Ar(e,t,!0);Object(o["h"])(s,r),n&&l.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!a&&!c)return n.set(e,o["a"]),o["a"];if(Object(o["m"])(a))for(let d=0;d<a.length;d++){0;const e=Object(o["e"])(a[d]);Pr(e)&&(s[e]=o["b"])}else if(a){0;for(const e in a){const t=Object(o["e"])(e);if(Pr(t)){const r=a[e],n=s[t]=Object(o["m"])(r)||Object(o["n"])(r)?{type:r}:r;if(n){const e=Dr(Boolean,n.type),r=Dr(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||Object(o["j"])(n,"default"))&&l.push(t)}}}}const u=[s,l];return n.set(e,u),u}function Pr(e){return"$"!==e[0]}function wr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function xr(e,t){return wr(e)===wr(t)}function Dr(e,t){return Object(o["m"])(t)?t.findIndex(t=>xr(t,e)):Object(o["n"])(t)&&xr(t,e)?0:-1}const Ur=e=>"_"===e[0]||"$stable"===e,Br=e=>Object(o["m"])(e)?e.map(Vo):[Vo(e)],Zr=(e,t,r)=>{const o=Et(e=>Br(t(e)),r);return o._c=!1,o},Hr=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Ur(i))continue;const r=e[i];if(Object(o["n"])(r))t[i]=Zr(i,r,n);else if(null!=r){0;const e=Br(r);t[i]=()=>e}}},Gr=(e,t)=>{const r=Br(t);e.slots.default=()=>r},Vr=(e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=Oe(t),Object(o["g"])(t,"_",r)):Hr(t,e.slots={})}else e.slots={},t&&Gr(e,t);Object(o["g"])(e.slots,wo,1)},zr=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,s=o["b"];if(32&n.shapeFlag){const e=t._;e?r&&1===e?a=!1:(Object(o["h"])(i,t),r||1!==e||delete i._):(a=!t.$stable,Hr(t,i)),s=t}else t&&(Gr(e,t),s={default:1});if(a)for(const o in i)Ur(o)||o in s||delete i[o]};function Wr(e,t){const r=ft;if(null===r)return e;const n=r.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,r,s,l=o["b"]]=t[a];Object(o["n"])(e)&&(e={mounted:e,updated:e}),i.push({dir:e,instance:n,value:r,oldValue:void 0,arg:s,modifiers:l})}return e}function Fr(e,t,r,o){const n=e.dirs,i=t&&t.dirs;for(let a=0;a<n.length;a++){const s=n[a];i&&(s.oldValue=i[a].value);let l=s.dir[o];l&&(v(),De(l,r,8,[e.el,s,e,t]),_())}}function qr(){return{app:null,config:{isNativeTag:o["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yr=0;function $r(e,t){return function(r,n=null){null==n||Object(o["t"])(n)||(n=null);const i=qr(),a=new Set;let s=!1;const l=i.app={_uid:Yr++,_component:r,_props:n,_container:null,_context:i,version:yn,get config(){return i.config},set config(e){0},use(e,...t){return a.has(e)||(e&&Object(o["n"])(e.install)?(a.add(e),e.install(l,...t)):Object(o["n"])(e)&&(a.add(e),e(l,...t))),l},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),l},component(e,t){return t?(i.components[e]=t,l):i.components[e]},directive(e,t){return t?(i.directives[e]=t,l):i.directives[e]},mount(o,a,c){if(!s){const u=Uo(r,n);return u.appContext=i,a&&t?t(u,o):e(u,o,c),s=!0,l._container=o,o.__vue_app__=l,u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return i.provides[e]=t,l}};return l}}function Kr(){}const Jr={scheduler:tt,allowRecurse:!0};const Xr=It,Qr=(e,t,r,n,i=!1)=>{if(Object(o["m"])(e))return void e.forEach((e,a)=>Qr(e,t&&(Object(o["m"])(t)?t[a]:t),r,n,i));if($t(n)&&!i)return;const a=4&n.shapeFlag?n.component.exposed||n.component.proxy:n.el,s=i?null:a,{i:l,r:c}=e;const u=t&&t.r,d=l.refs===o["b"]?l.refs={}:l.refs,p=l.setupState;if(null!=u&&u!==c&&(Object(o["B"])(u)?(d[u]=null,Object(o["j"])(p,u)&&(p[u]=null)):Se(u)&&(u.value=null)),Object(o["B"])(c)){const e=()=>{d[c]=s,Object(o["j"])(p,c)&&(p[c]=s)};s?(e.id=-1,Xr(e,r)):e()}else if(Se(c)){const e=()=>{c.value=s};s?(e.id=-1,Xr(e,r)):e()}else Object(o["n"])(c)&&xe(c,l,12,[s,d])};function eo(e){return to(e)}function to(e,t){Kr();const{insert:r,remove:n,patchProp:i,forcePatchProp:a,createElement:s,createText:l,createComment:c,setText:p,setElementText:h,parentNode:f,nextSibling:g,setScopeId:m=o["d"],cloneNode:b,insertStaticContent:E}=e,O=(e,t,r,o=null,n=null,i=null,a=!1,s=null,l=!1)=>{e&&!Po(e,t)&&(o=$(e),z(e,n,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case So:y(e,t,r,o);break;case To:S(e,t,r,o);break;case Co:null==e&&T(t,r,o,a);break;case yo:P(e,t,r,o,n,i,a,s,l);break;default:1&d?k(e,t,r,o,n,i,a,s,l):6&d?w(e,t,r,o,n,i,a,s,l):(64&d||128&d)&&c.process(e,t,r,o,n,i,a,s,l,J)}null!=u&&n&&Qr(u,e&&e.ref,i,t||e,!t)},y=(e,t,o,n)=>{if(null==e)r(t.el=l(t.children),o,n);else{const r=t.el=e.el;t.children!==e.children&&p(r,t.children)}},S=(e,t,o,n)=>{null==e?r(t.el=c(t.children||""),o,n):t.el=e.el},T=(e,t,r,o)=>{[e.el,e.anchor]=E(e.children,t,r,o)},C=({el:e,anchor:t},o,n)=>{let i;while(e&&e!==t)i=g(e),r(e,o,n),e=i;r(t,o,n)},R=({el:e,anchor:t})=>{let r;while(e&&e!==t)r=g(e),n(e),e=r;n(t)},k=(e,t,r,o,n,i,a,s,l)=>{a=a||"svg"===t.type,null==e?I(t,r,o,n,i,a,s,l):M(e,t,n,i,a,s,l)},I=(e,t,n,a,l,c,u,d)=>{let p,f;const{type:g,props:m,shapeFlag:v,transition:_,patchFlag:E,dirs:O}=e;if(e.el&&void 0!==b&&-1===E)p=e.el=b(e.el);else{if(p=e.el=s(e.type,c,m&&m.is,m),8&v?h(p,e.children):16&v&&L(e.children,p,null,a,l,c&&"foreignObject"!==g,u,d||!!e.dynamicChildren),O&&Fr(e,null,a,"created"),m){for(const t in m)Object(o["x"])(t)||i(p,t,null,m[t],c,e.children,a,l,Y);(f=m.onVnodeBeforeMount)&&ro(f,a,e)}j(p,e,e.scopeId,u,a)}O&&Fr(e,null,a,"beforeMount");const y=(!l||l&&!l.pendingBranch)&&_&&!_.persisted;y&&_.beforeEnter(p),r(p,t,n),((f=m&&m.onVnodeMounted)||y||O)&&Xr(()=>{f&&ro(f,a,e),y&&_.enter(p),O&&Fr(e,null,a,"mounted")},l)},j=(e,t,r,o,n)=>{if(r&&m(e,r),o)for(let i=0;i<o.length;i++)m(e,o[i]);if(n){let r=n.subTree;if(t===r){const t=n.vnode;j(e,t,t.scopeId,t.slotScopeIds,n.parent)}}},L=(e,t,r,o,n,i,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?zo(e[c]):Vo(e[c]);O(null,l,t,r,o,n,i,a,s)}},M=(e,t,r,n,s,l,c)=>{const u=t.el=e.el;let{patchFlag:d,dynamicChildren:p,dirs:f}=t;d|=16&e.patchFlag;const g=e.props||o["b"],m=t.props||o["b"];let v;if((v=m.onVnodeBeforeUpdate)&&ro(v,r,t,e),f&&Fr(t,e,r,"beforeUpdate"),d>0){if(16&d)A(u,t,g,m,r,n,s);else if(2&d&&g.class!==m.class&&i(u,"class",null,m.class,s),4&d&&i(u,"style",g.style,m.style,s),8&d){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const l=o[t],c=g[l],d=m[l];(d!==c||a&&a(u,l))&&i(u,l,c,d,s,e.children,r,n,Y)}}1&d&&e.children!==t.children&&h(u,t.children)}else c||null!=p||A(u,t,g,m,r,n,s);const b=s&&"foreignObject"!==t.type;p?N(e.dynamicChildren,p,u,r,n,b,l):c||Z(e,t,u,null,r,n,b,l,!1),((v=m.onVnodeUpdated)||f)&&Xr(()=>{v&&ro(v,r,t,e),f&&Fr(t,e,r,"updated")},n)},N=(e,t,r,o,n,i,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===yo||!Po(l,c)||6&l.shapeFlag||64&l.shapeFlag)?f(l.el):r;O(l,c,u,null,o,n,i,a,!0)}},A=(e,t,r,n,s,l,c)=>{if(r!==n){for(const u in n){if(Object(o["x"])(u))continue;const d=n[u],p=r[u];(d!==p||a&&a(e,u))&&i(e,u,p,d,c,t.children,s,l,Y)}if(r!==o["b"])for(const a in r)Object(o["x"])(a)||a in n||i(e,a,r[a],null,c,t.children,s,l,Y)}},P=(e,t,o,n,i,a,s,c,u)=>{const d=t.el=e?e.el:l(""),p=t.anchor=e?e.anchor:l("");let{patchFlag:h,dynamicChildren:f,slotScopeIds:g}=t;f&&(u=!0),g&&(c=c?c.concat(g):g),null==e?(r(d,o,n),r(p,o,n),L(t.children,o,p,i,a,s,c,u)):h>0&&64&h&&f&&e.dynamicChildren?(N(e.dynamicChildren,f,o,i,a,s,c),(null!=t.key||i&&t===i.subTree)&&oo(e,t,!0)):Z(e,t,o,p,i,a,s,c,u)},w=(e,t,r,o,n,i,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?n.ctx.activate(t,r,o,a,l):x(t,r,o,n,i,a,l):D(e,t,l)},x=(e,t,r,o,n,i,a)=>{const s=e.component=nn(e,o,n);if(Kt(e)&&(s.ctx.renderer=J),pn(s),s.asyncDep){if(n&&n.registerDep(s,U),!e.el){const e=s.subTree=Uo(To);S(null,e,t,r)}}else U(s,e,t,r,n,i,a)},D=(e,t,r)=>{const o=t.component=e.component;if(Tt(e,t,r)){if(o.asyncDep&&!o.asyncResolved)return void B(o,t,r);o.next=t,ot(o.update),o.update()}else t.component=e.component,t.el=e.el,o.vnode=t},U=(e,t,r,n,i,a,s)=>{e.update=u((function(){if(e.isMounted){let t,{next:r,bu:n,u:l,parent:c,vnode:u}=e,d=r;0,r?(r.el=u.el,B(e,r,s)):r=u,n&&Object(o["l"])(n),(t=r.props&&r.props.onVnodeBeforeUpdate)&&ro(t,c,r,u);const p=Ot(e);0;const h=e.subTree;e.subTree=p,O(h,p,f(h.el),$(h),e,i,a),r.el=p.el,null===d&&Rt(e,p.el),l&&Xr(l,i),(t=r.props&&r.props.onVnodeUpdated)&&Xr(()=>ro(t,c,r,u),i)}else{let s;const{el:l,props:c}=t,{bm:u,m:d,parent:p}=e;if(u&&Object(o["l"])(u),(s=c&&c.onVnodeBeforeMount)&&ro(s,p,t),l&&Q){const r=()=>{e.subTree=Ot(e),Q(l,e.subTree,e,i,null)};$t(t)?t.type.__asyncLoader().then(()=>!e.isUnmounted&&r()):r()}else{0;const o=e.subTree=Ot(e);0,O(null,o,r,n,e,i,a),t.el=o.el}if(d&&Xr(d,i),s=c&&c.onVnodeMounted){const e=t;Xr(()=>ro(s,p,e),i)}256&t.shapeFlag&&e.a&&Xr(e.a,i),e.isMounted=!0,t=r=n=null}}),Jr)},B=(e,t,r)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,Lr(e,t.props,o,r),zr(e,t.children,r),v(),st(void 0,e.update),_()},Z=(e,t,r,o,n,i,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void G(c,d,r,o,n,i,a,s,l);if(256&p)return void H(c,d,r,o,n,i,a,s,l)}8&f?(16&u&&Y(c,n,i),d!==c&&h(r,d)):16&u?16&f?G(c,d,r,o,n,i,a,s,l):Y(c,n,i,!0):(8&u&&h(r,""),16&f&&L(d,r,o,n,i,a,s,l))},H=(e,t,r,n,i,a,s,l,c)=>{e=e||o["a"],t=t||o["a"];const u=e.length,d=t.length,p=Math.min(u,d);let h;for(h=0;h<p;h++){const o=t[h]=c?zo(t[h]):Vo(t[h]);O(e[h],o,r,null,i,a,s,l,c)}u>d?Y(e,i,a,!0,!1,p):L(t,r,n,i,a,s,l,c,p)},G=(e,t,r,n,i,a,s,l,c)=>{let u=0;const d=t.length;let p=e.length-1,h=d-1;while(u<=p&&u<=h){const o=e[u],n=t[u]=c?zo(t[u]):Vo(t[u]);if(!Po(o,n))break;O(o,n,r,null,i,a,s,l,c),u++}while(u<=p&&u<=h){const o=e[p],n=t[h]=c?zo(t[h]):Vo(t[h]);if(!Po(o,n))break;O(o,n,r,null,i,a,s,l,c),p--,h--}if(u>p){if(u<=h){const e=h+1,o=e<d?t[e].el:n;while(u<=h)O(null,t[u]=c?zo(t[u]):Vo(t[u]),r,o,i,a,s,l,c),u++}}else if(u>h)while(u<=p)z(e[u],i,a,!0),u++;else{const f=u,g=u,m=new Map;for(u=g;u<=h;u++){const e=t[u]=c?zo(t[u]):Vo(t[u]);null!=e.key&&m.set(e.key,u)}let v,b=0;const _=h-g+1;let E=!1,y=0;const S=new Array(_);for(u=0;u<_;u++)S[u]=0;for(u=f;u<=p;u++){const o=e[u];if(b>=_){z(o,i,a,!0);continue}let n;if(null!=o.key)n=m.get(o.key);else for(v=g;v<=h;v++)if(0===S[v-g]&&Po(o,t[v])){n=v;break}void 0===n?z(o,i,a,!0):(S[n-g]=u+1,n>=y?y=n:E=!0,O(o,t[n],r,null,i,a,s,l,c),b++)}const T=E?no(S):o["a"];for(v=T.length-1,u=_-1;u>=0;u--){const e=g+u,o=t[e],p=e+1<d?t[e+1].el:n;0===S[u]?O(null,o,r,p,i,a,s,l,c):E&&(v<0||u!==T[v]?V(o,r,p,2):v--)}}},V=(e,t,o,n,i=null)=>{const{el:a,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void V(e.component.subTree,t,o,n);if(128&u)return void e.suspense.move(t,o,n);if(64&u)return void s.move(e,t,o,J);if(s===yo){r(a,t,o);for(let e=0;e<c.length;e++)V(c[e],t,o,n);return void r(e.anchor,t,o)}if(s===Co)return void C(e,t,o);const d=2!==n&&1&u&&l;if(d)if(0===n)l.beforeEnter(a),r(a,t,o),Xr(()=>l.enter(a),i);else{const{leave:e,delayLeave:n,afterLeave:i}=l,s=()=>r(a,t,o),c=()=>{e(a,()=>{s(),i&&i()})};n?n(a,s,c):c()}else r(a,t,o)},z=(e,t,r,o=!1,n=!1)=>{const{type:i,props:a,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:p}=e;if(null!=s&&Qr(s,null,r,e,!0),256&u)return void t.ctx.deactivate(e);const h=1&u&&p;let f;if((f=a&&a.onVnodeBeforeUnmount)&&ro(f,t,e),6&u)q(e.component,r,o);else{if(128&u)return void e.suspense.unmount(r,o);h&&Fr(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,n,J,o):c&&(i!==yo||d>0&&64&d)?Y(c,t,r,!1,!0):(i===yo&&(128&d||256&d)||!n&&16&u)&&Y(l,t,r),o&&W(e)}((f=a&&a.onVnodeUnmounted)||h)&&Xr(()=>{f&&ro(f,t,e),h&&Fr(e,null,t,"unmounted")},r)},W=e=>{const{type:t,el:r,anchor:o,transition:i}=e;if(t===yo)return void F(r,o);if(t===Co)return void R(e);const a=()=>{n(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:o}=i,n=()=>t(r,a);o?o(e.el,a,n):n()}else a()},F=(e,t)=>{let r;while(e!==t)r=g(e),n(e),e=r;n(t)},q=(e,t,r)=>{const{bum:n,effects:i,update:a,subTree:s,um:l}=e;if(n&&Object(o["l"])(n),i)for(let o=0;o<i.length;o++)d(i[o]);a&&(d(a),z(s,e,t,r)),l&&Xr(l,t),Xr(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Y=(e,t,r,o=!1,n=!1,i=0)=>{for(let a=i;a<e.length;a++)z(e[a],t,r,o,n)},$=e=>6&e.shapeFlag?$(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el),K=(e,t,r)=>{null==e?t._vnode&&z(t._vnode,null,null,!0):O(t._vnode||null,e,t,null,null,null,r),lt(),t._vnode=e},J={p:O,um:z,m:V,r:W,mt:x,mc:L,pc:Z,pbc:N,n:$,o:e};let X,Q;return t&&([X,Q]=t(J)),{render:K,hydrate:X,createApp:$r(K,X)}}function ro(e,t,r,o=null){De(e,t,7,[r,o])}function oo(e,t,r=!1){const n=e.children,i=t.children;if(Object(o["m"])(n)&&Object(o["m"])(i))for(let o=0;o<n.length;o++){const e=n[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=zo(i[o]),t.el=e.el),r||oo(e,t))}}function no(e){const t=e.slice(),r=[0];let o,n,i,a,s;const l=e.length;for(o=0;o<l;o++){const l=e[o];if(0!==l){if(n=r[r.length-1],e[n]<l){t[o]=n,r.push(o);continue}i=0,a=r.length-1;while(i<a)s=(i+a)/2|0,e[r[s]]<l?i=s+1:a=s;l<e[r[i]]&&(i>0&&(t[o]=r[i-1]),r[i]=o)}}i=r.length,a=r[i-1];while(i-- >0)r[i]=a,a=t[a];return r}const io=e=>e.__isTeleport,ao=e=>e&&(e.disabled||""===e.disabled),so=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,lo=(e,t)=>{const r=e&&e.to;if(Object(o["B"])(r)){if(t){const e=t(r);return e}return null}return r},co={__isTeleport:!0,process(e,t,r,o,n,i,a,s,l,c){const{mc:u,pc:d,pbc:p,o:{insert:h,querySelector:f,createText:g,createComment:m}}=c,v=ao(t.props);let{shapeFlag:b,children:_,dynamicChildren:E}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");h(e,r,o),h(c,r,o);const d=t.target=lo(t.props,f),p=t.targetAnchor=g("");d&&(h(p,d),a=a||so(d));const m=(e,t)=>{16&b&&u(_,e,t,n,i,a,s,l)};v?m(r,c):d&&m(d,p)}else{t.el=e.el;const o=t.anchor=e.anchor,u=t.target=e.target,h=t.targetAnchor=e.targetAnchor,g=ao(e.props),m=g?r:u,b=g?o:h;if(a=a||so(u),E?(p(e.dynamicChildren,E,m,n,i,a,s),oo(e,t,!0)):l||d(e,t,m,b,n,i,a,s,!1),v)g||uo(t,r,o,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=lo(t.props,f);e&&uo(t,e,null,c,0)}else g&&uo(t,u,h,c,1)}},remove(e,t,r,o,{um:n,o:{remove:i}},a){const{shapeFlag:s,children:l,anchor:c,targetAnchor:u,target:d,props:p}=e;if(d&&i(u),(a||!ao(p))&&(i(c),16&s))for(let h=0;h<l.length;h++){const e=l[h];n(e,t,r,!0,!!e.dynamicChildren)}},move:uo,hydrate:po};function uo(e,t,r,{o:{insert:o},m:n},i=2){0===i&&o(e.targetAnchor,t,r);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=e,d=2===i;if(d&&o(a,t,r),(!d||ao(u))&&16&l)for(let p=0;p<c.length;p++)n(c[p],t,r,2);d&&o(s,t,r)}function po(e,t,r,o,n,i,{o:{nextSibling:a,parentNode:s,querySelector:l}},c){const u=t.target=lo(t.props,l);if(u){const l=u._lpa||u.firstChild;16&t.shapeFlag&&(ao(t.props)?(t.anchor=c(a(e),t,s(e),r,o,n,i),t.targetAnchor=l):(t.anchor=a(e),t.targetAnchor=c(l,t,u,r,o,n,i)),u._lpa=t.targetAnchor&&a(t.targetAnchor))}return t.anchor&&a(t.anchor)}const ho=co,fo="components",go="directives";function mo(e,t){return Eo(fo,e,!0,t)||e}const vo=Symbol();function bo(e){return Object(o["B"])(e)?Eo(fo,e,!1)||e:e||vo}function _o(e){return Eo(go,e)}function Eo(e,t,r=!0,n=!1){const i=ft||an;if(i){const r=i.type;if(e===fo){const e=bn(r);if(e&&(e===t||e===Object(o["e"])(t)||e===Object(o["f"])(Object(o["e"])(t))))return r}const a=Oo(i[e]||r[e],t)||Oo(i.appContext[e],t);return!a&&n?r:a}}function Oo(e,t){return e&&(e[t]||e[Object(o["e"])(t)]||e[Object(o["f"])(Object(o["e"])(t))])}const yo=Symbol(void 0),So=Symbol(void 0),To=Symbol(void 0),Co=Symbol(void 0),Ro=[];let ko=null;function Io(e=!1){Ro.push(ko=e?null:[])}function jo(){Ro.pop(),ko=Ro[Ro.length-1]||null}let Lo=1;function Mo(e){Lo+=e}function No(e,t,r,n,i){const a=Uo(e,t,r,n,i,!0);return a.dynamicChildren=Lo>0?ko||o["a"]:null,jo(),Lo>0&&ko&&ko.push(a),a}function Ao(e){return!!e&&!0===e.__v_isVNode}function Po(e,t){return e.type===t.type&&e.key===t.key}const wo="__vInternal",xo=({key:e})=>null!=e?e:null,Do=({ref:e})=>null!=e?Object(o["B"])(e)||Se(e)||Object(o["n"])(e)?{i:ft,r:e}:e:null,Uo=Bo;function Bo(e,t=null,r=null,n=0,i=null,a=!1){if(e&&e!==vo||(e=To),Ao(e)){const o=Zo(e,t,!0);return r&&Wo(o,r),o}if(_n(e)&&(e=e.__vccOpts),t){(Ee(t)||wo in t)&&(t=Object(o["h"])({},t));let{class:e,style:r}=t;e&&!Object(o["B"])(e)&&(t.class=Object(o["G"])(e)),Object(o["t"])(r)&&(Ee(r)&&!Object(o["m"])(r)&&(r=Object(o["h"])({},r)),t.style=Object(o["H"])(r))}const s=Object(o["B"])(e)?1:kt(e)?128:io(e)?64:Object(o["t"])(e)?4:Object(o["n"])(e)?2:0;const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xo(t),ref:t&&Do(t),scopeId:gt,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return Wo(l,r),128&s&&e.normalize(l),Lo>0&&!a&&ko&&(n>0||6&s)&&32!==n&&ko.push(l),l}function Zo(e,t,r=!1){const{props:n,ref:i,patchFlag:a,children:s}=e,l=t?Fo(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&xo(l),ref:t&&t.ref?r&&i?Object(o["m"])(i)?i.concat(Do(t)):[i,Do(t)]:Do(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==yo?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zo(e.ssContent),ssFallback:e.ssFallback&&Zo(e.ssFallback),el:e.el,anchor:e.anchor};return c}function Ho(e=" ",t=0){return Uo(So,null,e,t)}function Go(e="",t=!1){return t?(Io(),No(To,null,e)):Uo(To,null,e)}function Vo(e){return null==e||"boolean"===typeof e?Uo(To):Object(o["m"])(e)?Uo(yo,null,e.slice()):"object"===typeof e?zo(e):Uo(So,null,String(e))}function zo(e){return null===e.el?e:Zo(e)}function Wo(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(Object(o["m"])(t))r=16;else if("object"===typeof t){if(1&n||64&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),Wo(e,r()),r._c&&(r._d=!0)))}{r=32;const o=t._;o||wo in t?3===o&&ft&&(1===ft.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=ft}}else Object(o["n"])(t)?(t={default:t,_ctx:ft},r=32):(t=String(t),64&n?(r=16,t=[Ho(t)]):r=8);e.children=t,e.shapeFlag|=r}function Fo(...e){const t=Object(o["h"])({},e[0]);for(let r=1;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=Object(o["G"])([t.class,n.class]));else if("style"===e)t.style=Object(o["H"])([t.style,n.style]);else if(Object(o["u"])(e)){const r=t[e],o=n[e];r!==o&&(t[e]=r?[].concat(r,o):o)}else""!==e&&(t[e]=n[e])}return t}function qo(e,t){let r;if(Object(o["m"])(e)||Object(o["B"])(e)){r=new Array(e.length);for(let o=0,n=e.length;o<n;o++)r[o]=t(e[o],o)}else if("number"===typeof e){0,r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o)}else if(Object(o["t"])(e))if(e[Symbol.iterator])r=Array.from(e,t);else{const o=Object.keys(e);r=new Array(o.length);for(let n=0,i=o.length;n<i;n++){const i=o[n];r[n]=t(e[i],i,n)}}else r=[];return r}function Yo(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Object(o["m"])(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.fn)}return e}function $o(e,t,r={},o,n){let i=e[t];i&&i._c&&(i._d=!1),Io();const a=i&&Ko(i(r)),s=No(yo,{key:r.key||"_"+t},a||(o?o():[]),a&&1===e._?64:-2);return!n&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function Ko(e){return e.some(e=>!Ao(e)||e.type!==To&&!(e.type===yo&&!Ko(e.children)))?e:null}function Jo(e){const t={};for(const r in e)t[Object(o["K"])(r)]=e[r];return t}const Xo=e=>e?cn(e)?e.exposed?e.exposed:e.proxy:Xo(e.parent):null,Qo=Object(o["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xo(e.parent),$root:e=>Xo(e.root),$emit:e=>e.emit,$options:e=>Or(e),$forceUpdate:e=>()=>tt(e.update),$nextTick:e=>Qe.bind(e.proxy),$watch:e=>wt.bind(e)}),en={get({_:e},t){const{ctx:r,setupState:n,data:i,props:a,accessCache:s,type:l,appContext:c}=e;if("__v_skip"===t)return!0;let u;if("$"!==t[0]){const l=s[t];if(void 0!==l)switch(l){case 0:return n[t];case 1:return i[t];case 3:return r[t];case 2:return a[t]}else{if(n!==o["b"]&&Object(o["j"])(n,t))return s[t]=0,n[t];if(i!==o["b"]&&Object(o["j"])(i,t))return s[t]=1,i[t];if((u=e.propsOptions[0])&&Object(o["j"])(u,t))return s[t]=2,a[t];if(r!==o["b"]&&Object(o["j"])(r,t))return s[t]=3,r[t];mr&&(s[t]=4)}}const d=Qo[t];let p,h;return d?("$attrs"===t&&E(e,"get",t),d(e)):(p=l.__cssModules)&&(p=p[t])?p:r!==o["b"]&&Object(o["j"])(r,t)?(s[t]=3,r[t]):(h=c.config.globalProperties,Object(o["j"])(h,t)?h[t]:void 0)},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;if(i!==o["b"]&&Object(o["j"])(i,t))i[t]=r;else if(n!==o["b"]&&Object(o["j"])(n,t))n[t]=r;else if(Object(o["j"])(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},s){let l;return void 0!==r[s]||e!==o["b"]&&Object(o["j"])(e,s)||t!==o["b"]&&Object(o["j"])(t,s)||(l=a[0])&&Object(o["j"])(l,s)||Object(o["j"])(n,s)||Object(o["j"])(Qo,s)||Object(o["j"])(i.config.globalProperties,s)}};const tn=Object(o["h"])({},en,{get(e,t){if(t!==Symbol.unscopables)return en.get(e,t,e)},has(e,t){const r="_"!==t[0]&&!Object(o["o"])(t);return r}});const rn=qr();let on=0;function nn(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||rn,a={uid:on++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ar(n,i),emitsOptions:pt(n,i),emit:null,emitted:null,propsDefaults:o["b"],inheritAttrs:n.inheritAttrs,ctx:o["b"],data:o["b"],props:o["b"],attrs:o["b"],slots:o["b"],refs:o["b"],setupState:o["b"],setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=dt.bind(null,a),a}let an=null;const sn=()=>an||ft,ln=e=>{an=e};function cn(e){return 4&e.vnode.shapeFlag}let un,dn=!1;function pn(e,t=!1){dn=t;const{props:r,children:o}=e.vnode,n=cn(e);jr(e,r,n,t),Vr(e,o);const i=n?hn(e,t):void 0;return dn=!1,i}function hn(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,en);const{setup:n}=r;if(n){const r=e.setupContext=n.length>1?mn(e):null;an=e,v();const i=xe(n,e,0,[e.props,r]);if(_(),an=null,Object(o["w"])(i)){if(t)return i.then(r=>{fn(e,r,t)}).catch(t=>{Ue(t,e,0)});e.asyncDep=i}else fn(e,i,t)}else gn(e,t)}function fn(e,t,r){Object(o["n"])(t)?e.render=t:Object(o["t"])(t)&&(e.setupState=Le(t)),gn(e,r)}function gn(e,t,r){const n=e.type;if(!e.render){if(un&&!n.render){const t=n.template;if(t){0;const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:s}=n,l=Object(o["h"])(Object(o["h"])({isCustomElement:r,delimiters:a},i),s);n.render=un(t,l)}}e.render=n.render||o["d"],e.render._rc&&(e.withProxy=new Proxy(e.ctx,tn))}an=e,v(),vr(e),_(),an=null}function mn(e){const t=t=>{e.exposed=Le(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}function vn(e,t=an){t&&(t.effects||(t.effects=[])).push(e)}function bn(e){return Object(o["n"])(e)&&e.displayName||e.name}function _n(e){return Object(o["n"])(e)&&"__vccOpts"in e}function En(e){const t=we(e);return vn(t.effect),t}function On(e,t,r){const n=arguments.length;return 2===n?Object(o["t"])(t)&&!Object(o["m"])(t)?Ao(t)?Uo(e,null,[t]):Uo(e,t):Uo(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&Ao(r)&&(r=[r]),Uo(e,t,r))}Symbol("");const yn="3.1.1",Sn="http://www.w3.org/2000/svg",Tn="undefined"!==typeof document?document:null;let Cn,Rn;const kn={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,o)=>{const n=t?Tn.createElementNS(Sn,e):Tn.createElement(e,r?{is:r}:void 0);return"select"===e&&o&&null!=o.multiple&&n.setAttribute("multiple",o.multiple),n},createText:e=>Tn.createTextNode(e),createComment:e=>Tn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Tn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,o){const n=o?Rn||(Rn=Tn.createElementNS(Sn,"svg")):Cn||(Cn=Tn.createElement("div"));n.innerHTML=e;const i=n.firstChild;let a=i,s=a;while(a)s=a,kn.insert(a,t,r),a=n.firstChild;return[i,s]}};function In(e,t,r){if(null==t&&(t=""),r)e.setAttribute("class",t);else{const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),e.className=t}}function jn(e,t,r){const n=e.style;if(r)if(Object(o["B"])(r)){if(t!==r){const t=n.display;n.cssText=r,"_vod"in e&&(n.display=t)}}else{for(const e in r)Mn(n,e,r[e]);if(t&&!Object(o["B"])(t))for(const e in t)null==r[e]&&Mn(n,e,"")}else e.removeAttribute("style")}const Ln=/\s*!important$/;function Mn(e,t,r){if(Object(o["m"])(r))r.forEach(r=>Mn(e,t,r));else if(t.startsWith("--"))e.setProperty(t,r);else{const n=Pn(e,t);Ln.test(r)?e.setProperty(Object(o["k"])(n),r.replace(Ln,""),"important"):e[n]=r}}const Nn=["Webkit","Moz","ms"],An={};function Pn(e,t){const r=An[t];if(r)return r;let n=Object(o["e"])(t);if("filter"!==n&&n in e)return An[t]=n;n=Object(o["f"])(n);for(let o=0;o<Nn.length;o++){const r=Nn[o]+n;if(r in e)return An[t]=r}return t}const wn="http://www.w3.org/1999/xlink";function xn(e,t,r,n,i){if(n&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(wn,t.slice(6,t.length)):e.setAttributeNS(wn,t,r);else{const n=Object(o["A"])(t);null==r||n&&!1===r?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}function Dn(e,t,r,o,n,i,a){if("innerHTML"===t||"textContent"===t)return o&&a(o,n,i),void(e[t]=null==r?"":r);if("value"===t&&"PROGRESS"!==e.tagName){e._value=r;const o=null==r?"":r;return e.value!==o&&(e.value=o),void(null==r&&e.removeAttribute(t))}if(""===r||null==r){const o=typeof e[t];if(""===r&&"boolean"===o)return void(e[t]=!0);if(null==r&&"string"===o)return e[t]="",void e.removeAttribute(t);if("number"===o)return e[t]=0,void e.removeAttribute(t)}try{e[t]=r}catch(s){0}}let Un=Date.now,Bn=!1;if("undefined"!==typeof window){Un()>document.createEvent("Event").timeStamp&&(Un=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Bn=!!(e&&Number(e[1])<=53)}let Zn=0;const Hn=Promise.resolve(),Gn=()=>{Zn=0},Vn=()=>Zn||(Hn.then(Gn),Zn=Un());function zn(e,t,r,o){e.addEventListener(t,r,o)}function Wn(e,t,r,o){e.removeEventListener(t,r,o)}function Fn(e,t,r,o,n=null){const i=e._vei||(e._vei={}),a=i[t];if(o&&a)a.value=o;else{const[r,s]=Yn(t);if(o){const a=i[t]=$n(o,n);zn(e,r,a,s)}else a&&(Wn(e,r,a,s),i[t]=void 0)}}const qn=/(?:Once|Passive|Capture)$/;function Yn(e){let t;if(qn.test(e)){let r;t={};while(r=e.match(qn))e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[Object(o["k"])(e.slice(2)),t]}function $n(e,t){const r=e=>{const o=e.timeStamp||Un();(Bn||o>=r.attached-1)&&De(Kn(e,r.value),t,5,[e])};return r.value=e,r.attached=Vn(),r}function Kn(e,t){if(Object(o["m"])(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e(t))}return t}const Jn=/^on[a-z]/,Xn=(e,t)=>"value"===t,Qn=(e,t,r,n,i=!1,a,s,l,c)=>{switch(t){case"class":In(e,n,i);break;case"style":jn(e,r,n);break;default:Object(o["u"])(t)?Object(o["s"])(t)||Fn(e,t,r,n,s):ei(e,t,n,i)?Dn(e,t,n,a,s,l,c):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),xn(e,t,n,i));break}};function ei(e,t,r,n){return n?"innerHTML"===t||!!(t in e&&Jn.test(t)&&Object(o["n"])(r)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!Jn.test(t)||!Object(o["B"])(r))&&t in e))))}const ti="transition",ri="animation",oi=(e,{slots:t})=>On(Ht,li(e),t);oi.displayName="Transition";const ni={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ii=oi.props=Object(o["h"])({},Ht.props,ni),ai=(e,t=[])=>{Object(o["m"])(e)?e.forEach(e=>e(...t)):e&&e(...t)},si=e=>!!e&&(Object(o["m"])(e)?e.some(e=>e.length>1):e.length>1);function li(e){const t={};for(const o in e)o in ni||(t[o]=e[o]);if(!1===e.css)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=r+"-enter-from",enterActiveClass:s=r+"-enter-active",enterToClass:l=r+"-enter-to",appearFromClass:c=a,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:p=r+"-leave-from",leaveActiveClass:h=r+"-leave-active",leaveToClass:f=r+"-leave-to"}=e,g=ci(i),m=g&&g[0],v=g&&g[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:E,onLeave:O,onLeaveCancelled:y,onBeforeAppear:S=b,onAppear:T=_,onAppearCancelled:C=E}=t,R=(e,t,r)=>{pi(e,t?d:l),pi(e,t?u:s),r&&r()},k=(e,t)=>{pi(e,f),pi(e,h),t&&t()},I=e=>(t,r)=>{const o=e?T:_,i=()=>R(t,e,r);ai(o,[t,i]),hi(()=>{pi(t,e?c:a),di(t,e?d:l),si(o)||gi(t,n,m,i)})};return Object(o["h"])(t,{onBeforeEnter(e){ai(b,[e]),di(e,a),di(e,s)},onBeforeAppear(e){ai(S,[e]),di(e,c),di(e,u)},onEnter:I(!1),onAppear:I(!0),onLeave(e,t){const r=()=>k(e,t);di(e,p),_i(),di(e,h),hi(()=>{pi(e,p),di(e,f),si(O)||gi(e,n,v,r)}),ai(O,[e,r])},onEnterCancelled(e){R(e,!1),ai(E,[e])},onAppearCancelled(e){R(e,!0),ai(C,[e])},onLeaveCancelled(e){k(e),ai(y,[e])}})}function ci(e){if(null==e)return null;if(Object(o["t"])(e))return[ui(e.enter),ui(e.leave)];{const t=ui(e);return[t,t]}}function ui(e){const t=Object(o["L"])(e);return t}function di(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function pi(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function hi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let fi=0;function gi(e,t,r,o){const n=e._endId=++fi,i=()=>{n===e._endId&&o()};if(r)return setTimeout(i,r);const{type:a,timeout:s,propCount:l}=mi(e,t);if(!a)return o();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,p),i()},p=t=>{t.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},s+1),e.addEventListener(c,p)}function mi(e,t){const r=window.getComputedStyle(e),o=e=>(r[e]||"").split(", "),n=o(ti+"Delay"),i=o(ti+"Duration"),a=vi(n,i),s=o(ri+"Delay"),l=o(ri+"Duration"),c=vi(s,l);let u=null,d=0,p=0;t===ti?a>0&&(u=ti,d=a,p=i.length):t===ri?c>0&&(u=ri,d=c,p=l.length):(d=Math.max(a,c),u=d>0?a>c?ti:ri:null,p=u?u===ti?i.length:l.length:0);const h=u===ti&&/\b(transform|all)(,|$)/.test(r[ti+"Property"]);return{type:u,timeout:d,propCount:p,hasTransform:h}}function vi(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,r)=>bi(t)+bi(e[r])))}function bi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function _i(){return document.body.offsetHeight}const Ei=new WeakMap,Oi=new WeakMap,yi={name:"TransitionGroup",props:Object(o["h"])({},ii,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=sn(),o=Ut();let n,i;return cr(()=>{if(!n.length)return;const t=e.moveClass||(e.name||"v")+"-move";if(!ki(n[0].el,r.vnode.el,t))return;n.forEach(Ti),n.forEach(Ci);const o=n.filter(Ri);_i(),o.forEach(e=>{const r=e.el,o=r.style;di(r,t),o.transform=o.webkitTransform=o.transitionDuration="";const n=r._moveCb=e=>{e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener("transitionend",n),r._moveCb=null,pi(r,t))};r.addEventListener("transitionend",n)})}),()=>{const a=Oe(e),s=li(a);let l=a.tag||yo;n=i,i=t.default?qt(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&Ft(t,Vt(t,s,o,r))}if(n)for(let e=0;e<n.length;e++){const t=n[e];Ft(t,Vt(t,s,o,r)),Ei.set(t,t.el.getBoundingClientRect())}return Uo(l,null,i)}}},Si=yi;function Ti(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Ci(e){Oi.set(e,e.el.getBoundingClientRect())}function Ri(e){const t=Ei.get(e),r=Oi.get(e),o=t.left-r.left,n=t.top-r.top;if(o||n){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${o}px,${n}px)`,t.transitionDuration="0s",e}}function ki(e,t,r){const o=e.cloneNode();e._vtc&&e._vtc.forEach(e=>{e.split(/\s+/).forEach(e=>e&&o.classList.remove(e))}),r.split(/\s+/).forEach(e=>e&&o.classList.add(e)),o.style.display="none";const n=1===t.nodeType?t:t.parentNode;n.appendChild(o);const{hasTransform:i}=mi(o);return n.removeChild(o),i}const Ii=e=>{const t=e.props["onUpdate:modelValue"];return Object(o["m"])(t)?e=>Object(o["l"])(t,e):t};function ji(e){e.target.composing=!0}function Li(e){const t=e.target;t.composing&&(t.composing=!1,Mi(t,"input"))}function Mi(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}const Ni={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=Ii(i);const a=n||"number"===e.type;zn(e,t?"change":"input",t=>{if(t.target.composing)return;let n=e.value;r?n=n.trim():a&&(n=Object(o["L"])(n)),e._assign(n)}),r&&zn(e,"change",()=>{e.value=e.value.trim()}),t||(zn(e,"compositionstart",ji),zn(e,"compositionend",Li),zn(e,"change",Li))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:r,number:n}},i){if(e._assign=Ii(i),e.composing)return;if(document.activeElement===e){if(r&&e.value.trim()===t)return;if((n||"number"===e.type)&&Object(o["L"])(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},Ai={created(e,t,r){e._assign=Ii(r),zn(e,"change",()=>{const t=e._modelValue,r=xi(e),n=e.checked,i=e._assign;if(Object(o["m"])(t)){const e=Object(o["E"])(t,r),a=-1!==e;if(n&&!a)i(t.concat(r));else if(!n&&a){const r=[...t];r.splice(e,1),i(r)}}else if(Object(o["z"])(t)){const e=new Set(t);n?e.add(r):e.delete(r),i(e)}else i(Di(e,n))})},mounted:Pi,beforeUpdate(e,t,r){e._assign=Ii(r),Pi(e,t,r)}};function Pi(e,{value:t,oldValue:r},n){e._modelValue=t,Object(o["m"])(t)?e.checked=Object(o["E"])(t,n.props.value)>-1:Object(o["z"])(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=Object(o["D"])(t,Di(e,!0)))}const wi={created(e,{value:t},r){e.checked=Object(o["D"])(t,r.props.value),e._assign=Ii(r),zn(e,"change",()=>{e._assign(xi(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e._assign=Ii(n),t!==r&&(e.checked=Object(o["D"])(t,n.props.value))}};function xi(e){return"_value"in e?e._value:e.value}function Di(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Ui=["ctrl","shift","alt","meta"],Bi={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ui.some(r=>e[r+"Key"]&&!t.includes(r))},Zi=(e,t)=>(r,...o)=>{for(let e=0;e<t.length;e++){const o=Bi[t[e]];if(o&&o(r,t))return}return e(r,...o)},Hi={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Gi=(e,t)=>r=>{if(!("key"in r))return;const n=Object(o["k"])(r.key);return t.some(e=>e===n||Hi[e]===n)?e(r):void 0},Vi={beforeMount(e,{value:t},{transition:r}){e._vod="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):zi(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:o}){!t!==!r&&(o?t?(o.beforeEnter(e),zi(e,!0),o.enter(e)):o.leave(e,()=>{zi(e,!1)}):zi(e,t))},beforeUnmount(e,{value:t}){zi(e,t)}};function zi(e,t){e.style.display=t?e._vod:"none"}const Wi=Object(o["h"])({patchProp:Qn,forcePatchProp:Xn},kn);let Fi;function qi(){return Fi||(Fi=eo(Wi))}const Yi=(...e)=>{qi().render(...e)},$i=(...e)=>{const t=qi().createApp(...e);const{mount:r}=t;return t.mount=e=>{const n=Ki(e);if(!n)return;const i=t._component;Object(o["n"])(i)||i.render||i.template||(i.template=n.innerHTML),n.innerHTML="";const a=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t};function Ki(e){if(Object(o["B"])(e)){const t=document.querySelector(e);return t}return e}},"7a77":function(e,t,r){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},"7a82":function(e,t,r){var o=r("23e7"),n=r("83ab"),i=r("9bf2");o({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperty:i.f})},"7aac":function(e,t,r){"use strict";var o=r("c532");e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,r,n,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),o.isString(n)&&s.push("path="+n),o.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(e,t,r){var o=r("1d80");e.exports=function(e){return Object(o(e))}},"7b3e":function(e,t,r){"use strict";var o,n=r("a3de");
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function i(e,t){if(!n.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,i=r in document;if(!i){var a=document.createElement("div");a.setAttribute(r,"return;"),i="function"===typeof a[r]}return!i&&o&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}n.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=i},"7c73":function(e,t,r){var o,n=r("825a"),i=r("37e8"),a=r("7839"),s=r("d012"),l=r("1be4"),c=r("cc12"),u=r("f772"),d=">",p="<",h="prototype",f="script",g=u("IE_PROTO"),m=function(){},v=function(e){return p+f+d+e+p+"/"+f+d},b=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=c("iframe"),r="java"+f+":";return t.style.display="none",l.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},E=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}E=o?b(o):_();var e=a.length;while(e--)delete E[h][a[e]];return E()};s[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[h]=n(e),r=new m,m[h]=null,r[g]=e):r=E(),void 0===t?r:i(r,t)}},"7dd0":function(e,t,r){"use strict";var o=r("23e7"),n=r("9ed3"),i=r("e163"),a=r("d2bb"),s=r("d44e"),l=r("9112"),c=r("6eeb"),u=r("b622"),d=r("c430"),p=r("3f8c"),h=r("ae93"),f=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v="keys",b="values",_="entries",E=function(){return this};e.exports=function(e,t,r,u,h,O,y){n(r,t,u);var S,T,C,R=function(e){if(e===h&&M)return M;if(!g&&e in j)return j[e];switch(e){case v:return function(){return new r(this,e)};case b:return function(){return new r(this,e)};case _:return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",I=!1,j=e.prototype,L=j[m]||j["@@iterator"]||h&&j[h],M=!g&&L||R(h),N="Array"==t&&j.entries||L;if(N&&(S=i(N.call(new e)),f!==Object.prototype&&S.next&&(d||i(S)===f||(a?a(S,f):"function"!=typeof S[m]&&l(S,m,E)),s(S,k,!0,!0),d&&(p[k]=E))),h==b&&L&&L.name!==b&&(I=!0,M=function(){return L.call(this)}),d&&!y||j[m]===M||l(j,m,M),p[t]=M,h)if(T={values:R(b),keys:O?M:R(v),entries:R(_)},y)for(C in T)(g||I||!(C in j))&&c(j,C,T[C]);else o({target:t,proto:!0,forced:g||I},T);return T}},"7dd6":function(e,t,r){},"7ea3":function(e,t){function r(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}e.exports=r},"7f9a":function(e,t,r){var o=r("da84"),n=r("8925"),i=o.WeakMap;e.exports="function"===typeof i&&/native code/.test(n(i))},"80b1":function(e,t,r){var o=r("4d5a"),n=r("665f"),i=r("5b92"),a=i&&i.isSet,s=a?n(a):o;e.exports=s},8155:function(e,t,r){var o=r("8735"),n=r("eb2d"),i=r("a077"),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(e){if("number"==typeof e)return e;if(i(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var r=l.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):s.test(e)?a:+e}e.exports=d},"825a":function(e,t,r){var o=r("861d");e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,r){var o=r("d039");e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,r){"use strict";var o=r("d925"),n=r("e683");e.exports=function(e,t){return e&&!o(t)?n(e,t):t}},8418:function(e,t,r){"use strict";var o=r("c04e"),n=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var a=o(t);a in e?n.f(e,a,i(0,r)):e[a]=r}},8455:function(e,t,r){var o=r("1fb1"),n=o.Uint8Array;e.exports=n},"85c3":function(e,t,r){var o=r("dc0c"),n=r("5903");function i(e){return null!=e&&n(e.length)&&!o(e)}e.exports=i},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},"868d":function(e,t,r){var o=r("d7fe"),n=o(Object.keys,Object);e.exports=n},"86ec":function(e,t,r){var o=r("da00"),n=r("1fb1"),i=o(n,"DataView");e.exports=i},8735:function(e,t,r){var o=r("2df0"),n=/^\s+/;function i(e){return e?e.slice(0,o(e)+1).replace(n,""):e}e.exports=i},8925:function(e,t,r){var o=r("c6cd"),n=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return n.call(e)}),e.exports=o.inspectSource},"8aa5":function(e,t,r){"use strict";var o=r("6547").charAt;e.exports=function(e,t,r){return t+(r?o(e,t).length:1)}},"8c5a":function(e,t,r){var o=r("d4cd");function n(e,t){var r=null==e?0:e.length;return!!r&&o(e,t,0)>-1}e.exports=n},"8d82":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t,r){t.prototype.dayOfYear=function(e){var t=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"day")}}}))},"8df4":function(e,t,r){"use strict";var o=r("7a77");function n(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new o(e),t(r.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e,t=new n((function(t){e=t}));return{token:t,cancel:e}},e.exports=n},"8eb7":function(e,t){var r,o,n,i,a,s,l,c,u,d,p,h,f,g,m,v=!1;function b(){if(!v){v=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),b=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),f=/\b(iP[ao]d)/.exec(e),d=/Android/i.exec(e),g=/FBAN\/\w+;/i.exec(e),m=/Mobile/i.exec(e),p=!!/Win64/.exec(e),t){r=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,r&&document&&document.documentMode&&(r=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(e);s=_?parseFloat(_[1])+4:r,o=t[2]?parseFloat(t[2]):NaN,n=t[3]?parseFloat(t[3]):NaN,i=t[4]?parseFloat(t[4]):NaN,i?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),a=t&&t[1]?parseFloat(t[1]):NaN):a=NaN}else r=o=n=a=i=NaN;if(b){if(b[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);l=!E||parseFloat(E[1].replace("_","."))}else l=!1;c=!!b[2],u=!!b[3]}else l=c=u=!1}}var _={ie:function(){return b()||r},ieCompatibilityMode:function(){return b()||s>r},ie64:function(){return _.ie()&&p},firefox:function(){return b()||o},opera:function(){return b()||n},webkit:function(){return b()||i},safari:function(){return _.webkit()},chrome:function(){return b()||a},windows:function(){return b()||c},osx:function(){return b()||l},linux:function(){return b()||u},iphone:function(){return b()||h},mobile:function(){return b()||h||f||d||m},nativeApp:function(){return b()||g},android:function(){return b()||d},ipad:function(){return b()||f}};e.exports=_},"8f19":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t,r){var o=t.prototype,n=o.format;r.en.ordinal=function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"},o.format=function(e){var t=this,r=this.$locale(),o=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return r.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return r.ordinal(t.week(),"W");case"w":case"ww":return o.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return o.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return o.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return n.bind(this)(i)}}}))},"906c":function(e,t,r){var o=r("da00"),n=r("1fb1"),i=o(n,"Map");e.exports=i},"90e3":function(e,t){var r=0,o=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+o).toString(36)}},"90f7":function(e,t,r){var o=r("5691"),n=r("95b8"),i=r("4c91"),a=r("0ab4"),s=r("4b8f"),l=r("f13a");function c(e){var t=this.__data__=new o(e);this.size=t.size}c.prototype.clear=n,c.prototype["delete"]=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},9112:function(e,t,r){var o=r("83ab"),n=r("9bf2"),i=r("5c6c");e.exports=o?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},9263:function(e,t,r){"use strict";var o=r("ad6d"),n=r("9f7f"),i=r("5692"),a=RegExp.prototype.exec,s=i("native-string-replace",String.prototype.replace),l=a,c=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=c||d||u;p&&(l=function(e){var t,r,n,i,l=this,p=u&&l.sticky,h=o.call(l),f=l.source,g=0,m=e;return p&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),m=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,g++),r=new RegExp("^(?:"+f+")",h)),d&&(r=new RegExp("^"+f+"$(?!\\s)",h)),c&&(t=l.lastIndex),n=a.call(p?r:l,m),p?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=l.lastIndex,l.lastIndex+=n[0].length):l.lastIndex=0:c&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),d&&n&&n.length>1&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=l},"92a4":function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},9339:function(e,t){var r=Object.prototype,o=r.hasOwnProperty;function n(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(r.index=e.index,r.input=e.input),r}e.exports=n},"93b9":function(e,t,r){var o=r("eb2d"),n=r("be5b"),i=r("7ea3"),a=Object.prototype,s=a.hasOwnProperty;function l(e){if(!o(e))return i(e);var t=n(e),r=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&r.push(a);return r}e.exports=l},"94ca":function(e,t,r){var o=r("d039"),n=/#|\.prototype\./,i=function(e,t){var r=s[a(e)];return r==c||r!=l&&("function"==typeof t?o(t):!!t)},a=i.normalize=function(e){return String(e).replace(n,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},"95b8":function(e,t,r){var o=r("5691");function n(){this.__data__=new o,this.size=0}e.exports=n},"96cf":function(e,t,r){var o=function(e){"use strict";var t,r=Object.prototype,o=r.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var n=t&&t.prototype instanceof m?t:m,i=Object.create(n.prototype),a=new j(o||[]);return i._invoke=C(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",g={};function m(){}function v(){}function b(){}var _={};_[i]=function(){return this};var E=Object.getPrototypeOf,O=E&&E(E(L([])));O&&O!==r&&o.call(O,i)&&(_=O);var y=b.prototype=m.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(n,i,a,s){var l=u(e[n],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var n;function i(e,o){function i(){return new t((function(t,n){r(e,o,t,n)}))}return n=n?n.then(i,i):i()}this._invoke=i}function C(e,t,r){var o=d;return function(n,i){if(o===h)throw new Error("Generator is already running");if(o===f){if("throw"===n)throw i;return M()}r.method=n,r.arg=i;while(1){var a=r.delegate;if(a){var s=R(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=u(e,t,r);if("normal"===l.type){if(o=r.done?f:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=f,r.method="throw",r.arg=l.arg)}}}function R(e,r){var o=e.iterator[r.method];if(o===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=u(o,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,g;var i=n.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){while(++n<e.length)if(o.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:M}}function M(){return{value:t,done:!0}}return v.prototype=y.constructor=b,b.constructor=v,v.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,r,o,n,i){void 0===i&&(i=Promise);var a=new T(c(t,r,o,n),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(y),l(y,s,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(o,n){return s.type="throw",s.arg=e,r.next=o,n&&(r.method="next",r.arg=t),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;I(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,o){return this.delegate={iterator:L(e),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=o}catch(n){Function("r","regeneratorRuntime = r")(o)}},"97b4":function(e,t,r){var o=r("90f7"),n=r("152d"),i=r("a389"),a=r("1ddd"),s=r("004c"),l=r("229f"),c=r("f758"),u=r("aed7"),d=r("3cca"),p=r("ca36"),h=r("a8a2"),f=r("f73a"),g=r("9339"),m=r("b9bb"),v=r("b973"),b=r("d193"),_=r("d8dc"),E=r("ab85"),O=r("eb2d"),y=r("80b1"),S=r("766c"),T=r("5e2e"),C=1,R=2,k=4,I="[object Arguments]",j="[object Array]",L="[object Boolean]",M="[object Date]",N="[object Error]",A="[object Function]",P="[object GeneratorFunction]",w="[object Map]",x="[object Number]",D="[object Object]",U="[object RegExp]",B="[object Set]",Z="[object String]",H="[object Symbol]",G="[object WeakMap]",V="[object ArrayBuffer]",z="[object DataView]",W="[object Float32Array]",F="[object Float64Array]",q="[object Int8Array]",Y="[object Int16Array]",$="[object Int32Array]",K="[object Uint8Array]",J="[object Uint8ClampedArray]",X="[object Uint16Array]",Q="[object Uint32Array]",ee={};function te(e,t,r,j,L,M){var N,w=t&C,x=t&R,U=t&k;if(r&&(N=L?r(e,j,L,M):r(e)),void 0!==N)return N;if(!O(e))return e;var B=b(e);if(B){if(N=g(e),!w)return c(e,N)}else{var Z=f(e),H=Z==A||Z==P;if(_(e))return l(e,w);if(Z==D||Z==I||H&&!L){if(N=x||H?{}:v(e),!w)return x?d(e,s(N,e)):u(e,a(N,e))}else{if(!ee[Z])return L?e:{};N=m(e,Z,w)}}M||(M=new o);var G=M.get(e);if(G)return G;M.set(e,N),y(e)?e.forEach((function(o){N.add(te(o,t,r,o,e,M))})):E(e)&&e.forEach((function(o,n){N.set(n,te(o,t,r,n,e,M))}));var V=U?x?h:p:x?T:S,z=B?void 0:V(e);return n(z||e,(function(o,n){z&&(n=o,o=e[n]),i(N,n,te(o,t,r,n,e,M))})),N}ee[I]=ee[j]=ee[V]=ee[z]=ee[L]=ee[M]=ee[W]=ee[F]=ee[q]=ee[Y]=ee[$]=ee[w]=ee[x]=ee[D]=ee[U]=ee[B]=ee[Z]=ee[H]=ee[K]=ee[J]=ee[X]=ee[Q]=!0,ee[N]=ee[A]=ee[G]=!1,e.exports=te},"9b42":function(e,t,r){var o=r("da00"),n=r("1fb1"),i=o(n,"Set");e.exports=i},"9bf2":function(e,t,r){var o=r("83ab"),n=r("0cfb"),i=r("825a"),a=r("c04e"),s=Object.defineProperty;t.f=o?s:function(e,t,r){if(i(e),t=a(t,!0),i(r),n)try{return s(e,t,r)}catch(o){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"9cee":function(e,t){function r(){return!1}e.exports=r},"9ed3":function(e,t,r){"use strict";var o=r("ae93").IteratorPrototype,n=r("7c73"),i=r("5c6c"),a=r("d44e"),s=r("3f8c"),l=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=n(o,{next:i(1,r)}),a(e,c,!1,!0),s[c]=l,e}},"9f7f":function(e,t,r){"use strict";var o=r("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=o((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=o((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"9ff4":function(e,t,r){"use strict";(function(e){function o(e,t){const r=Object.create(null),o=e.split(",");for(let n=0;n<o.length;n++)r[o[n]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}r.d(t,"a",(function(){return S})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return C})),r.d(t,"d",(function(){return T})),r.d(t,"e",(function(){return K})),r.d(t,"f",(function(){return Q})),r.d(t,"g",(function(){return oe})),r.d(t,"h",(function(){return j})),r.d(t,"i",(function(){return te})),r.d(t,"j",(function(){return N})),r.d(t,"k",(function(){return X})),r.d(t,"l",(function(){return re})),r.d(t,"m",(function(){return A})),r.d(t,"n",(function(){return D})),r.d(t,"o",(function(){return i})),r.d(t,"p",(function(){return g})),r.d(t,"q",(function(){return F})),r.d(t,"r",(function(){return P})),r.d(t,"s",(function(){return I})),r.d(t,"t",(function(){return Z})),r.d(t,"u",(function(){return k})),r.d(t,"v",(function(){return W})),r.d(t,"w",(function(){return H})),r.d(t,"x",(function(){return q})),r.d(t,"y",(function(){return m})),r.d(t,"z",(function(){return w})),r.d(t,"A",(function(){return s})),r.d(t,"B",(function(){return U})),r.d(t,"C",(function(){return B})),r.d(t,"D",(function(){return b})),r.d(t,"E",(function(){return _})),r.d(t,"F",(function(){return o})),r.d(t,"G",(function(){return p})),r.d(t,"H",(function(){return l})),r.d(t,"I",(function(){return L})),r.d(t,"J",(function(){return E})),r.d(t,"K",(function(){return ee})),r.d(t,"L",(function(){return ne})),r.d(t,"M",(function(){return z}));const n="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",i=o(n);const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=o(a);function l(e){if(A(e)){const t={};for(let r=0;r<e.length;r++){const o=e[r],n=l(U(o)?d(o):o);if(n)for(const e in n)t[e]=n[e]}return t}if(Z(e))return e}const c=/;(?![^(]*\))/g,u=/:(.+)/;function d(e){const t={};return e.split(c).forEach(e=>{if(e){const r=e.split(u);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function p(e){let t="";if(U(e))t=e;else if(A(e))for(let r=0;r<e.length;r++){const o=p(e[r]);o&&(t+=o+" ")}else if(Z(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const h="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",f="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",g=o(h),m=o(f);function v(e,t){if(e.length!==t.length)return!1;let r=!0;for(let o=0;r&&o<e.length;o++)r=b(e[o],t[o]);return r}function b(e,t){if(e===t)return!0;let r=x(e),o=x(t);if(r||o)return!(!r||!o)&&e.getTime()===t.getTime();if(r=A(e),o=A(t),r||o)return!(!r||!o)&&v(e,t);if(r=Z(e),o=Z(t),r||o){if(!r||!o)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const r in e){const o=e.hasOwnProperty(r),n=t.hasOwnProperty(r);if(o&&!n||!o&&n||!b(e[r],t[r]))return!1}}return String(e)===String(t)}function _(e,t){return e.findIndex(e=>b(e,t))}const E=e=>null==e?"":Z(e)?JSON.stringify(e,O,2):String(e),O=(e,t)=>P(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,r])=>(e[t+" =>"]=r,e),{})}:w(t)?{[`Set(${t.size})`]:[...t.values()]}:!Z(t)||A(t)||W(t)?t:String(t),y={},S=[],T=()=>{},C=()=>!1,R=/^on[^a-z]/,k=e=>R.test(e),I=e=>e.startsWith("onUpdate:"),j=Object.assign,L=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},M=Object.prototype.hasOwnProperty,N=(e,t)=>M.call(e,t),A=Array.isArray,P=e=>"[object Map]"===V(e),w=e=>"[object Set]"===V(e),x=e=>e instanceof Date,D=e=>"function"===typeof e,U=e=>"string"===typeof e,B=e=>"symbol"===typeof e,Z=e=>null!==e&&"object"===typeof e,H=e=>Z(e)&&D(e.then)&&D(e.catch),G=Object.prototype.toString,V=e=>G.call(e),z=e=>V(e).slice(8,-1),W=e=>"[object Object]"===V(e),F=e=>U(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,q=o(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=e=>{const t=Object.create(null);return r=>{const o=t[r];return o||(t[r]=e(r))}},$=/-(\w)/g,K=Y(e=>e.replace($,(e,t)=>t?t.toUpperCase():"")),J=/\B([A-Z])/g,X=Y(e=>e.replace(J,"-$1").toLowerCase()),Q=Y(e=>e.charAt(0).toUpperCase()+e.slice(1)),ee=Y(e=>e?"on"+Q(e):""),te=(e,t)=>e!==t&&(e===e||t===t),re=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},oe=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},ne=e=>{const t=parseFloat(e);return isNaN(t)?e:t}}).call(this,r("c8ba"))},a077:function(e,t,r){var o=r("caf0"),n=r("74aa"),i="[object Symbol]";function a(e){return"symbol"==typeof e||n(e)&&o(e)==i}e.exports=a},a33d:function(e,t,r){var o=r("b174"),n=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function i(e){return!!n&&n in e}e.exports=i},a389:function(e,t,r){var o=r("127b"),n=r("3b9f"),i=Object.prototype,a=i.hasOwnProperty;function s(e,t,r){var i=e[t];a.call(e,t)&&n(i,r)&&(void 0!==r||t in e)||o(e,t,r)}e.exports=s},a3de:function(e,t,r){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};e.exports=n},a4b4:function(e,t,r){var o=r("342f");e.exports=/web0s(?!.*chrome)/i.test(o)},a4d3:function(e,t,r){"use strict";var o=r("23e7"),n=r("da84"),i=r("d066"),a=r("c430"),s=r("83ab"),l=r("4930"),c=r("fdbf"),u=r("d039"),d=r("5135"),p=r("e8b5"),h=r("861d"),f=r("825a"),g=r("7b0b"),m=r("fc6a"),v=r("c04e"),b=r("5c6c"),_=r("7c73"),E=r("df75"),O=r("241c"),y=r("057f"),S=r("7418"),T=r("06cf"),C=r("9bf2"),R=r("d1e7"),k=r("9112"),I=r("6eeb"),j=r("5692"),L=r("f772"),M=r("d012"),N=r("90e3"),A=r("b622"),P=r("e538"),w=r("746f"),x=r("d44e"),D=r("69f3"),U=r("b727").forEach,B=L("hidden"),Z="Symbol",H="prototype",G=A("toPrimitive"),V=D.set,z=D.getterFor(Z),W=Object[H],F=n.Symbol,q=i("JSON","stringify"),Y=T.f,$=C.f,K=y.f,J=R.f,X=j("symbols"),Q=j("op-symbols"),ee=j("string-to-symbol-registry"),te=j("symbol-to-string-registry"),re=j("wks"),oe=n.QObject,ne=!oe||!oe[H]||!oe[H].findChild,ie=s&&u((function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,r){var o=Y(W,t);o&&delete W[t],$(e,t,r),o&&e!==W&&$(W,t,o)}:$,ae=function(e,t){var r=X[e]=_(F[H]);return V(r,{type:Z,tag:e,description:t}),s||(r.description=t),r},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof F},le=function(e,t,r){e===W&&le(Q,t,r),f(e);var o=v(t,!0);return f(r),d(X,o)?(r.enumerable?(d(e,B)&&e[B][o]&&(e[B][o]=!1),r=_(r,{enumerable:b(0,!1)})):(d(e,B)||$(e,B,b(1,{})),e[B][o]=!0),ie(e,o,r)):$(e,o,r)},ce=function(e,t){f(e);var r=m(t),o=E(r).concat(fe(r));return U(o,(function(t){s&&!de.call(r,t)||le(e,t,r[t])})),e},ue=function(e,t){return void 0===t?_(e):ce(_(e),t)},de=function(e){var t=v(e,!0),r=J.call(this,t);return!(this===W&&d(X,t)&&!d(Q,t))&&(!(r||!d(this,t)||!d(X,t)||d(this,B)&&this[B][t])||r)},pe=function(e,t){var r=m(e),o=v(t,!0);if(r!==W||!d(X,o)||d(Q,o)){var n=Y(r,o);return!n||!d(X,o)||d(r,B)&&r[B][o]||(n.enumerable=!0),n}},he=function(e){var t=K(m(e)),r=[];return U(t,(function(e){d(X,e)||d(M,e)||r.push(e)})),r},fe=function(e){var t=e===W,r=K(t?Q:m(e)),o=[];return U(r,(function(e){!d(X,e)||t&&!d(W,e)||o.push(X[e])})),o};if(l||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=N(e),r=function(e){this===W&&r.call(Q,e),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),ie(this,t,b(1,e))};return s&&ne&&ie(W,t,{configurable:!0,set:r}),ae(t,e)},I(F[H],"toString",(function(){return z(this).tag})),I(F,"withoutSetter",(function(e){return ae(N(e),e)})),R.f=de,C.f=le,T.f=pe,O.f=y.f=he,S.f=fe,P.f=function(e){return ae(A(e),e)},s&&($(F[H],"description",{configurable:!0,get:function(){return z(this).description}}),a||I(W,"propertyIsEnumerable",de,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:F}),U(E(re),(function(e){w(e)})),o({target:Z,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=F(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),o({target:"Object",stat:!0,forced:!l,sham:!s},{create:ue,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:pe}),o({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:fe}),o({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),q){var ge=!l||u((function(){var e=F();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}));o({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,r){var o,n=[e],i=1;while(arguments.length>i)n.push(arguments[i++]);if(o=t,(h(t)||void 0!==e)&&!se(e))return p(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!se(t))return t}),n[1]=t,q.apply(null,n)}})}F[H][G]||k(F[H],G,F[H].valueOf),x(F,Z),M[B]=!0},a5d1:function(e,t,r){var o=r("9b42"),n=r("c8d8"),i=r("3548"),a=1/0,s=o&&1/i(new o([,-0]))[1]==a?function(e){return new o(e)}:n;e.exports=s},a615:function(e,t,r){var o=r("b882"),n=r("62b2");function i(e,t,r,a,s){var l=-1,c=e.length;r||(r=n),s||(s=[]);while(++l<c){var u=e[l];t>0&&r(u)?t>1?i(u,t-1,r,a,s):o(s,u):a||(s[s.length]=u)}return s}e.exports=i},a640:function(e,t,r){"use strict";var o=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&o((function(){r.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var r=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},a79d:function(e,t,r){"use strict";var o=r("23e7"),n=r("c430"),i=r("fea9"),a=r("d039"),s=r("d066"),l=r("4840"),c=r("cdf9"),u=r("6eeb"),d=!!i&&a((function(){i.prototype["finally"].call({then:function(){}},(function(){}))}));if(o({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=l(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),!n&&"function"==typeof i){var p=s("Promise").prototype["finally"];i.prototype["finally"]!==p&&u(i.prototype,"finally",p,{unsafe:!0})}},a8a2:function(e,t,r){var o=r("f04e"),n=r("cb86"),i=r("5e2e");function a(e){return o(e,i,n)}e.exports=a},aa7d:function(e,t,r){var o=r("da00"),n=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=n},aac5:function(e,t){var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function n(e,t){var n=typeof e;return t=null==t?r:t,!!t&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}e.exports=n},ab85:function(e,t,r){var o=r("f1ef"),n=r("665f"),i=r("5b92"),a=i&&i.isMap,s=a?n(a):o;e.exports=s},abc5:function(e,t,r){"use strict";(function(e){function o(){return n().__VUE_DEVTOOLS_GLOBAL_HOOK__}function n(){return"undefined"!==typeof navigator?window:"undefined"!==typeof e?e:{}}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}))}).call(this,r("c8ba"))},ac1f:function(e,t,r){"use strict";var o=r("23e7"),n=r("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ac6e:function(e,t,r){var o=r("cfa1");function n(e){var t=o(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=n},ad6d:function(e,t,r){"use strict";var o=r("825a");e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ad76:function(e,t,r){var o=r("d6cc"),n=r("796c"),i=Object.prototype,a=i.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),o(s(e),(function(t){return a.call(e,t)})))}:n;e.exports=l},ade3:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("7a82");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},ae0e:function(e,t,r){var o=r("90f7"),n=r("e8f1"),i=r("600b"),a=r("d43c"),s=r("f73a"),l=r("d193"),c=r("d8dc"),u=r("2e44"),d=1,p="[object Arguments]",h="[object Array]",f="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function v(e,t,r,g,v,b){var _=l(e),E=l(t),O=_?h:s(e),y=E?h:s(t);O=O==p?f:O,y=y==p?f:y;var S=O==f,T=y==f,C=O==y;if(C&&c(e)){if(!c(t))return!1;_=!0,S=!1}if(C&&!S)return b||(b=new o),_||u(e)?n(e,t,r,g,v,b):i(e,t,O,r,g,v,b);if(!(r&d)){var R=S&&m.call(e,"__wrapped__"),k=T&&m.call(t,"__wrapped__");if(R||k){var I=R?e.value():e,j=k?t.value():t;return b||(b=new o),v(I,j,r,g,b)}}return!!C&&(b||(b=new o),a(e,t,r,g,v,b))}e.exports=v},ae93:function(e,t,r){"use strict";var o,n,i,a=r("d039"),s=r("e163"),l=r("9112"),c=r("5135"),u=r("b622"),d=r("c430"),p=u("iterator"),h=!1,f=function(){return this};[].keys&&(i=[].keys(),"next"in i?(n=s(s(i)),n!==Object.prototype&&(o=n)):h=!0);var g=void 0==o||a((function(){var e={};return o[p].call(e)!==e}));g&&(o={}),d&&!g||c(o,p)||l(o,p,f),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:h}},aed7:function(e,t,r){var o=r("c3cf"),n=r("ad76");function i(e,t){return o(e,n(e),t)}e.exports=i},af65:function(e,t){function r(e){return e!==e}e.exports=r},b041:function(e,t,r){"use strict";var o=r("00ee"),n=r("f5df");e.exports=o?{}.toString:function(){return"[object "+n(this)+"]"}},b0c0:function(e,t,r){var o=r("83ab"),n=r("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,l="name";o&&!(l in i)&&n(i,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b174:function(e,t,r){var o=r("1fb1"),n=o["__core-js_shared__"];e.exports=n},b1b6:function(e,t,r){var o=r("97b4"),n=1,i=4;function a(e){return o(e,n|i)}e.exports=a},b375:function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}))},b50d:function(e,t,r){"use strict";var o=r("c532"),n=r("467f"),i=r("7aac"),a=r("30b5"),s=r("83b9"),l=r("c345"),c=r("3934"),u=r("2d83");e.exports=function(e){return new Promise((function(t,r){var d=e.data,p=e.headers;o.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(f+":"+g)}var m=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in h?l(h.getAllResponseHeaders()):null,i=e.responseType&&"text"!==e.responseType?h.response:h.responseText,a={data:i,status:h.status,statusText:h.statusText,headers:o,config:e,request:h};n(t,r,a),h=null}},h.onabort=function(){h&&(r(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(u(t,e,"ECONNABORTED",h)),h=null},o.isStandardBrowserEnv()){var v=(e.withCredentials||c(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;v&&(p[e.xsrfHeaderName]=v)}if("setRequestHeader"in h&&o.forEach(p,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),r(e),h=null)})),d||(d=null),h.send(d)}))}},b575:function(e,t,r){var o,n,i,a,s,l,c,u,d=r("da84"),p=r("06cf").f,h=r("2cf4").set,f=r("1cdc"),g=r("a4b4"),m=r("605d"),v=d.MutationObserver||d.WebKitMutationObserver,b=d.document,_=d.process,E=d.Promise,O=p(d,"queueMicrotask"),y=O&&O.value;y||(o=function(){var e,t;m&&(e=_.domain)&&e.exit();while(n){t=n.fn,n=n.next;try{t()}catch(r){throw n?a():i=void 0,r}}i=void 0,e&&e.enter()},f||m||g||!v||!b?E&&E.resolve?(c=E.resolve(void 0),c.constructor=E,u=c.then,a=function(){u.call(c,o)}):a=m?function(){_.nextTick(o)}:function(){h.call(d,o)}:(s=!0,l=b.createTextNode(""),new v(o).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),e.exports=y||function(e){var t={fn:e,next:void 0};i&&(i.next=t),n||(n=t,a()),i=t}},b5a2:function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},b622:function(e,t,r){var o=r("da84"),n=r("5692"),i=r("5135"),a=r("90e3"),s=r("4930"),l=r("fdbf"),c=n("wks"),u=o.Symbol,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){return i(c,e)&&(s||"string"==typeof c[e])||(s&&i(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},b64b:function(e,t,r){var o=r("23e7"),n=r("7b0b"),i=r("df75"),a=r("d039"),s=a((function(){i(1)}));o({target:"Object",stat:!0,forced:s},{keys:function(e){return i(n(e))}})},b727:function(e,t,r){var o=r("0366"),n=r("44ad"),i=r("7b0b"),a=r("50c4"),s=r("65f0"),l=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,u=4==e,d=6==e,p=7==e,h=5==e||d;return function(f,g,m,v){for(var b,_,E=i(f),O=n(E),y=o(g,m,3),S=a(O.length),T=0,C=v||s,R=t?C(f,S):r||p?C(f,0):void 0;S>T;T++)if((h||T in O)&&(b=O[T],_=y(b,T,E),e))if(t)R[T]=_;else if(_)switch(e){case 3:return!0;case 5:return b;case 6:return T;case 2:l.call(R,b)}else switch(e){case 4:return!1;case 7:l.call(R,b)}return d?-1:c||u?u:R}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},b774:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));const o="devtools-plugin:setup"},b882:function(e,t){function r(e,t){var r=-1,o=t.length,n=e.length;while(++r<o)e[n+r]=t[r];return e}e.exports=r},b973:function(e,t,r){var o=r("d716"),n=r("d7b7"),i=r("be5b");function a(e){return"function"!=typeof e.constructor||i(e)?{}:o(n(e))}e.exports=a},b9bb:function(e,t,r){var o=r("dc53"),n=r("c3ec"),i=r("6f51"),a=r("c001"),s=r("ce45"),l="[object Boolean]",c="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",f="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",O="[object Int16Array]",y="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]";function k(e,t,r){var k=e.constructor;switch(t){case m:return o(e);case l:case c:return new k(+e);case v:return n(e,r);case b:case _:case E:case O:case y:case S:case T:case C:case R:return s(e,r);case u:return new k;case d:case f:return new k(e);case p:return i(e);case h:return new k;case g:return a(e)}}e.exports=k},bc3a:function(e,t,r){e.exports=r("cee4")},be5b:function(e,t){var r=Object.prototype;function o(e){var t=e&&e.constructor,o="function"==typeof t&&t.prototype||r;return e===o}e.exports=o},c001:function(e,t,r){var o=r("fdb7"),n=o?o.prototype:void 0,i=n?n.valueOf:void 0;function a(e){return i?Object(i.call(e)):{}}e.exports=a},c04e:function(e,t,r){var o=r("861d");e.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},c098:function(e,t,r){e.exports=r("d4af")},c258:function(e,t,r){var o=r("be5b"),n=r("868d"),i=Object.prototype,a=i.hasOwnProperty;function s(e){if(!o(e))return n(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}e.exports=s},c345:function(e,t,r){"use strict";var o=r("c532"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(o.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),r=o.trim(e.substr(i+1)),t){if(a[t]&&n.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},c3cf:function(e,t,r){var o=r("a389"),n=r("127b");function i(e,t,r,i){var a=!r;r||(r={});var s=-1,l=t.length;while(++s<l){var c=t[s],u=i?i(r[c],e[c],c,r,e):void 0;void 0===u&&(u=e[c]),a?n(r,c,u):o(r,c,u)}return r}e.exports=i},c3ec:function(e,t,r){var o=r("dc53");function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}e.exports=n},c401:function(e,t,r){"use strict";var o=r("c532");e.exports=function(e,t,r){return o.forEach(r,(function(r){e=r(e,t)})),e}},c430:function(e,t){e.exports=!1},c46f:function(e,t,r){"use strict";r.d(t,"a",(function(){return jr}));var o={};r.r(o),r.d(o,"VERSION",(function(){return n["e"]})),r.d(o,"restArguments",(function(){return i})),r.d(o,"isObject",(function(){return a})),r.d(o,"isNull",(function(){return s})),r.d(o,"isUndefined",(function(){return l})),r.d(o,"isBoolean",(function(){return c})),r.d(o,"isElement",(function(){return u})),r.d(o,"isString",(function(){return p})),r.d(o,"isNumber",(function(){return h})),r.d(o,"isDate",(function(){return f})),r.d(o,"isRegExp",(function(){return g})),r.d(o,"isError",(function(){return m})),r.d(o,"isSymbol",(function(){return v})),r.d(o,"isArrayBuffer",(function(){return b})),r.d(o,"isDataView",(function(){return k})),r.d(o,"isArray",(function(){return I})),r.d(o,"isFunction",(function(){return O})),r.d(o,"isArguments",(function(){return M})),r.d(o,"isFinite",(function(){return N})),r.d(o,"isNaN",(function(){return A})),r.d(o,"isTypedArray",(function(){return H})),r.d(o,"isEmpty",(function(){return F})),r.d(o,"isMatch",(function(){return q})),r.d(o,"isEqual",(function(){return Q})),r.d(o,"isMap",(function(){return ce})),r.d(o,"isWeakMap",(function(){return ue})),r.d(o,"isSet",(function(){return de})),r.d(o,"isWeakSet",(function(){return pe})),r.d(o,"keys",(function(){return W})),r.d(o,"allKeys",(function(){return ee})),r.d(o,"values",(function(){return he})),r.d(o,"pairs",(function(){return fe})),r.d(o,"invert",(function(){return ge})),r.d(o,"functions",(function(){return me})),r.d(o,"methods",(function(){return me})),r.d(o,"extend",(function(){return be})),r.d(o,"extendOwn",(function(){return _e})),r.d(o,"assign",(function(){return _e})),r.d(o,"defaults",(function(){return Ee})),r.d(o,"create",(function(){return Se})),r.d(o,"clone",(function(){return Te})),r.d(o,"tap",(function(){return Ce})),r.d(o,"get",(function(){return je})),r.d(o,"has",(function(){return Le})),r.d(o,"mapObject",(function(){return Ue})),r.d(o,"identity",(function(){return Me})),r.d(o,"constant",(function(){return P})),r.d(o,"noop",(function(){return Be})),r.d(o,"toPath",(function(){return Re})),r.d(o,"property",(function(){return Ae})),r.d(o,"propertyOf",(function(){return Ze})),r.d(o,"matcher",(function(){return Ne})),r.d(o,"matches",(function(){return Ne})),r.d(o,"times",(function(){return He})),r.d(o,"random",(function(){return Ge})),r.d(o,"now",(function(){return Ve})),r.d(o,"escape",(function(){return Fe})),r.d(o,"unescape",(function(){return Ye})),r.d(o,"templateSettings",(function(){return $e})),r.d(o,"template",(function(){return tt})),r.d(o,"result",(function(){return rt})),r.d(o,"uniqueId",(function(){return nt})),r.d(o,"chain",(function(){return it})),r.d(o,"iteratee",(function(){return xe})),r.d(o,"partial",(function(){return lt})),r.d(o,"bind",(function(){return ct})),r.d(o,"bindAll",(function(){return pt})),r.d(o,"memoize",(function(){return ht})),r.d(o,"delay",(function(){return ft})),r.d(o,"defer",(function(){return gt})),r.d(o,"throttle",(function(){return mt})),r.d(o,"debounce",(function(){return vt})),r.d(o,"wrap",(function(){return bt})),r.d(o,"negate",(function(){return _t})),r.d(o,"compose",(function(){return Et})),r.d(o,"after",(function(){return Ot})),r.d(o,"before",(function(){return yt})),r.d(o,"once",(function(){return St})),r.d(o,"findKey",(function(){return Tt})),r.d(o,"findIndex",(function(){return Rt})),r.d(o,"findLastIndex",(function(){return kt})),r.d(o,"sortedIndex",(function(){return It})),r.d(o,"indexOf",(function(){return Lt})),r.d(o,"lastIndexOf",(function(){return Mt})),r.d(o,"find",(function(){return Nt})),r.d(o,"detect",(function(){return Nt})),r.d(o,"findWhere",(function(){return At})),r.d(o,"each",(function(){return Pt})),r.d(o,"forEach",(function(){return Pt})),r.d(o,"map",(function(){return wt})),r.d(o,"collect",(function(){return wt})),r.d(o,"reduce",(function(){return Dt})),r.d(o,"foldl",(function(){return Dt})),r.d(o,"inject",(function(){return Dt})),r.d(o,"reduceRight",(function(){return Ut})),r.d(o,"foldr",(function(){return Ut})),r.d(o,"filter",(function(){return Bt})),r.d(o,"select",(function(){return Bt})),r.d(o,"reject",(function(){return Zt})),r.d(o,"every",(function(){return Ht})),r.d(o,"all",(function(){return Ht})),r.d(o,"some",(function(){return Gt})),r.d(o,"any",(function(){return Gt})),r.d(o,"contains",(function(){return Vt})),r.d(o,"includes",(function(){return Vt})),r.d(o,"include",(function(){return Vt})),r.d(o,"invoke",(function(){return zt})),r.d(o,"pluck",(function(){return Wt})),r.d(o,"where",(function(){return Ft})),r.d(o,"max",(function(){return qt})),r.d(o,"min",(function(){return Yt})),r.d(o,"shuffle",(function(){return Kt})),r.d(o,"sample",(function(){return $t})),r.d(o,"sortBy",(function(){return Jt})),r.d(o,"groupBy",(function(){return Qt})),r.d(o,"indexBy",(function(){return er})),r.d(o,"countBy",(function(){return tr})),r.d(o,"partition",(function(){return rr})),r.d(o,"toArray",(function(){return nr})),r.d(o,"size",(function(){return ir})),r.d(o,"pick",(function(){return sr})),r.d(o,"omit",(function(){return lr})),r.d(o,"first",(function(){return ur})),r.d(o,"head",(function(){return ur})),r.d(o,"take",(function(){return ur})),r.d(o,"initial",(function(){return cr})),r.d(o,"last",(function(){return pr})),r.d(o,"rest",(function(){return dr})),r.d(o,"tail",(function(){return dr})),r.d(o,"drop",(function(){return dr})),r.d(o,"compact",(function(){return hr})),r.d(o,"flatten",(function(){return fr})),r.d(o,"without",(function(){return mr})),r.d(o,"uniq",(function(){return vr})),r.d(o,"unique",(function(){return vr})),r.d(o,"union",(function(){return br})),r.d(o,"intersection",(function(){return _r})),r.d(o,"difference",(function(){return gr})),r.d(o,"unzip",(function(){return Er})),r.d(o,"transpose",(function(){return Er})),r.d(o,"zip",(function(){return Or})),r.d(o,"object",(function(){return yr})),r.d(o,"range",(function(){return Sr})),r.d(o,"chunk",(function(){return Tr})),r.d(o,"mixin",(function(){return Rr})),r.d(o,"default",(function(){return kr}));var n=r("2f47");function i(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),o=Array(r),n=0;n<r;n++)o[n]=arguments[n+t];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o);case 2:return e.call(this,arguments[0],arguments[1],o)}var i=Array(t+1);for(n=0;n<t;n++)i[n]=arguments[n];return i[t]=o,e.apply(this,i)}}function a(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function s(e){return null===e}function l(e){return void 0===e}function c(e){return!0===e||!1===e||"[object Boolean]"===n["t"].call(e)}function u(e){return!(!e||1!==e.nodeType)}function d(e){var t="[object "+e+"]";return function(e){return n["t"].call(e)===t}}var p=d("String"),h=d("Number"),f=d("Date"),g=d("RegExp"),m=d("Error"),v=d("Symbol"),b=d("ArrayBuffer"),_=d("Function"),E=n["p"].document&&n["p"].document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof E&&(_=function(e){return"function"==typeof e||!1});var O=_,y=d("Object"),S=n["s"]&&y(new DataView(new ArrayBuffer(8))),T="undefined"!==typeof Map&&y(new Map),C=d("DataView");function R(e){return null!=e&&O(e.getInt8)&&b(e.buffer)}var k=S?R:C,I=n["k"]||d("Array");function j(e,t){return null!=e&&n["i"].call(e,t)}var L=d("Arguments");(function(){L(arguments)||(L=function(e){return j(e,"callee")})})();var M=L;function N(e){return!v(e)&&Object(n["f"])(e)&&!isNaN(parseFloat(e))}function A(e){return h(e)&&Object(n["g"])(e)}function P(e){return function(){return e}}function w(e){return function(t){var r=e(t);return"number"==typeof r&&r>=0&&r<=n["b"]}}function x(e){return function(t){return null==t?void 0:t[e]}}var D=x("byteLength"),U=w(D),B=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Z(e){return n["l"]?Object(n["l"])(e)&&!k(e):U(e)&&B.test(n["t"].call(e))}var H=n["r"]?Z:P(!1),G=x("length");function V(e){for(var t={},r=e.length,o=0;o<r;++o)t[e[o]]=!0;return{contains:function(e){return t[e]},push:function(r){return t[r]=!0,e.push(r)}}}function z(e,t){t=V(t);var r=n["n"].length,o=e.constructor,i=O(o)&&o.prototype||n["c"],a="constructor";j(e,a)&&!t.contains(a)&&t.push(a);while(r--)a=n["n"][r],a in e&&e[a]!==i[a]&&!t.contains(a)&&t.push(a)}function W(e){if(!a(e))return[];if(n["m"])return Object(n["m"])(e);var t=[];for(var r in e)j(e,r)&&t.push(r);return n["h"]&&z(e,t),t}function F(e){if(null==e)return!0;var t=G(e);return"number"==typeof t&&(I(e)||p(e)||M(e))?0===t:0===G(W(e))}function q(e,t){var r=W(t),o=r.length;if(null==e)return!o;for(var n=Object(e),i=0;i<o;i++){var a=r[i];if(t[a]!==n[a]||!(a in n))return!1}return!0}function Y(e){return e instanceof Y?e:this instanceof Y?void(this._wrapped=e):new Y(e)}function $(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,D(e))}Y.VERSION=n["e"],Y.prototype.value=function(){return this._wrapped},Y.prototype.valueOf=Y.prototype.toJSON=Y.prototype.value,Y.prototype.toString=function(){return String(this._wrapped)};var K="[object DataView]";function J(e,t,r,o){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var n=typeof e;return("function"===n||"object"===n||"object"==typeof t)&&X(e,t,r,o)}function X(e,t,r,o){e instanceof Y&&(e=e._wrapped),t instanceof Y&&(t=t._wrapped);var i=n["t"].call(e);if(i!==n["t"].call(t))return!1;if(S&&"[object Object]"==i&&k(e)){if(!k(t))return!1;i=K}switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return n["d"].valueOf.call(e)===n["d"].valueOf.call(t);case"[object ArrayBuffer]":case K:return X($(e),$(t),r,o)}var a="[object Array]"===i;if(!a&&H(e)){var s=D(e);if(s!==D(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(O(l)&&l instanceof l&&O(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],o=o||[];var u=r.length;while(u--)if(r[u]===e)return o[u]===t;if(r.push(e),o.push(t),a){if(u=e.length,u!==t.length)return!1;while(u--)if(!J(e[u],t[u],r,o))return!1}else{var d,p=W(e);if(u=p.length,W(t).length!==u)return!1;while(u--)if(d=p[u],!j(t,d)||!J(e[d],t[d],r,o))return!1}return r.pop(),o.pop(),!0}function Q(e,t){return J(e,t)}function ee(e){if(!a(e))return[];var t=[];for(var r in e)t.push(r);return n["h"]&&z(e,t),t}function te(e){var t=G(e);return function(r){if(null==r)return!1;var o=ee(r);if(G(o))return!1;for(var n=0;n<t;n++)if(!O(r[e[n]]))return!1;return e!==se||!O(r[re])}}var re="forEach",oe="has",ne=["clear","delete"],ie=["get",oe,"set"],ae=ne.concat(re,ie),se=ne.concat(ie),le=["add"].concat(ne,re,oe),ce=T?te(ae):d("Map"),ue=T?te(se):d("WeakMap"),de=T?te(le):d("Set"),pe=d("WeakSet");function he(e){for(var t=W(e),r=t.length,o=Array(r),n=0;n<r;n++)o[n]=e[t[n]];return o}function fe(e){for(var t=W(e),r=t.length,o=Array(r),n=0;n<r;n++)o[n]=[t[n],e[t[n]]];return o}function ge(e){for(var t={},r=W(e),o=0,n=r.length;o<n;o++)t[e[r[o]]]=r[o];return t}function me(e){var t=[];for(var r in e)O(e[r])&&t.push(r);return t.sort()}function ve(e,t){return function(r){var o=arguments.length;if(t&&(r=Object(r)),o<2||null==r)return r;for(var n=1;n<o;n++)for(var i=arguments[n],a=e(i),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==r[c]||(r[c]=i[c])}return r}}var be=ve(ee),_e=ve(W),Ee=ve(ee,!0);function Oe(){return function(){}}function ye(e){if(!a(e))return{};if(n["j"])return Object(n["j"])(e);var t=Oe();t.prototype=e;var r=new t;return t.prototype=null,r}function Se(e,t){var r=ye(e);return t&&_e(r,t),r}function Te(e){return a(e)?I(e)?e.slice():be({},e):e}function Ce(e,t){return t(e),e}function Re(e){return I(e)?e:[e]}function ke(e){return Y.toPath(e)}function Ie(e,t){for(var r=t.length,o=0;o<r;o++){if(null==e)return;e=e[t[o]]}return r?e:void 0}function je(e,t,r){var o=Ie(e,ke(t));return l(o)?r:o}function Le(e,t){t=ke(t);for(var r=t.length,o=0;o<r;o++){var n=t[o];if(!j(e,n))return!1;e=e[n]}return!!r}function Me(e){return e}function Ne(e){return e=_e({},e),function(t){return q(t,e)}}function Ae(e){return e=ke(e),function(t){return Ie(t,e)}}function Pe(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,o,n){return e.call(t,r,o,n)};case 4:return function(r,o,n,i){return e.call(t,r,o,n,i)}}return function(){return e.apply(t,arguments)}}function we(e,t,r){return null==e?Me:O(e)?Pe(e,t,r):a(e)&&!I(e)?Ne(e):Ae(e)}function xe(e,t){return we(e,t,1/0)}function De(e,t,r){return Y.iteratee!==xe?Y.iteratee(e,t):we(e,t,r)}function Ue(e,t,r){t=De(t,r);for(var o=W(e),n=o.length,i={},a=0;a<n;a++){var s=o[a];i[s]=t(e[s],s,e)}return i}function Be(){}function Ze(e){return null==e?Be:function(t){return je(e,t)}}function He(e,t,r){var o=Array(Math.max(0,e));t=Pe(t,r,1);for(var n=0;n<e;n++)o[n]=t(n);return o}function Ge(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}Y.toPath=Re,Y.iteratee=xe;var Ve=Date.now||function(){return(new Date).getTime()};function ze(e){var t=function(t){return e[t]},r="(?:"+W(e).join("|")+")",o=RegExp(r),n=RegExp(r,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(n,t):e}}var We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Fe=ze(We),qe=ge(We),Ye=ze(qe),$e=Y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ke=/(.)^/,Je={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Xe=/\\|'|\r|\n|\u2028|\u2029/g;function Qe(e){return"\\"+Je[e]}var et=/^\s*(\w|\$)+\s*$/;function tt(e,t,r){!t&&r&&(t=r),t=Ee({},t,Y.templateSettings);var o=RegExp([(t.escape||Ke).source,(t.interpolate||Ke).source,(t.evaluate||Ke).source].join("|")+"|$","g"),n=0,i="__p+='";e.replace(o,(function(t,r,o,a,s){return i+=e.slice(n,s).replace(Xe,Qe),n=s+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":o?i+="'+\n((__t=("+o+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t})),i+="';\n";var a,s=t.variable;if(s){if(!et.test(s))throw new Error("variable is not a bare identifier: "+s)}else i="with(obj||{}){\n"+i+"}\n",s="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(s,"_",i)}catch(c){throw c.source=i,c}var l=function(e){return a.call(this,e,Y)};return l.source="function("+s+"){\n"+i+"}",l}function rt(e,t,r){t=ke(t);var o=t.length;if(!o)return O(r)?r.call(e):r;for(var n=0;n<o;n++){var i=null==e?void 0:e[t[n]];void 0===i&&(i=r,n=o),e=O(i)?i.call(e):i}return e}var ot=0;function nt(e){var t=++ot+"";return e?e+t:t}function it(e){var t=Y(e);return t._chain=!0,t}function at(e,t,r,o,n){if(!(o instanceof t))return e.apply(r,n);var i=ye(e.prototype),s=e.apply(i,n);return a(s)?s:i}var st=i((function(e,t){var r=st.placeholder,o=function(){for(var n=0,i=t.length,a=Array(i),s=0;s<i;s++)a[s]=t[s]===r?arguments[n++]:t[s];while(n<arguments.length)a.push(arguments[n++]);return at(e,o,this,this,a)};return o}));st.placeholder=Y;var lt=st,ct=i((function(e,t,r){if(!O(e))throw new TypeError("Bind must be called on a function");var o=i((function(n){return at(e,o,t,this,r.concat(n))}));return o})),ut=w(G);function dt(e,t,r,o){if(o=o||[],t||0===t){if(t<=0)return o.concat(e)}else t=1/0;for(var n=o.length,i=0,a=G(e);i<a;i++){var s=e[i];if(ut(s)&&(I(s)||M(s)))if(t>1)dt(s,t-1,r,o),n=o.length;else{var l=0,c=s.length;while(l<c)o[n++]=s[l++]}else r||(o[n++]=s)}return o}var pt=i((function(e,t){t=dt(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");while(r--){var o=t[r];e[o]=ct(e[o],e)}return e}));function ht(e,t){var r=function(o){var n=r.cache,i=""+(t?t.apply(this,arguments):o);return j(n,i)||(n[i]=e.apply(this,arguments)),n[i]};return r.cache={},r}var ft=i((function(e,t,r){return setTimeout((function(){return e.apply(null,r)}),t)})),gt=lt(ft,Y,1);function mt(e,t,r){var o,n,i,a,s=0;r||(r={});var l=function(){s=!1===r.leading?0:Ve(),o=null,a=e.apply(n,i),o||(n=i=null)},c=function(){var c=Ve();s||!1!==r.leading||(s=c);var u=t-(c-s);return n=this,i=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(o),s=0,o=n=i=null},c}function vt(e,t,r){var o,n,a,s,l,c=function(){var i=Ve()-n;t>i?o=setTimeout(c,t-i):(o=null,r||(s=e.apply(l,a)),o||(a=l=null))},u=i((function(i){return l=this,a=i,n=Ve(),o||(o=setTimeout(c,t),r&&(s=e.apply(l,a))),s}));return u.cancel=function(){clearTimeout(o),o=a=l=null},u}function bt(e,t){return lt(t,e)}function _t(e){return function(){return!e.apply(this,arguments)}}function Et(){var e=arguments,t=e.length-1;return function(){var r=t,o=e[t].apply(this,arguments);while(r--)o=e[r].call(this,o);return o}}function Ot(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function yt(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var St=lt(yt,2);function Tt(e,t,r){t=De(t,r);for(var o,n=W(e),i=0,a=n.length;i<a;i++)if(o=n[i],t(e[o],o,e))return o}function Ct(e){return function(t,r,o){r=De(r,o);for(var n=G(t),i=e>0?0:n-1;i>=0&&i<n;i+=e)if(r(t[i],i,t))return i;return-1}}var Rt=Ct(1),kt=Ct(-1);function It(e,t,r,o){r=De(r,o,1);var n=r(t),i=0,a=G(e);while(i<a){var s=Math.floor((i+a)/2);r(e[s])<n?i=s+1:a=s}return i}function jt(e,t,r){return function(o,i,a){var s=0,l=G(o);if("number"==typeof a)e>0?s=a>=0?a:Math.max(a+l,s):l=a>=0?Math.min(a+1,l):a+l+1;else if(r&&a&&l)return a=r(o,i),o[a]===i?a:-1;if(i!==i)return a=t(n["q"].call(o,s,l),A),a>=0?a+s:-1;for(a=e>0?s:l-1;a>=0&&a<l;a+=e)if(o[a]===i)return a;return-1}}var Lt=jt(1,Rt,It),Mt=jt(-1,kt);function Nt(e,t,r){var o=ut(e)?Rt:Tt,n=o(e,t,r);if(void 0!==n&&-1!==n)return e[n]}function At(e,t){return Nt(e,Ne(t))}function Pt(e,t,r){var o,n;if(t=Pe(t,r),ut(e))for(o=0,n=e.length;o<n;o++)t(e[o],o,e);else{var i=W(e);for(o=0,n=i.length;o<n;o++)t(e[i[o]],i[o],e)}return e}function wt(e,t,r){t=De(t,r);for(var o=!ut(e)&&W(e),n=(o||e).length,i=Array(n),a=0;a<n;a++){var s=o?o[a]:a;i[a]=t(e[s],s,e)}return i}function xt(e){var t=function(t,r,o,n){var i=!ut(t)&&W(t),a=(i||t).length,s=e>0?0:a-1;for(n||(o=t[i?i[s]:s],s+=e);s>=0&&s<a;s+=e){var l=i?i[s]:s;o=r(o,t[l],l,t)}return o};return function(e,r,o,n){var i=arguments.length>=3;return t(e,Pe(r,n,4),o,i)}}var Dt=xt(1),Ut=xt(-1);function Bt(e,t,r){var o=[];return t=De(t,r),Pt(e,(function(e,r,n){t(e,r,n)&&o.push(e)})),o}function Zt(e,t,r){return Bt(e,_t(De(t)),r)}function Ht(e,t,r){t=De(t,r);for(var o=!ut(e)&&W(e),n=(o||e).length,i=0;i<n;i++){var a=o?o[i]:i;if(!t(e[a],a,e))return!1}return!0}function Gt(e,t,r){t=De(t,r);for(var o=!ut(e)&&W(e),n=(o||e).length,i=0;i<n;i++){var a=o?o[i]:i;if(t(e[a],a,e))return!0}return!1}function Vt(e,t,r,o){return ut(e)||(e=he(e)),("number"!=typeof r||o)&&(r=0),Lt(e,t,r)>=0}var zt=i((function(e,t,r){var o,n;return O(t)?n=t:(t=ke(t),o=t.slice(0,-1),t=t[t.length-1]),wt(e,(function(e){var i=n;if(!i){if(o&&o.length&&(e=Ie(e,o)),null==e)return;i=e[t]}return null==i?i:i.apply(e,r)}))}));function Wt(e,t){return wt(e,Ae(t))}function Ft(e,t){return Bt(e,Ne(t))}function qt(e,t,r){var o,n,i=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=ut(e)?e:he(e);for(var s=0,l=e.length;s<l;s++)o=e[s],null!=o&&o>i&&(i=o)}else t=De(t,r),Pt(e,(function(e,r,o){n=t(e,r,o),(n>a||n===-1/0&&i===-1/0)&&(i=e,a=n)}));return i}function Yt(e,t,r){var o,n,i=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=ut(e)?e:he(e);for(var s=0,l=e.length;s<l;s++)o=e[s],null!=o&&o<i&&(i=o)}else t=De(t,r),Pt(e,(function(e,r,o){n=t(e,r,o),(n<a||n===1/0&&i===1/0)&&(i=e,a=n)}));return i}function $t(e,t,r){if(null==t||r)return ut(e)||(e=he(e)),e[Ge(e.length-1)];var o=ut(e)?Te(e):he(e),n=G(o);t=Math.max(Math.min(t,n),0);for(var i=n-1,a=0;a<t;a++){var s=Ge(a,i),l=o[a];o[a]=o[s],o[s]=l}return o.slice(0,t)}function Kt(e){return $t(e,1/0)}function Jt(e,t,r){var o=0;return t=De(t,r),Wt(wt(e,(function(e,r,n){return{value:e,index:o++,criteria:t(e,r,n)}})).sort((function(e,t){var r=e.criteria,o=t.criteria;if(r!==o){if(r>o||void 0===r)return 1;if(r<o||void 0===o)return-1}return e.index-t.index})),"value")}function Xt(e,t){return function(r,o,n){var i=t?[[],[]]:{};return o=De(o,n),Pt(r,(function(t,n){var a=o(t,n,r);e(i,t,a)})),i}}var Qt=Xt((function(e,t,r){j(e,r)?e[r].push(t):e[r]=[t]})),er=Xt((function(e,t,r){e[r]=t})),tr=Xt((function(e,t,r){j(e,r)?e[r]++:e[r]=1})),rr=Xt((function(e,t,r){e[r?0:1].push(t)}),!0),or=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function nr(e){return e?I(e)?n["q"].call(e):p(e)?e.match(or):ut(e)?wt(e,Me):he(e):[]}function ir(e){return null==e?0:ut(e)?e.length:W(e).length}function ar(e,t,r){return t in r}var sr=i((function(e,t){var r={},o=t[0];if(null==e)return r;O(o)?(t.length>1&&(o=Pe(o,t[1])),t=ee(e)):(o=ar,t=dt(t,!1,!1),e=Object(e));for(var n=0,i=t.length;n<i;n++){var a=t[n],s=e[a];o(s,a,e)&&(r[a]=s)}return r})),lr=i((function(e,t){var r,o=t[0];return O(o)?(o=_t(o),t.length>1&&(r=t[1])):(t=wt(dt(t,!1,!1),String),o=function(e,r){return!Vt(t,r)}),sr(e,o,r)}));function cr(e,t,r){return n["q"].call(e,0,Math.max(0,e.length-(null==t||r?1:t)))}function ur(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[0]:cr(e,e.length-t)}function dr(e,t,r){return n["q"].call(e,null==t||r?1:t)}function pr(e,t,r){return null==e||e.length<1?null==t||r?void 0:[]:null==t||r?e[e.length-1]:dr(e,Math.max(0,e.length-t))}function hr(e){return Bt(e,Boolean)}function fr(e,t){return dt(e,t,!1)}var gr=i((function(e,t){return t=dt(t,!0,!0),Bt(e,(function(e){return!Vt(t,e)}))})),mr=i((function(e,t){return gr(e,t)}));function vr(e,t,r,o){c(t)||(o=r,r=t,t=!1),null!=r&&(r=De(r,o));for(var n=[],i=[],a=0,s=G(e);a<s;a++){var l=e[a],u=r?r(l,a,e):l;t&&!r?(a&&i===u||n.push(l),i=u):r?Vt(i,u)||(i.push(u),n.push(l)):Vt(n,l)||n.push(l)}return n}var br=i((function(e){return vr(dt(e,!0,!0))}));function _r(e){for(var t=[],r=arguments.length,o=0,n=G(e);o<n;o++){var i=e[o];if(!Vt(t,i)){var a;for(a=1;a<r;a++)if(!Vt(arguments[a],i))break;a===r&&t.push(i)}}return t}function Er(e){for(var t=e&&qt(e,G).length||0,r=Array(t),o=0;o<t;o++)r[o]=Wt(e,o);return r}var Or=i(Er);function yr(e,t){for(var r={},o=0,n=G(e);o<n;o++)t?r[e[o]]=t[o]:r[e[o][0]]=e[o][1];return r}function Sr(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var o=Math.max(Math.ceil((t-e)/r),0),n=Array(o),i=0;i<o;i++,e+=r)n[i]=e;return n}function Tr(e,t){if(null==t||t<1)return[];var r=[],o=0,i=e.length;while(o<i)r.push(n["q"].call(e,o,o+=t));return r}function Cr(e,t){return e._chain?Y(t).chain():t}function Rr(e){return Pt(me(e),(function(t){var r=Y[t]=e[t];Y.prototype[t]=function(){var e=[this._wrapped];return n["o"].apply(e,arguments),Cr(this,r.apply(Y,e))}})),Y}Pt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=n["a"][e];Y.prototype[e]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0]),Cr(this,r)}})),Pt(["concat","join","slice"],(function(e){var t=n["a"][e];Y.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Cr(this,e)}}));var kr=Y,Ir=Rr(o);Ir._=Ir;var jr=Ir},c471:function(e,t,r){var o=r("ee67"),n=Math.max;function i(e,t,r){return t=n(void 0===t?e.length-1:t,0),function(){var i=arguments,a=-1,s=n(i.length-t,0),l=Array(s);while(++a<s)l[a]=i[t+a];a=-1;var c=Array(t+1);while(++a<t)c[a]=i[a];return c[t]=r(l),o(e,this,c)}}e.exports=i},c532:function(e,t,r){"use strict";var o=r("1d2b"),n=Object.prototype.toString;function i(e){return"[object Array]"===n.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===n.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function d(e){return"string"===typeof e}function p(e){return"number"===typeof e}function h(e){return null!==e&&"object"===typeof e}function f(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e){return"[object Date]"===n.call(e)}function m(e){return"[object File]"===n.call(e)}function v(e){return"[object Blob]"===n.call(e)}function b(e){return"[object Function]"===n.call(e)}function _(e){return h(e)&&b(e.pipe)}function E(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function O(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function T(){var e={};function t(t,r){f(e[r])&&f(t)?e[r]=T(e[r],t):f(t)?e[r]=T({},t):i(t)?e[r]=t.slice():e[r]=t}for(var r=0,o=arguments.length;r<o;r++)S(arguments[r],t);return e}function C(e,t,r){return S(t,(function(t,n){e[n]=r&&"function"===typeof t?o(t,r):t})),e}function R(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:i,isArrayBuffer:l,isBuffer:s,isFormData:c,isArrayBufferView:u,isString:d,isNumber:p,isObject:h,isPlainObject:f,isUndefined:a,isDate:g,isFile:m,isBlob:v,isFunction:b,isStream:_,isURLSearchParams:E,isStandardBrowserEnv:y,forEach:S,merge:T,extend:C,trim:O,stripBOM:R}},c6b6:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},c6cd:function(e,t,r){var o=r("da84"),n=r("ce4e"),i="__core-js_shared__",a=o[i]||n(i,{});e.exports=a},c77d:function(e,t,r){var o=r("edb4"),n="__lodash_hash_undefined__";function i(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?n:t,this}e.exports=i},c8af:function(e,t,r){"use strict";var o=r("c532");e.exports=function(e,t){o.forEach(e,(function(r,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[o])}))}},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(o){"object"===typeof window&&(r=window)}e.exports=r},c8d8:function(e,t){function r(){}e.exports=r},c975:function(e,t,r){"use strict";var o=r("23e7"),n=r("4d64").indexOf,i=r("a640"),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,l=i("indexOf");o({target:"Array",proto:!0,forced:s||!l},{indexOf:function(e){return s?a.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},ca36:function(e,t,r){var o=r("f04e"),n=r("ad76"),i=r("766c");function a(e){return o(e,i,n)}e.exports=a},ca84:function(e,t,r){var o=r("5135"),n=r("fc6a"),i=r("4d64").indexOf,a=r("d012");e.exports=function(e,t){var r,s=n(e),l=0,c=[];for(r in s)!o(a,r)&&o(s,r)&&c.push(r);while(t.length>l)o(s,r=t[l++])&&(~i(c,r)||c.push(r));return c}},caf0:function(e,t,r){var o=r("fdb7"),n=r("48a9"),i=r("ebd6"),a="[object Null]",s="[object Undefined]",l=o?o.toStringTag:void 0;function c(e){return null==e?void 0===e?s:a:l&&l in Object(e)?n(e):i(e)}e.exports=c},cb86:function(e,t,r){var o=r("b882"),n=r("d7b7"),i=r("ad76"),a=r("796c"),s=Object.getOwnPropertySymbols,l=s?function(e){var t=[];while(e)o(t,i(e)),e=n(e);return t}:a;e.exports=l},cbf5:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("c8ba"))},cc12:function(e,t,r){var o=r("da84"),n=r("861d"),i=o.document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},cca6:function(e,t,r){var o=r("23e7"),n=r("60da");o({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},cdf9:function(e,t,r){var o=r("825a"),n=r("861d"),i=r("f069");e.exports=function(e,t){if(o(e),n(t)&&t.constructor===e)return t;var r=i.f(e),a=r.resolve;return a(t),r.promise}},ce45:function(e,t,r){var o=r("dc53");function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}e.exports=n},ce4e:function(e,t,r){var o=r("da84"),n=r("9112");e.exports=function(e,t){try{n(o,e,t)}catch(r){o[e]=t}return t}},cee4:function(e,t,r){"use strict";var o=r("c532"),n=r("1d2b"),i=r("0a06"),a=r("4a7b"),s=r("2444");function l(e){var t=new i(e),r=n(i.prototype.request,t);return o.extend(r,i.prototype,t),o.extend(r,t),r}var c=l(s);c.Axios=i,c.create=function(e){return l(a(c.defaults,e))},c.Cancel=r("7a77"),c.CancelToken=r("8df4"),c.isCancel=r("2e67"),c.all=function(e){return Promise.all(e)},c.spread=r("0df6"),c.isAxiosError=r("5f02"),e.exports=c,e.exports.default=c},cfa1:function(e,t,r){var o=r("92a4");function n(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}e.exports=n},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,r){var o=r("428f"),n=r("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(o[e])||i(n[e]):o[e]&&o[e][t]||n[e]&&n[e][t]}},d0fc:function(e,t,r){var o=r("48e7"),n=Array.prototype,i=n.splice;function a(e){var t=this.__data__,r=o(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():i.call(t,r,1),--this.size,!0}e.exports=a},d11d:function(e,t){function r(e,t){return e.has(t)}e.exports=r},d193:function(e,t){var r=Array.isArray;e.exports=r},d1e7:function(e,t,r){"use strict";var o={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!o.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:o},d28b:function(e,t,r){var o=r("746f");o("iterator")},d2b2:function(e,t,r){!function(t,r){e.exports=r()}("undefined"!=typeof self&&self,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoWebSocket=t.LoggerStateCenter=t.ZegoDataReport=t.ZegoLogger=t.LinkedList=t.ListNode=t.getReportSeq=t.getSeq=t.REPORT_ACTION=t.E_CLIENT_TYPE=t.ENUM_PUSH_SIGNAL_SUB_CMD=t.ENUM_SIGNAL_SUB_CMD=t.SERVER_ERROR_CODE=t.ENUM_STREAM_UPDATE_CMD=t.MINIUM_HEARTBEAT_INTERVAL=t.ENUM_NETWORK_STATE=t.ENUM_RUN_STATE=t.MAX_TRANS_DATA_LENGTH=t.MAX_TRANS_TYPE_LENGTH=t.MAX_MIX_TASK_ID_LENGTH=t.MAX_MESSAGE_LENGTH=t.MAX_ROOM_ID_LENGTH=t.MAX_USER_NAME_LENGTH=t.MAX_USER_ID_LENGTH=t.MAX_STREAM_ID_LENGTH=t.MAX_TRY_HEARTBEAT_COUNT=t.SEND_MSG_TIMEOUT=t.SEND_MSG_RESET=t.MAX_TRY_CONNECT_COUNT=t.ENUM_CONNECT_STATE=t.ENUM_SCREEM_RESOLUTION_TYPE=t.ENUM_RESOLUTION_TYPE=t.ENUM_SIGNAL_STATE=t.ERROR_CODES=t.ENUM_REMOTE_TYPE=t.LOG_LEVEL=t.ENUM_LOG_LEVEL=t.ROOMVERSION=t.PROTO_VERSION=void 0,t.PROTO_VERSION="1.9.0",t.ROOMVERSION="V1",function(e){e[e.debug=0]="debug",e[e.info=1]="info",e[e.warn=2]="warn",e[e.error=3]="error",e[e.report=99]="report",e[e.disable=100]="disable"}(t.ENUM_LOG_LEVEL||(t.ENUM_LOG_LEVEL={})),t.LOG_LEVEL={debug:0,info:1,warn:2,error:3,report:99,disable:100},function(e){e[e.disable=0]="disable",e[e.websocket=1]="websocket",e[e.https=2]="https"}(t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={})),t.ERROR_CODES={ROOM_SESSION_ID_ERR:1000000152,FETCH_TRANS_UNKNOWN_CHANNEL:1000001108,FETCH_TRANS_UNKNOWN_TYPE:1000001109,FETCH_TRANS_WRONG_SEQ:1000001110},function(e){e[e.disconnected=0]="disconnected",e[e.connecting=1]="connecting",e[e.connected=2]="connected"}(t.ENUM_SIGNAL_STATE||(t.ENUM_SIGNAL_STATE={})),t.ENUM_RESOLUTION_TYPE={LOW:{width:320,height:240,frameRate:15,bitRate:300},MEDIUM:{width:640,height:480,frameRate:15,bitRate:800},HIGH:{width:1280,height:720,frameRate:20,bitRate:1500}},t.ENUM_SCREEM_RESOLUTION_TYPE={LOW:{frameRate:20,bitRate:800},MEDIUM:{frameRate:15,bitRate:1200},HIGH:{frameRate:5,bitRate:2e3}},t.ENUM_CONNECT_STATE={disconnect:0,connecting:1,connected:2},t.MAX_TRY_CONNECT_COUNT=1,t.SEND_MSG_RESET=2,t.SEND_MSG_TIMEOUT=1,t.MAX_TRY_HEARTBEAT_COUNT=5,t.MAX_STREAM_ID_LENGTH=256,t.MAX_USER_ID_LENGTH=64,t.MAX_USER_NAME_LENGTH=256,t.MAX_ROOM_ID_LENGTH=128,t.MAX_MESSAGE_LENGTH=1024,t.MAX_MIX_TASK_ID_LENGTH=256,t.MAX_TRANS_TYPE_LENGTH=128,t.MAX_TRANS_DATA_LENGTH=4096,function(e){e[e.logout=0]="logout",e[e.trylogin=1]="trylogin",e[e.login=2]="login"}(t.ENUM_RUN_STATE||(t.ENUM_RUN_STATE={})),function(e){e[e.offline=0]="offline",e[e.online=1]="online"}(t.ENUM_NETWORK_STATE||(t.ENUM_NETWORK_STATE={})),t.MINIUM_HEARTBEAT_INTERVAL=3e3,t.ENUM_STREAM_UPDATE_CMD={added:12001,deleted:12002,updated:12003},t.SERVER_ERROR_CODE=1e4,t.ENUM_SIGNAL_SUB_CMD={none:0,joinLiveRequest:1001,joinLiveResult:1002,joinLiveInvite:1003,joinLiveStop:1004},t.ENUM_PUSH_SIGNAL_SUB_CMD={none:0,pushJoinLiveRequest:11001,pushJoinLiveResult:11002,pushJoinLiveInvite:11003,pushJoinLiveStop:11004},function(e){e[e.ClientType_None=0]="ClientType_None",e[e.ClientType_H5=1]="ClientType_H5",e[e.ClientType_SmallProgram=2]="ClientType_SmallProgram",e[e.ClientType_Webrtc=3]="ClientType_Webrtc"}(t.E_CLIENT_TYPE||(t.E_CLIENT_TYPE={})),t.REPORT_ACTION={eventStart:"eventStart",eventEndWithMsgInfo:"eventEndWithMsgInfo",addEventMsg:"addEventMsg",addEvent:"addEvent",eventEnd:"eventEnd",addMsgInfo:"addMsgInfo"},t.getSeq=(o=1,function(){return o++}),t.getReportSeq=function(){var e=1;return function(){return e++}}();var n=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id?this._id:null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),e.prototype.hasNext=function(){return this.next&&this.next.id},e.prototype.hasPrev=function(){return this.prev&&this.prev.id},e}();t.ListNode=n;var i=function(){function e(){this.start=new n,this.end=new n,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}return e.prototype.insertBefore=function(e,t){var r=new n(this._idCounter,t);return r.next=e,r.prev=e.prev,e.prev&&(e.prev.next=r),e.prev=r,++this._idCounter,++this._numNodes,r},e.prototype.addLast=function(e){return this.insertBefore(this.end,e)},e.prototype.add=function(e){return this.addLast(e)},e.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},e.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},e.prototype.size=function(){return this._numNodes},e.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(e>=0)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw"Index out of bounds.";return r},e.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},e.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},e.prototype.removeFirst=function(){var e=null;return this._numNodes>0&&this.start.next&&(e=this.remove(this.start.next)),e},e.prototype.removeLast=function(){var e=null;return this._numNodes>0&&this.end.prev&&(e=this.remove(this.end.prev)),e},e.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},e.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},e.prototype.find=function(e){for(var t=this.start,r=!1,o=null;t.hasNext()&&!r;)e(t=t.next)&&(o=t,r=!0);return o},e.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},e.prototype.push=function(e){return this.addLast(e)},e.prototype.unshift=function(e){this._numNodes>0?this.insertBefore(this.start.next,e):this.insertBefore(this.end,e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(){return this.removeFirst()},e}();t.LinkedList=i;var a=r(14);Object.defineProperty(t,"ZegoLogger",{enumerable:!0,get:function(){return a.ZegoLogger}}),Object.defineProperty(t,"ZegoDataReport",{enumerable:!0,get:function(){return a.ZegoDataReport}}),Object.defineProperty(t,"LoggerStateCenter",{enumerable:!0,get:function(){return a.LoggerStateCenter}}),Object.defineProperty(t,"createZegoWebSocket",{enumerable:!0,get:function(){return a.createZegoWebSocket}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={SERVER:{code:0,msg:"liverooom cmd error"},SUCCESS:{code:0,msg:"success."},INIT:{code:2000000001,msg:"init sdk wrong"},NOT_LOGIN:{code:1000002,msg:"not login"},NETWORK_BROKEN:{code:1000017,msg:"network is broken"},INPUT_PARAM:{code:1100001,msg:"input parm error."},TIMEOUT:{code:1100002,msg:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},INIT_SDK_WRONG:{code:1101e3,msg:"init sdk wrong"},USER_ID_NULL:{code:1002005,msg:"user ID is empty"},USER_ID_INVALID_CHARACTER:{code:1002006,msg:"user ID contains illegal characters"},USER_ID_TOO_LONG:{code:1002007,msg:"user ID is too long"},USER_NAME_NULL:{code:1002008,msg:"username is empty"},USER_NAME_TOO_LONG:{code:1002010,msg:"username is too long"},ROOM_ID_NULL:{code:1002011,msg:"room ID is empty"},ROOM_ID_INVALID_CHARACTER:{code:1002012,msg:"room ID contains illegal characters"},ROOM_ID_TOO_LONG:{code:1002013,msg:"room ID is too long"},ROOM_NOT_EXIST:{code:1002014,msg:"room not exist"},LOGIN_TIMEOUT:{code:1002031,msg:"login timeout"},ROOM_MAX_USER_COUNT:{code:1002034,msg:"users logging into the room exceeds the maximum number"},MULTIPLE_LOGIN_KICKOUT:{code:1002050,msg:"kickout may be the same user ID login other"},ROOM_RETRY_TIMEOUT:{code:1002053,msg:"network is broken and login fail."},MANUAL_KICKOUT:{code:1002055,msg:"server has sent a signal to kick out"},REPEATEDLY_LOGIN:{code:1002056,msg:"user repeatedly login"},REPEATEDLY_ENTER_ROOM:{code:1002057,msg:"user repeatedly enter room"},ALREADY_LOGIN:{code:1002058,msg:"user already logged in"},ROOM_INNER_ERROR:{code:1002099,msg:"room inner error"},HEARTBEAT_TIMEOUT:{code:1102001,msg:"heartbeat timeout."},PARSE_JSON_ERROR:{code:1102011,msg:"parse json error."},LOGIN_PROCESSING:{code:1102012,msg:"login is processing."},LIVEROMM_REQUEST_ERROR:{code:1102013,msg:"liveroom request error."},ZPUSH_REQUEST_FAIL:{code:1102014,msg:"zpush request fail."},LOGIN_STATE_WRONG:{code:1102015,msg:"user login state is wrong."},TOKEN_ERROR:{code:1102016,msg:"token error"},DIAPATCH_ERROR:{code:1102017,msg:"dispatch error"},TOKEN_EXPIRED:{code:1102018,msg:"token expired"},SUBCMD_ERROR:{code:1102019,msg:"subcmd error."},ZEGO_AUTH_ERROR:{code:1102020,msg:"zego auth error."},BIZ_CHANNEL_ERROR:{code:1102021,msg:"biz channel error."},TRANS_FREQUENTLY:{code:1102022,msg:"trans send frequently"},IM_CONTENT_NULL:{code:1009001,msg:"message content is empty"},IM_CONTENT_TOO_LONG:{code:1009002,msg:"message content is too long"},IM_SEND_FAILED:{code:1009010,msg:"failed to send message"},FREQ_LIMITED:{code:1109001,msg:"frequency limited."}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZEGO_RTM_ACTION=void 0,function(e){e.ZEGOEXPRESSWEBRTM_CONSTRUCTOR="zm.0",e.ZEGOEXPRESSWEBRTM_BIND_WINDOW_LISTENER="zm.wl",e.ZEGOEXPRESSWEBRTM_SET_LOG_CONFIG="zm.slf",e.ZEGOEXPRESSWEBRTM_SET_DEBUG_VERBOSE="zm.sdv",e.ZEGOEXPRESSWEBRTM_LOGIN_ROOM="zm.lg",e.ZEGOEXPRESSWEBRTM_LOGOUT_ROOM="zm.lo",e.ZEGOEXPRESSWEBRTM_SEND_CUSTOM="zm.scc",e.ZEGOEXPRESSWEBRTM_SEND_BCM="zm.sbcm",e.ZEGOEXPRESSWEBRTM_SEND_RLM="zm.srlm",e.ZEGOEXPRESSWEBRTM_SEND_BRM="zm.sbrm",e.ZEGOEXPRESSWEBRTM_SEND_RAM="zm.sram",e.ZEGOEXPRESSWEBRTM_ON="zm.on",e.ZEGOEXPRESSWEBRTM_OFF="zm.off",e.ZEGOEXPRESSWEBRTM_RENEWTOKEN="zm.rntk",e.ZEGOEXPRESSWEBRTM_RESETTOKENTIMER="zm.rstt",e.ZEGOEXPRESSWEBRTM_ENABLE_MULTI_ROOM="zm.emr",e.ZEGOEXPRESSWEBRTM_SEND_PB="zm.spb",e.ZEGOEXPRESSWEBRTM_GET_HEADER="zm.gh",e.ROOM_LOGIN_ROOM="zm.rm.lg",e.ROOM_TRY_LOGIN="zm.rm.tl",e.ROOM_OPEN_HANDLER="zm.rm.op",e.ROOM_HANDLE_LOGINRSP="zm.rm.lgr",e.ROOM_CLOSEHANDLER="zm.rm.clh",e.ROOM_LOGOUT="zm.rm.lo",e.ROOM_RESET_ROOM="zm.rm.rr",e.ROOM_DISCONNECT="zm.rm.dcn",e.ROOM_KICK_OUT="zm.rm.kco",e.ROOM_STATUS_CALLBACK="zm.rm.scb",e.ROOM_RESETTOKEN_TIMER="zm.rm.rst",e.HEARTBEAT_START="zm.hb.st",e.HEARTBEAT_HEARTBEAT_RSP="zm.hb.rsp",e.HEARTBEAT_RESET="zm.hb.rst",e.SERVICE_PUSH="zm.sv.ps",e.SERVICE_SEND="zm.sv.sd",e.USER_LOGIN_RSP="zm.us.lgr",e.USER_FETCH_USER="zm.us.ftu",e.USER_FETCH_USER_RSP="zm.us.urp",e.USER_USER_PUSH="zm.us.uph",e.USER_MERGE_SEQ="zm.us.mg",e.USER_MERGE_TIMEOUT="zm.us.mto",e.USER_MERGE="zm.us.mg",e.USER_HB_PATCH="zm.us.pt",e.MESSAGE_SEND_RELIABLE="zm.msg.sdr",e.MESSAGE_FETCH_RELIABLE="zm.msg.frm",e.MESSAGE_RELIABLE_RSP="zm.msg.rlr",e.MESSAGE_RELIABLE_PUSH="zm.msg.rps",e.MESSAGE_SEND_ROOM_MSG="zm.msg.srm",e.MESSAGE_SEND_CUSTOM_MSG="zm.msg.scm",e.MESSAGE_SEND_BIG_MSG="zm.msg.sbm",e.MESSAGE_BIG_MSG_PUSH="zm.msg.bps",e.MESSAGE_SEND_RELAY_MSG="zm.msg.slm",e.LIVE_SEND_SIGNAL="zm.lv.ssg",e.LIVE_RESPOND_JOIN_LIVE="zm.lv.rjl",e.LIVE_PUSH_SIGNAL="zm.lv.pss",e.STATE_ACTION="zm.st.at",e.ZEGOEXPRESSWEBRTM_LOGIN_HALL="zm.lh",e.ZEGOEXPRESSWEBRTM_LOGOUT_HALL="zm.loh",e.ZEGOEXPRESSWEBRTM_SEND_CUSTOM_MESSAGE="zm.scm"}(t.ZEGO_RTM_ACTION||(t.ZEGO_RTM_ACTION={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientUtil=void 0;var o=r(15),n=r(0),i=r(1),a=function(){function e(){}return e.checkConfigParam=function(e,t,r){return e&&"number"==typeof e&&this.checkInteger(e)?!(!t||"string"!=typeof t&&!Array.isArray(t)||""==t)||(r.error("ccp.0 server must be string or string array and not empty"),!1):(r.error("ccp.0 appid must be positive integer number and not empty"),!1)},e.checkPriConfigParam=function(e,t,r,o,n){return e&&"number"==typeof e&&this.checkInteger(e)?t&&"string"==typeof t?"object"!=typeof r||"string"!=typeof r.deviceID?(n.error("ccp.0 deviceID must be string and not empty"),!1):1===o||0===o||(n.error("ccp.0 anType must be 0 or 1"),!1):(n.error("ccp.0 dispatchServer must be string and not empty"),!1):(n.error("ccp.0 appid must be positive integer number and not empty"),!1)},e.checkIllegalCharacters=function(e){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\*])+$/.test(e)&&/^[^:/]*$/g.test(e)},e.isUrl=function(e){return!!(e.startsWith("rtmp://")||e.startsWith("https://")&&e.endsWith(".flv")||e.startsWith("https://")&&e.endsWith(".m3u8"))},e.registerCallback=function(e,t,r){var o,n;t.success&&(o=t.success,r[e+"SuccessCallback"]=o),t.error&&(n=t.error,r[e+"ErrorCallback"]=n)},e.actionErrorCallback=function(e,t){return t[e+"ErrorCallback"]},e.actionSuccessCallback=function(e,t){return t[e+"SuccessCallback"]},e.logReportCallback=function(t,r,o,n){e.registerCallback(t,{success:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];e.dataReportEvent(r,o,t,n,i)}},n)},e.proxyRes=function(t,r,o,n){return{interResolve:function(e){t.uploadReport(r),o(e)},interReject:function(o,i){var a;void 0===i&&(i=""),(a=o.code<2e9&&o.code>1e9?e.decodeServerError(o.code,o.msg):{code:o.code,message:o.msg})&&t.addMsgInfo(r,{error:a.code,message:a.message+i}),t.uploadReport(r),n({errorCode:o.code})}}},e.getServerError=function(e){var t={1:"parse json error.",1001:"login is processing.",1002:"liveroom request error.",1003:"zpush connect fail.",1004:"zpush handshake fail.",1005:"zpush login fail.",1006:"user login state is wrong.",1007:"got no zpush addr",1008:"token error",1009:"dispatch error",1010:"token expired",1011:"token format error",2002:"biz channel error",1e9:"liveroom cmd error, code:"};if(0===e)return i.errorCodeList.SUCCESS;var r=i.errorCodeList.ROOM_INNER_ERROR;return r.code=e,r.msg=e>1e9?t[1e9]+e:t[e]?t[e]+" code:"+e:"unknown error code:"+e,r},e.unregisterCallback=function(e,t){delete t[e+"SuccessCallback"],delete t[e+"ErrorCallback"]},e.decodeServerError=function(e,t){var r={code:-1,message:"server error"};return r.code=e>1e9?e-1e9+52e6:e+2002e6,t&&(r.message=t),r},e.getLiveRoomError=function(e){return e>1e9?{1105:"ROOM_MAX_USER_COUNT",1012:"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM",2002:"ROOM_ERROR_AUTHENTICATION_FAILED",2003:"ROOM_ERROR_LOGIN_TIMEOUT"}[e-1e9]||"":{1:"PARSE_JSON_ERROR",1001:"LOGIN_PROCESSING",1002:"LIVEROMM_REQUEST_ERROR",1003:"ZPUSH_REQUEST_FAIL",1004:"ZPUSH_REQUEST_FAIL",1005:"ZPUSH_REQUEST_FAIL",1006:"LOGIN_STATE_WRONG",1007:"ZPUSH_REQUEST_FAIL",1008:"TOKEN_ERROR",1009:"DIAPATCH_ERROR",1010:"TOKEN_EXPIRED",1011:"TOKEN_ERROR",1012:"SUBCMD_ERROR",1101:"ZEGO_AUTH_ERROR",2001:"BIZ_CHANNEL_ERROR",2002:"BIZ_CHANNEL_ERROR"}[e]||"ROOM_INNER_ERROR"},e.getKickoutError=function(e){var t={code:e,message:"kickout reason = "+e};switch(e){case 1:t.code=63000001,t.message="zpush multiple login kickout",t.name="MULTIPLE_LOGIN_KICKOUT";break;case 2:t.code=63000002,t.message="zpush manual kickout",t.name="MANUAL_KICKOUT";break;case 3:t.code=63000003,t.message="kickout reason = "+e;break;case 4:t.code=63000001,t.message="zpush multiple login kickout",t.name="MULTIPLE_LOGIN_KICKOUT";break;default:t.code=e,t.message="kickout reason = "+e}return t},e.dataReportEvent=function(e,t,r,o,n){switch(r){case"eventStart":e.eventStart(t,o);break;case"eventEndWithMsgInfo":e.eventEndWithMsgInfo(t,o,n[0]);break;case"addEventMsg":e.addEventMsg(t,o,n[0],n[1]);break;case"addEvent":e.addEvent(t,o);break;case"eventEnd":e.eventEnd(t,o);break;case"addMsgInfo":e.addMsgInfo(t,n[0])}},e.isKeepTryLogin=function(e){switch(e){case 1002:case 1003:return!0;default:return!1}},e.mergeUserList=function(e,t,r,o){e.debug("msl.0 call");var n,i=[],a=[];r||(r=[]);for(var s=0;s<r.length;s++){n=!1;for(var l=0;l<t.length;l++)if(r[s].userID===t[l].userID){n=!0;break}n||i.push(r[s])}for(var c=0;c<t.length;c++){n=!1;for(var u=0;u<r.length;u++)if(t[c].userID===r[u].userID){n=!0;break}n||a.push(t[c])}for(t.splice(0),s=0;s<r.length;s++)t.push(t[s]);o(i,a),e.debug("msl.0 call success")},e.checkInteger=function(e,t){return 0==t?"number"==typeof e&&e%1==0&&e>=0:"number"==typeof e&&e%1==0&&e>0},e.checkValidNumber=function(e,t,r){return t=t||1,r=r||1e4,"number"==typeof e&&e%1==0&&e>=t&&e<=r},e.generateRandumNumber=function(e){return parseInt(Math.random()*(e+1)+"",10)},e.uuid=function(e,t){var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];if(t=t||o.length,e)for(r=0;r<e;r++)n[r]=o[0|Math.random()*t];else{var i=void 0;for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",r=0;r<36;r++)n[r]||(i=0|16*Math.random(),n[r]=o[19==r?3&i|8:i])}return n.join("")},e.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var o=0;o<r;o++){var n=parseInt(e[o]),i=parseInt(t[o]);if(n>i)return 1;if(n<i)return-1}return 0},e.getBrowser=function(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),r=-1!=e.indexOf("Firefox"),o=null!=window.opr,n=e.indexOf("Chrome")&&window.chrome,i=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version");return t?"IE":r?"Firefox":o?"Opera":n?"Chrome":i?"Safari":"Unkown"},e.isTestEnv=function(e){return-1!=e.indexOf("wss://wssliveroom-test.zego.im/ws")||-1!=e.indexOf("wss://test2-wsliveroom-api.zego.im/ws")||-1!=e.indexOf("wss://wsliveroom-test.zegocloud.com/ws")||-1!=e.indexOf("wss://wsliveroom-test.zego.im/ws")||-1!=e.indexOf("wss://webliveroom-test.zego.im/ws")||-1!=e.indexOf("wss://webliveroom-test-bak.zego.im/ws")||-1!=e.indexOf("wss://webliveroom-hk-test.zegocloud.com/ws")||-1!=e.indexOf("wss://webliveroom-hk-test-bak.zegocloud.com/ws")},e.getLogLevel=function(e){return n.LOG_LEVEL[e]},e.getUint64=function(e,t,r){var o=r.getUint32(e,t),n=r.getUint32(e+4,t),i=t?o+Math.pow(2,32)*n:Math.pow(2,32)*o+n;return Number.isSafeInteger(i)||console.warn(i,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),i},e.decodeTokenExpire=function(t){try{var r=Uint8Array.from(o.Base64.base64decode(t),(function(e){return e.charCodeAt(0)})),n=new DataView(r.buffer),i=void 0;return i="function"==typeof n.getBigInt64?n.getBigUint64(0):e.getUint64(0,!1,n),Number(i>0?i:n.getBigUint64(0,!0))}catch(e){console.error("token error")}return-1},e}();t.ClientUtil=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoRTMLogEvent=void 0;var o=r(1),n=function(e){return e};t.ZegoRTMLogEvent={kZegoTaskInitSetting:{event:"/sdk/init",error:{kInvalidParamError:o.errorCodeList.INPUT_PARAM},system_info:navigator?navigator.appVersion:""},kZegoTaskSetDebug:{event:"/sdk/set_debug",debug:n},kZegoTaskSetLog:{event:"/sdk/set_log_config",error:{kInvalidParamError:o.errorCodeList.INPUT_PARAM},log_level:function(e){return e},remote_log_level:n,log_url:n},kZegoTaskLoginRoom:{event:"/sdk/login",user_update:n,max_member_count:n,message:n,token:n,error:{ROOM_ID_NULL:o.errorCodeList.ROOM_ID_NULL,INPUT_PARAM:o.errorCodeList.INPUT_PARAM,ROOM_ID_TOO_LONG:o.errorCodeList.ROOM_ID_TOO_LONG,ROOM_ID_INVALID_CHARACTER:o.errorCodeList.ROOM_ID_INVALID_CHARACTER,USER_ID_NULL:o.errorCodeList.USER_ID_NULL,USER_ID_TOO_LONG:o.errorCodeList.USER_ID_TOO_LONG,USER_ID_INVALID_CHARACTER:o.errorCodeList.USER_ID_INVALID_CHARACTER,USER_NAME_NULL:o.errorCodeList.USER_NAME_NULL,USER_NAME_TOO_LONG:o.errorCodeList.USER_NAME_TOO_LONG,REPEATEDLY_LOGIN:o.errorCodeList.REPEATEDLY_LOGIN,LOGIN_TIMEOUT:o.errorCodeList.LOGIN_TIMEOUT,INNER_ERROR:o.errorCodeList.ROOM_INNER_ERROR,NETWORK_BROKEN:o.errorCodeList.NETWORK_BROKEN},subEvent:{create_socket:{event:"create_socket",server:n,try_cnt:n},liveroom_login:{event:"liveroom_login",server:n,respond_info:n}}},kZegoTaskReNewToken:{event:"/sdk/reNewToken",error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,NOT_LOGIN:o.errorCodeList.NOT_LOGIN}},kZegoTaskLogoutRoom:{event:"/sdk/logout",error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,ROOM_NOT_EXIST:o.errorCodeList.ROOM_NOT_EXIST}},kZegoTaskReLoginRoom:{event:"/sdk/relogin",error:{ROOM_ID_NULL:o.errorCodeList.ROOM_ID_NULL,ROOM_DISCONNECT:o.errorCodeList.NETWORK_BROKEN},subEvent:{create_socket:{event:"create_socket",server:n,try_cnt:n},liveroom_login:{event:"liveroom_login",server:n,respond_info:n}}},kZegoTaskLoginHall:{event:"/sdk/login_hall",user_update:n,device_id:n,message:n,token:n,device_type:n,an_type:n,room_flag:n,test_environment:n,error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,USER_ID_NULL:o.errorCodeList.USER_ID_NULL,USER_ID_TOO_LONG:o.errorCodeList.USER_ID_TOO_LONG,USER_ID_INVALID_CHARACTER:o.errorCodeList.USER_ID_INVALID_CHARACTER,USER_NAME_NULL:o.errorCodeList.USER_NAME_NULL,USER_NAME_TOO_LONG:o.errorCodeList.USER_NAME_TOO_LONG,REPEATEDLY_LOGIN:o.errorCodeList.REPEATEDLY_LOGIN,LOGIN_TIMEOUT:o.errorCodeList.LOGIN_TIMEOUT,INNER_ERROR:o.errorCodeList.ROOM_INNER_ERROR,NETWORK_BROKEN:o.errorCodeList.NETWORK_BROKEN},subEvent:{dispatch_connection:{event:"dispatch_connection"},create_socket:{event:"create_socket",server:n,try_cnt:n},liveroom_login:{event:"liveroom_login",server:n,respond_info:n}}},kZegoTaskLogoutHall:{event:"/sdk/logout_hall",error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM}},kZegoTaskEnterRoom:{event:"/sdk/enter",role:n,error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,ROOM_ID_NULL:o.errorCodeList.ROOM_ID_NULL,ROOM_ID_TOO_LONG:o.errorCodeList.ROOM_ID_TOO_LONG,ROOM_ID_INVALID_CHARACTER:o.errorCodeList.ROOM_ID_INVALID_CHARACTER,NOT_LOGIN:o.errorCodeList.NOT_LOGIN,REPEATEDLY_ENTER_ROOM:o.errorCodeList.REPEATEDLY_ENTER_ROOM}},kZegoTaskLeaveRoom:{event:"/sdk/leave",error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM}},kZegoTaskReLoginHall:{event:"/sdk/relogin",error:{ROOM_ID_NULL:o.errorCodeList.ROOM_ID_NULL,ROOM_DISCONNECT:o.errorCodeList.NETWORK_BROKEN},subEvent:{create_socket:{event:"create_socket",server:n,try_cnt:n},liveroom_login:{event:"liveroom_login",server:n,respond_info:n}}},kZegoTaskKickout:{event:"/sdk/kickout",user_id:n,error:{}},kZegoTaskRoomKickout:{event:"/sdk/room_kickout",user_id:n,room_id:n,message:n},kZegoTaskLiveRoomHB:{event:"/liveroom/hb",room_sid:n,error:{NOT_LOGIN:o.errorCodeList.NOT_LOGIN,HB_TIMEOUT:o.errorCodeList.TIMEOUT}},kZegoTaskLiveSendRoomBigIM:{event:"/liveroom/send_big_room_message",room_sid:n,error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,IM_CONTENT_NULL:o.errorCodeList.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:o.errorCodeList.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:o.errorCodeList.ROOM_NOT_EXIST}},kZegoTaskLiveRoomSendCustomCommand:{event:"/liveroom/send_custom_command",room_sid:n,error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,IM_CONTENT_NULL:o.errorCodeList.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:o.errorCodeList.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:o.errorCodeList.ROOM_NOT_EXIST}},kZegoTaskLiveRoomSendRoomMessage:{event:"/liveroom/send_room_message",room_sid:n,error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,IM_CONTENT_NULL:o.errorCodeList.IM_CONTENT_NULL,IM_CONTENT_TOO_LONG:o.errorCodeList.IM_CONTENT_TOO_LONG,ROOM_NOT_EXIST:o.errorCodeList.ROOM_NOT_EXIST}},kZegoTaskLiveRoomSendReliableMessage:{event:"/liveroom/send_reliable_message",room_sid:n,error:{INPUT_PARAM:o.errorCodeList.INPUT_PARAM,TRANS_FREQUENTLY:o.errorCodeList.TRANS_FREQUENTLY,ROOM_NOT_EXIST:o.errorCodeList.ROOM_NOT_EXIST}},kZegoTaskLiveGetRoomBigIM:{event:"/liveroom/get_big_room_message"},kZegoTaskLiveRoomGetRoomMessage:{event:"/liveroom/get_room_message",room_sid:n},kZegoTaskLiveRoomGetCustomCommand:{event:"/liveroom/get_custom_command"},kZegoTaskLiveRoomGetUserUpdateInfo:{event:"/liveroom/get_user_update_info",user_update_type:n},kZegoListener:{event:"/sdk/listener"},kZegoEnableMultiRoom:{event:"sdk/enable_multi_room",error:{kInvalidParamError:o.errorCodeList.INPUT_PARAM,kAlreadyLoginError:o.errorCodeList.ALREADY_LOGIN}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TryHandler=void 0;var o=function(){function e(e,t){this.logger=e,this.stateCenter=t,this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryTimer=null,this.maxTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.isOverTime=!1}return e.prototype.init=function(e,t,r,o){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),"number"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),"number"==typeof r&&(this.RETRY_CONTINUE_COUNT=r),"number"==typeof o&&(this.RETRY_MAX_TIME_INTERVAL=o)},e.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryStartTime=0,this.retryActiveCount=1},e}();t.TryHandler=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeatHandler=void 0;var o=r(0),n=r(3),i=r(1),a=r(2),s=r(4),l=3,c=function(){function e(e,t,r,o,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=o,this.room=n,this.tryHeartbeatCount=0,this.heartbeatTimer=null,this.loginHeartbeatTimer=null,this.initCount=0}return e.prototype.init=function(e){var t,r=this;if("PRIVATE"==this.stateCenter.type){t=e.body.hb_interval<o.MINIUM_HEARTBEAT_INTERVAL?o.MINIUM_HEARTBEAT_INTERVAL:e.body.hb_interval;var n=e.body.hb_timeout||4e4;l=n/t+1}else t=e.body.hearbeat_interval<o.MINIUM_HEARTBEAT_INTERVAL?o.MINIUM_HEARTBEAT_INTERVAL:e.body.hearbeat_interval;this.tryHeartbeatCount=0,this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.loginHeartbeatTimer=setTimeout((function(){r.start(t)}),t),this.initCount++},e.prototype.start=function(e){var t=this;this.logger.info(a.ZEGO_RTM_ACTION.HEARTBEAT_START+" call");var r=o.getReportSeq();if(this.dataReport.newReport(r,s.ZegoRTMLogEvent.kZegoTaskLiveRoomHB.event),this.dataReport.addMsgInfo(r,{room_sid:s.ZegoRTMLogEvent.kZegoTaskLiveRoomHB.room_sid(this.room.sessionID)}),!this.room.isLogin())return this.logger.error(a.ZEGO_RTM_ACTION.HEARTBEAT_START+" state error"),this.dataReport.addMsgInfo(r,{error:s.ZegoRTMLogEvent.kZegoTaskLiveRoomHB.error.NOT_LOGIN.code,message:s.ZegoRTMLogEvent.kZegoTaskLiveRoomHB.error.NOT_LOGIN.msg}),void this.dataReport.uploadReport(r);if(++this.tryHeartbeatCount>l)return this.logger.error(a.ZEGO_RTM_ACTION.HEARTBEAT_START+" come to try limit"),this.dataReport.addMsgInfo(r,{error:s.ZegoRTMLogEvent.kZegoTaskLiveRoomHB.error.HB_TIMEOUT.code,message:s.ZegoRTMLogEvent.kZegoTaskLiveRoomHB.error.HB_TIMEOUT.msg}),this.dataReport.uploadReport(r),void this.hbLogout(i.errorCodeList.HEARTBEAT_TIMEOUT);var c=function(e){var o="PRIVATE"==t.stateCenter.type?e.body&&e.body.code:e.body&&e.body.err_code;if(e.header&&e.body){if(0!==o){var a=n.ClientUtil.decodeServerError(e.body.err_code||e.body.code,e.body.err_message||e.body.message);t.dataReport.addMsgInfo(r,{error:a.code,message:a.message+e.body.err_code})}}else t.dataReport.addMsgInfo(r,{error:e.code>0?e.code:i.errorCodeList.ROOM_INNER_ERROR.code,message:e.msg?e.msg:i.errorCodeList.ROOM_INNER_ERROR});t.dataReport.uploadReport(r),"PRIVATE"==t.stateCenter.type?t.handlePrivateHeartbeatRsp(e):t.handleHeartbeatRsp(e)};this.service.heartBeat(c,c,this.room.sessionID,this.room.roomID,this.room.roomSessionID),this.heartbeatInterval=e;var u=this.heartbeatInterval;this.initCount>=2?(u=Math.round(Math.random()*(this.heartbeatInterval+1)),this.initCount=1):u=this.heartbeatInterval,this.heartbeatTimer=setTimeout((function(){t.start(t.heartbeatInterval)}),u),this.logger.info(a.ZEGO_RTM_ACTION.HEARTBEAT_START+" call success")},e.prototype.handleHeartbeatRsp=function(e){return e.body&&e.body.err_code&&0!==e.body.err_code?(this.logger.error(a.ZEGO_RTM_ACTION.HEARTBEAT_HEARTBEAT_RSP+" disconnect, server error=",e.body.err_code),e.body.err_code==o.ERROR_CODES.ROOM_SESSION_ID_ERR?void this.hbLogout(i.errorCodeList.HEARTBEAT_TIMEOUT):void this.hbLogout(n.ClientUtil.getServerError(e.body.err_code))):e.header&&e.body?(this.tryHeartbeatCount=0,this.heartbeatInterval=e.body.hearbeat_interval,this.heartbeatInterval<o.MINIUM_HEARTBEAT_INTERVAL&&(this.heartbeatInterval=o.MINIUM_HEARTBEAT_INTERVAL),this.heartbeatRspNotiFy(e),void this.logger.info(a.ZEGO_RTM_ACTION.HEARTBEAT_HEARTBEAT_RSP+" call success")):(this.logger.error(a.ZEGO_RTM_ACTION.HEARTBEAT_HEARTBEAT_RSP+" disconnect, error=",JSON.stringify(e)),void this.hbLogout(e))},e.prototype.handlePrivateHeartbeatRsp=function(e){if(0!==e.body.code)return this.logger.error(a.ZEGO_RTM_ACTION.HEARTBEAT_HEARTBEAT_RSP+" disconnect, server error=",e.body.code),e.body.code==o.ERROR_CODES.ROOM_SESSION_ID_ERR?void this.hbLogout(i.errorCodeList.HEARTBEAT_TIMEOUT):void this.hbLogout(n.ClientUtil.getServerError(e.body.code));this.tryHeartbeatCount=0,this.heartbeatInterval=e.body.hb_interval,this.heartbeatInterval<o.MINIUM_HEARTBEAT_INTERVAL&&(this.heartbeatInterval=o.MINIUM_HEARTBEAT_INTERVAL),this.heartbeatRspNotiFy(e),this.logger.info(a.ZEGO_RTM_ACTION.HEARTBEAT_HEARTBEAT_RSP+" call success")},e.prototype.heartbeatRspNotiFy=function(e){},e.prototype.hbLogout=function(e){},e.prototype.resetHeartbeat=function(){clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null,clearTimeout(this.loginHeartbeatTimer),this.loginHeartbeatTimer=null,this.tryHeartbeatCount=0,this.initCount=0,this.logger.info(a.ZEGO_RTM_ACTION.HEARTBEAT_RESET+" call success")},e}();t.HeartBeatHandler=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveHandler=void 0;var o=r(0),n=r(2),i=r(3),a=r(1),s=function(){function e(e,t,r,o){this.logger=e,this.stateCenter=t,this.service=r,this.room=o,this.joinLiveCallbackMap={},this.joinLiveRequestMap={}}return e.prototype.resetLiveHandler=function(){this.joinLiveCallbackMap={},this.joinLiveRequestMap={}},e.prototype.getSignalCmdContent=function(e,t,r){var o={request_id:e,room_id:this.room.roomID,from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,to_userid:t};return null!=r&&(o.result=r),JSON.stringify(o)},e.prototype.requestJoinLive=function(e,t,r,n){var i=this.stateCenter.getRequestId(),a=this.getSignalCmdContent(i,e);return null!=n&&(this.joinLiveCallbackMap[i]=n,this.sendSignalCmd(o.ENUM_SIGNAL_SUB_CMD.joinLiveRequest,a,e,t,r),!0)},e.prototype.sendSignalCmd=function(e,t,r,o,s){if(this.room.isLogin()){var l={sub_cmd:e,signal_msg:t,dest_id_name:[r]};this.service.sendSignalCmd(l,(function(e){o&&o(e.header.seq)}),(function(e){var t=a.errorCodeList.ROOM_INNER_ERROR;if(!e.header||!e.body)return e.code&&e.msg&&(t=e),void(s&&s(t,0));s&&s(i.ClientUtil.getServerError(e.body.err_code),e.header.seq)}),this.room.sessionID,this.room.roomID,this.room.roomSessionID),this.logger.info(n.ZEGO_RTM_ACTION.LIVE_SEND_SIGNAL+" call success"+e)}else this.logger.error(n.ZEGO_RTM_ACTION.LIVE_SEND_SIGNAL+" state error")},e.prototype.inviteJoinLive=function(e,t,r,n){var i=this.stateCenter.getRequestId(),a=this.getSignalCmdContent(i,e);return null!=n&&(this.joinLiveCallbackMap[i]=n,this.sendSignalCmd(o.ENUM_SIGNAL_SUB_CMD.joinLiveInvite,a,e,t,r),!0)},e.prototype.endJoinLive=function(e,t,r){var n=this.stateCenter.getRequestId(),i=this.getSignalCmdContent(n,e);return this.sendSignalCmd(o.ENUM_SIGNAL_SUB_CMD.joinLiveStop,i,e,t,r),!0},e.prototype.respondJoinLive=function(e,t,r,i){var a=this.joinLiveRequestMap[e];if(!a)return this.logger.info(n.ZEGO_RTM_ACTION.LIVE_RESPOND_JOIN_LIVE+" no dest id name"),!1;var s=0;!0===t&&(s=1);var l=this.getSignalCmdContent(e,a,s);return this.sendSignalCmd(o.ENUM_SIGNAL_SUB_CMD.joinLiveResult,l,a,r,i),delete this.joinLiveRequestMap[e],!0},e.prototype.handlePushSignalMsg=function(e){var t=JSON.parse(e.body.signal_msg);switch(this.logger.info(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" hpsm= ",t),e.body.sub_cmd){case o.ENUM_PUSH_SIGNAL_SUB_CMD.pushJoinLiveRequest:this.handlePushJoinLiveRequestMsg(t);break;case o.ENUM_PUSH_SIGNAL_SUB_CMD.pushJoinLiveResult:this.handlePushJoinLiveResultMsg(t);break;case o.ENUM_PUSH_SIGNAL_SUB_CMD.pushJoinLiveInvite:this.handlePushJoinLiveInviteMsg(t);break;case o.ENUM_PUSH_SIGNAL_SUB_CMD.pushJoinLiveStop:this.handlePushJoinLiveStopMsg(t)}},e.prototype.handlePushJoinLiveRequestMsg=function(e){var t=e.request_id;if("string"==typeof t){var r=e.from_userid;"string"==typeof r?(this.joinLiveRequestMap[t]=r,this.onRecvJoinLiveRequest(t,e.from_userid,e.from_username,e.room_id),this.logger.info(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" onRecvJoinLiveRequest "+r)):this.logger.error(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" no from user")}else this.logger.error(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" no requestId")},e.prototype.onRecvJoinLiveRequest=function(e,t,r,o){this.stateCenter.actionListener("recvJoinLiveRequest",e,t,r,o)},e.prototype.handlePushJoinLiveInviteMsg=function(e){var t=e.request_id;if("string"==typeof t){var r=e.from_userid;"string"==typeof r?(this.joinLiveRequestMap[t]=r,this.onRecvInviteJoinLiveRequest(t,e.from_userid,e.from_username,e.room_id),this.logger.info(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" onRecvInviteJoinLiveRequest "+r)):this.logger.error(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" no from user")}else this.logger.error(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+"no requestId")},e.prototype.onRecvInviteJoinLiveRequest=function(e,t,r,o){this.stateCenter.actionListener("recvInviteJoinLiveRequest",e,t,r,o)},e.prototype.handlePushJoinLiveResultMsg=function(e){var t=e.request_id;if("string"==typeof t){var r=e.result;if(null!=r){var o=1==r;if(this.joinLiveCallbackMap[t]){var i=this.joinLiveCallbackMap[t];if(!i)return void this.logger.info(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" no callback");this.logger.info(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" joinLiveRequest/invite result "+o),delete this.joinLiveCallbackMap[t],i(o,e.from_userid,e.from_username)}}else this.logger.info(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" no result")}else this.logger.error(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" no requestId")},e.prototype.handlePushJoinLiveStopMsg=function(e){var t=e.request_id;"string"==typeof t?(this.logger.info(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" onRecvEndJoinLiveCommand "+e.from_userid),this.onRecvEndJoinLiveCommand(t,e.from_userid,e.from_username,e.room_id)):this.logger.error(n.ZEGO_RTM_ACTION.LIVE_PUSH_SIGNAL+" no requestId")},e.prototype.onRecvEndJoinLiveCommand=function(e,t,r,o){this.stateCenter.actionListener("recvEndJoinLiveCommand",e,t,r,o)},e}();t.LiveHandler=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var o=r(0),n=r(3),i=r(1),a=r(2),s=r(4),l=function(){function e(e,t,r,o,n){var i=this;this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=o,this.room=n,this.sendRoomMsgTime=0,this.sendRoomMsgInterval=500,this.bigImCallbackMap={},this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImTimer=null,this.relayTimer=null,this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0,this.isReliable=!1,this.transSeqMap={},this.onRecvReliableMessage=function(e){var t=e.map((function(e){return{key:e.trans_type,value:e.trans_data,updateUser:{userID:e.trans_idname,userName:e.trans_nickname},updateTime:e.trans_send_time}}));i.stateCenter.actionListener("roomExtraInfoUpdate",i.room.roomID,t),e.forEach((function(e){i.stateCenter.actionListener("recvReliableMessage",e.trans_type,e.trans_seq,e.trans_data)}))},this.realyMessageList=[]}return e.prototype.loginRsp=function(e){var t=this;if(null!=e.body.ret_timestamp&&"string"==typeof e.body.ret_timestamp){var r=parseFloat(e.body.ret_timestamp);this.serverTimeOffset=0==r?0:e.body.ret_timestamp-(new Date).getTime()}if(e.body.bigim_time_window&&"number"==typeof e.body.bigim_time_window&&(this.bigimTimeWindow=e.body.bigim_time_window),e.body.dati_time_window&&"number"==typeof e.body.dati_time_window&&(this.datiTimeWindow=e.body.dati_time_window),e.body.trans_seqs)for(var o=0;o<e.body.trans_seqs.length;o++){var n=e.body.trans_seqs[o].trans_channel,i=e.body.trans_seqs[o].trans_seq_array;(i=i.filter((function(e){var r=e.trans_type,o=e.trans_seq;return!t.transSeqMap[r]||t.transSeqMap[r].seq<o}))).length>0&&this.fetchReliableMessage(n,i)}},e.prototype.sendReliableMessage=function(e,t,r,o){var l=this;if(this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_RELIABLE+" call"),this.isReliable)return this.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_SEND_RELIABLE+" send too often"),void o(s.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.error.TRANS_FREQUENTLY);this.transSeqMap[e]||(this.transSeqMap[e]={seq:0});var c={trans_type:e,trans_data:t,trans_local_seq:this.transSeqMap[e].seq,trans_channel:"clt"};this.isReliable=!0,this.service.sendReliableMessage(c,(function(t){l.transSeqMap[e].seq=t.body.trans_seq,l.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_RELIABLE+" trans "+e+" seq "+t.body.trans_seq),l.isReliable=!1,r({seq:t.header.seq,errorCode:0})}),(function(e){var t=i.errorCodeList.ROOM_INNER_ERROR;e.body&&e.body.err_code?(t=n.ClientUtil.getServerError(e.body.err_code),l.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_SEND_ROOM_MSG+"  "+t.msg)):t=e==i.errorCodeList.TIMEOUT?i.errorCodeList.IM_SEND_FAILED:e,l.isReliable=!1,o(t)}),this.room.sessionID,this.room.roomID,this.room.roomSessionID)},e.prototype.fetchReliableMessage=function(e,t){var r=this,o={trans_channel:e,fetch_array:t},n=function(e){r.handleFetchTransRsp(e)};this.service.fetchReliableMessage(o,n,n,this.room.sessionID,this.room.roomID,this.room.roomSessionID),this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_FETCH_RELIABLE+" call success")},e.prototype.handleFetchTransRsp=function(e){if(e.body&&0!=e.body.err_code)this.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_RELIABLE_RSP+" trans send error "+e.body.err_code);else if(e.header&&e.body){var t=e.body.trans_fetch_results,r=[];if(Array.isArray(t)&&t.length>0)for(var n=0;n<t.length;n++){var i=t[n];if(i.err_code!==o.ERROR_CODES.FETCH_TRANS_UNKNOWN_TYPE){var s=i.trans_type,l=i.trans_seq;i.err_code!==o.ERROR_CODES.FETCH_TRANS_WRONG_SEQ?(!this.transSeqMap[s]||this.transSeqMap[s].seq<l?(this.transSeqMap[s]={seq:l},r.push(i)):this.logger.warn(a.ZEGO_RTM_ACTION.MESSAGE_RELIABLE_RSP+" fetch trans seq wrong"),r.length>0&&this.onRecvReliableMessage(r)):(this.logger.warn(a.ZEGO_RTM_ACTION.MESSAGE_RELIABLE_RSP+" fetch trans seq is wrong "+i.err_code),this.transSeqMap[s]={seq:l})}else this.logger.warn(a.ZEGO_RTM_ACTION.MESSAGE_RELIABLE_RSP+" fetch trans unknown type "+i.err_code)}}else this.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_RELIABLE_RSP+" trans send error "+e)},e.prototype.handlePushTransMsg=function(e){var t=e.body.trans_type,r=e.body.trans_seq;!this.transSeqMap[t]||this.transSeqMap[t].seq<r?(this.transSeqMap[t]={seq:r},this.onRecvReliableMessage([e.body])):this.logger.warn(a.ZEGO_RTM_ACTION.MESSAGE_RELIABLE_PUSH+" trans seq wrong"),this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_RELIABLE_PUSH+" trans "+t+" seq "+r)},e.prototype.sendRoomMsg=function(e,t,r,o,s,l){var c=this;if(!this.room.isLogin())return this.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_SEND_ROOM_MSG+" state error"),!1;var u=Date.parse(new Date+"");if(this.sendRoomMsgTime>0&&this.sendRoomMsgTime+this.sendRoomMsgInterval>u)return this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_ROOM_MSG+" freq error"),l&&l(i.errorCodeList.FREQ_LIMITED,0,e,o),!1;this.sendRoomMsgTime=u;var d="PRIVATE"==this.stateCenter.type?{room_header:{room_id:this.room.roomID,room_sid:this.room.roomSid||"0",room_user_session_id:this.room.roomSessionID||"0"},msg_category:e,msg_type:1,msg_content:o}:{msg_category:e,msg_type:1,msg_content:o};return this.service.sendRoomMsg(d,(function(e){s({seq:e.header.seq,errorCode:0,messageID:e.body.msg_id})}),(function(e){var t,r,o=i.errorCodeList.ROOM_INNER_ERROR;if(!e.header||!e.body)return e.code&&e.msg&&(o=e),void l({seq:0,errorCode:o.code,messageID:0});o=(t=[n.ClientUtil.getServerError("PRIVATE"==c.stateCenter.type?e.body.code:e.body.err_code),e.body.msg_id])[0],r=t[1],c.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_SEND_ROOM_MSG+"  "+o.msg),c.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_SEND_ROOM_MSG+"  "+o.msg),o==i.errorCodeList.TIMEOUT&&(o=i.errorCodeList.IM_SEND_FAILED),l({seq:e.header.seq,errorCode:o.code,messageID:r})}),this.room.sessionID,this.room.roomID,this.room.roomSessionID),this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_ROOM_MSG+"  call success"),!0},e.prototype.handlePushRoomMsg=function(e){var t=this,r=o.getReportSeq();this.dataReport.newReport(r),this.dataReport.addMsgInfo(r,{room_sid:s.ZegoRTMLogEvent.kZegoTaskLiveRoomGetRoomMessage.room_sid(e.header.session_id)});var n=[];"PRIVATE"==this.stateCenter.type?e.body.chat_data.forEach((function(e){var o={fromUser:{userID:e.user_id,userName:e.user_name},message:e.msg_content,sendTime:e.send_time,messageID:e.msg_id};n.push(o),t.dataReport.addMsgInfo(r,{from_msg_id:e.id_name})})):e.body.chat_data.forEach((function(e){var o={fromUser:{userID:e.id_name,userName:e.nick_name},message:e.msg_content,sendTime:e.send_time,messageID:e.msg_id};n.push(o),t.dataReport.addMsgInfo(r,{from_msg_id:e.id_name})})),this.dataReport.uploadReport(r,s.ZegoRTMLogEvent.kZegoTaskLiveRoomGetRoomMessage.event),this.stateCenter.actionListener("IMRecvBroadcastMessage",this.room.roomID,n),this.stateCenter.actionListener("_recvRoomMsg",e.body.chat_data,e.body.server_msg_id,e.body.ret_msg_id)},e.prototype.sendCustomCommand=function(e,t,r,o){var s=this;if(!this.room.isLogin())return this.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_SEND_CUSTOM_MSG+" state error"),!1;var l={from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,request_id:this.stateCenter.getRequestId(),custom_content:t||"",room_id:this.room.roomID},c="PRIVATE"==this.stateCenter.type?{room_header:{room_id:this.room.roomID,room_sid:this.room.roomSid||"0",room_user_session_id:this.room.roomSessionID||"0"},request_id:this.stateCenter.getRequestId(),msg:t,destids:e}:{dest_id_name:e,custom_msg:JSON.stringify(l)};return this.service.sendCustomCommand(c,(function(e){r({seq:e.header.seq,errorCode:0})}),(function(e){var t,r=n.ClientUtil.getServerError("PRIVATE"==s.stateCenter.type?e.body.code:e.body.err_code);s.logger.error(a.ZEGO_RTM_ACTION.MESSAGE_SEND_CUSTOM_MSG+" "+r.msg),t=r==i.errorCodeList.TIMEOUT?i.errorCodeList.IM_SEND_FAILED:r,o({seq:e.header.seq,errorCode:t.code})}),this.room.sessionID,this.room.roomID,this.room.roomSessionID),this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_CUSTOM_MSG+" call success"),!0},e.prototype.handlePushCustomMsg=function(e){var t,r,n,i,a,l;if("PRIVATE"==this.stateCenter.type)n=(t=[e.body.from_user_id,e.body.from_user_name,this.room.roomID,e.body.msg])[0],i=t[1],a=t[2],l=t[3];else{var c=JSON.parse(e.body.custommsg);n=(r=[c.from_userid,c.from_username,c.room_id,c.custom_content])[0],i=r[1],a=r[2],l=r[3]}var u=o.getReportSeq();this.dataReport.newReport(u),this.dataReport.uploadReport(u,s.ZegoRTMLogEvent.kZegoTaskLiveRoomGetCustomCommand.event),this.stateCenter.actionListener("IMRecvCustomCommand",a,{userID:n,userName:i},l)},e.prototype.sendBigRoomMessage=function(e,t,r,n,i,a){var s=this,l=this.bigimTimeWindow,c=this.serverTimeOffset,u=(new Date).getTime()+c,d=o.getSeq().toString();if(this.bigImCallbackMap[d]={success:i,error:a},0==l){var p={msg_category:e,msg_type:1,msg_content:n,bigmsg_client_id:d};this.sendBigRoomMessageInternal([p],(function(e){s.handleBigImMsgRsp(e)}),(function(e){a&&a(e)}))}else{var h=Math.floor(u/l);if(this.bigImLastTimeIndex<h&&0==this.bigIMmessageList.length){this.bigImLastTimeIndex=h;var f={msg_category:e,msg_type:1,msg_content:n,bigmsg_client_id:d};this.sendBigRoomMessageInternal([f],(function(e){s.handleBigImMsgRsp(e)}),(function(e){a&&a(e)}))}else this.bigIMmessageList.push({msg_category:e,msg_type:1,msg_content:n,bigmsg_client_id:d}),1==this.bigIMmessageList.length&&this.setBigImTimer(c,l)}},e.prototype.sendBigRoomMessageInternal=function(e,t,r){var o={msgs:e};this.service.sendBigRoomMessage(o,(function(e){t(e)}),(function(e){var t=i.errorCodeList.ROOM_INNER_ERROR;e.header&&e.body||(e.code&&e.msg&&(t=e),r(t)),r(t)}),this.room.sessionID,this.room.roomID,this.room.roomSessionID),this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_BIG_MSG+" sendBigRoomMessage called")},e.prototype.handleBigImMsgRsp=function(e){this.bigimTimeWindow=e.body.bigim_time_window;for(var t=0;t<e.body.msgs.length;t++){var r=e.body.msgs[t].bigmsg_client_id,o=e.body.msgs[t].bigmsg_id;if(this.bigImCallbackMap[r]){var n=this.bigImCallbackMap[r].success;null!=n&&n({seq:e.header.seq,errorCode:0,messageID:o}),delete this.bigImCallbackMap[r]}}},e.prototype.setBigImTimer=function(e,t){var r=this,o=t-((new Date).getTime()+e)%t,i=n.ClientUtil.generateRandumNumber(t)+o;this.bigImTimer=setTimeout((function(){r.onBigImTimer()}),i)},e.prototype.onBigImTimer=function(){var e=this,t=(new Date).getTime()+this.serverTimeOffset;this.bigImLastTimeIndex=Math.floor(t/this.bigimTimeWindow);for(var r=[],o=[],n=0;n<this.bigIMmessageList.length&&!(n>=20);n++){var i=this.bigIMmessageList[n];r.push({msg_category:i.msg_category,msg_type:i.msg_type,msg_content:i.msg_content,bigmsg_client_id:i.bigmsg_client_id}),o.push(i.bigmsg_client_id)}this.bigIMmessageList.length>20?this.bigIMmessageList.splice(0,20):this.bigIMmessageList=[],this.sendBigRoomMessageInternal(r,(function(t){e.handleBigImMsgRsp(t)}),(function(t,r){for(var n=0;n<o.length;n++){var i=o[n],a=e.bigImCallbackMap[i];a&&(null!=a.error&&a.error(t,r),delete e.bigImCallbackMap[i])}})),this.bigImTimer&&clearTimeout(this.bigImTimer),this.bigImTimer=null,this.bigIMmessageList.length>0&&this.setBigImTimer(this.serverTimeOffset,this.bigimTimeWindow)},e.prototype.handlePushMergeMsg=function(e){for(var t=0;t<e.body.messages.length;t++)14001===e.body.messages[t].sub_cmd&&this.handlePushBigRooMsg(e.body.messages[t].msg_body)},e.prototype.handlePushBigRooMsg=function(e){var t;try{t=JSON.parse(e)}catch(e){return void this.logger.warn(a.ZEGO_RTM_ACTION.MESSAGE_BIG_MSG_PUSH+"parse json error")}if(t){for(var r=t.room_id,o=[],n=0;n<t.msg_data.length;n++){var i=t.msg_data[n];i.id_name!=this.stateCenter.idName?o.push({idName:i.id_name,nickName:i.nick_name,messageId:i.bigmsg_id,category:i.msg_category,type:i.msg_type,content:i.msg_content,time:i.send_time}):this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_BIG_MSG_PUSH+" self message")}0==o.length?this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_BIG_MSG_PUSH+" no other pushData except self"):this.onRecvBigRoomMessage(o,r),this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_BIG_MSG_PUSH+"call success")}else this.logger.warn(a.ZEGO_RTM_ACTION.MESSAGE_BIG_MSG_PUSH+" cann't find message body")},e.prototype.onRecvBigRoomMessage=function(e,t){var r=o.getReportSeq();this.dataReport.newReport(r);var n=[];e.forEach((function(e){var t={fromUser:{userID:e.idName,userName:e.nickName},message:e.content,sendTime:e.time,messageID:e.messageId};n.push(t)})),this.dataReport.uploadReport(r,s.ZegoRTMLogEvent.kZegoTaskLiveGetRoomBigIM.event),this.stateCenter.actionListener("IMRecvBarrageMessage",t,n),this.stateCenter.actionListener("_recvBigRoomMessage",e,t)},e.prototype.resetMessageInfo=function(){this.transSeqMap={},this.realyMessageList=[],this.relayTimer&&(clearTimeout(this.relayTimer),this.relayTimer=null),this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImCallbackMap={},this.bigImTimer&&(clearTimeout(this.bigImTimer),this.bigImTimer=null),this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0},e.prototype.sendRelayMessage=function(e,t,r,o){var n=this.datiTimeWindow,i=this.serverTimeOffset;n>0?(this.realyMessageList.push({type:e,data:t,success:r,error:o}),1==this.realyMessageList.length&&this.setRelayTimer(i,n)):this.sendRelayMessageInternal(e,t,r,o)},e.prototype.sendRelayMessageInternal=function(e,t,r,o){this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_RELAY_MSG+" call");var s={relay_type:e,relay_data:t},l=this.room;this.service.sendRelayMessage(s,(function(e){r&&r(e.header.seq,e.body.relay_result)}),(function(e){var t=i.errorCodeList.ROOM_INNER_ERROR;if(!e.header||!e.body)return e.code&&e.msg&&(t=e),void(o&&o(t,0));o&&o(n.ClientUtil.getServerError(e.body.err_code),e.header.seq)}),l.sessionID,l.roomID,l.roomSessionID)},e.prototype.setRelayTimer=function(e,t){var r=this,o=2*t-((new Date).getTime()+e)%t,i=n.ClientUtil.generateRandumNumber(o);this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_RELAY_MSG+" setTimer "+i),this.relayTimer=setTimeout((function(){r.onRelayTimer()}),i)},e.prototype.onRelayTimer=function(){if(0!=this.realyMessageList.length){var e=this.realyMessageList[0];this.sendRelayMessageInternal(e.type,e.data,e.success,e.error),this.relayTimer&&clearTimeout(this.relayTimer),this.relayTimer=null,this.realyMessageList.splice(0,1),this.realyMessageList.length>0&&this.setRelayTimer(this.serverTimeOffset,this.datiTimeWindow)}else this.logger.info(a.ZEGO_RTM_ACTION.MESSAGE_SEND_RELAY_MSG+"  no relay data")},e.prototype.getRoomChatInfo=function(e,t,r,o){if(this.logger.debug("zb.mh.grc call"),this.room.isLogin()){var n={room_header:{room_id:this.room.roomID,room_sid:this.room.roomSid||"0",room_user_session_id:this.room.roomSessionID||"0"},msg_id:e,msg_count:t},i=function(e,t){if(0!==e.body.code)o({errorCode:e.body.code,extendData:e.body.message||""});else{var n=e.body.msg_data.map((function(e){return{fromUser:{userID:e.user_id,userName:e.user_name},message:e.msg_content,sendTime:e.send_time,messageID:e.msg_id}}));r({chatData:n})}};this.service.sendMessage("zegochat_js.room_im_chat_fetch",n,i,i),this.logger.info("zb.mh.grc call success")}else this.logger.error("zb.mh.srm no enter room")},e}();t.MessageHandler=l},function(e,t,r){"use strict";var o=this&&this.__spreadArray||function(e,t){for(var r=0,o=t.length,n=e.length;r<o;r++,n++)e[n]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.UserHandler=void 0;var n=r(0),i=r(3),a=r(2),s=r(4),l=function(){function e(e,t,r,o,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=o,this.room=n,this.userQuerying=!1,this.userTempList=[],this.userSeq=0,this.minUserSeq=0,this.userList=[],this.userSeqMergeMap={},this.userListInterval=3e4,this.userListMergeInterval=5e3,this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""}}return e.prototype.loginRsp=function(e,t){this.anchor_info=e.body.anchor_info||this.anchor_info,this.userListInterval=e.body.userlist_interval||this.userListInterval,this.userListMergeInterval=e.body.userlist_merge_timeout||this.userListMergeInterval,e.body.anchor_info&&(this.stateCenter.actionListener("getAnchorInfo",e.body.anchor_info.anchor_id_name,e.body.anchor_info.anchor_nick_name),this.stateCenter.actionListener("_getAnchorInfo",e.body.anchor_info.anchor_id_name,e.body.anchor_info.anchor_nick_name)),e.body.online_count&&this.stateCenter.actionListener("roomOnlineUserCountUpdate",this.room.roomID,e.body.online_count),this.logger.info(a.ZEGO_RTM_ACTION.USER_LOGIN_RSP+"  userStateUpdate "+this.stateCenter.userStateUpdate),this.stateCenter.userStateUpdate&&this.fetchUserList(t)},e.prototype.patchUserList=function(e){var t=this;e.body.server_user_seq!==this.userSeq&&this.stateCenter.userStateUpdate&&!this.userSeqMergeMap&&(this.logger.info(a.ZEGO_RTM_ACTION.USER_HB_PATCH+" call update user "+this.userSeq+" server "+e.body.server_user_seq),this.userSeqMergeTimer&&clearTimeout(this.userSeqMergeTimer),this.userSeqMergeTimer=setTimeout((function(){t.handleMergeTimeout()}),this.userListMergeInterval)),this.minUserSeq=e.body.server_user_seq,null!=e.body.online_count&&0!=e.body.online_count&&this.stateCenter.actionListener("roomOnlineUserCountUpdate",this.room.roomID,e.body.online_count)},e.prototype.resetUserHandler=function(){this.userQuerying=!1,this.lastUserQueryTime=0,this.userTempList=[],this.userSeq=0,this.minUserSeq=0,this.userList=void 0,this.userSeqMergeMap={},this.userSeqMergeTimer=void 0,this.userQueryTimer=void 0,this.userListInterval=3e4,this.userListMergeInterval=5e3,this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""}},e.prototype.fetchUserList=function(e){this.userQuerying?this.logger.warn(a.ZEGO_RTM_ACTION.USER_FETCH_USER+" is already querying"):(this.userQuerying=!0,this.userTempList=[],this.fetchUserListWithPage(0,e||0),this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER+" the first time call"))},e.prototype.fetchUserListWithPage=function(e,t){var r=this,o=function(e){"PRIVATE"==r.stateCenter.type?r.handleFetchUserListPrivateRsp(e):r.handleFetchUserListRsp(e,t)};"PRIVATE"==this.stateCenter.type&&(this.room.roomID,this.room.roomSid,this.room.roomSessionID),"V1"===n.ROOMVERSION?this.service.fetchUserList({user_index:e,sort_type:0},o,o,this.room.sessionID,this.room.roomID,this.room.roomSessionID):this.service.fetchUserListV2({marker:0===e?"":e+"",mode:0,limit:100},o,o,this.room.sessionID,this.room.roomID,this.room.roomSessionID)},e.prototype.handleFetchUserListRsp=function(e,t){var r=this;if(e.body&&0!=e.body.err_code)return this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,void this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER_RSP+" fetch error "+e.body.err_code);if(!e.header||!e.body)return this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,void this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER_RSP+" fetch error "+e);if(this.stateCenter.userStateUpdate){this.userTempList=o(o([],this.userTempList),e.body.user_baseinfos);var s=e.body.ret_user_index;if(s!=e.body.server_user_index)return this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER_RSP+" fetch another page"),void this.fetchUserListWithPage(s+1,t);this.userSeq=e.body.server_user_seq;for(var l=[],c=[],u=0;u<this.userTempList.length;u++){var d={userID:this.userTempList[u].id_name,userName:this.userTempList[u].nick_name,role:this.userTempList[u].role};l.push(d),c.push({idName:this.userTempList[u].id_name,nickName:this.userTempList[u].nick_name,role:this.userTempList[u].role})}this.stateCenter.actionListener("_getTotalUserList",this.room.roomID,c),t==n.ENUM_RUN_STATE.login?(this.userList&&i.ClientUtil.mergeUserList(this.logger,this.userList,l,(function(e,t){0!==e.length&&r.onUserStateUpdate(r.room.roomID,"ADD",e),0!==t.length&&r.onUserStateUpdate(r.room.roomID,"DELETE",t)})),this.userList=l):(this.userList=l,0!==l.length&&this.onUserStateUpdate(this.room.roomID,"ADD",l)),this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,this.userTempList=[],this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER_RSP+" call success user_list "+l+" count "+l.length)}},e.prototype.handlePushUserStateUpdateMsg=function(e){if(this.logger.info(a.ZEGO_RTM_ACTION.USER_USER_PUSH+" call"),this.stateCenter.userStateUpdate)if(this.userSeq!==e.body.user_list_seq)if(this.userSeq+e.body.user_actions.length===e.body.user_list_seq){this.userSeq=e.body.user_list_seq;var t,r,o=[];if("PRIVATE"==this.stateCenter.type){t=0,r=1;for(var n=0;n<e.body.user_actions.length;n++){var i={action:e.body.user_actions[n].action,idName:e.body.user_actions[n].user_id,nickName:e.body.user_actions[n].user_name,role:e.body.user_actions[n].role,loginTime:e.body.user_actions[n].login_time};o.push(i)}}else{for(t=1,r=2,n=0;n<e.body.user_actions.length;n++)i={action:e.body.user_actions[n].Action,idName:e.body.user_actions[n].IdName,nickName:e.body.user_actions[n].NickName,role:e.body.user_actions[n].Role,loginTime:e.body.user_actions[n].LoginTime},o.push(i);this.stateCenter.actionListener("_userStateUpdate",e.body.room_id,o)}var s=[],l=[];o.forEach((function(e){e.action==t?s.push({userID:e.idName,userName:e.nickName,role:e.role}):e.action==r&&l.push({userID:e.idName,userName:e.nickName,role:e.role})})),this.userList&&(this.userList=this.userList.concat(s).filter((function(e){return!l.some((function(t){return t.userID==e.userID}))}))),0!==s.length&&this.onUserStateUpdate(e.body.room_id||e.body.room_pushheader.room_id,"ADD",s),0!==l.length&&this.onUserStateUpdate(e.body.room_id||e.body.room_pushheader.room_id,"DELETE",l),this.logger.info(a.ZEGO_RTM_ACTION.USER_USER_PUSH+" call success")}else this.mergeUserByUserSeq(e.body.user_list_seq,e.body.user_actions);else this.logger.warn(a.ZEGO_RTM_ACTION.USER_USER_PUSH+" user_list_seq is the same with local seq");else this.logger.info(a.ZEGO_RTM_ACTION.USER_USER_PUSH+" userStateUpdate is false")},e.prototype.onUserStateUpdate=function(e,t,r){var o=this,i=n.getReportSeq();this.dataReport.newReport(i,s.ZegoRTMLogEvent.kZegoTaskLiveRoomGetUserUpdateInfo.event);var a=r.filter((function(e){return e.userID!==o.stateCenter.idName}));0!=a.length&&("PRIVATE"!==this.stateCenter.type&&(a=a.map((function(e){return{userID:e.userID,userName:e.userName}}))),this.stateCenter.actionListener("roomUserUpdate",e,t,a),this.dataReport.addMsgInfo(i,{user_update_type:"ADD"==t?s.ZegoRTMLogEvent.kZegoTaskLiveRoomGetUserUpdateInfo.user_update_type("added"):s.ZegoRTMLogEvent.kZegoTaskLiveRoomGetUserUpdateInfo.user_update_type("deleted")}),this.dataReport.uploadReport(i))},e.prototype.mergeUserByUserSeq=function(e,t){var r=this;this.userSeqMergeMap||(this.logger.warn(a.ZEGO_RTM_ACTION.USER_MERGE_SEQ+" new merge userlist "+this.userSeq+" server "+e),this.userSeqMergeMap={},this.userSeqMergeTimer&&clearTimeout(this.userSeqMergeTimer),this.userSeqMergeTimer=setTimeout((function(){r.handleMergeTimeout()}),this.userListMergeInterval)),this.userSeqMergeMap[e]=t,this.logger.warn(a.ZEGO_RTM_ACTION.USER_MERGE_SEQ+"  merge userlist "+this.userSeq+" server "+e+" userlist "+t.length)},e.prototype.mergeUser=function(e){var t=this;this.logger.info(a.ZEGO_RTM_ACTION.USER_MERGE+" merge userlist "+this.userSeq+" userSeqList "+e.join(",")),this.userSeq=e[e.length-1],this.lastUserQueryTime=Date.now()+this.userListInterval;var r={};e.forEach((function(e){t.userSeqMergeMap&&t.userSeqMergeMap[e].forEach((function(e){r[e.IdName]=e}))})),this.userSeqMergeMap=null;var o=Object.values(r).map((function(e){return{action:e.Action,idName:e.IdName,nickName:e.NickName,role:e.Role,loginTime:e.LoginTime?String(e.LoginTime):""}}));o.sort((function(e,t){return e.loginTime.localeCompare(t.loginTime)}));var n=[],i=[];o.forEach((function(e){1==e.action?n.push({userID:e.idName,userName:e.nickName,role:e.role}):2==e.action&&i.push({userID:e.idName,userName:e.nickName,role:e.role})})),this.userList=this.userList&&this.userList.concat(n).filter((function(e){return!i.some((function(t){return t.userID==e.userID}))})),0!==n.length&&this.onUserStateUpdate(this.room.roomID,"ADD",n),0!==i.length&&this.onUserStateUpdate(this.room.roomID,"DELETE",i),this.stateCenter.actionListener("_userStateUpdate",this.room.roomID,o)},e.prototype.handleMergeTimeout=function(){var e=this,t=Object.keys(this.userSeqMergeMap).map((function(e){return+e})).sort((function(e,t){return e-t}));if(t[t.length-1]-t[0]+1===t.length||t[t.length-1]>=this.minUserSeq)this.mergeUser(t);else{this.userSeqMergeMap=null;var r=this.lastUserQueryTime-Date.now();this.logger.info(a.ZEGO_RTM_ACTION.USER_MERGE_TIMEOUT+"  fetch merge userlist "+this.userSeq+" userSeqList "+t.join(",")+" wait "+r),r>0?(this.userQueryTimer&&clearTimeout(this.userQueryTimer),this.userQueryTimer=setTimeout((function(){e.fetchUserList()}),r)):this.fetchUserList()}},e.prototype.loginPrivateRsp=function(e){this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER," userStateUpdate "+this.stateCenter.userStateUpdate),this.stateCenter.userStateUpdate&&this.fetchUserList()},e.prototype.handleFetchUserListPrivateRsp=function(e){if(this.logger.debug(a.ZEGO_RTM_ACTION.USER_FETCH_USER+" call"),e.body.code&&0!==e.body.code)return this.userQuerying=!1,void this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER+" fetch error "+e.body.code+" "+e.body.message);if(this.stateCenter.userStateUpdate){this.userTempList=o(o([],this.userTempList),e.body.users),this.userSeq=e.body.userlist_seq,this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER+" set user Seq "+this.userSeq);for(var t=[],r=0;r<this.userTempList.length;r++){var n={userID:this.userTempList[r].user_id,userName:this.userTempList[r].user_name,role:this.userTempList[r].role};t.push(n)}this.userQuerying=!1,this.onUserStateUpdate(this.room.roomID,"ADD",t),this.userTempList=[],this.logger.info(a.ZEGO_RTM_ACTION.USER_FETCH_USER+" call success user_list "+t+" count "+t.length)}},e}();t.UserHandler=l},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__spreadArray||function(e,t){for(var r=0,o=t.length,n=e.length;r<o;r++,n++)e[n]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.LiveRoomService=void 0;var i=r(0),a=r(11),s=r(2),l=r(1),c=function(){function e(e,t){this.stateCenter=e,this.logger=t,this.service=new a.ZegoSocketService(this.stateCenter.ENV),this.cmdSeq=0,this.responseRouters={}}return e.prototype.checkResponse=function(e){return e.header.appid!==this.stateCenter.appid||e.header.user_id!==this.stateCenter.userid},e.prototype.handleSendCommandMsgRsp=function(e){var t=this,r=this.service.sendCommandMap[e.header.seq];if(null!=r){var o=r._data;delete this.service.sendCommandMap[e.header.seq],this.service.sendCommandList.remove(r),0===e.body.err_code?setTimeout((function(){o&&null!=o.success&&o.success(e,t.cmdSeq)}),0):setTimeout((function(){o&&null!=o.error&&o.error(e,t.cmdSeq)}),0)}},e.prototype.onPush=function(){var e=this;this.service.onMessage=function(t){t instanceof ArrayBuffer?e.stateCenter.actionListener("_protobufResponse",t):t.header?(0!==t.body.err_code?t.body.err_message&&e.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" cmd="+t.header.cmd+", err_code="+t.body.err_code+", err_message="+t.body.err_message+" "):e.logger.info(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" cmd="+t.header.cmd+", msg="+JSON.stringify(t)+" "),["login","logout"].indexOf(t.header.cmd)>-1?e.handleSendCommandMsgRsp(t):e.checkResponse(t)?e.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+"  check session fail."):(e.logger.info(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" cmd="+t.header.cmd+",function="+!!e.responseRouters[t.header.cmd]),e.handleSendCommandMsgRsp(t),e.responseRouters[t.header.cmd]&&e.responseRouters[t.header.cmd](t,e.cmdSeq))):e.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" msg type error ")}},e.prototype.handlePushKickout=function(e){var t,r,o,i;if((null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.protocol)&&1!=(null===(r=null==e?void 0:e.body)||void 0===r?void 0:r.protocol)){var a=null===(o=null==e?void 0:e.header)||void 0===o?void 0:o.room_id,l=this.stateCenter.roomModulesList.find((function(e){return e.roomID==a}));if(!l)return void this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(null===(i=e.header)||void 0===i?void 0:i.room_id));l.roomHandler.handlePushKickout(e)}else n([],this.stateCenter.roomModulesList).forEach((function(t){return t.roomHandler.handlePushKickout(e,!0)}))},e.prototype.handlePushCustomMsg=function(e){var t,r=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r}));o?o.messageHandler.handlePushCustomMsg(e):this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(e))},e.prototype.handlePushRoomMsg=function(e){var t,r=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r}));o?o.messageHandler.handlePushRoomMsg(e):this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(e))},e.prototype.handlePushUserStateUpdateMsg=function(e){var t,r=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r}));o?o.userHandler.handlePushUserStateUpdateMsg(e):this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(e))},e.prototype.handlePushMergeMsg=function(e){var t,r=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r}));o?o.messageHandler.handlePushMergeMsg(e):this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(e))},e.prototype.handlePushTransMsg=function(e){var t,r=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r}));o?o.messageHandler.handlePushTransMsg(e):this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(e))},e.prototype.handleBigImMsgRsp=function(e){var t,r=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r}));o?o.messageHandler.handleBigImMsgRsp(e):this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(e))},e.prototype.handlePushSignalMsg=function(e){var t,r=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,o=this.stateCenter.roomModulesList.find((function(e){return e.roomID==r}));o?o.liveHandler.handlePushSignalMsg(e):this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" room no found ignore "+JSON.stringify(e))},e.prototype.closeHandler=function(e){this.service.closeHandler(e)},e.prototype.openHandler=function(e){this.service.openHandler(e)},e.prototype.errorHandler=function(e){this.service.errorHandler(e)},e.prototype.getHeader=function(e,t,r,o){return{Protocol:"V1"===i.ROOMVERSION?"req":"req_v2",cmd:e,appid:this.stateCenter.appid,seq:++this.cmdSeq,user_id:this.stateCenter.userid,session_id:t||"",room_id:r||"",room_session_id:o||"",biz_version:this.stateCenter.bizVersion||""}},e.prototype.startCheck=function(){this.service.startCheck()},e.prototype.stopCheck=function(){this.service.stopCheck()},e.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},e.prototype.createSocket=function(e){var t=this;this.service.createSocket(e),this.responseRouters=o(o({},this.responseRouters),{push_kickout:function(e){t.handlePushKickout(e)},push_custommsg:function(e){t.handlePushCustomMsg(e)},push_im_chat:function(e){t.handlePushRoomMsg(e)},push_userlist_update:function(e){t.handlePushUserStateUpdateMsg(e)},push_merge_message:function(e){t.handlePushMergeMsg(e)},push_trans:function(e){t.handlePushTransMsg(e)},push_signal:function(e){t.handlePushSignalMsg(e)}})},e.prototype.closeSocket=function(){this.service.closeSocket()},e.prototype.sendMessage=function(e,t,r,o,n,i){var a,c,u;if(this.service.isDisConnect())return this.logger.error(s.ZEGO_RTM_ACTION.SERVICE_SEND+" socket is disconnect"),o(l.errorCodeList.SOCKET_CLOSE),0;var d=(null==i?void 0:i.roomID)?i.roomID:null===(a=this.stateCenter.roomModulesList[0])||void 0===a?void 0:a.roomID,p=(null==i?void 0:i.roomSessionID)?i.roomSessionID:null===(c=this.stateCenter.roomModulesList[0])||void 0===c?void 0:c.roomSessionID,h=(null==i?void 0:i.sessionID)?i.sessionID:null===(u=this.stateCenter.roomModulesList[0])||void 0===u?void 0:u.sessionID,f=n||this.getHeader(e,h,d,p);return this.logger.info(s.ZEGO_RTM_ACTION.SERVICE_SEND+" sendMsg:"+JSON.stringify({header:f,body:t})),this.service.sendMessage(f,t,r,o)},e.prototype.on=function(e,t){this.responseRouters[e]=t},e.prototype.login=function(e,t,r){var o=this.getHeader(e.isMulti?"enter":"login",e.sessionID,e.roomID,e.roomSessionID),n={id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName,role:this.stateCenter.role,token:e.token,version:this.stateCenter.sdKVersion,room_name:e.roomID,user_state_flag:this.stateCenter.userStateUpdate?1:0,room_create_flag:this.stateCenter.roomCreateFlag,client_type:0===this.stateCenter.ENV?i.E_CLIENT_TYPE.ClientType_Webrtc:i.E_CLIENT_TYPE.ClientType_SmallProgram,third_token:e.thirdToken,user_count_limit:this.stateCenter.maxMemberCount,relate_service:this.stateCenter.relateService.join()||"",login_logic:this.stateCenter.isMultiRoom?3:1,proto_format:this.stateCenter.protoFormat};return this.sendMessage("",n,t,r,o)},e.prototype.logout=function(e,t,r){var o=e.isMulti?"quit":"logout",n={reserve:0};return"logout"==o&&(n.login_logic=this.stateCenter.isMultiRoom?3:1),this.sendMessage(o,n,t,r,void 0,{sessionID:e.sessionID,roomID:e.roomID,roomSessionID:e.roomSessionID})},e.prototype.heartBeat=function(e,t,r,o,n){return this.sendMessage("hb",{reserve:0},e,t,void 0,{sessionID:r,roomID:o,roomSessionID:n})},e.prototype.fetchUserList=function(e,t,r,o,n,i){return this.sendMessage("user_list",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.fetchUserListV2=function(e,t,r,o,n,i){return this.sendMessage("user_list_v2",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.fetchReliableMessage=function(e,t,r,o,n,i){return this.sendMessage("trans_fetch",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.sendReliableMessage=function(e,t,r,o,n,i){return this.sendMessage("trans",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.sendRoomMsg=function(e,t,r,o,n,i){return this.sendMessage("im_chat",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.sendCustomCommand=function(e,t,r,o,n,i){return this.sendMessage("custommsg",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.sendBigRoomMessage=function(e,t,r,o,n,i){return this.sendMessage("bigim_chat",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.sendRelayMessage=function(e,t,r,o,n,i){return this.sendMessage("relay",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.sendSignalCmd=function(e,t,r,o,n,i){return this.sendMessage("signal",e,t,r,void 0,{sessionID:o,roomID:n,roomSessionID:i})},e.prototype.sendPB=function(e){return this.service.isDisConnect()?(this.logger.error(s.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_PB+" socket is disconnected"),!1):this.service.sendPB(e)},e}();t.LiveRoomService=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSocketService=void 0;var o=r(0),n=r(1),i=function(){function e(e){this.socket=null,this.sendCommandList=new o.LinkedList,this.sendCommandMap={},this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=1e4,this.sendDataCheckInterval=2e3,this.ENV=e}return e.prototype.createSocket=function(e){this.socket=o.createZegoWebSocket(e,this.ENV%2)},e.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},e.prototype.isDisConnect=function(){return!this.socket||1!==this.socket.readyState},e.prototype.sendMessage=function(e,t,r,o,n){void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n={timeOut:6e3});var i={header:e,body:t},a={data:i,seq:e.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeOut:n.timeOut,success:r,error:o},s=this.sendCommandList.push(a);return this.sendCommandMap[a.seq]=s,this.socket&&this.socket.send(JSON.stringify(i)),e.seq},e.prototype.sendPB=function(e){return this.socket&&this.socket.send(e),!0},e.prototype.checkSendMessageList=function(e){for(var t=e.getFirst();null!=t;)e.remove(t),t._data&&t._data.error&&setTimeout((function(){t&&t._data&&t._data.error&&t._data.error(n.errorCodeList.TIMEOUT,t._data.data.header.seq,t._data.data.body.custom_msg)}),0),t=e.getFirst()},e.prototype.checkMessageListTimeout=function(e,t){for(var r=e.getFirst(),o=Date.parse(new Date+""),i=0;!(null==r||r._data&&r._data.sendTime+r._data.timeOut>o||(r._data&&delete t[r._data.data.header.seq],e.remove(r),r._data&&null==r._data.error||r._data&&r._data.sendTime+this.sendDataDropTimeout<o||setTimeout((function(){r&&r._data&&r._data.error&&r._data.error(n.errorCodeList.TIMEOUT,r._data.data.header.seq,r._data.data.body.custom_msg)}),0),++i>=this.sendDataCheckOnceCount));)r=e.getFirst()},e.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},e.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},e.prototype.openHandler=function(e){var t=this;this.socket&&(this.socket.onopen=function(r){t.socket.binaryType="arraybuffer",t.responseHandler(),e(r)})},e.prototype.responseHandler=function(){var e=this;this.socket&&(this.socket.onmessage=function(t){var r="string"==typeof t.data?JSON.parse(t.data):t.data;e.onMessage(r)})},e.prototype.closeHandler=function(e){this.socket&&(this.socket.onclose=function(t){e(t)})},e.prototype.errorHandler=function(e){this.socket&&(this.socket.onerror=e)},e.prototype.onMessage=function(e){},e}();t.ZegoSocketService=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoExpressWebRTM=t.ZegoDataReport=t.ZegoLogger=t.getSeq=t.getReportSeq=t.ZegoExpressWebRTMEngine=void 0;var o=r(13);Object.defineProperty(t,"ZegoExpressWebRTM",{enumerable:!0,get:function(){return o.ZegoExpressWebRTM}});var n=r(0),i=function(){function e(t,r,i){void 0===i&&(i=0),this.logger=new n.ZegoLogger(i),this.dataReport=new n.ZegoDataReport(this.logger),this.zegoWebRTM=new o.ZegoExpressWebRTM(t,r,this.logger,this.dataReport,e.version,i)}return e.prototype.enableMultiRoom=function(e){return this.zegoWebRTM.enableMultiRoom(e)},e.prototype.loginRoom=function(e,t,r,o){return this.zegoWebRTM.loginRoom(e,t,r,o)},e.prototype.logoutRoom=function(e){return this.zegoWebRTM.logoutRoom(e)},e.prototype.renewToken=function(e,t){return this.zegoWebRTM.renewToken(e,t)},e.prototype.sendBarrageMessage=function(e,t){return this.zegoWebRTM.sendBarrageMessage(e,t)},e.prototype.sendBroadcastMessage=function(e,t){return this.zegoWebRTM.sendBroadcastMessage(e,t)},e.prototype.sendCustomCommand=function(e,t,r){return this.zegoWebRTM.sendCustomCommand(e,t,r)},e.prototype.setRoomExtraInfo=function(e,t,r){return this.zegoWebRTM.setRoomExtraInfo(e,t,r)},e.prototype.setLogConfig=function(e){return this.zegoWebRTM.setLogConfig(e)},e.prototype.setDebugVerbose=function(e){return this.zegoWebRTM.setDebugVerbose(e)},e.prototype.on=function(e,t){return this.zegoWebRTM.on(e,t)},e.prototype.getVersion=function(){return this.zegoWebRTM.getVersion()},e.prototype.off=function(e,t){return this.zegoWebRTM.off(e,t)},e.prototype.loginHall=function(e,t,r){return this.zegoWebRTM.loginHall(e,t,r)},e.prototype.logoutHall=function(){return this.zegoWebRTM.logoutHall()},e.prototype.enterRoom=function(e,t){return this.zegoWebRTM.enterRoom(e,t)},e.prototype.leaveRoom=function(){return this.zegoWebRTM.leaveRoom()},e.version=n.PROTO_VERSION,e}();t.ZegoExpressWebRTMEngine=i;var a=r(0);Object.defineProperty(t,"getReportSeq",{enumerable:!0,get:function(){return a.getReportSeq}}),Object.defineProperty(t,"getSeq",{enumerable:!0,get:function(){return a.getSeq}}),Object.defineProperty(t,"ZegoLogger",{enumerable:!0,get:function(){return a.ZegoLogger}}),Object.defineProperty(t,"ZegoDataReport",{enumerable:!0,get:function(){return a.ZegoDataReport}})},function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!((n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__spreadArray||function(e,t){for(var r=0,o=t.length,n=e.length;r<o;r++,n++)e[n]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoExpressWebRTM=void 0;var a=r(0),s=r(1),l=r(3),c=r(0),u=r(16),d=r(17),p=r(18),h=r(19),f=r(21),g=r(2),m=r(4),v=r(24),b=r(10),_=r(25),E=function(){function e(e,t,r,o,n,i){this.logger=r,this.dataReport=o,this.version=n,this.stateCenter=new p.StateCenter(this.logger,this.dataReport),this.stateCenter.ENV=i;var s=c.getReportSeq();if(this.dataReport.newReport(s),(0==i||1==i)&&this.setDebug(t),l.ClientUtil.checkConfigParam(e,t,this.logger)){if(this.stateCenter.appid=e,this.stateCenter.configOK=!0,this.stateCenter.sdKVersion=this.version,0==i||1==i?("string"==typeof t?(this.stateCenter.server=t,this.stateCenter.serverBak=t):Array.isArray(t)&&t.length>0&&(this.stateCenter.server=t[0],this.stateCenter.serverBak=t[1]||t[0]),this.service=new b.LiveRoomService(this.stateCenter,this.logger)):2!=i&&3!=i||(this.service=new _.LiveRoomPrivateService(this.stateCenter,this.logger),this.module=new f.LiveRoomModules(this.stateCenter,this.logger,this.dataReport,this.service),this.stateCenter.priModules=this.module,this.module.dispatchServer=t,this.stateCenter.type="PRIVATE"),0==i||2==i)this.bindWindowListener(),this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_CONSTRUCTOR+"  "+navigator.appVersion),this.stateCenter.networkState=navigator?navigator.onLine?a.ENUM_NETWORK_STATE.online:a.ENUM_NETWORK_STATE.offline:a.ENUM_NETWORK_STATE.online,this.dataReport.addMsgInfo(s,{system_info:m.ZegoRTMLogEvent.kZegoTaskInitSetting.system_info});else if(1==i||3==i){this.bindWxListener();try{var u=wx.getSystemInfoSync(),d={brand:u.brand,model:u.model,system:u.system,platform:u.platform,version:u.version,SDKVersion:u.SDKVersion};this.dataReport.addMsgInfo(s,{system_info:d})}catch(e){this.logger.warn(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_CONSTRUCTOR+" get system info error")}}this.logger.setSessionInfo(this.stateCenter.appid,"","","","",this.version)}else this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_CONSTRUCTOR+" init sdk error"),this.dataReport.addMsgInfo(s,m.ZegoRTMLogEvent.kZegoTaskInitSetting.error.kInvalidParamError);this.dataReport.uploadReport(s,m.ZegoRTMLogEvent.kZegoTaskInitSetting.event)}return Object.defineProperty(e.prototype,"modules",{get:function(){return{service:this.service}},enumerable:!1,configurable:!0}),e.prototype.bindWindowListener=function(){var e=this,t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),r=l.ClientUtil.getBrowser(),o=t?"pagehide":"Firefox"===r?"beforeunload":"unload";window.addEventListener(o,(function(){e.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_BIND_WINDOW_LISTENER+" "+o),"PUBLIC"===e.stateCenter.type?e.logoutRoom():(e.leaveRoom(),e.logoutHall()),e.logoutRoom()})),window.addEventListener("offline",(function(){e.netOffLineHandle()})),window.addEventListener("online",(function(){e.netOnLineHandle()}))},e.prototype.bindWxListener=function(){var e=this;wx.onNetworkStatusChange((function(t){t.isConnected?e.netOnLineHandle():e.netOffLineHandle()}))},e.prototype.netOnLineHandle=function(){var e=this;this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_BIND_WINDOW_LISTENER+"network is online"),this.stateCenter.networkState=a.ENUM_NETWORK_STATE.online,this.stateCenter.roomModulesList.forEach((function(t){t.roomTryHandler&&e.service.isDisConnect()?t.roomTryHandler.active():t.roomTryHandler&&(t.roomTryHandler.stopMaxTime(),t.roomHandler.roomStateHandle("CONNECTED",{code:0,msg:""}))}))},e.prototype.netOffLineHandle=function(){this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_BIND_WINDOW_LISTENER+" network is broken"),this.stateCenter.networkState=a.ENUM_NETWORK_STATE.offline,this.stateCenter.roomModulesList.forEach((function(e){e.roomTryHandler&&(e.roomTryHandler.invalid(),e.roomTryHandler.onactive=function(t,r){e.roomHandler.disconnectedHandle(r)},e.roomTryHandler.startMaxTime(),e.roomHandler.roomStateHandle("CONNECTING",s.errorCodeList.NETWORK_BROKEN))}))},e.prototype.setLogConfig=function(e){this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SET_LOG_CONFIG+" call");var t=c.getReportSeq();if(this.dataReport.newReport(t),e.logLevel&&["debug","info","warn","error","report","disable"].includes(e.logLevel)&&(this.logger.setLogLevel(e.logLevel),this.dataReport.addMsgInfo(t,{log_level:m.ZegoRTMLogEvent.kZegoTaskSetLog.log_level(e.logLevel)})),e.remoteLogLevel&&["debug","info","warn","error","report","disable"].includes(e.remoteLogLevel)&&(this.logger.setRemoteLogLevel(e.remoteLogLevel),this.dataReport.addMsgInfo(t,{remote_log_level:m.ZegoRTMLogEvent.kZegoTaskSetLog.remote_log_level(e.remoteLogLevel)})),"string"==typeof e.logURL&&(e.logURL.startsWith("wss://")||e.logURL.startsWith("https://")))this.logger.setLogServer(e.logURL),this.dataReport.addMsgInfo(t,{log_url:m.ZegoRTMLogEvent.kZegoTaskSetLog.log_url(e.logURL)}),this.dataReport.uploadReport(t,m.ZegoRTMLogEvent.kZegoTaskSetLog.event);else if(e.logURL)return this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SET_LOG_CONFIG+"log url must be a wss or https url"),this.dataReport.addMsgInfo(t,m.ZegoRTMLogEvent.kZegoTaskSetLog.error.kInvalidParamError),this.dataReport.uploadReport(t,m.ZegoRTMLogEvent.kZegoTaskSetLog.event),!1;return this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SET_LOG_CONFIG+" call success"),!0},e.prototype.setDebugVerbose=function(e){var t=c.getReportSeq();this.dataReport.newReport(t),"boolean"==typeof e&&(this.stateCenter.debug=e,this.stateCenter.debugCustom=!0,this.dataReport.addMsgInfo(t,{debug:m.ZegoRTMLogEvent.kZegoTaskSetDebug.debug(e?"true":"false")})),this.dataReport.uploadReport(t,m.ZegoRTMLogEvent.kZegoTaskSetDebug.event),this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SET_DEBUG_VERBOSE+" call success")},e.prototype.setDebug=function(e){"string"==typeof e&&e.indexOf("wss")>-1?this.stateCenter.debug=l.ClientUtil.isTestEnv(e):Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e&&e.indexOf("wss")>-1}))?this.stateCenter.debug=l.ClientUtil.isTestEnv(e[0])||l.ClientUtil.isTestEnv(e[1]):this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_CONSTRUCTOR+" server wrong"),this.stateCenter.testEnvironment=this.stateCenter.debug},e.prototype.renewToken=function(e,t){var r,o=c.getReportSeq();if(this.dataReport.newReport(o),void 0!==t&&("string"!=typeof t||""==t))return this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_RENEWTOKEN+" roomID must be string and no empty"),!1;var n=this.getRoomModules(t)||this.stateCenter.roomModulesList[0];return n?"string"==typeof e&&n.roomTryHandler?(null===(r=n.roomTryHandler)||void 0===r||r.renewToken(e),this.dataReport.uploadReport(o,m.ZegoRTMLogEvent.kZegoTaskReNewToken.event),!0):"string"!=typeof e||n.roomTryHandler?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_RENEWTOKEN+" token must be string and not empty"),this.dataReport.addMsgInfo(o,{error:m.ZegoRTMLogEvent.kZegoTaskReNewToken.error.INPUT_PARAM.code,message:m.ZegoRTMLogEvent.kZegoTaskReNewToken.error.INPUT_PARAM.msg+" param token error"}),this.dataReport.uploadReport(o,m.ZegoRTMLogEvent.kZegoTaskReNewToken.event),!1):(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_RENEWTOKEN+" calling must after loginRoom"),this.dataReport.addMsgInfo(o,{error:m.ZegoRTMLogEvent.kZegoTaskReNewToken.error.NOT_LOGIN.code,message:m.ZegoRTMLogEvent.kZegoTaskReNewToken.error.NOT_LOGIN.msg}),this.dataReport.uploadReport(o,m.ZegoRTMLogEvent.kZegoTaskReNewToken.event),!1):(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_RENEWTOKEN+" calling must after loginRoom"),this.dataReport.addMsgInfo(o,{error:m.ZegoRTMLogEvent.kZegoTaskReNewToken.error.NOT_LOGIN.code,message:m.ZegoRTMLogEvent.kZegoTaskReNewToken.error.NOT_LOGIN.msg}),this.dataReport.uploadReport(o,m.ZegoRTMLogEvent.kZegoTaskReNewToken.event),!1)},e.prototype.loginRoom=function(e,t,r,s){var l=this;return new Promise((function(c,p){return o(l,void 0,void 0,(function(){var o,l,f,v,b,_=this;return n(this,(function(n){switch(n.label){case 0:return 1!==this.stateCenter.ENV?[3,2]:[4,new Promise((function(e){wx.getNetworkType({success:function(t){_.stateCenter.networkState="none"===t.networkType?a.ENUM_NETWORK_STATE.offline:a.ENUM_NETWORK_STATE.online,e()},fail:function(t){_.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_CONSTRUCTOR+" network "+JSON.stringify(t)),_.stateCenter.networkState=a.ENUM_NETWORK_STATE.online,e()}})}))];case 1:n.sent(),n.label=2;case 2:return o=this.loginReport(c,p,t,s),l=o.interResolve,f=o.interReject,!(s=s||{}).maxMemberCount&&(s.maxMemberCount=0),(v=d.checkParams({roomID:{order:0,value:e,rules:[{name:d.RULE_PARAM_NAME.NOT_EMPTY,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.ROOM_ID_NULL},{name:d.RULE_PARAM_NAME.TYPE_STRING,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM,extMsg:"roomID must be string"},{name:d.RULE_PARAM_NAME.MAX_LENGTH_128,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.ROOM_ID_TOO_LONG},{name:d.RULE_PARAM_NAME.ILLEGAL_CHARACTERS,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.ROOM_ID_INVALID_CHARACTER}]},token:{order:1,value:t,rules:[{name:d.RULE_PARAM_NAME.NOT_EMPTY,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM},{name:d.RULE_PARAM_NAME.TYPE_STRING,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM}]},user:{order:2,value:r,rules:[{name:d.RULE_PARAM_NAME.NOT_EMPTY,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM,extMsg:" param user error."},{name:d.RULE_PARAM_NAME.TYPE_OBJECT,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM,extMsg:" param user error."}]},"user.userID":{order:3,value:r.userID,rules:[{name:d.RULE_PARAM_NAME.NOT_EMPTY,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.USER_ID_NULL,extMsg:" param user error."},{name:d.RULE_PARAM_NAME.TYPE_STRING,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM,extMsg:" param userID error."},{name:d.RULE_PARAM_NAME.MAX_LENGTH_100,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.USER_ID_TOO_LONG},{name:d.RULE_PARAM_NAME.ILLEGAL_CHARACTERS,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.USER_ID_INVALID_CHARACTER}]},"user.userName":{order:4,value:r.userName,rules:[{name:d.RULE_PARAM_NAME.TYPE_STRING,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM,extMsg:" userName must be string."},{name:d.RULE_PARAM_NAME.MAX_LENGTH_256,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.USER_NAME_TOO_LONG}]},config:{order:5,value:s,rules:[]},"config.maxMemberCount":{order:6,value:s.maxMemberCount,rules:[{name:d.RULE_PARAM_NAME.TYPE_INTEGER,error:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INPUT_PARAM,extMsg:" maxMemberCount must be integer number."}]}},{action:g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_ROOM,logger:this.logger}))!==d.RULE_SUCCESS?(f(v.error,v.extMsg),[2]):(b=this.getRoomModules(e))?(f(m.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.REPEATEDLY_LOGIN),[2]):(b=new h.LiveRoomModules(e,this.stateCenter,this.logger,this.dataReport,this.service),this.stateCenter.roomModulesList.length>0&&1==this.stateCenter.isMultiRoom?b.isMulti=!0:i([],this.stateCenter.roomModulesList).forEach((function(e){return e.roomHandler.logout()})),this.stateCenter.roomModulesList.push(b),b.roomTryHandler||(b.roomTryHandler=new u.RetryRoomHandler(this.logger,this.stateCenter,b)),b.roomTryHandler.init(this.stateCenter.roomRetryTime),b.roomTryHandler.initRoom(b.roomHandler,e,t,r,this.stateCenter.server,this.stateCenter.serverBak,s),b.roomTryHandler.setLoginRoomCallback(l,f),b.roomTryHandler.active(!0),this.stateCenter.setMultiRoom=!0,[2])}}))}))}))},e.prototype.loginReport=function(e,t,r,o){var n=this;0!==this.stateCenter.reportSeqList.login&&(this.dataReport.uploadReport(this.stateCenter.reportSeqList.login),this.stateCenter.reportSeqList.login=0,l.ClientUtil.unregisterCallback(m.ZegoRTMLogEvent.kZegoTaskLoginRoom.event,this.stateCenter.reportList));var i=c.getReportSeq();return this.stateCenter.reportSeqList.login=i,this.dataReport.newReport(i,m.ZegoRTMLogEvent.kZegoTaskLoginRoom.event),"string"==typeof r&&this.dataReport.addMsgInfo(i,{token:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.token(r),isMulti:this.stateCenter.isMultiRoom}),o&&(o.userUpdate&&"boolean"==typeof o.userUpdate&&this.dataReport.addMsgInfo(i,{user_update:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.user_update(o.userUpdate+"")}),o.maxMemberCount&&"number"==typeof o.maxMemberCount&&this.dataReport.addMsgInfo(i,{max_member_count:m.ZegoRTMLogEvent.kZegoTaskLoginRoom.max_member_count(o.maxMemberCount+"")})),l.ClientUtil.logReportCallback(m.ZegoRTMLogEvent.kZegoTaskLoginRoom.event,this.dataReport,i,this.stateCenter.reportList),{interResolve:function(t){n.dataReport.uploadReport(i),n.stateCenter.reportSeqList.login=0,l.ClientUtil.unregisterCallback(m.ZegoRTMLogEvent.kZegoTaskLoginRoom.event,n.stateCenter.reportList),e(t)},interReject:function(e,r){var o,a;void 0===r&&(r=""),e.code<2e9&&e.code>1e9||e.code<1e6?(o=l.ClientUtil.decodeServerError(e.code,e.msg),a=l.ClientUtil.getLiveRoomError(e.code)):o={code:e.code,message:e.msg},o&&n.dataReport.addMsgInfo(i,{error:o.code,message:o.message+r}),n.dataReport.uploadReport(i),n.stateCenter.reportSeqList.login=0,l.ClientUtil.unregisterCallback(m.ZegoRTMLogEvent.kZegoTaskLoginRoom.event,n.stateCenter.reportList),a&&s.errorCodeList[a]&&(e.code=s.errorCodeList[a].code),e.code&&e.msg&&""!==r?t({code:e.code,msg:e.msg+r}):t(e)}}},e.prototype.logoutRoom=function(e){var t=c.getReportSeq();if(this.dataReport.newReport(t),this.dataReport.addMsgInfo(t,{roomid:e,isMulti:this.stateCenter.isMultiRoom}),void 0===e)i([],this.stateCenter.roomModulesList).forEach((function(e){return e.roomHandler.logout(!0)}));else{if("string"!=typeof e||""==e)return this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGOUT_ROOM+" roomID must be string and not empty"),this.dataReport.addMsgInfo(t,{error:m.ZegoRTMLogEvent.kZegoTaskLogoutRoom.error.INPUT_PARAM.code,message:m.ZegoRTMLogEvent.kZegoTaskLogoutRoom.error.INPUT_PARAM.msg+" param roomID error"}),void this.dataReport.uploadReport(t,m.ZegoRTMLogEvent.kZegoTaskLogoutRoom.event);var r=this.getRoomModules(e);r?(r.roomHandler.logout(),this.dataReport.uploadReport(t,m.ZegoRTMLogEvent.kZegoTaskLogoutRoom.event)):(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGOUT_ROOM+" room not exist"),this.dataReport.addMsgInfo(t,{error:m.ZegoRTMLogEvent.kZegoTaskLogoutRoom.error.ROOM_NOT_EXIST.code,message:m.ZegoRTMLogEvent.kZegoTaskLogoutRoom.error.ROOM_NOT_EXIST.msg}),this.dataReport.uploadReport(t,m.ZegoRTMLogEvent.kZegoTaskLogoutRoom.event))}},e.prototype.loginHall=function(e,t,r){var i=this;return new Promise((function(s,l){return o(i,void 0,void 0,(function(){var o,i,c,u,d=this;return n(this,(function(n){switch(n.label){case 0:return 3!==this.stateCenter.ENV?[3,2]:[4,new Promise((function(e){wx.getNetworkType({success:function(t){d.stateCenter.networkState="none"===t.networkType?a.ENUM_NETWORK_STATE.offline:a.ENUM_NETWORK_STATE.online,e()},fail:function(t){d.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_HALL+" network "+JSON.stringify(t)),d.stateCenter.networkState=a.ENUM_NETWORK_STATE.online,e()}})}))];case 1:n.sent(),n.label=2;case 2:return o=this.loginHallReport(s,l,e,r),i=o.interResolve,c=o.interReject,r=r||{},"string"!=typeof e||""==e?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_HALL+" token format error"),c(m.ZegoRTMLogEvent.kZegoTaskLoginHall.error.INPUT_PARAM,"token format error"),[2]):"object"!=typeof t||"string"!=typeof t.userID||"string"!=typeof t.userName?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_HALL+" user error"),c(m.ZegoRTMLogEvent.kZegoTaskLoginHall.error.INPUT_PARAM," user error"),[2]):"object"!=typeof r||"string"!=typeof r.deviceID?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_HALL+" deviceID error"),c(m.ZegoRTMLogEvent.kZegoTaskLoginHall.error.INPUT_PARAM," deviceID error"),[2]):"object"!=typeof r||"string"!=typeof r.deviceType?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_HALL+" deviceType error"),c(m.ZegoRTMLogEvent.kZegoTaskLoginHall.error.INPUT_PARAM," deviceType error"),[2]):"object"!=typeof r||1!==r.anType&&0!==r.anType?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_HALL+" anType error"),c(m.ZegoRTMLogEvent.kZegoTaskLoginHall.error.INPUT_PARAM," anType error"),[2]):((u=this.module).hallToken=e,u.deviceID=r.deviceID,u.deviceType=r.deviceType,u.anType=r.anType,this.stateCenter.idName=t.userID,this.stateCenter.nickName=t.userName||t.userID,this.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_HALL+JSON.stringify(r)),r&&"boolean"==typeof r.roomFlag&&(r.roomFlag?u.roomFlag=1:u.roomFlag=0),r&&"boolean"==typeof r.testEnvironment&&(this.stateCenter.testEnvironment=r.testEnvironment),r&&"boolean"==typeof r.userUpdate&&(this.stateCenter.userStateUpdate=r.userUpdate),u.hallRunState!==a.ENUM_RUN_STATE.logout&&(u.hallHandler.resetHall(),u.hallHandler.hallStateHandle("DISCONNECTED",m.ZegoRTMLogEvent.kZegoTaskLoginHall.error.REPEATEDLY_LOGIN),u.setRoomRunState(a.ENUM_RUN_STATE.logout),u.roomPrivateHandler.resetRoom()),this.dispatchServer((function(){u.retryHallHandler||(u.retryHallHandler=new v.RetryHallHandler(d.logger,d.stateCenter,d.module)),u.retryHallHandler.init(d.stateCenter.roomRetryTime),u.retryHallHandler.initRoom(d.module.hallHandler,t,d.stateCenter.server,r),u.retryHallHandler.onactive=function(e,t){e?i(e):c(t)},u.retryHallHandler.active(!0)})),[2])}}))}))}))},e.prototype.loginHallReport=function(e,t,r,o){var n=this;0!==this.stateCenter.reportSeqList.login&&(this.dataReport.uploadReport(this.stateCenter.reportSeqList.login),this.stateCenter.reportSeqList.login=0,l.ClientUtil.unregisterCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,this.stateCenter.reportList));var i=c.getReportSeq();return this.stateCenter.reportSeqList.login=i,this.dataReport.newReport(i,m.ZegoRTMLogEvent.kZegoTaskLoginHall.event),"string"==typeof r&&this.dataReport.addMsgInfo(i,{token:m.ZegoRTMLogEvent.kZegoTaskLoginHall.token(r)}),o&&(o.userUpdate&&"boolean"==typeof o.userUpdate&&this.dataReport.addMsgInfo(i,{user_update:m.ZegoRTMLogEvent.kZegoTaskLoginHall.user_update(o.userUpdate+"")}),o.deviceID&&"string"==typeof o.deviceID&&this.dataReport.addMsgInfo(i,{user_update:m.ZegoRTMLogEvent.kZegoTaskLoginHall.device_id(o.deviceID)}),o.deviceType&&"string"==typeof o.deviceType&&this.dataReport.addMsgInfo(i,{user_update:m.ZegoRTMLogEvent.kZegoTaskLoginHall.device_type(o.deviceType)}),o.anType&&"number"==typeof o.anType&&this.dataReport.addMsgInfo(i,{user_update:m.ZegoRTMLogEvent.kZegoTaskLoginHall.an_type(o.anType+"")}),o.roomFlag&&"boolean"==typeof o.roomFlag&&this.dataReport.addMsgInfo(i,{user_update:m.ZegoRTMLogEvent.kZegoTaskLoginHall.room_flag(o.roomFlag+"")}),o.testEnvironment&&"boolean"==typeof o.testEnvironment&&this.dataReport.addMsgInfo(i,{user_update:m.ZegoRTMLogEvent.kZegoTaskLoginHall.test_environment(o.testEnvironment+"")})),l.ClientUtil.logReportCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,this.dataReport,i,this.stateCenter.reportList),{interResolve:function(t){n.dataReport.uploadReport(i),n.stateCenter.reportSeqList.login=0,l.ClientUtil.unregisterCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,n.stateCenter.reportList),e(t)},interReject:function(e,r){void 0===r&&(r=""),n.dataReport.addMsgInfo(i,{error:e.code,message:e.msg+r}),n.dataReport.uploadReport(i),n.stateCenter.reportSeqList.login=0,l.ClientUtil.unregisterCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,n.stateCenter.reportList),t({code:e.code,msg:e.msg+r})}}},e.prototype.logoutHall=function(){var e=c.getReportSeq();this.dataReport.newReport(e),this.module.hallHandler.logout(),this.module.setRoomRunState(a.ENUM_RUN_STATE.logout),this.module.roomPrivateHandler.resetRoom(),this.dataReport.uploadReport(e,m.ZegoRTMLogEvent.kZegoTaskLogoutHall.event)},e.prototype.enterRoom=function(e,t){var r=this;return new Promise((function(o,n){var i=c.getReportSeq();if(r.dataReport.newReport(i),"string"!=typeof e||""==e||![0,1].includes(t))return r.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_ROOM+" param error"),void o({errorCode:m.ZegoRTMLogEvent.kZegoTaskEnterRoom.error.INPUT_PARAM.code,extendedData:m.ZegoRTMLogEvent.kZegoTaskEnterRoom.error.INPUT_PARAM.msg});var s=r.module;if(!s.isLogin())return r.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_ROOM+" no login hall before entering room"),void o({errorCode:m.ZegoRTMLogEvent.kZegoTaskEnterRoom.error.NOT_LOGIN.code,extendedData:m.ZegoRTMLogEvent.kZegoTaskEnterRoom.error.NOT_LOGIN.msg});s.runRoomState!==a.ENUM_RUN_STATE.logout&&(r.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_LOGIN_ROOM+" reset"),r.module.roomPrivateHandler.resetRoom(),r.module.roomPrivateHandler.roomStateHandle("DISCONNECTED",m.ZegoRTMLogEvent.kZegoTaskEnterRoom.error.REPEATEDLY_ENTER_ROOM)),s.pri_roomID=e,r.stateCenter.role=t,r.dataReport.addMsgInfo(i,{role:m.ZegoRTMLogEvent.kZegoTaskEnterRoom.role(t+"")}),s.setRoomRunState(a.ENUM_RUN_STATE.trylogin),s.roomPrivateHandler.roomStateHandle("CONNECTING",{code:0,msg:""});var l=function(t,l){if(t.body&&0!==t.body.code||1100002==t.code){s.setRoomRunState(a.ENUM_RUN_STATE.logout);var c=t.body&&t.body.code||t.code,u=t.body&&t.body.message||t.msg;s.roomPrivateHandler.roomStateHandle("DISCONNECTED",{code:c,msg:u}),r.dataReport.addMsgInfo(i,{error:c,message:u}),r.dataReport.uploadReport(i,m.ZegoRTMLogEvent.kZegoTaskEnterRoom.event),n({errorCode:c,extendedData:u})}else s.roomID=e,s.timeStamp=t.header.timeStamp,s.roomSid=t.body.room_header.room_sid,s.roomSessionID=t.body.room_header.room_user_session_id,s.userSeq=t.body.userlist_seq,r.dataReport.uploadReport(i,m.ZegoRTMLogEvent.kZegoTaskEnterRoom.event),s.setRoomRunState(a.ENUM_RUN_STATE.login),s.roomPrivateHandler.roomStateHandle("CONNECTED",{code:0,msg:""}),r.module.userHandler.loginPrivateRsp(t),s.roomLoginResponse(t),o({errorCode:0,extendedData:""})};setTimeout((function(){s.roomPrivateHandler.enterRoom(l,l)}),20)}))},e.prototype.leaveRoom=function(){var e=this;return new Promise((function(t){var r=c.getReportSeq();e.dataReport.newReport(r),e.module.roomPrivateHandler.roomStateHandle("DISCONNECTED",{code:0,msg:""});var o=function(o,n){0!==o.body.code?(e.dataReport.addMsgInfo(r,{error:o.body.code,message:o.body.message}),e.dataReport.uploadReport(r,m.ZegoRTMLogEvent.kZegoTaskLeaveRoom.event),t({errorCode:o.body.code,extendedData:o.body.message})):(e.dataReport.uploadReport(r,m.ZegoRTMLogEvent.kZegoTaskLeaveRoom.event),t({errorCode:0,extendedData:""}))};e.module.roomPrivateHandler.leaveRoom(o,o)}))},e.prototype.sendCustomCommand=function(e,t,r){var o=this;return new Promise((function(n,i){o._sendCustomCommand(e,t,r).then((function(e){n({errorCode:e.errorCode,extendedData:e.extendedData})})).catch((function(e){i(e)}))}))},e.prototype._sendCustomCommand=function(e,t,r){var o=this;return new Promise((function(n,i){var u=c.getReportSeq();o.dataReport.newReport(u,m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendCustomCommand.event);var d=l.ClientUtil.proxyRes(o.dataReport,u,n,i),p=d.interResolve,h=d.interReject;if("string"!=typeof e||""==e)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM+" roomid must be string and not empty"),void h(s.errorCodeList.INPUT_PARAM," param roomID error");if(!(r instanceof Array)||r.find((function(e){return"string"!=typeof e})))return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM+" dstMembers must be string array"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendCustomCommand.error.INPUT_PARAM," param toUserList error");if("PUBLIC"===o.stateCenter.type&&"string"!=typeof t&&"object"!=typeof t)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM+" custom content must be a non empty string or object"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendCustomCommand.error.INPUT_PARAM," param command error");if("PRIVATE"===o.stateCenter.type&&"string"!=typeof t)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM+" custom content must be a not empty string"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendCustomCommand.error.INPUT_PARAM," param command error");if("string"==typeof t&&t.length>a.MAX_MESSAGE_LENGTH)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM+" command too long"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendCustomCommand.error.IM_CONTENT_TOO_LONG);var f=o.getRoomModules(e);f?(o.dataReport.addMsgInfo(u,{room_sid:m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendCustomCommand.room_sid(f.sessionID)}),f.messageHandler.sendCustomCommand(r,t,p,h)):h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendCustomCommand.error.ROOM_NOT_EXIST)}))},e.prototype.sendBroadcastMessage=function(e,t){var r=this;return new Promise((function(o,n){r._sendBroadcastMessage(e,t).then((function(e){o({errorCode:e.errorCode,messageID:e.messageID,extendedData:e.extendedData})})).catch((function(e){n(e)}))}))},e.prototype._sendBroadcastMessage=function(e,t,r,o){var n=this;return void 0===r&&(r=1),void 0===o&&(o=1),new Promise((function(i,s){var u=c.getReportSeq();n.dataReport.newReport(u,m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.event);var d=l.ClientUtil.proxyRes(n.dataReport,u,i,s),p=d.interResolve,h=d.interReject;if("string"!=typeof e||""==e)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BCM+" roomid must be string and not empty"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.error.INPUT_PARAM," param roomID error");if(void 0===t||""==t)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BCM+" message is empty"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.error.IM_CONTENT_NULL);if("string"!=typeof t)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BCM+" message must be string"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.error.INPUT_PARAM," param message error");if(t.length>a.MAX_MESSAGE_LENGTH)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BCM+" message too long"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.error.IM_CONTENT_TOO_LONG);var f=n.getRoomModules(e);f?(n.dataReport.addMsgInfo(u,{room_sid:m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.room_sid(f.sessionID)}),f.messageHandler.sendRoomMsg(r,o,e,t,p,h)):h(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.error.ROOM_NOT_EXIST)}))},e.prototype.setRoomExtraInfo=function(e,t,r){return this._setRoomExtraInfo(e,t,r)},e.prototype._setRoomExtraInfo=function(e,t,r){var o=this;return new Promise((function(n,i){var s=c.getReportSeq();o.dataReport.newReport(s,m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.event);var u=l.ClientUtil.proxyRes(o.dataReport,s,n,i),d=u.interResolve,p=u.interReject;if("string"!=typeof e||""==e)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BCM+" roomid must be string and not empty"),void p(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendRoomMessage.error.INPUT_PARAM," param roomID error");if(!t||"string"!=typeof t)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_RLM+" type must be string"),void p({errorCode:m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});if(t.length>a.MAX_TRANS_TYPE_LENGTH)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_RLM+" type is too long"),void p({errorCode:m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});if(!r||"string"!=typeof r)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_RLM+" data must be string"),void p({errorCode:m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});if(r.length>a.MAX_TRANS_DATA_LENGTH)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_RLM+" type is too long"),void p({errorCode:m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.error.INPUT_PARAM.code});var h=o.getRoomModules(e);h?(o.dataReport.addMsgInfo(s,{room_sid:m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.room_sid(h.sessionID)}),h.messageHandler.sendReliableMessage(t,r,d,p)):p(m.ZegoRTMLogEvent.kZegoTaskLiveRoomSendReliableMessage.error.ROOM_NOT_EXIST)}))},e.prototype.sendBarrageMessage=function(e,t){var r=this;return new Promise((function(o,n){r._sendBarrageMessage(e,t).then((function(e){o({errorCode:e.errorCode,messageID:e.messageID,extendedData:e.extendedData})})).catch((function(e){n(e)}))}))},e.prototype._sendBarrageMessage=function(e,t,r,o){var n=this;return void 0===r&&(r=1),void 0===o&&(o=1),new Promise((function(i,s){var u=c.getReportSeq();n.dataReport.newReport(u,m.ZegoRTMLogEvent.kZegoTaskLiveSendRoomBigIM.event);var d=l.ClientUtil.proxyRes(n.dataReport,u,i,s),p=d.interResolve,h=d.interReject;if("string"!=typeof e||""==e)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BRM+"roomid must be string and not empty"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveSendRoomBigIM.error.INPUT_PARAM," param roomID error");if(void 0===t||""==t)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BRM+" message is empty"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveSendRoomBigIM.error.IM_CONTENT_NULL);if("string"!=typeof t)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BRM+" message must be string"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveSendRoomBigIM.error.INPUT_PARAM," param message error");if(t.length>a.MAX_MESSAGE_LENGTH)return n.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_BRM+" message too long"),void h(m.ZegoRTMLogEvent.kZegoTaskLiveSendRoomBigIM.error.IM_CONTENT_TOO_LONG);var f=n.getRoomModules(e);f?(n.dataReport.addMsgInfo(u,{room_sid:m.ZegoRTMLogEvent.kZegoTaskLiveSendRoomBigIM.room_sid(f.sessionID)}),f.messageHandler.sendBigRoomMessage(r,o,e,t,p,h)):h(m.ZegoRTMLogEvent.kZegoTaskLiveSendRoomBigIM.error.ROOM_NOT_EXIST)}))},e.prototype.sendRelayMessage=function(e,t,r,o,n){var i=this.getRoomModules(n)||this.stateCenter.roomModulesList[0];i?i.messageHandler.sendRelayMessage(e,t,r,o):o&&o(s.errorCodeList.ROOM_NOT_EXIST,0)},e.prototype.requestJoinLive=function(e,t,r,o,n){var i=this.getRoomModules(n)||this.stateCenter.roomModulesList[0];return i?i.liveHandler.requestJoinLive(e,t,r,o):(r&&r(s.errorCodeList.ROOM_NOT_EXIST,0),!1)},e.prototype.inviteJoinLive=function(e,t,r,o,n){var i=this.getRoomModules(n)||this.stateCenter.roomModulesList[0];return i?i.liveHandler.inviteJoinLive(e,t,r,o):(r&&r(s.errorCodeList.ROOM_NOT_EXIST,0),!1)},e.prototype.endJoinLive=function(e,t,r,o){var n=this.getRoomModules(o)||this.stateCenter.roomModulesList[0];return n?n.liveHandler.endJoinLive(e,t,r):(r&&r(s.errorCodeList.ROOM_NOT_EXIST,0),!1)},e.prototype.respondJoinLive=function(e,t,r,o,n){var i=this.getRoomModules(n)||this.stateCenter.roomModulesList[0];return i?i.liveHandler.respondJoinLive(e,t,r,o):(o&&o(s.errorCodeList.ROOM_NOT_EXIST,0),!1)},e.prototype.getVersion=function(){return this.version},e.prototype.setSdkBizVersion=function(e){"string"==typeof e&&""!==e&&(this.stateCenter.bizVersion=e)},e.prototype.on=function(e,t){return this.stateCenter.listenerList[e]?"function"!=typeof t?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_ON+" listener callBack must be funciton"),!1):(-1==this.stateCenter.listenerList[e].indexOf(t)&&this.stateCenter.listenerList[e].push(t),!0):(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_ON+" event "+e+" no found"),!1)},e.prototype.off=function(e,t){if(!this.stateCenter.listenerList[e])return this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_OFF+" listener no found"),!1;var r=this.stateCenter.listenerList[e];return t?r.splice(r.indexOf(t),1):this.stateCenter.listenerList[e]=[],!0},e.prototype._on=function(e,t){return this.stateCenter.listenerList[e]?"function"!=typeof t?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_ON+" listener callBack must be funciton"),!1):(-1==this.stateCenter.listenerList[e].indexOf(t)&&this.stateCenter.listenerList[e].push(t),!0):(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_ON+" event "+e+" no found"),!1)},e.prototype._off=function(e,t){if(!this.stateCenter.listenerList[e])return this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_OFF+" listener no found"),!1;var r=this.stateCenter.listenerList[e];return t?r.splice(r.indexOf(t),1):this.stateCenter.listenerList[e]=[],!0},e.prototype.isTestEnvironment=function(){return this.stateCenter.testEnvironment},e.prototype.isLogin=function(e){var t=this.getRoomModules(e)||this.stateCenter.roomModulesList[0];return!!t&&t.isLogin()},e.prototype.getMultiRoom=function(){return this.stateCenter.isMultiRoom},e.prototype.getAppID=function(){return this.stateCenter.appid},e.prototype.getUserID=function(){return this.stateCenter.idName},e.prototype.getToken=function(e){return(this.getRoomModules(e)||this.stateCenter.roomModulesList[0]).token},e.prototype.getAnType=function(){return this.module.anType},e.prototype.getRoomSid=function(){return this.module.roomSid},e.prototype.setRoomCreateFlag=function(e){this.stateCenter.roomCreateFlag=e},e.prototype.setRole=function(e){this.stateCenter.role=e},e.prototype.getSessionId=function(e){var t=this.getRoomModules(e)||this.stateCenter.roomModulesList[0];return t?t.sessionID:"0"},e.prototype.getRoomSessionID=function(e){var t=this.getRoomModules(e)||this.stateCenter.roomModulesList[0];return t?t.roomSessionID:"0"},e.prototype.enableMultiRoom=function(e){var t=c.getReportSeq();return this.dataReport.newReport(t,m.ZegoRTMLogEvent.kZegoEnableMultiRoom.event),this.dataReport.addMsgInfo(t,{isMulti:e}),"boolean"!=typeof e?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_ENABLE_MULTI_ROOM+" param must be boolean"),this.dataReport.uploadReport(t,void 0,m.ZegoRTMLogEvent.kZegoEnableMultiRoom.error.kAlreadyLoginError),!1):this.stateCenter.roomModulesList.length>0||this.stateCenter.setMultiRoom?(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_ENABLE_MULTI_ROOM+" multi room can only be set once before first login"),this.dataReport.uploadReport(t,void 0,m.ZegoRTMLogEvent.kZegoEnableMultiRoom.error.kAlreadyLoginError),!1):(this.dataReport.uploadReport(t),this.stateCenter.isMultiRoom=e,this.stateCenter.setMultiRoom=!0,!0)},e.prototype.getRoomModules=function(e){return this.stateCenter.roomModulesList.find((function(t){return t.roomID==e}))},e.prototype.dispatchServer=function(e){var t=this;this.logger.info("zc.hh.dc call");var r=this.dispatchBodyData(),o=this.module.dispatchServer;if(l.ClientUtil.actionSuccessCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,this.stateCenter.reportList)&&l.ClientUtil.actionSuccessCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,this.stateCenter.reportList)(a.REPORT_ACTION.eventStart,m.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.dispatch_connection.event),XMLHttpRequest){var n=new XMLHttpRequest;n.open("POST",o),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.onreadystatechange=function(){if(200==n.status&&4==n.readyState&&n.responseText&&""!==n.responseText){var r=JSON.parse(n.responseText);r.server_addrs&&0!==r.server_addrs.length&&(t.stateCenter.server=r.server_addrs[0].replace(":443",""),t.module.sessionExpire=r.session_expire+"",l.ClientUtil.actionSuccessCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,t.stateCenter.reportList)&&l.ClientUtil.actionSuccessCallback(m.ZegoRTMLogEvent.kZegoTaskLoginHall.event,t.stateCenter.reportList)(a.REPORT_ACTION.eventEndWithMsgInfo,m.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.dispatch_connection.event,{server:t.stateCenter.server,session_expire:t.module.sessionExpire}),e&&e())}},n.send(JSON.stringify(r))}else wx.request({url:o,header:{"Content-Type":"application/json"},method:"POST",data:JSON.stringify(r),dataType:"json",success:function(r){r.data.server_addrs&&0!==r.data.server_addrs.length&&(t.stateCenter.server=r.data.server_addrs[0].replace(":443",""),t.module.sessionExpire=r.data.session_expire+"",e&&e())},fail:function(e){console.error("send failed "+e.statusCode)}})},e.prototype.dispatchBodyData=function(){return{seq:1,timestamp:(new Date).getTime,app_id:this.stateCenter.appid,user_id:this.stateCenter.idName,user_name:this.stateCenter.nickName,net_type:2,device_id:this.module.deviceID,login_token:this.module.hallToken,an_type:this.module.anType}},e.prototype.getRoomBroadcastMessages=function(e,t){var r=this;return new Promise((function(o,n){r.module.messageHandler.getRoomChatInfo(e,t,o,n)}))},e.prototype.sendCustomMessage=function(e,t,r){var o=this;return new Promise((function(n){if(e&&"string"==typeof e&&0===e.length)if(t&&"string"==typeof t)if(r)if(o.module.isLogin()){var i=function(e){if(e.body.code&&0!==e.body.code)return o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM_MESSAGE+" server error=",e.body.code),void n(e);n(e),o.logger.info(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM_MESSAGE+" call success.")};o.module.service.sendMessage(e,r,i,i)}else o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM_MESSAGE+" hallState is not login");else o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM_MESSAGE+" rsbodyDatapCmd error");else o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM_MESSAGE+" rspCmd error");else o.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_CUSTOM_MESSAGE+" reqCmd error")}))},e.prototype.getQueueSimpleList=function(){var e=this;return new Promise((function(t,r){e.sendCustomMessage("zegochat_js.queue_list_req","zegochat_js.queue_list_rsp",{}).then((function(o){o.body.code&&0!==o.body.code?(e.logger.error("zc.gqs.0 get list error, code = "+o.body.code),r({errorCode:o.body.code,extendData:o.body.message})):t({queues:o.body.queues})}))}))},e.prototype.setProtoFormat=function(e){if(void 0===e&&(e="json"),!["json","pb"].includes(e))throw new Error("Failed to execute 'setProtoFormat': Arguments 'format' must be 'json' or 'pb'.");this.stateCenter.protoFormat=e},e.prototype.setSdkLoginRelateService=function(e){Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))&&(this.stateCenter.relateService=e)},e.prototype.sendMessageByService=function(e,t,r,o,n,i){return this.service.sendMessage(e,t,r,o,n,i)},e.prototype.getHeader=function(e){var t=this.stateCenter.roomModulesList[0];if(t&&t.isLogin()){var r=t.roomID,o=t.sessionID,n=t.roomSessionID;return this.service.getHeader(e,o,r,n)}this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_GET_HEADER+" room no found or no login")},e.prototype.sendPB=function(e){return e instanceof Uint8Array?this.service.sendPB(e):(this.logger.error(g.ZEGO_RTM_ACTION.ZEGOEXPRESSWEBRTM_SEND_PB+" type error"),!1)},e.prototype.onPushBizChannel=function(e){e&&this.service.on("push_biz_channel",e)},e.prototype.getRoomID=function(){return this.stateCenter.roomid},e.prototype.getServerTimeOffset=function(){return this.stateCenter.serverTimeOffset},e}();t.ZegoExpressWebRTM=E},function(e,t,r){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.E_CLIENT_TYPE=t.ENUM_LOG_LEVEL=t.ENUM_REMOTE_TYPE=t.ZEGO_ENV=t.ZEGO_BROWSER_TYPE=void 0,function(e){e[e.IE=0]="IE",e[e.FIREFOX=1]="FIREFOX",e[e.CHROME=2]="CHROME",e[e.SAFARI=3]="SAFARI",e[e.OPERA=4]="OPERA",e[e.WEIXIN=5]="WEIXIN",e[e.WEIXINMINI=6]="WEIXINMINI",e[e.UNKOWN=7]="UNKOWN"}(t.ZEGO_BROWSER_TYPE||(t.ZEGO_BROWSER_TYPE={})),function(e){e[e.BROWSER=0]="BROWSER",e[e.WEIXINMINI=1]="WEIXINMINI"}(t.ZEGO_ENV||(t.ZEGO_ENV={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.WEBSOCKET=1]="WEBSOCKET",e[e.HTTPS=2]="HTTPS"}(t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={})),t.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},function(e){e[e.ClientType_None=0]="ClientType_None",e[e.ClientType_H5=1]="ClientType_H5",e[e.ClientType_SmallPragram=2]="ClientType_SmallPragram",e[e.ClientType_Webrtc=3]="ClientType_Webrtc"}(t.E_CLIENT_TYPE||(t.E_CLIENT_TYPE={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerStateCenter=void 0;var o=function(){function e(){this._testEnvironment=!0,this._ENV=0,this._debug=!0}return e.getInstance=function(){return e.instance||(e.instance=new e,e.instance.init()),e.instance},e.prototype.init=function(){},Object.defineProperty(e.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(e){this._testEnvironment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ENV",{get:function(){return this._ENV},set:function(e){this._ENV=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e},enumerable:!1,configurable:!0}),e.instance=new e,e}();t.LoggerStateCenter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoWebSocket=t.ZegoWeiXinMiniWebSocket=void 0;var o=r(0),n=function(){function e(e,t){this.url=e,this.readyState=3,this._websocket=wx.connectSocket({url:e}),this.init()}return e.prototype.init=function(){var e=this;this._websocket&&(this.readyState=0,this._websocket.onOpen((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onopen&&(e.onopen(t),e._websocket.onClose((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onclose&&e.onclose(t)})),e._websocket.onMessage((function(t){"function"==typeof e.onmessage&&e.onmessage(t)})))})),this._websocket.onError((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onerror&&e.onerror(t)})))},e.prototype.onopen=function(e){},e.prototype.onerror=function(e){},e.prototype.onclose=function(e){},e.prototype.onmessage=function(e){},e.prototype.send=function(e){this._websocket&&this._websocket.send({data:e})},e.prototype.close=function(){this._websocket&&this._websocket.close()},e}();t.ZegoWeiXinMiniWebSocket=n,t.createZegoWebSocket=function(e,t){return t%2===o.ZEGO_ENV.BROWSER?new WebSocket(e):new n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerStateCenter=t.createZegoWebSocket=t.ZegoDataReport=t.ZegoLogger=void 0;var o=r(1);Object.defineProperty(t,"LoggerStateCenter",{enumerable:!0,get:function(){return o.LoggerStateCenter}});var n=r(2);Object.defineProperty(t,"createZegoWebSocket",{enumerable:!0,get:function(){return n.createZegoWebSocket}});var i=r(4);Object.defineProperty(t,"ZegoDataReport",{enumerable:!0,get:function(){return i.ZegoDataReport}});var a=r(5);Object.defineProperty(t,"ZegoLogger",{enumerable:!0,get:function(){return a.ZegoLogger}})},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoDataReport=void 0;var n=function(){function e(e){this.dataStatistics={},this.logger=e}return e.prototype.newReport=function(e,t){this.dataStatistics[e]={event_time:Date.now(),time_consumed:0,seq:e,error:0,message:"success",event:t,events:[]}},e.prototype.addMsgExt=function(e,t){this.dataStatistics[e]?this.dataStatistics[e].msg_ext=t:console.warn(e+" not exist")},e.prototype.addMsgInfo=function(e,t){this.dataStatistics[e]?Object.assign(this.dataStatistics[e],t):console.warn(e+" not exist")},e.prototype.eventStart=function(e,t){this.dataStatistics[e]?null!=this.dataStatistics[e].events?this.dataStatistics[e].events.push({event:t,event_time:Date.now(),time_consumed:0}):this.logger.warn("zd.es.0 no events"):this.logger.warn("zd.es.0 no seq match")},e.prototype.eventEnd=function(e,t,r){if(this.dataStatistics[e]){var o=this.dataStatistics[e].events;if(o&&0!==o.length){for(var n=o.length-1;n>=0;n--)if(o[n].event==t&&0==o[n].time_consumed){o[n].time_consumed=Date.now()-o[n].event_time;break}}else this.logger.info("zd.ee.0 no events")}else this.logger.info("zd.ee.0 no seq match")},e.prototype.eventEndWithMsg=function(e,t,r){if(this.dataStatistics[e]){var n=this.dataStatistics[e].events;if(n){for(var i=n.length-1;i>=0;i--)if(n[i].event==t&&0==n[i].time_consumed){n[i].time_consumed=Date.now()-n[i].event_time,null==n[i].msg_ext&&(n[i].msg_ext={}),n[i].msg_ext=o({},r);break}}else this.logger.warn("zd.ee.0 no events")}else this.logger.warn("zd.ee.0 no seq match")},e.prototype.eventEndWithMsgInfo=function(e,t,r){if(this.dataStatistics[e]){var o=this.dataStatistics[e].events;if(o){for(var n=o.length-1;n>=0;n--)if(o[n].event==t&&0==o[n].time_consumed){o[n].time_consumed=Date.now()-o[n].event_time,Object.assign(o[n],r);break}}else this.logger.warn("zd.ee.0 no events")}else this.logger.warn("zd.ee.0 no seq match")},e.prototype.addEventInfo=function(e,t,r,o){if(this.dataStatistics[e]){var n=this.dataStatistics[e].events;if(null!=n){for(var i=n.length-1;i>=0;i--)if(n[i].event==t&&null!=n[i].time_consumed){null==n[i].msg_ext?n[i].msg_ext={}:n[i].msg_ext&&(n[i].msg_ext[r]=o);break}}else this.logger.warn("zd.aei.0 no events")}else this.logger.warn("zd.aei.0 no seq match")},e.prototype.addEventMsg=function(e,t,r,o){if(this.dataStatistics[e]){var n=this.dataStatistics[e].events;if(null!=n){for(var i=n.length-1;i>=0;i--)if(n[i].event==t){n[i][r]=o;break}}else this.logger.warn("zd.aem.0 no events")}else this.logger.warn("zd.aem.0 no seq match")},e.prototype.addEvent=function(e,t,r){this.dataStatistics[e]?this.dataStatistics[e].events&&(r?this.dataStatistics[e].events.push({event:t,event_time:Date.now(),msg_ext:r}):this.dataStatistics[e].events.push({event:t,event_time:Date.now()})):this.logger.warn("zd.ae.0 no seq match")},e.prototype.uploadReport=function(e,t,r,o){var n=this.dataStatistics[e];null!=n&&(t&&(n.event=t),n.time_consumed=Date.now()-n.event_time,r&&this.addMsgInfo(e,{error:r.code,message:r.message||r.msg+" "+(o||"")}),this.logger.report(n),delete this.dataStatistics[e])},e}();t.ZegoDataReport=n},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLogger=void 0;var n=r(0),i=r(2),a=r(1),s=r(6),l=function(){function e(e){this.logLevel=n.ENUM_LOG_LEVEL.INFO,this.logRemoteLevel=0,this.websocket=null,this.logUploadTimer=null,this.logUploadInterval=1e4,this.logCache=[],this.logCacheSend=[],this.logCacheMax=100,this.existUserID=!1,this.stateCenter=a.LoggerStateCenter.getInstance(),this.env=e}return e.prototype.setLogLevel=function(e){var t=n.ENUM_LOG_LEVEL[e];return void 0!==t&&(this.logLevel=t,!0)},e.prototype.setRemoteLogLevel=function(e){var t=n.ENUM_LOG_LEVEL[e];return void 0!==t&&(this.logRemoteLevel=t,!0)},e.prototype.setSessionInfo=function(e,t,r,o,n,i){this.appid=e,this.roomid=t,this.sessionid=r,this.userid=o,this.userName=n,this.version=i},e.prototype.report=function(e){var t=this.logReportParamList(n.ENUM_LOG_LEVEL.REPORT,e);this.logLevel!==n.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=n.ENUM_LOG_LEVEL.REPORT&&console.debug(t),this.RemoteLog(n.ENUM_LOG_LEVEL.REPORT,t,!0)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(n.ENUM_LOG_LEVEL.DEBUG,e.join(""));this.logLevel!==n.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=n.ENUM_LOG_LEVEL.DEBUG&&console.debug(r),this.log(n.ENUM_LOG_LEVEL.DEBUG,r)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(n.ENUM_LOG_LEVEL.INFO,e.join(""));this.logLevel!==n.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=n.ENUM_LOG_LEVEL.INFO&&console.info(r),this.log(n.ENUM_LOG_LEVEL.INFO,r)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(n.ENUM_LOG_LEVEL.WARN,e.join(""));this.logLevel!==n.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=n.ENUM_LOG_LEVEL.WARN&&console.warn(r),this.log(n.ENUM_LOG_LEVEL.WARN,r)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.logParamList(n.ENUM_LOG_LEVEL.ERROR,e.join(""));this.logLevel!==n.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=n.ENUM_LOG_LEVEL.ERROR&&(console.error(r),window?this.stateCenter.debug&&window.alert(e.join("").substr(e.join("").indexOf(" ")+1,4500)):wx&&this.stateCenter.debug&&wx.showModal({title:"",content:e.join("").substr(e.join("").indexOf(" ")+1,4500)})),this.log(n.ENUM_LOG_LEVEL.ERROR,r)},e.prototype.log=function(e,t){this.logRemoteLevel!==n.ENUM_LOG_LEVEL.DISABLE&&this.logRemoteLevel<=e&&this.RemoteLog(e,t)},e.prototype.setLogServer=function(e){try{return e.startsWith("wss:")?(this.logType=n.ENUM_REMOTE_TYPE.WEBSOCKET,this.openWebSocketLogServer(e)):e.startsWith("https:")?(this.logType=n.ENUM_REMOTE_TYPE.HTTPS,this.openHttpsLogServer(e)):this.logType=n.ENUM_REMOTE_TYPE.DISABLE,!0}catch(e){return this.error(JSON.stringify(e)),!1}},e.prototype.stopLogServer=function(){this.logType==n.ENUM_REMOTE_TYPE.WEBSOCKET?this.stopWebSocketServer():this.logType==n.ENUM_REMOTE_TYPE.HTTPS&&(this.SendHttpsLog(),this.stopHttpsServer()),this.logType=n.ENUM_REMOTE_TYPE.DISABLE},e.prototype.stopWebSocketServer=function(){this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null)},e.prototype.openHttpsLogServer=function(e){var t=this;this.url=e,e&&(this.stopHttpsServer(),this.logUploadTimer||(this.logUploadTimer=setInterval((function(){t.SendHttpsLog()}),this.logUploadInterval)))},e.prototype.stopHttpsServer=function(){this.logUploadTimer&&(clearInterval(this.logUploadTimer),this.logUploadTimer=null)},e.prototype.RemoteLog=function(e,t,r){if(void 0===r&&(r=!1),""!=this.url)if(this.logType==n.ENUM_REMOTE_TYPE.WEBSOCKET)this.RemoteWebSocketLog(e,t);else if(this.logType==n.ENUM_REMOTE_TYPE.HTTPS)this.RemoteHttpsLog(e,t,r);else if(this.logLevel!==n.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=e)for(this.logCacheSend.push(t);this.logCacheSend.length>this.logCacheMax;)this.logCacheSend.shift()},e.prototype.RemoteWebSocketLog=function(e,t){if("string"==typeof t&&t.length>4e3)console.info("log over maximum, ignore");else if(null==this.websocket||2==this.websocket.readyState||3==this.websocket.readyState){var r=this.url;this.url="",this.setLogServer(r),this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t)}else if(0==this.websocket.readyState)this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t);else if(1==this.websocket.readyState)if(this.logCacheSend.length>0){for(var n="",i=0;i<this.logCacheSend.length;i++){(n+this.logCacheSend[i]).length>4e3&&(this.websocket.send(n),n="");var a=JSON.parse(this.logCacheSend[i]);a=o(o({},a),{userid:a.userid||this.userid,roomid:a.roomid||this.roomid,userName:a.roomid||this.userName}),n=n+JSON.stringify(a)+"\n"}t=n+t,this.logCacheSend=[],this.websocket.send(t)}else this.websocket.send(t);else console.warn("wrong socket state:"+this.websocket.readyState),this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t)},e.prototype.RemoteHttpsLog=function(e,t,r){this.logCacheSend.push(t),(this.logCacheSend.length>=this.logCacheMax||!0===r)&&this.SendHttpsLog()},e.prototype.logParamList=function(e,t){var r=s.getCurrentTime(),o=[t.substr(0,t.indexOf(" "))||t,t.substr(t.indexOf(" ")+1,4500)||t],n={time:r,level:e,action:o[0],content:o[1],appid:this.appid,roomid:this.roomid,userid:this.userid,userName:this.userName,sessionid:this.sessionid};return JSON.stringify(n)},e.prototype.logReportParamList=function(e,t){var r=s.getCurrentTime();return t=o(o({},t),{time:r,level:e,console:this.env%2===n.ZEGO_ENV.BROWSER?"rtc":"xcx",appid:this.appid,room_id:this.roomid,roomid:this.roomid,userid:this.userid,id_name:this.userid,userName:this.userName,sessionid:this.sessionid,sdk_version:this.version,test_environment:this.stateCenter.testEnvironment,version:this.version,event_id:this.appid+"_"+this.userid+"_"+t.event_time+"_"+t.seq}),JSON.stringify(t)},e.prototype.openWebSocketLogServer=function(e){if(this.url!=e){if(this.url=e,!e)return;this.stopWebSocketServer(),this.websocket=i.createZegoWebSocket(e,this.env),this.websocket.onopen=function(){},this.websocket.onclose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn("onclose   websocket error:",e)},this.websocket.onmessage=function(){},this.websocket.onerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn("open log websocket error:",e)}}},e.prototype.SendHttpsLog=function(){0!=this.logCacheSend.length&&(this.env%2===n.ZEGO_ENV.BROWSER?this.SendHttpsLogWeb():this.SendHttpsLogWeChatMini())},e.prototype.SendHttpsLogWeb=function(){var e=this,t=this.logCacheSend.join("\n"),r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){if(0==r.responseText.length)return;try{var t=JSON.parse(r.responseText).interval;"number"==typeof t&&e.logUploadInterval!==t&&(e.timeInterval=t,e.openHttpsLogServer(e.url))}catch(e){}}else r.status},r.open("POST",this.url,!0),0==this.env?r.send(t):2==this.env&&(r.setRequestHeader("content-type","application/json"),r.send(JSON.stringify({user_id:this.userid,log:t}))),this.logCacheSend=[]},e.prototype.SendHttpsLogWeChatMini=function(){var e=this;!this.existUserID&&this.userid&&this.logCacheSend.forEach((function(t){Array.isArray(t)&&t.forEach((function(r,o){var n=JSON.parse(r);n&&""==JSON.parse(r).userid?(n.userid=e.userid,n.id_name=e.userid,t[o]=JSON.stringify(n)):e.existUserID=!0}))}));var t=this.logCacheSend.join("\n"),r=1==this.env?t:JSON.stringify({user_id:this.userid,log:t});wx.request({url:this.url,data:r,method:"POST",success:function(t){if(0!=t.data.length){var r=t&&t.data&&t.data.interval;"number"==typeof r&&e.logUploadInterval!==r&&(e.timeInterval=r,e.openHttpsLogServer(e.url))}},fail:function(e){e.statusCode}}),this.logCacheSend=[]},e}();t.ZegoLogger=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTime=t.getCurrentEnv=t.getBrowser=void 0;var o=r(0);t.getBrowser=function(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),r=-1!=e.indexOf("Firefox"),n=null!=window.opr,i=e.indexOf("Chrome")&&window.chrome,a=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version"),s=e.toLowerCase().match(/MicroMessenger/i)&&"micromessenger"===e.toLowerCase().match(/MicroMessenger/i)[0];return t?o.ZEGO_BROWSER_TYPE.IE:r?o.ZEGO_BROWSER_TYPE.FIREFOX:n?o.ZEGO_BROWSER_TYPE.OPERA:i?o.ZEGO_BROWSER_TYPE.CHROME:a?o.ZEGO_BROWSER_TYPE.SAFARI:s?o.ZEGO_BROWSER_TYPE.WEIXIN:o.ZEGO_BROWSER_TYPE.UNKOWN},t.getCurrentEnv=function(){var e=window.navigator.userAgent;return new Promise((function(t){-1==e.indexOf("MicroMessage")?t(o.ZEGO_ENV.BROWSER):wx.miniProgram.getEnv((function(e){e.miniprogram}))}))};var n=["00","01","02","03","04","05","06","07","08","09"];t.getCurrentTime=function(){var e=new Date;return[e.getFullYear()+"/",(n[e.getMonth()+1]||e.getMonth()+1)+"/",(n[e.getDate()]||e.getDate())+" ",(n[e.getHours()]||e.getHours())+":",(n[e.getMinutes()]||e.getMinutes())+":",n[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")}}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;var o=function(){function e(){}return e.base64encode=function(t){var r,o,n,i,a,s;for(n=t.length,o=0,r="";o<n;){if(i=255&t.charCodeAt(o++),o==n){r+=e.base64EncodeChars.charAt(i>>2),r+=e.base64EncodeChars.charAt((3&i)<<4),r+="==";break}if(a=t.charCodeAt(o++),o==n){r+=e.base64EncodeChars.charAt(i>>2),r+=e.base64EncodeChars.charAt((3&i)<<4|(240&a)>>4),r+=e.base64EncodeChars.charAt((15&a)<<2),r+="=";break}s=t.charCodeAt(o++),r+=e.base64EncodeChars.charAt(i>>2),r+=e.base64EncodeChars.charAt((3&i)<<4|(240&a)>>4),r+=e.base64EncodeChars.charAt((15&a)<<2|(192&s)>>6),r+=e.base64EncodeChars.charAt(63&s)}return r},e.base64decode=function(t){var r,o,n,i,a,s,l;for(s=t.length,a=0,l="";a<s;){do{r=e.base64DecodeChars[255&t.charCodeAt(a++)]}while(a<s&&-1==r);if(-1==r)break;do{o=e.base64DecodeChars[255&t.charCodeAt(a++)]}while(a<s&&-1==o);if(-1==o)break;l+=String.fromCharCode(r<<2|(48&o)>>4);do{if(61==(n=255&t.charCodeAt(a++)))return l;n=e.base64DecodeChars[n]}while(a<s&&-1==n);if(-1==n)break;l+=String.fromCharCode((15&o)<<4|(60&n)>>2);do{if(61==(i=255&t.charCodeAt(a++)))return l;i=e.base64DecodeChars[i]}while(a<s&&-1==i);if(-1==i)break;l+=String.fromCharCode((3&n)<<6|i)}return l},e.utf16to8=function(e){var t,r,o,n;for(t="",o=e.length,r=0;r<o;r++)(n=e.charCodeAt(r))>=1&&n<=127?t+=e.charAt(r):n>2047?(t+=String.fromCharCode(224|n>>12&15),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|n>>0&63)):(t+=String.fromCharCode(192|n>>6&31),t+=String.fromCharCode(128|n>>0&63));return t},e.utf8to16=function(e){var t,r,o,n,i,a;for(t="",o=e.length,r=0;r<o;)switch((n=e.charCodeAt(r++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(r-1);break;case 12:case 13:i=e.charCodeAt(r++),t+=String.fromCharCode((31&n)<<6|63&i);break;case 14:i=e.charCodeAt(r++),a=e.charCodeAt(r++),t+=String.fromCharCode((15&n)<<12|(63&i)<<6|(63&a)<<0)}return t},e.base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],e}();t.Base64=o},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RetryRoomHandler=void 0;var i=r(5),a=r(0),s=r(2),l=r(1),c=r(3),u=function(e){function t(t,r,o){var n=e.call(this,t,r)||this;return n.logger=t,n.stateCenter=r,n.room=o,n.loginRoomCallback={},n}return n(t,e),t.prototype.renewToken=function(e){if(this.token=e,this.room.token=this.token,"03"===e.substr(0,2)){var t=c.ClientUtil.decodeTokenExpire(e.substr(2));this.roomHandler.resetTokenTimer(1e3*t-(new Date).getTime()-this.stateCenter.local_time_deviation-3e4)}this.stateCenter.actionListener("_tokenRenewed",e,this.room.roomID)},t.prototype.initRoom=function(e,t,r,o,n,i,a){this.roomHandler=e,this.roomID=t,this.renewToken(r),this.user=o,this.server=n,this.serverBak=i||n,this.config=a},t.prototype.active=function(e){var t=this;if(this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" retry call"),this.roomHandler.setRunState(a.ENUM_RUN_STATE.trylogin),this.room.isMulti&&this.room.service.isDisConnect())this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" service is disconnected, multi room stop retry");else if(this.stateCenter.networkState!=a.ENUM_NETWORK_STATE.offline)if(this.retryTimer)this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" has actived, ignore");else if(this.isOverTime)this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" retry over time, stop retry");else{if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var r=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1));this.retryActiveInterval=r>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:r}this.retryTimer=setTimeout((function(){t.roomHandler.login(t.retryActiveCount%2==1?t.server:t.serverBak,t.roomID,t.token,t.user,t.config,(function(e){t.handleLoginFinish(e)}),(function(e,r){t.handleLoginFinish(!1,e,r)})),t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,t.retryActiveCount++}),e?0:1e3*this.retryActiveInterval)}else this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" network is broken, stop retry")},t.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.maxTimer=setTimeout((function(){e.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" over max time "+e.RETRY_MAX_TIME+"s, stop retry"),e.isOverTime=!0,e.roomHandler.resetRoom(),e.stopMaxTime(),e.invalid(),e.onactive(!1,l.errorCodeList.LOGIN_TIMEOUT),e.loginRoomCallback.fail&&(e.loginRoomCallback.fail(l.errorCodeList.LOGIN_TIMEOUT),e.loginRoomCallback.fail=void 0)}),1e3*this.RETRY_MAX_TIME))},t.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(e,t){},t.prototype.handleError=function(e,t){if(this.RETRY_MAX_TIME<3)return!1;if(t){var r=e.code+"";return!["1000002002","1000005030","1000005035","1010","1011","1013","1014","1015","1016","1017","1018","1019","1020","1021","1023"].includes(r)&&(!!["1100040001","1100040100"].includes(r)||this.room.lastRunState==a.ENUM_RUN_STATE.login&&(this.room.sessionID="",this.invalid(),!0))}return!0},t.prototype.setLoginRoomCallback=function(e,t){this.loginRoomCallback.success=e,this.loginRoomCallback.fail=t},t.prototype.handleLoginFinish=function(e,t,r){t?this.handleError(t,r)?(!this.maxTimer&&this.startMaxTime(),this.active()):(this.roomHandler.resetRoom(),this.stopMaxTime(),this.invalid(),this.onactive(e,t),this.loginRoomCallback.fail&&(this.loginRoomCallback.fail(t),this.loginRoomCallback.fail=void 0)):(this.stopMaxTime(),this.invalid(),this.onactive(e,{code:0,msg:""}),this.loginRoomCallback.success&&(this.loginRoomCallback.success(e),this.loginRoomCallback.fail=void 0))},t}(i.TryHandler);t.RetryRoomHandler=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkParams=t.RULE_SUCCESS=t.RULE_PARAM_NAME=void 0;var o,n=r(3);!function(e){e.NOT_EMPTY="NOT_EMPTY",e.ILLEGAL_CHARACTERS="ILLEGAL_CHARACTERS",e.TYPE_STRING="TYPE_STRING",e.TYPE_INTEGER="TYPE_INTEGER",e.TYPE_OBJECT="TYPE_OBJECT",e.MAX_LENGTH_10="MAX_LENGTH_10",e.MAX_LENGTH_64="MAX_LENGTH_64",e.MAX_LENGTH_100="MAX_LENGTH_100",e.MAX_LENGTH_128="MAX_LENGTH_128",e.MAX_LENGTH_256="MAX_LENGTH_256",e.MAX_LENGTH_1024="MAX_LENGTH_1024"}(o=t.RULE_PARAM_NAME||(t.RULE_PARAM_NAME={})),t.RULE_SUCCESS={error:{code:0,msg:"suc"}};var i={NOT_EMPTY:function(e,r,o,n,i){return void 0===r||""===r||null===r?(n.error(o+" "+e+" is empty"),i):t.RULE_SUCCESS},ILLEGAL_CHARACTERS:function(e,r,o,i,a){return n.ClientUtil.checkIllegalCharacters(r)?t.RULE_SUCCESS:(i.error(o+" "+e+" contains illegal characters"),a)},TYPE_STRING:function(e,r,o,n,i){return"string"!=typeof r?(n.error(o+" "+e+" must be string"),i):t.RULE_SUCCESS},TYPE_INTEGER:function(e,r,o,i,a){return n.ClientUtil.checkInteger(r,!1)?t.RULE_SUCCESS:(i.error(o+" "+e+"  must be integer number"),a)},TYPE_OBJECT:function(e,r,o,n,i){return r&&"object"==typeof r?t.RULE_SUCCESS:(n.error(o+" "+e+"  must be object"),i)},MAX_LENGTH_10:function(e,r,o,n,i){return r.length>10?(n.error(o+" "+e+" is too long"),i):t.RULE_SUCCESS},MAX_LENGTH_64:function(e,r,o,n,i){return r.length>64?(n.error(o+" "+e+" is too long"),i):t.RULE_SUCCESS},MAX_LENGTH_100:function(e,r,o,n,i){return r.length>100?(n.error(o+" "+e+" is too long"),i):t.RULE_SUCCESS},MAX_LENGTH_128:function(e,r,o,n,i){return r.length>128?(n.error(o+" "+e+" is too long"),i):t.RULE_SUCCESS},MAX_LENGTH_256:function(e,r,o,n,i){return r.length>256?(n.error(o+" "+e+" is too long"),i):t.RULE_SUCCESS},MAX_LENGTH_1024:function(e,r,o,n,i){return r.length>1024?(n.error(o+" "+e+" is too long"),i):t.RULE_SUCCESS}};t.checkParams=function(e,r){var n=[],a={};for(var s in e)a[e[s].order]=e[s],e[s].key=s;for(var l in a)n.push(a[l]);for(var c=0;c<n.length;c++)for(var u=n[c].rules,d=0;d<u.length;d++){var p={key:n[c].key,value:n[c].value,action:r.action,logger:r.logger},h=p.key,f=p.value,g=p.action,m=p.logger,v=u[d].name?""+u[d].name:"";if((void 0===f&&v===o.NOT_EMPTY||void 0!==f)&&i[v]){var b=i[v](h,f,g,m,u[d]);if(b!=t.RULE_SUCCESS)return b}}return t.RULE_SUCCESS}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateCenter=void 0;var o=r(0),n=r(2),i=r(4),a=function(){function e(e,t){this.logger=e,this.dataReport=t,this._debug=!1,this._testEnvironment=!1,this._env=0,this.type="PUBLIC",this.debugCustom=!1,this.configOK=!1,this.role=2,this.relateService=[],this.maxMemberCount=0,this.roomCreateFlag=1,this.local_time_deviation=0,this.callbackList={},this.listenerList={roomUserUpdate:[],roomOnlineUserCountUpdate:[],getAnchorInfo:[],_getAnchorInfo:[],IMRecvCustomCommand:[],IMRecvBroadcastMessage:[],recvReliableMessage:[],roomExtraInfoUpdate:[],IMRecvBarrageMessage:[],recvJoinLiveRequest:[],recvInviteJoinLiveRequest:[],recvEndJoinLiveCommand:[],roomLoginResponse:[],HBResponse:[],roomStateUpdate:[],_roomStateUpdate:[],_getTotalUserList:[],_userStateUpdate:[],_recvBigRoomMessage:[],_recvRoomMsg:[],_kickout:[],tokenWillExpire:[],hallStateUpdate:[],_hallStateUpdate:[],roomTokenWillExpire:[],_tokenRenewed:[],_protobufResponse:[]},this.reportList={},this.reportSeqList={login:0,relogin:0},this.networkState=o.ENUM_NETWORK_STATE.offline,this.roomRetryTime=300,this.roomModulesList=[],this.isMultiRoom=!1,this.setMultiRoom=!1,this.protoFormat="json",this._sdkVersion="unknown"}return Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e,o.LoggerStateCenter.getInstance().debug=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(e){this._testEnvironment=e,o.LoggerStateCenter.getInstance().testEnvironment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ENV",{get:function(){return this._env},set:function(e){this._env=e,o.LoggerStateCenter.getInstance().ENV=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roomid",{get:function(){return this.roomModulesList[0]?this.roomModulesList[0].roomID:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverTimeOffset",{get:function(){return this.roomModulesList[0]?this.roomModulesList[0].messageHandler.serverTimeOffset:0},enumerable:!1,configurable:!0}),e.prototype.getRequestId=function(){return this.idName+"-"+o.getSeq()},e.prototype.actionListener=function(e){for(var t=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(this.listenerList[e]){var s=o.getReportSeq();this.dataReport.newReport(s,i.ZegoRTMLogEvent.kZegoListener.event),this.dataReport.addMsgInfo(s,{listener:e,params:r}),this.dataReport.uploadReport(s)}this.listenerList[e]&&this.listenerList[e].forEach((function(o){try{o.apply(void 0,r)}catch(r){t.logger.error(n.ZEGO_RTM_ACTION.STATE_ACTION+" ",e," ",JSON.stringify(r))}}))},Object.defineProperty(e.prototype,"sdKVersion",{get:function(){return this._sdkVersion},set:function(e){this._sdkVersion=e},enumerable:!1,configurable:!0}),e}();t.StateCenter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveRoomModules=void 0;var o=r(0),n=r(6),i=r(7),a=r(8),s=r(20),l=r(9),c=function(){function e(e,t,r,c,u){this.roomID=e,this.stateCenter=t,this.logger=r,this.dataReport=c,this.service=u,this.runState=o.ENUM_RUN_STATE.logout,this.lastRunState=o.ENUM_RUN_STATE.logout,this.lastRoomState="DISCONNECTED",this.roomState="DISCONNECTED",this.roomSessionID="0",this.sessionID="0",this.isMulti=!1,this.token="",this.thirdToken="",this.roomHandler=new s.RoomHandler(this.logger,this.stateCenter,this.dataReport,this.service,this),this.heartBeatHandler=new n.HeartBeatHandler(this.logger,this.stateCenter,this.dataReport,this.service,this),this.userHandler=new l.UserHandler(this.logger,this.stateCenter,this.dataReport,this.service,this),this.messageHandler=new a.MessageHandler(this.logger,this.stateCenter,this.dataReport,this.service,this),this.liveHandler=new i.LiveHandler(this.logger,this.stateCenter,this.service,this),this.init()}return e.prototype.init=function(){this.bindHeatBeatHandler(),this.bindRoomHandler(),this.bindMessageHandler(),this.bindLiveHandler()},e.prototype.bindHeatBeatHandler=function(){var e=this;this.heartBeatHandler.hbLogout=function(t){e.roomHandler.handleHbLogout(t)},this.heartBeatHandler.heartbeatRspNotiFy=function(t){e.messageHandler.loginRsp(t),e.userHandler.patchUserList(t),e.HBResponse(t)}},e.prototype.bindRoomHandler=function(){var e=this;this.roomHandler.loginSuccessCallBack=function(t,r){e.heartBeatHandler.init(r),e.service.startCheck(),e.userHandler.loginRsp(r,t),e.messageHandler.loginRsp(r),e.isMulti||e.handleMultiRoom(),e.roomLoginResponse(r)},this.roomHandler.resetRoomCallBack=function(){e.heartBeatHandler.resetHeartbeat(),e.liveHandler.resetLiveHandler(),e.messageHandler.resetMessageInfo(),e.userHandler.resetUserHandler(),e.roomTryHandler&&(e.roomTryHandler.invalid(),e.roomTryHandler.stopMaxTime(),e.roomTryHandler=void 0)}},e.prototype.bindUserHandler=function(){},e.prototype.bindMessageHandler=function(){},e.prototype.bindLiveHandler=function(){},e.prototype.HBResponse=function(e){this.stateCenter.actionListener("HBResponse",e)},e.prototype.roomLoginResponse=function(e){this.stateCenter.actionListener("roomLoginResponse",e)},e.prototype.handleMultiRoom=function(){this.stateCenter.roomModulesList.forEach((function(e){e.runState!==o.ENUM_RUN_STATE.login&&e.roomTryHandler&&1==e.isMulti&&(e.roomTryHandler.onactive=function(t,r){r&&0!==r.code?e.roomHandler.roomStateHandle("DISCONNECTED",r):e.roomHandler.roomStateHandle("CONNECTED",r)},e.roomTryHandler.startMaxTime(),e.roomTryHandler.active())}))},e.prototype.isLogin=function(){return this.runState===o.ENUM_RUN_STATE.login},e}();t.LiveRoomModules=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomHandler=void 0;var o=r(0),n=r(3),i=r(2),a=r(1),s=r(4),l=function(){function e(e,t,r,o,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=o,this.room=n,this.tryLoginTimer=null,this.tryLoginCount=0,this.tryLoginInterval=1e4,this.tokenTimer=null,this.beforeExpire=30,this.loginCallback={}}return e.prototype.resetTokenTimer=function(e){var t=this;e=(e=e<0?0:e)>2147483648?2147483648:e,this.logger.info(i.ZEGO_RTM_ACTION.ROOM_RESETTOKEN_TIMER+"  call: "+e),this.tokenTimer&&clearTimeout(this.tokenTimer),this.tokenTimer=setTimeout((function(){t.stateCenter.actionListener("tokenWillExpire",t.room.roomID),t.stateCenter.actionListener("roomTokenWillExpire",t.room.roomID)}),e)},e.prototype.stopTokenTimer=function(){clearTimeout(this.tokenTimer)},e.prototype.setRunState=function(e){this.room.lastRunState=this.room.runState,this.room.runState=e},e.prototype.resetTryLogin=function(){this.tryLoginTimer&&clearTimeout(this.tryLoginTimer),this.tryLoginTimer=null},e.prototype.resetRoom=function(e){var t=this;if(this.logger.info(i.ZEGO_RTM_ACTION.ROOM_RESET_ROOM+" call"),this.stateCenter.roomModulesList.length>1&&!e&&(this.room.isMulti=!0),this.resetTryLogin(),"0"!==this.room.sessionID&&this.room.runState!==o.ENUM_RUN_STATE.logout&&!this.service.isDisConnect()){var r=function(e){t.handleLogoutRsp(e)};this.service.logout(this.room,r,r)}this.setRunState(o.ENUM_RUN_STATE.logout),this.room.sessionID="",this.room.roomSessionID="",this.room.isMulti||(this.stateCenter.userid="",this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.sessionID,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),this.service.closeSocket()),this.resetRoomCallBack(),this.stateCenter.roomModulesList=this.stateCenter.roomModulesList.filter((function(e){return e!==t.room}));var n=this.stateCenter.roomModulesList[0];n&&(n.isMulti=!1,n.runState!==o.ENUM_RUN_STATE.login&&n.roomTryHandler&&(n.roomTryHandler.startMaxTime(),n.roomTryHandler.active())),this.logger.info(i.ZEGO_RTM_ACTION.ROOM_RESET_ROOM+" call success")},e.prototype.resetRoomCallBack=function(){},e.prototype.loginSuccessCallBack=function(e,t){},e.prototype.handlePushKickout=function(e,t){var r=this;this.logger.info(i.ZEGO_RTM_ACTION.ROOM_KICK_OUT+"  call "+JSON.stringify(e));var l=o.getReportSeq();this.dataReport.newReport(l,s.ZegoRTMLogEvent.kZegoTaskKickout.event),this.dataReport.addMsgInfo(l,{user_id:s.ZegoRTMLogEvent.kZegoTaskKickout.user_id(this.stateCenter.idName)});var c=n.ClientUtil.getKickoutError(e.body.reason);this.dataReport.addMsgInfo(l,{error:c.code,message:c.message}),this.dataReport.uploadReport(l);var u=this.room.roomTryHandler;if(u)if(u.onactive=function(e,t){r.disconnectedHandle(t),r.stateCenter.actionListener("_kickout",t)},e.body.need_relogin&&1==e.body.need_relogin)this.room.sessionID="",u.startMaxTime(),u.active();else{this.resetRoom(t);var d={};e&&e.body.custom_reason?d.custom_kickout_message=e.body.custom_reason:c.name&&a.errorCodeList[c.name]&&(d.custom_kickout_message=a.errorCodeList[c.name].msg+" kickout，reason: "+e.body.reason),c.name&&a.errorCodeList[c.name]?this.disconnectedHandle(a.errorCodeList[c.name],JSON.stringify(d)):this.disconnectedHandle(a.errorCodeList.ROOM_INNER_ERROR,JSON.stringify(d)),this.stateCenter.actionListener("_kickout",{code:a.errorCodeList.MANUAL_KICKOUT.code,msg:a.errorCodeList.MANUAL_KICKOUT.msg+e.body.reason})}else this.logger.info(i.ZEGO_RTM_ACTION.ROOM_KICK_OUT+" try handler no found")},e.prototype.handleHbLogout=function(e){var t=this,r=this.room.roomTryHandler;r&&(r.onactive=function(e,r){t.disconnectedHandle(r)},[a.errorCodeList.HEARTBEAT_TIMEOUT,a.errorCodeList.SOCKET_CLOSE,a.errorCodeList.TIMEOUT].includes(e)||e.msg.endsWith("1000002001")||e.msg.endsWith("1000000152")?(r.startMaxTime(),r.active()):(r.stopMaxTime(),r.invalid(),this.resetRoom(),this.disconnectedHandle(e)))},e.prototype.onDisconnect=function(e){var t=this;if(this.logger.error(i.ZEGO_RTM_ACTION.ROOM_DISCONNECT+" "+e.msg),"string"==typeof e.code&&"Error.Network"===e.code)this.dataReport.addMsgInfo(this.stateCenter.reportSeqList.relogin,{error:s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.error.ROOM_DISCONNECT.code,message:s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.error.ROOM_DISCONNECT.msg});else if("number"==typeof e.code){var r=void 0;(r=e.code<2e9&&e.code>1e9||e.code<1e6?n.ClientUtil.decodeServerError(e.code,e.msg):{code:e.code,message:e.msg})&&this.dataReport.addMsgInfo(this.stateCenter.reportSeqList.relogin,{error:r.code,message:r.message})}this.dataReport.uploadReport(this.stateCenter.reportSeqList.relogin),this.stateCenter.reportSeqList.relogin=0,n.ClientUtil.unregisterCallback(s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.event,this.stateCenter.reportList);var o=this.room.roomTryHandler;o?(o.onactive=function(e,r){r&&0!==r.code?t.roomStateHandle("DISCONNECTED",r):t.roomStateHandle("CONNECTED",r)},o.startMaxTime(),o.active()):this.logger.error(i.ZEGO_RTM_ACTION.ROOM_DISCONNECT+" try handler no found")},e.prototype.onConnecting=function(e){this.roomStateHandle("CONNECTING",e)},e.prototype.disconnectedHandle=function(e,t){e&&0!==e.code?(this.stopTokenTimer(),this.roomStateHandle("DISCONNECTED",e,t)):this.roomStateHandle("CONNECTED",e,t)},e.prototype.roomStateHandle=function(e,t,r){this.logger.info(i.ZEGO_RTM_ACTION.ROOM_STATUS_CALLBACK+" "+e+" "+JSON.stringify(t)),this.room.lastRoomState=this.room.roomState,this.room.roomState=e,this.room.roomState!==this.room.lastRoomState&&(this.stateCenter.actionListener("roomStateUpdate",this.room.roomID,e,t?t.code:0,r),this.stateCenter.actionListener("_roomStateUpdate",this.room.roomID,e,t?t.code:0,r))},e.prototype.login=function(e,t,r,l,c,u,d){if(this.logger.info(i.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" call:",t,r),!this.room.isMulti&&this.logger.setSessionInfo(this.stateCenter.appid,t,"",l.userID,"",this.stateCenter.sdKVersion),c&&(c.userUpdate&&"boolean"==typeof c.userUpdate&&(this.stateCenter.userStateUpdate=c.userUpdate),c.maxMemberCount&&"number"==typeof c.maxMemberCount&&(this.stateCenter.maxMemberCount=c.maxMemberCount)),!this.stateCenter.configOK)return this.logger.error(i.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" init sdk wrong"),void d(a.errorCodeList.INIT);if(this.room.runState!==o.ENUM_RUN_STATE.trylogin&&this.setRunState(o.ENUM_RUN_STATE.trylogin),this.room.roomID=t,this.room.token=r,this.room.thirdToken=r,this.stateCenter.idName=l.userID,this.stateCenter.nickName=l.userName||l.userID,this.loginCallback.success=u,this.loginCallback.fail=d,0===this.stateCenter.reportSeqList.login){var p=o.getReportSeq();this.stateCenter.reportSeqList.relogin=p,this.dataReport.newReport(p,s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.event),this.dataReport.addMsgInfo(p,{server:e}),n.ClientUtil.logReportCallback(s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.event,this.dataReport,p,this.stateCenter.reportList)}this.resetTryLogin(),this.onConnecting({code:0,msg:""}),this.tryLogin(e),this.logger.info(i.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" call success")},e.prototype.tryLogin=function(e){var t=this;if(this.room.runState===o.ENUM_RUN_STATE.trylogin){var r=0!==this.stateCenter.reportSeqList.login?s.ZegoRTMLogEvent.kZegoTaskLoginRoom.event:s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.event;if(this.service.isDisConnect())try{this.service.closeSocket(),this.logger.debug(i.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" new websocket"),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)&&(this.tryLoginCount>1&&n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(o.REPORT_ACTION.eventEnd,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.create_socket.event),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(o.REPORT_ACTION.eventStart,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.create_socket.event),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(o.REPORT_ACTION.addEventMsg,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.create_socket.event,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.create_socket.server("server"),e)),this.service.createSocket(e),this.service.openHandler((function(){t.openHandler()})),this.service.closeHandler((function(e){t.logger.error(i.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" close "+JSON.stringify(e.code?e.code:e)),t.service.closeSocket(),t.closeHandler(e)})),this.service.errorHandler((function(e){t.logger.error(i.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" error "+JSON.stringify(e.code?e.code:e)),t.service.closeSocket(),t.closeHandler(e)}))}catch(e){this.logger.error(i.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+"  websocket err:"+JSON.stringify(e))}else{this.logger.info(i.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" use current websocket and sent login"),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(o.REPORT_ACTION.eventStart,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.liveroom_login.event);var a=function(e,r){t.handleLoginRsp(e,r)};this.service.login(this.room,a,a)}this.tryLoginTimer=setTimeout((function(){t.logger.info(i.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" over time no response, login timeout"),t.loginCallback.fail&&t.loginCallback.fail(s.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.LOGIN_TIMEOUT)}),this.tryLoginInterval),this.logger.info(i.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" call success")}else this.logger.error("zb.rh.tl state error")},e.prototype.openHandler=function(){var e=this;this.logger.info(i.ZEGO_RTM_ACTION.ROOM_OPEN_HANDLER+" websocket.onpen call");var t=0!==this.stateCenter.reportSeqList.login?s.ZegoRTMLogEvent.kZegoTaskLoginRoom.event:s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.event;n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)(o.REPORT_ACTION.eventEndWithMsgInfo,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.create_socket.event,{try_cnt:this.tryLoginCount}),this.service.onPush(),n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)(o.REPORT_ACTION.eventStart,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.liveroom_login.event);var r=function(t,r){e.handleLoginRsp(t,r)};this.service.login(this.room,r,r)},e.prototype.handleLoginRsp=function(e,t){var r=0!==this.stateCenter.reportSeqList.login?s.ZegoRTMLogEvent.kZegoTaskLoginRoom.event:s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.event;if(n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(o.REPORT_ACTION.eventEndWithMsgInfo,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.liveroom_login.event),this.room.runState===o.ENUM_RUN_STATE.trylogin)if(e.header&&e.body){if(e.header.seq!==t&&0==this.room.isMulti)return void this.logger.error(i.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" in wrong seq, local=",t+"",",recv=",e.header.seq);0!==e.body.err_code?(this.logger.error(i.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" server error=",e.body.err_code),this.handleLoginFail(e)):(this.logger.info(i.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" call success."),this.handleLoginSuccess(e))}else this.logger.error(i.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" "+JSON.stringify(e)),this.handleLoginFail(e);else this.logger.error(i.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" state error")},e.prototype.handleLoginFail=function(e){this.resetTryLogin();var t=s.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.INNER_ERROR;e.header&&e.body?t=n.ClientUtil.getServerError(e.body.err_code):e.code&&e.msg&&(t=e),this.loginCallback.fail&&this.loginCallback.fail(t,!0)},e.prototype.handleLoginSuccess=function(e){var t={},r=this.room.lastRunState;if(this.setRunState(o.ENUM_RUN_STATE.login),this.stateCenter.userid=e.body.user_id,this.room.sessionID=e.body.session_id,this.room.roomSessionID=e.body.room_session_id,e.body.ret_timestamp&&"03"===this.room.token.substr(0,2)){var i=(new Date).getTime()-e.body.ret_timestamp;this.stateCenter.local_time_deviation=i<5e3?0:i;var a=n.ClientUtil.decodeTokenExpire(this.room.token.substr(2));this.resetTokenTimer(1e3*a-(new Date).getTime()-this.stateCenter.local_time_deviation-3e4)}!this.room.isMulti&&this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.sessionID,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),e.body.config_info&&(this.logger.setRemoteLogLevel(e.body.config_info.log_level),t.log_level=e.body.config_info.log_level,""==e.body.config_info.log_url||this.logger.url||(this.logger.setLogServer(e.body.config_info.log_url),t.log_url=e.body.config_info.log_url)),e.body.cluster_env&&1===e.body.cluster_env&&(this.stateCenter.testEnvironment=!0,t.test_environment="true",!this.stateCenter.debugCustom&&(this.stateCenter.debug=!0));var l=0!==this.stateCenter.reportSeqList.login?s.ZegoRTMLogEvent.kZegoTaskLoginRoom.event:s.ZegoRTMLogEvent.kZegoTaskReLoginRoom.event;n.ClientUtil.actionSuccessCallback(l,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(l,this.stateCenter.reportList)(o.REPORT_ACTION.addEventMsg,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.liveroom_login.event,s.ZegoRTMLogEvent.kZegoTaskLoginRoom.subEvent.liveroom_login.respond_info("respond_info"),t),this.resetTryLogin(),this.loginSuccessCallBack(r,e),this.loginCallback.success&&this.loginCallback.success(!0),this.roomStateHandle("CONNECTED",{code:0,msg:""})},e.prototype.closeHandler=function(e){this.logger.error(i.ZEGO_RTM_ACTION.ROOM_CLOSEHANDLER+" room websocket close "+JSON.stringify(e.code?e.code:e)),this.room.runState!==o.ENUM_RUN_STATE.logout?this.room.runState===o.ENUM_RUN_STATE.trylogin?(this.resetTryLogin(),this.loginCallback.fail&&this.loginCallback.fail(1006==e.code?s.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.LOGIN_TIMEOUT:e)):this.room.runState===o.ENUM_RUN_STATE.login&&(this.logger.info(i.ZEGO_RTM_ACTION.ROOM_CLOSEHANDLER+" is called because of network broken"),this.resetTryLogin(),this.onDisconnect(s.ZegoRTMLogEvent.kZegoTaskLoginRoom.error.NETWORK_BROKEN)):this.logger.info(i.ZEGO_RTM_ACTION.ROOM_CLOSEHANDLER+" onclose logout flow call websocket.close")},e.prototype.logout=function(e){this.logger.info(i.ZEGO_RTM_ACTION.ROOM_LOGOUT+" call"),this.room.runState!==o.ENUM_RUN_STATE.logout?(this.resetRoom(e),this.roomStateHandle("DISCONNECTED",{code:0,msg:""}),this.stopTokenTimer(),this.logger.info(i.ZEGO_RTM_ACTION.ROOM_LOGOUT+" call success")):this.logger.warn("zb.rh.lo at logout")},e.prototype.handleLogoutRsp=function(e){this.logger.info(i.ZEGO_RTM_ACTION.ROOM_LOGOUT+" result=",e.body&&e.body.err_code?e.body.err_code:"-1")},e}();t.RoomHandler=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveRoomModules=void 0;var o=r(0),n=r(6),i=r(7),a=r(8),s=r(9),l=r(22),c=r(23),u=r(1),d=r(4),p=function(){function e(e,t,r,u){this.stateCenter=e,this.logger=t,this.dataReport=r,this.service=u,this.roomID="",this.dispatchServer="",this.deviceID="",this.deviceType="",this.anType=0,this.sessionExpire="",this.pri_roomID="",this.roomSid="0",this.roomFlag=1,this.timeStamp=0,this.netType=2,this.userSeq=0,this.hallRunState=o.ENUM_RUN_STATE.logout,this.hallToken="",this.roomSessionID="",this.lastHallRunState=o.ENUM_RUN_STATE.logout,this.runRoomState=o.ENUM_RUN_STATE.logout,this.lastRunRoomState=o.ENUM_RUN_STATE.logout,this.lastHallState="DISCONNECTED",this.hallState="DISCONNECTED",this.lastRoomState="DISCONNECTED",this.roomState="DISCONNECTED",this.sessionID="",this.hallHandler=new l.HallHandler(this.logger,this.stateCenter,this.dataReport,this.service,this),this.roomPrivateHandler=new c.RoomPrivateHandler(this.logger,this.stateCenter,this.dataReport,this.service,this),this.heartBeatHandler=new n.HeartBeatHandler(this.logger,this.stateCenter,this.dataReport,this.service,this.stateCenter.priModules),this.userHandler=new s.UserHandler(this.logger,this.stateCenter,this.dataReport,this.service,this.stateCenter.priModules),this.messageHandler=new a.MessageHandler(this.logger,this.stateCenter,this.dataReport,this.service,this.stateCenter.priModules),this.liveHandler=new i.LiveHandler(this.logger,this.stateCenter,this.service,this.stateCenter.priModules),this.init()}return e.prototype.init=function(){this.bindSocketHandler(),this.bindHeatBeatHandler(),this.bindHallHandler(),this.bindMessageHandler(),this.bindLiveHandler(),this.bindRoomHandler()},e.prototype.bindSocketHandler=function(){var e=this;this.service.handleHallKickout=function(t){e.hallHandler.handleHallKickout(t)},this.service.handlePushKickout=function(t){e.logger.info("zb.cm.bsh.0  call hpk");var r=o.getReportSeq();e.dataReport.newReport(r,d.ZegoRTMLogEvent.kZegoTaskRoomKickout.event),e.dataReport.addMsgInfo(r,{user_id:d.ZegoRTMLogEvent.kZegoTaskRoomKickout.user_id(e.stateCenter.idName),room_id:d.ZegoRTMLogEvent.kZegoTaskRoomKickout.room_id(e.stateCenter.priModules.roomID)}),e.dataReport.addMsgInfo(r,{error:t.body.reason,message:t.body.message}),e.dataReport.uploadReport(r),e.setRoomRunState(o.ENUM_RUN_STATE.logout),e.roomPrivateHandler.resetRoom();var n={};t&&t.body&&(t.body.reason&&(n.custom_kickout_message=t.body.message),t.body.reason&&(n.reason=t.body.reason)),e.roomPrivateHandler.roomStateHandle("DISCONNECTED",{code:u.errorCodeList.MULTIPLE_LOGIN_KICKOUT.code,msg:n}),e.logger.info("zb.cm.bsh.0  call hpk success")},this.service.handlePushUserStateUpdateMsg=function(t){e.userHandler.handlePushUserStateUpdateMsg(t)},this.service.handlePushTransMsg=function(t){e.messageHandler.handlePushTransMsg(t)},this.service.handlePushRoomMsg=function(t){e.messageHandler.handlePushRoomMsg(t)},this.service.handlePushCustomMsg=function(t){e.messageHandler.handlePushCustomMsg(t)},this.service.handlePushMergeMsg=function(t){e.messageHandler.handlePushMergeMsg(t)},this.service.handlePushSignalMsg=function(t){e.liveHandler.handlePushSignalMsg(t)}},e.prototype.bindHeatBeatHandler=function(){var e=this;this.heartBeatHandler.hbLogout=function(t){e.hallHandler.handleHbLogout(t)},this.heartBeatHandler.heartbeatRspNotiFy=function(t){e.messageHandler.loginRsp(t),e.HBResponse(t)}},e.prototype.bindHallHandler=function(){var e=this;this.hallHandler.loginSuccessCallBack=function(t,r){if(e.heartBeatHandler.init(r),e.service.startCheck(),e.runRoomState===o.ENUM_RUN_STATE.login){var n=function(t,r){0!==t.body.code?(e.setRoomRunState(o.ENUM_RUN_STATE.logout),e.roomPrivateHandler.roomStateHandle("DISCONNECTED",{code:t.body.code,msg:t.body.message})):(e.timeStamp=t.header.timeStamp,e.roomSid=t.body.room_header.room_sid,e.roomSessionID=t.body.room_header.room_user_session_id,e.userSeq=t.body.userlist_seq,e.setRoomRunState(o.ENUM_RUN_STATE.login),e.roomPrivateHandler.roomStateHandle("CONNECTED",{code:0,msg:""}),e.userHandler.loginPrivateRsp(t),e.roomLoginResponse(t))};e.roomPrivateHandler.enterRoom(n,n)}},this.hallHandler.resetRoomCallBack=function(){e.heartBeatHandler.resetHeartbeat(),e.liveHandler.resetLiveHandler(),e.messageHandler.resetMessageInfo(),e.userHandler.resetUserHandler()}},e.prototype.bindUserHandler=function(){},e.prototype.bindMessageHandler=function(){},e.prototype.bindLiveHandler=function(){},e.prototype.bindRoomHandler=function(){var e=this;this.roomPrivateHandler.resetRoomCallBack=function(){e.liveHandler.resetLiveHandler(),e.messageHandler.resetMessageInfo(),e.userHandler.resetUserHandler()}},e.prototype.HBResponse=function(e){this.stateCenter.actionListener("HBResponse",e)},e.prototype.roomLoginResponse=function(e){this.stateCenter.actionListener("roomLoginResponse",e)},e.prototype.setRoomRunState=function(e){this.roomPrivateHandler.setRoomRunState(e)},e.prototype.isLogin=function(){return this.hallRunState===o.ENUM_RUN_STATE.login},e}();t.LiveRoomModules=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HallHandler=void 0;var o=r(0),n=r(3),i=r(0),a=r(2),s=r(1),l=r(4),c=function(){function e(e,t,r,o,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=o,this.room=n,this.tryLoginTimer=null,this.tryLoginCount=0,this.tryLoginInterval=1e4}return e.prototype.setRunState=function(e){this.room.lastHallRunState=this.room.hallRunState,this.room.hallRunState=e},e.prototype.resetTryLogin=function(){this.tryLoginTimer&&clearTimeout(this.tryLoginTimer),this.tryLoginTimer=null},e.prototype.resetHall=function(){var e=this;if(this.logger.info(a.ZEGO_RTM_ACTION.ROOM_RESET_ROOM+" call"),this.resetTryLogin(),"0"!==this.room.sessionID&&this.room.hallRunState!==o.ENUM_RUN_STATE.logout){var t=function(t){e.handleLogoutRsp(t)};this.service.logoutHall(t,t)}this.setRunState(o.ENUM_RUN_STATE.logout),this.stateCenter.userid="",this.room.sessionID="",this.room.roomSessionID="",this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.sessionID,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),this.service.closeSocket(),this.resetRoomCallBack(),this.logger.info(a.ZEGO_RTM_ACTION.ROOM_RESET_ROOM+" call success")},e.prototype.resetRoomCallBack=function(){},e.prototype.loginSuccessCallBack=function(e,t){},e.prototype.handleHallKickout=function(e){this.logger.info(a.ZEGO_RTM_ACTION.ROOM_KICK_OUT+"  call "+e);var t=i.getReportSeq();this.dataReport.newReport(t,l.ZegoRTMLogEvent.kZegoTaskKickout.event),this.dataReport.addMsgInfo(t,{user_id:l.ZegoRTMLogEvent.kZegoTaskKickout.user_id(this.stateCenter.idName)});var r=n.ClientUtil.getKickoutError(e.body.reason);this.dataReport.addMsgInfo(t,{error:r.code,message:r.message}),this.dataReport.uploadReport(t),this.resetHall();var o={};e&&e.body&&(e.body.reason&&(o.custom_kickout_message=e.body.message),e.body.reason&&(o.reason=e.body.reason)),this.stateCenter.actionListener("roomStateUpdate",this.room.roomID,"DISCONNECTED",s.errorCodeList.MULTIPLE_LOGIN_KICKOUT.code,o)},e.prototype.handleHbLogout=function(e){var t=this,r=this.room.retryHallHandler;r&&(r.onactive=function(e,r){t.disconnectedHandle(r)},e==s.errorCodeList.HEARTBEAT_TIMEOUT||e.msg.endsWith("1000002001")||e.msg.endsWith("1000000152")?(r.startMaxTime(),r.active()):(r.stopMaxTime(),r.invalid(),this.resetHall(),this.disconnectedHandle(e)))},e.prototype.onDisconnect=function(e){var t=this;if(this.logger.error(a.ZEGO_RTM_ACTION.ROOM_DISCONNECT+" "+e.msg),"string"==typeof e.code&&"Error.Network"===e.code)this.dataReport.addMsgInfo(this.stateCenter.reportSeqList.relogin,{error:l.ZegoRTMLogEvent.kZegoTaskReLoginHall.error.ROOM_DISCONNECT.code,message:l.ZegoRTMLogEvent.kZegoTaskReLoginHall.error.ROOM_DISCONNECT.msg});else if("number"==typeof e.code){var r=void 0;(r=e.code<2e9&&e.code>1e9||e.code<1e6?n.ClientUtil.decodeServerError(e.code,e.msg):{code:e.code,message:e.msg})&&this.dataReport.addMsgInfo(this.stateCenter.reportSeqList.relogin,{error:r.code,message:r.message})}this.dataReport.uploadReport(this.stateCenter.reportSeqList.relogin),this.stateCenter.reportSeqList.relogin=0,n.ClientUtil.unregisterCallback(l.ZegoRTMLogEvent.kZegoTaskReLoginHall.event,this.stateCenter.reportList);var o=this.room.retryHallHandler;o?(o.onactive=function(e,r){r?t.hallStateHandle("DISCONNECTED",r):t.hallStateHandle("CONNECTED",r)},o.startMaxTime(),o.active()):this.logger.error(a.ZEGO_RTM_ACTION.ROOM_DISCONNECT+" try handler no found")},e.prototype.onConnecting=function(e){this.hallStateHandle("CONNECTING",e)},e.prototype.disconnectedHandle=function(e){e?this.hallStateHandle("DISCONNECTED",e):this.hallStateHandle("CONNECTED",e)},e.prototype.hallStateHandle=function(e,t,r){this.logger.info(a.ZEGO_RTM_ACTION.ROOM_STATUS_CALLBACK+" "+e+" "+JSON.stringify(t)),this.room.lastHallState=this.room.hallState,this.room.hallState=e,this.room.hallState!==this.room.lastHallState&&(this.stateCenter.actionListener("hallStateUpdate",e,t?t.code:0,r||""),this.stateCenter.actionListener("_hallStateUpdate",e,t?t.code:0,r||""),this.stateCenter.actionListener("_roomStateUpdate",this.room.roomID,e,t?t.code:0,r))},e.prototype.loginHall=function(e,t,r,c,u){if(this.logger.info(a.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" call:"),this.logger.setSessionInfo(this.stateCenter.appid,"","",t.userID,"",this.stateCenter.sdKVersion),!this.stateCenter.configOK)return this.logger.error(a.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" init sdk wrong"),void u(s.errorCodeList.INIT);if(this.room.hallRunState!==o.ENUM_RUN_STATE.trylogin&&this.setRunState(o.ENUM_RUN_STATE.trylogin),this.stateCenter.idName=t.userID,this.stateCenter.nickName=t.userName||t.userID,n.ClientUtil.registerCallback("login",{success:c,error:u},this.stateCenter.callbackList),0===this.stateCenter.reportSeqList.login){var d=i.getReportSeq();this.stateCenter.reportSeqList.relogin=d,this.dataReport.newReport(d,l.ZegoRTMLogEvent.kZegoTaskReLoginHall.event),n.ClientUtil.logReportCallback(l.ZegoRTMLogEvent.kZegoTaskReLoginHall.event,this.dataReport,d,this.stateCenter.reportList)}this.resetTryLogin(),this.onConnecting({code:0,msg:""}),this.tryLoginHall(e),this.logger.info(a.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" call success")},e.prototype.tryLoginHall=function(e){var t=this;if(this.room.hallRunState===o.ENUM_RUN_STATE.trylogin){var r=0!==this.stateCenter.reportSeqList.login?l.ZegoRTMLogEvent.kZegoTaskLoginHall.event:l.ZegoRTMLogEvent.kZegoTaskReLoginHall.event;if(this.service.isDisConnect())try{this.service.closeSocket(),this.logger.debug(a.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" new websocket"),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)&&(this.tryLoginCount>1&&n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(i.REPORT_ACTION.eventEnd,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.create_socket.event),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(i.REPORT_ACTION.eventStart,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.create_socket.event),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(i.REPORT_ACTION.addEventMsg,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.create_socket.event,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.create_socket.server("server"),e)),this.service.createSocket(e),this.service.openHandler((function(){t.openHandler()})),this.service.closeHandler((function(e){t.logger.error(a.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" close "+JSON.stringify(e)),t.service.closeSocket(),t.closeHandler(e)})),this.service.errorHandler((function(e){t.logger.error(a.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" error "+JSON.stringify(e)),t.service.closeSocket(),t.closeHandler(e)}))}catch(e){this.logger.error(a.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+"  websocket err:"+JSON.stringify(e))}else{this.logger.info(a.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" use current websocket and sent login"),n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(i.REPORT_ACTION.eventStart,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.liveroom_login.event);var s=function(e,r){t.handleLoginRsp(e,r)};this.service.loginHall(s,s)}this.tryLoginTimer=setTimeout((function(){t.logger.info(a.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" over time no response, login timeout"),n.ClientUtil.actionErrorCallback("login",t.stateCenter.callbackList)(l.ZegoRTMLogEvent.kZegoTaskLoginHall.error.LOGIN_TIMEOUT)}),this.tryLoginInterval),this.logger.info(a.ZEGO_RTM_ACTION.ROOM_TRY_LOGIN+" call success")}else this.logger.error("zb.rh.tl state error")},e.prototype.openHandler=function(){var e=this;this.logger.info(a.ZEGO_RTM_ACTION.ROOM_OPEN_HANDLER+" websocket.onpen call");var t=0!==this.stateCenter.reportSeqList.login?l.ZegoRTMLogEvent.kZegoTaskLoginHall.event:l.ZegoRTMLogEvent.kZegoTaskReLoginHall.event;n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)(i.REPORT_ACTION.eventEndWithMsgInfo,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.create_socket.event,{try_cnt:this.tryLoginCount}),this.service.onPush(),n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(t,this.stateCenter.reportList)(i.REPORT_ACTION.eventStart,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.liveroom_login.event);var r=function(t,r){e.handleLoginRsp(t,r)};this.service.loginHall(r,r)},e.prototype.handleLoginRsp=function(e,t){var r=0!==this.stateCenter.reportSeqList.login?l.ZegoRTMLogEvent.kZegoTaskLoginHall.event:l.ZegoRTMLogEvent.kZegoTaskReLoginHall.event;if(n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(r,this.stateCenter.reportList)(i.REPORT_ACTION.eventEndWithMsgInfo,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.liveroom_login.event),this.room.hallRunState===o.ENUM_RUN_STATE.trylogin){if(e.header.seq===t)return 0!==e.body.code?(this.logger.error(a.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" server error=",e.body.code),void this.handleLoginFail(e)):(this.logger.info(a.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" call success."),void this.handleLoginSuccess(e));this.logger.error(a.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" in wrong seq, local=",t+"",",recv=",e.header.seq)}else this.logger.error(a.ZEGO_RTM_ACTION.ROOM_HANDLE_LOGINRSP+" state error")},e.prototype.handleLoginFail=function(e){this.resetTryLogin();var t={code:e.body.code,msg:e.body.message};n.ClientUtil.actionErrorCallback("login",this.stateCenter.callbackList)(t,!0)},e.prototype.handleLoginSuccess=function(e){var t={},r=this.room.lastHallRunState;this.setRunState(o.ENUM_RUN_STATE.login),this.stateCenter.userid=e.body.user_uid,this.room.sessionID=e.body.session_id,this.room.timeStamp=e.header.timestamp,this.room.roomSessionID=e.body.room_session_id,this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.sessionID,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),e.body.log_sever_addr&&""!=e.body.log_sever_addr&&this.logger.logRemoteLevel!==o.ENUM_LOG_LEVEL.disable&&(this.logger.setLogServer(e.body.log_sever_addr),t.log_url=e.body.log_sever_addr),e.body.cluster_env&&1===e.body.cluster_env&&(this.stateCenter.testEnvironment=!0,t.test_environment="true",!this.stateCenter.debugCustom&&(this.stateCenter.debug=!0));var a=0!==this.stateCenter.reportSeqList.login?l.ZegoRTMLogEvent.kZegoTaskLoginHall.event:l.ZegoRTMLogEvent.kZegoTaskReLoginHall.event;n.ClientUtil.actionSuccessCallback(a,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback(a,this.stateCenter.reportList)(i.REPORT_ACTION.addEventMsg,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.liveroom_login.event,l.ZegoRTMLogEvent.kZegoTaskLoginHall.subEvent.liveroom_login.respond_info("respond_info"),t),this.resetTryLogin(),this.loginSuccessCallBack(r,e),n.ClientUtil.actionSuccessCallback("login",this.stateCenter.callbackList)&&n.ClientUtil.actionSuccessCallback("login",this.stateCenter.callbackList)(!0),this.hallStateHandle("CONNECTED",{code:0,msg:""})},e.prototype.closeHandler=function(e){this.logger.error(a.ZEGO_RTM_ACTION.ROOM_CLOSEHANDLER+" room websocket close "+JSON.stringify(e.code)),this.room.hallRunState!==o.ENUM_RUN_STATE.logout?this.room.hallRunState===o.ENUM_RUN_STATE.trylogin?(this.resetTryLogin(),n.ClientUtil.actionErrorCallback("login",this.stateCenter.callbackList)(1006==e.code?l.ZegoRTMLogEvent.kZegoTaskLoginHall.error.LOGIN_TIMEOUT:e)):this.room.hallRunState===o.ENUM_RUN_STATE.login&&(this.logger.info(a.ZEGO_RTM_ACTION.ROOM_CLOSEHANDLER+" is called because of network broken"),this.resetTryLogin(),this.onDisconnect(l.ZegoRTMLogEvent.kZegoTaskLoginHall.error.NETWORK_BROKEN)):this.logger.info(a.ZEGO_RTM_ACTION.ROOM_CLOSEHANDLER+" onclose logout flow call websocket.close")},e.prototype.logout=function(){this.logger.info(a.ZEGO_RTM_ACTION.ROOM_LOGOUT+" call"),this.room.hallRunState!==o.ENUM_RUN_STATE.logout?(this.resetHall(),this.hallStateHandle("DISCONNECTED",{code:0,msg:""}),this.logger.info(a.ZEGO_RTM_ACTION.ROOM_LOGOUT+" call success")):this.logger.warn("zb.rh.lo at logout")},e.prototype.handleLogoutRsp=function(e){this.logger.info(a.ZEGO_RTM_ACTION.ROOM_LOGOUT+"result=",e.body&&e.body.err_code?e.body.err_code:"")},e}();t.HallHandler=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomPrivateHandler=void 0;var o=r(0),n=r(2),i=function(){function e(e,t,r,o,n){this.logger=e,this.stateCenter=t,this.dataReport=r,this.service=o,this.room=n,this.tryLoginTimer=null,this.tryLoginCount=0,this.tryLoginInterval=1e4}return e.prototype.setRoomRunState=function(e){this.room.lastRunRoomState=this.room.runRoomState,this.room.runRoomState=e},e.prototype.enterRoom=function(e,t){this.service.enterRoom(e,t)},e.prototype.leaveRoom=function(e,t){this.resetRoom(e,t)},e.prototype.resetRoom=function(e,t){this.logger.info(n.ZEGO_RTM_ACTION.ROOM_RESET_ROOM+" call");var r=e||function(){},i=t||function(){};this.room.runRoomState!==o.ENUM_RUN_STATE.logout&&this.service.leaveRoom(r,i),this.setRoomRunState(o.ENUM_RUN_STATE.logout),this.room.roomSid="0",this.room.roomSessionID="0",this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.sessionID,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),this.resetRoomCallBack(),this.logger.info(n.ZEGO_RTM_ACTION.ROOM_RESET_ROOM+" call success")},e.prototype.resetRoomCallBack=function(){},e.prototype.loginSuccessCallBack=function(e,t){},e.prototype.roomStateHandle=function(e,t,r){this.logger.info(n.ZEGO_RTM_ACTION.ROOM_STATUS_CALLBACK+" "+e+" "+JSON.stringify(t)),this.room.lastRoomState=this.room.roomState,this.room.roomState=e,this.room.roomState!==this.room.lastRoomState&&(this.stateCenter.actionListener("roomStateUpdate",this.room.roomID,e,t?t.code:0,r||""),this.stateCenter.actionListener("_roomStateUpdate",this.room.roomID,e,t?t.code:0,r||""))},e}();t.RoomPrivateHandler=i},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RetryHallHandler=void 0;var i=r(5),a=r(0),s=r(2),l=r(1),c=function(e){function t(t,r,o){var n=e.call(this,t,r)||this;return n.logger=t,n.stateCenter=r,n.room=o,n}return n(t,e),t.prototype.initRoom=function(e,t,r,o){this.hallHandler=e,this.user=t,this.server=r,this.config=o},t.prototype.active=function(e){var t=this;if(this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" retry call"),this.stateCenter.networkState!=a.ENUM_NETWORK_STATE.offline)if(this.retryTimer)this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" has actived, ignore");else if(this.isOverTime)this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" retry over time, stop retry");else{if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var r=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1));this.retryActiveInterval=r>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:r}this.retryTimer=setTimeout((function(){t.hallHandler.loginHall(t.server,t.user,t.config,(function(e){t.handleLoginFinish(e)}),(function(e,r){t.handleLoginFinish(!1,e,r)})),t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,t.retryActiveCount++}),e?0:1e3*this.retryActiveInterval)}else this.logger.info(s.ZEGO_RTM_ACTION.ROOM_LOGIN_ROOM+" network is broken, stop retry")},t.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.maxTimer=setTimeout((function(){console.warn("over max time "+e.RETRY_MAX_TIME+"s, stop retry"),e.isOverTime=!0,e.hallHandler.resetHall(),e.stopMaxTime(),e.invalid(),e.onactive(!1,l.errorCodeList.LOGIN_TIMEOUT)}),1e3*this.RETRY_MAX_TIME))},t.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(e,t){},t.prototype.handleError=function(e,t){if(this.RETRY_MAX_TIME<3)return!1;if(t){var r=e.code+"";return!["1000002002","1000005030","1000005035","1010","1011","1013","1014","1015","1016","1017","1018","1019","1020","1021","1023"].includes(r)&&(!!["1100040001","1100040100"].includes(r)||this.room.lastHallRunState==a.ENUM_RUN_STATE.login&&(this.room.sessionID="",this.invalid(),!0))}return!0},t.prototype.handleLoginFinish=function(e,t,r){t?this.handleError(t,r)?(!this.maxTimer&&this.startMaxTime(),this.active()):(this.hallHandler.resetHall(),this.stopMaxTime(),this.invalid(),this.onactive(e,t)):(this.stopMaxTime(),this.invalid(),this.onactive(e))},t}(i.TryHandler);t.RetryHallHandler=c},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LiveRoomPrivateService=void 0;var i=r(11),a=r(0),s=r(2),l=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.stateCenter=t,o.logger=r,o.service=new i.ZegoSocketService(o.stateCenter.ENV),o.cmdSeq=0,o.responseRouters={},o}return n(t,e),t.prototype.checkResponse=function(e){return e.header.app_id!==this.stateCenter.appid||e.header.user_uid!==this.stateCenter.userid||this.stateCenter.priModules.hallRunState!==a.ENUM_RUN_STATE.login},t.prototype.handleSendCommandMsgRsp=function(e){var t=this,r=this.service.sendCommandMap[e.header.seq];if(null!=r){var o=r._data;delete this.service.sendCommandMap[e.header.seq],this.service.sendCommandList.remove(r),0===e.body.code||e.body.mod_rsp_header&&0===e.body.mod_rsp_header.code?setTimeout((function(){o&&null!=o.success&&o.success(e,t.cmdSeq)}),0):setTimeout((function(){o&&null!=o.error&&o.error(e,t.cmdSeq)}),0)}},t.prototype.onPush=function(){var e=this;this.service.onMessage=function(t){e.logger.info(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" msg="+JSON.stringify(t)+" "),0!==t.body.code&&t.body.code&&e.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" cmd="+t.header.cmd+", code="+t.body.code+", message="+t.body.message+" "),["zegochat_js.user_login_ws_rsp","zegochat_js.user_logout_rsp"].indexOf(t.header.cmd)>-1?e.handleSendCommandMsgRsp(t):e.stateCenter.priModules.isLogin()?e.checkResponse(t)?e.logger.error(s.ZEGO_RTM_ACTION.SERVICE_PUSH+"  check session fail."):(e.logger.info(s.ZEGO_RTM_ACTION.SERVICE_PUSH+" cmd="+t.header.cmd+",function="+!!e.responseRouters[t.header.cmd]),e.handleSendCommandMsgRsp(t),e.responseRouters[t.header.cmd]&&e.responseRouters[t.header.cmd](t,e.cmdSeq)):e.logger.warn(s.ZEGO_RTM_ACTION.SERVICE_PUSH+"  already logout")}},t.prototype.handleHallKickout=function(e){},t.prototype.handlePushKickout=function(e){},t.prototype.handlePushCustomMsg=function(e){},t.prototype.handlePushRoomMsg=function(e){},t.prototype.handlePushUserStateUpdateMsg=function(e){},t.prototype.handlePushMergeMsg=function(e){},t.prototype.handlePushTransMsg=function(e){},t.prototype.handleBigImMsgRsp=function(e){},t.prototype.handlePushSignalMsg=function(e){},t.prototype.closeHandler=function(e){this.service.closeHandler(e)},t.prototype.openHandler=function(e){this.service.openHandler(e)},t.prototype.errorHandler=function(e){this.service.errorHandler(e)},t.prototype.getHeader=function(e){return{cmd:e,seq:++this.cmdSeq,timestamp:Math.ceil((new Date).getTime()/1e3)+"",app_id:this.stateCenter.appid,user_uid:this.stateCenter.userid||"0",session_id:this.stateCenter.priModules.sessionID||"0"}},t.prototype.startCheck=function(){this.service.startCheck()},t.prototype.stopCheck=function(){this.service.stopCheck()},t.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},t.prototype.createSocket=function(e){var t=this;this.service.createSocket(e),this.responseRouters={"zegochat_js.push_user_kickout":function(e){t.handleHallKickout(e)},"zegochat_js.push_room_kickout":function(e){t.handlePushKickout(e)},"zegochat_js.push_room_custommsg_req":function(e){t.handlePushCustomMsg(e)},"zegochat_js.push_room_im_chat_req":function(e){t.handlePushRoomMsg(e)},"zegochat_js.push_room_userlist_update_req":function(e){t.handlePushUserStateUpdateMsg(e)},push_merge_message:function(e){t.handlePushMergeMsg(e)},push_trans:function(e){t.handlePushTransMsg(e)},push_signal:function(e){t.handlePushSignalMsg(e)}}},t.prototype.closeSocket=function(){this.service.closeSocket()},t.prototype.sendMessage=function(e,t,r,o){if(this.service.isDisConnect())return this.logger.info(s.ZEGO_RTM_ACTION.SERVICE_SEND+" socket is disconnect"),0;var n=this.getHeader(e);return this.logger.info(s.ZEGO_RTM_ACTION.SERVICE_SEND+" sendMsg:"+JSON.stringify({header:n,body:t})),this.service.sendMessage(n,t,r,o)},t.prototype.on=function(e,t){this.responseRouters[e]=t},t.prototype.loginHall=function(e,t){var r={user_id:this.stateCenter.idName,device_id:this.stateCenter.priModules.deviceID,session_expire:this.stateCenter.priModules.sessionExpire,user_name:this.stateCenter.nickName,device_type:this.stateCenter.priModules.deviceType,net_type:this.stateCenter.priModules.netType,token:this.stateCenter.priModules.hallToken,an_type:this.stateCenter.priModules.anType+""};this.sendMessage("zegochat_js.user_login_ws_req",r,e,t)},t.prototype.logoutHall=function(e,t){var r={user_id:this.stateCenter.idName||0};this.sendMessage("zegochat_js.user_logout_req",r,e,t)},t.prototype.enterRoom=function(e,t){var r={room_header:{room_id:this.stateCenter.priModules.roomID,room_sid:this.stateCenter.priModules.roomSid||"0",room_user_session_id:this.stateCenter.priModules.roomSessionID||"0"},room_name:"",role:this.stateCenter.role,room_flag:this.stateCenter.priModules.roomFlag};this.sendMessage("zegochat_js.room_enter_req",r,e,t)},t.prototype.leaveRoom=function(e,t){var r={room_header:{room_id:this.stateCenter.priModules.roomID,room_sid:this.stateCenter.priModules.roomSid,room_user_session_id:this.stateCenter.priModules.roomSessionID}};this.sendMessage("zegochat_js.room_quit_req",r,e,t)},t.prototype.heartBeat=function(e,t){return this.sendMessage("zegochat_js.user_hb_req",{reserve:0},e,t)},t.prototype.fetchUserList=function(e,t,r){return this.sendMessage("zegochat_js.room_userlist_req",e,t,r)},t.prototype.fetchReliableMessage=function(e,t,r){return this.sendMessage("trans_fetch",e,t,r)},t.prototype.sendReliableMessage=function(e,t,r){return this.sendMessage("trans",e,t,r)},t.prototype.sendRoomMsg=function(e,t,r){return this.sendMessage("zegochat_js.room_im_chat",e,t,r)},t.prototype.sendCustomCommand=function(e,t,r){return this.sendMessage("zegochat_js.room_custommsg_req",e,t,r)},t.prototype.sendBigRoomMessage=function(e,t,r){return this.sendMessage("bigim_chat",e,t,r)},t.prototype.sendRelayMessage=function(e,t,r){return this.sendMessage("relay",e,t,r)},t.prototype.sendSignalCmd=function(e,t,r){return this.sendMessage("signal",e,t,r)},t}(r(10).LiveRoomService);t.LiveRoomPrivateService=l}])}))},d2bb:function(e,t,r){var o=r("825a"),n=r("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(i){}return function(r,i){return o(r),n(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},d3b7:function(e,t,r){var o=r("00ee"),n=r("6eeb"),i=r("b041");o||n(Object.prototype,"toString",i,{unsafe:!0})},d419:function(e,t,r){var o=r("6dd3"),n=r("b5a2"),i=r("ec1f"),a=r("68cb"),s=r("c77d");function l(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype["delete"]=n,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},d43c:function(e,t,r){var o=r("ca36"),n=1,i=Object.prototype,a=i.hasOwnProperty;function s(e,t,r,i,s,l){var c=r&n,u=o(e),d=u.length,p=o(t),h=p.length;if(d!=h&&!c)return!1;var f=d;while(f--){var g=u[f];if(!(c?g in t:a.call(t,g)))return!1}var m=l.get(e),v=l.get(t);if(m&&v)return m==t&&v==e;var b=!0;l.set(e,t),l.set(t,e);var _=c;while(++f<d){g=u[f];var E=e[g],O=t[g];if(i)var y=c?i(O,E,g,t,e,l):i(E,O,g,e,t,l);if(!(void 0===y?E===O||s(E,O,r,i,l):y)){b=!1;break}_||(_="constructor"==g)}if(b&&!_){var S=e.constructor,T=t.constructor;S==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof T&&T instanceof T||(b=!1)}return l["delete"](e),l["delete"](t),b}e.exports=s},d44e:function(e,t,r){var o=r("9bf2").f,n=r("5135"),i=r("b622"),a=i("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,a)&&o(e,a,{configurable:!0,value:t})}},d4af:function(e,t,r){"use strict";var o=r("8eb7"),n=r("7b3e"),i=10,a=40,s=800;function l(e){var t=0,r=0,o=0,n=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),o=t*i,n=r*i,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||n)&&e.deltaMode&&(1==e.deltaMode?(o*=a,n*=a):(o*=s,n*=s)),o&&!t&&(t=o<1?-1:1),n&&!r&&(r=n<1?-1:1),{spinX:t,spinY:r,pixelX:o,pixelY:n}}l.getEventType=function(){return o.firefox()?"DOMMouseScroll":n("wheel")?"wheel":"mousewheel"},e.exports=l},d4cd:function(e,t,r){var o=r("4d58"),n=r("af65"),i=r("f84c");function a(e,t,r){return t===t?i(e,t,r):o(e,n,r)}e.exports=a},d644:function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},d6cc:function(e,t){function r(e,t){var r=-1,o=null==e?0:e.length,n=0,i=[];while(++r<o){var a=e[r];t(a,r,e)&&(i[n++]=a)}return i}e.exports=r},d716:function(e,t,r){var o=r("eb2d"),n=Object.create,i=function(){function e(){}return function(t){if(!o(t))return{};if(n)return n(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},d758:function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}))},d784:function(e,t,r){"use strict";r("ac1f");var o=r("6eeb"),n=r("9263"),i=r("d039"),a=r("b622"),s=r("9112"),l=a("species"),c=RegExp.prototype,u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),p=a("replace"),h=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,p){var g=a(e),m=!i((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),v=m&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return t=!0,null},r[g](""),!t}));if(!m||!v||"replace"===e&&(!u||!d||h)||"split"===e&&!f){var b=/./[g],_=r(g,""[e],(function(e,t,r,o,i){var a=t.exec;return a===n||a===c.exec?m&&!i?{done:!0,value:b.call(t,r,o)}:{done:!0,value:e.call(r,t,o)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),E=_[0],O=_[1];o(String.prototype,e,E),o(c,g,2==t?function(e,t){return O.call(e,this,t)}:function(e){return O.call(e,this)})}p&&s(c[g],"sham",!0)}},d7b7:function(e,t,r){var o=r("d7fe"),n=o(Object.getPrototypeOf,Object);e.exports=n},d7b8:function(e,t,r){var o=r("85c3"),n=r("74aa");function i(e){return n(e)&&o(e)}e.exports=i},d7fe:function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},d8dc:function(e,t,r){(function(e){var o=r("1fb1"),n=r("9cee"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?o.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u}).call(this,r("62e4")(e))},d919:function(e,t,r){var o=r("caf0"),n=r("5903"),i=r("74aa"),a="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",h="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",O="[object Float32Array]",y="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",k="[object Uint8ClampedArray]",I="[object Uint16Array]",j="[object Uint32Array]",L={};function M(e){return i(e)&&n(e.length)&&!!L[o(e)]}L[O]=L[y]=L[S]=L[T]=L[C]=L[R]=L[k]=L[I]=L[j]=!0,L[a]=L[s]=L[_]=L[l]=L[E]=L[c]=L[u]=L[d]=L[p]=L[h]=L[f]=L[g]=L[m]=L[v]=L[b]=!1,e.exports=M},d925:function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},da00:function(e,t,r){var o=r("24cc"),n=r("0ba1");function i(e,t){var r=n(e,t);return o(r)?r:void 0}e.exports=i},da84:function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r("c8ba"))},dbb4:function(e,t,r){var o=r("23e7"),n=r("83ab"),i=r("56ef"),a=r("fc6a"),s=r("06cf"),l=r("8418");o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,o=a(e),n=s.f,c=i(o),u={},d=0;while(c.length>d)r=n(o,t=c[d++]),void 0!==r&&l(u,t,r);return u}})},dc0c:function(e,t,r){var o=r("caf0"),n=r("eb2d"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function c(e){if(!n(e))return!1;var t=o(e);return t==a||t==s||t==i||t==l}e.exports=c},dc53:function(e,t,r){var o=r("8455");function n(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}e.exports=n},ddb0:function(e,t,r){var o=r("da84"),n=r("fdbc"),i=r("e260"),a=r("9112"),s=r("b622"),l=s("iterator"),c=s("toStringTag"),u=i.values;for(var d in n){var p=o[d],h=p&&p.prototype;if(h){if(h[l]!==u)try{a(h,l,u)}catch(g){h[l]=u}if(h[c]||a(h,c,d),n[d])for(var f in i)if(h[f]!==i[f])try{a(h,f,i[f])}catch(g){h[f]=i[f]}}}},df75:function(e,t,r){var o=r("ca84"),n=r("7839");e.exports=Object.keys||function(e){return o(e,n)}},df7c:function(e,t,r){(function(e){function r(e,t){for(var r=0,o=e.length-1;o>=0;o--){var n=e[o];"."===n?e.splice(o,1):".."===n?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function o(e){"string"!==typeof e&&(e+="");var t,r=0,o=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){r=t+1;break}}else-1===o&&(n=!1,o=t+1);return-1===o?"":e.slice(r,o)}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],o=0;o<e.length;o++)t(e[o],o,e)&&r.push(e[o]);return r}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return t=r(n(t.split("/"),(function(e){return!!e})),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return e=r(n(e.split("/"),(function(e){return!!e})),!o).join("/"),e||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function o(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=o(e.split("/")),i=o(r.split("/")),a=Math.min(n.length,i.length),s=a,l=0;l<a;l++)if(n[l]!==i[l]){s=l;break}var c=[];for(l=s;l<n.length;l++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,o=-1,n=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!n){o=i;break}}else n=!1;return-1===o?r?"/":".":r&&1===o?"/":e.slice(0,o)},t.basename=function(e,t){var r=o(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,o=-1,n=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===o&&(n=!1,o=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!n){r=a+1;break}}return-1===t||-1===o||0===i||1===i&&t===o-1&&t===r+1?"":e.slice(t,o)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("4362"))},e01a:function(e,t,r){"use strict";var o=r("23e7"),n=r("83ab"),i=r("da84"),a=r("5135"),s=r("861d"),l=r("9bf2").f,c=r("e893"),u=i.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(p,u);var h=p.prototype=u.prototype;h.constructor=p;var f=h.toString,g="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(a(d,e))return"";var r=g?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),o({global:!0,forced:!0},{Symbol:p})}},e07d:function(e,t,r){var o=r("d419"),n=r("5691"),i=r("906c");function a(){this.size=0,this.__data__={hash:new o,map:new(i||n),string:new o}}e.exports=a},e163:function(e,t,r){var o=r("5135"),n=r("7b0b"),i=r("f772"),a=r("e177"),s=i("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=n(e),o(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,r){var o=r("d039");e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,r){"use strict";var o=r("fc6a"),n=r("44d2"),i=r("3f8c"),a=r("69f3"),s=r("7dd0"),l="Array Iterator",c=a.set,u=a.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:o(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:o,done:!1}:"values"==r?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},e2cc:function(e,t,r){var o=r("6eeb");e.exports=function(e,t,r){for(var n in t)o(e,n,t[n],r);return e}},e439:function(e,t,r){var o=r("23e7"),n=r("d039"),i=r("fc6a"),a=r("06cf").f,s=r("83ab"),l=n((function(){a(1)})),c=!s||l;o({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},e538:function(e,t,r){var o=r("b622");t.f=o},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e683:function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6cf:function(e,t,r){"use strict";var o,n,i,a,s=r("23e7"),l=r("c430"),c=r("da84"),u=r("d066"),d=r("fea9"),p=r("6eeb"),h=r("e2cc"),f=r("d2bb"),g=r("d44e"),m=r("2626"),v=r("861d"),b=r("1c0b"),_=r("19aa"),E=r("8925"),O=r("2266"),y=r("1c7e"),S=r("4840"),T=r("2cf4").set,C=r("b575"),R=r("cdf9"),k=r("44de"),I=r("f069"),j=r("e667"),L=r("69f3"),M=r("94ca"),N=r("b622"),A=r("6069"),P=r("605d"),w=r("2d00"),x=N("species"),D="Promise",U=L.get,B=L.set,Z=L.getterFor(D),H=d&&d.prototype,G=d,V=H,z=c.TypeError,W=c.document,F=c.process,q=I.f,Y=q,$=!!(W&&W.createEvent&&c.dispatchEvent),K="function"==typeof PromiseRejectionEvent,J="unhandledrejection",X="rejectionhandled",Q=0,ee=1,te=2,re=1,oe=2,ne=!1,ie=M(D,(function(){var e=E(G)!==String(G);if(!e&&66===w)return!0;if(l&&!V["finally"])return!0;if(w>=51&&/native code/.test(G))return!1;var t=new G((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},o=t.constructor={};return o[x]=r,ne=t.then((function(){}))instanceof r,!ne||!e&&A&&!K})),ae=ie||!y((function(e){G.all(e)["catch"]((function(){}))})),se=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},le=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;C((function(){var o=e.value,n=e.state==ee,i=0;while(r.length>i){var a,s,l,c=r[i++],u=n?c.ok:c.fail,d=c.resolve,p=c.reject,h=c.domain;try{u?(n||(e.rejection===oe&&pe(e),e.rejection=re),!0===u?a=o:(h&&h.enter(),a=u(o),h&&(h.exit(),l=!0)),a===c.promise?p(z("Promise-chain cycle")):(s=se(a))?s.call(a,d,p):d(a)):p(o)}catch(f){h&&!l&&h.exit(),p(f)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ue(e)}))}},ce=function(e,t,r){var o,n;$?(o=W.createEvent("Event"),o.promise=t,o.reason=r,o.initEvent(e,!1,!0),c.dispatchEvent(o)):o={promise:t,reason:r},!K&&(n=c["on"+e])?n(o):e===J&&k("Unhandled promise rejection",r)},ue=function(e){T.call(c,(function(){var t,r=e.facade,o=e.value,n=de(e);if(n&&(t=j((function(){P?F.emit("unhandledRejection",o,r):ce(J,r,o)})),e.rejection=P||de(e)?oe:re,t.error))throw t.value}))},de=function(e){return e.rejection!==re&&!e.parent},pe=function(e){T.call(c,(function(){var t=e.facade;P?F.emit("rejectionHandled",t):ce(X,t,e.value)}))},he=function(e,t,r){return function(o){e(t,o,r)}},fe=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=te,le(e,!0))},ge=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw z("Promise can't be resolved itself");var o=se(t);o?C((function(){var r={done:!1};try{o.call(t,he(ge,r,e),he(fe,r,e))}catch(n){fe(r,n,e)}})):(e.value=t,e.state=ee,le(e,!1))}catch(n){fe({done:!1},n,e)}}};if(ie&&(G=function(e){_(this,G,D),b(e),o.call(this);var t=U(this);try{e(he(ge,t),he(fe,t))}catch(r){fe(t,r)}},V=G.prototype,o=function(e){B(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Q,value:void 0})},o.prototype=h(V,{then:function(e,t){var r=Z(this),o=q(S(this,G));return o.ok="function"!=typeof e||e,o.fail="function"==typeof t&&t,o.domain=P?F.domain:void 0,r.parent=!0,r.reactions.push(o),r.state!=Q&&le(r,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new o,t=U(e);this.promise=e,this.resolve=he(ge,t),this.reject=he(fe,t)},I.f=q=function(e){return e===G||e===i?new n(e):Y(e)},!l&&"function"==typeof d&&H!==Object.prototype)){a=H.then,ne||(p(H,"then",(function(e,t){var r=this;return new G((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),p(H,"catch",V["catch"],{unsafe:!0}));try{delete H.constructor}catch(me){}f&&f(H,V)}s({global:!0,wrap:!0,forced:ie},{Promise:G}),g(G,D,!1,!0),m(D),i=u(D),s({target:D,stat:!0,forced:ie},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:D,stat:!0,forced:l||ie},{resolve:function(e){return R(l&&this===i?G:this,e)}}),s({target:D,stat:!0,forced:ae},{all:function(e){var t=this,r=q(t),o=r.resolve,n=r.reject,i=j((function(){var r=b(t.resolve),i=[],a=0,s=1;O(e,(function(e){var l=a++,c=!1;i.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,i[l]=e,--s||o(i))}),n)})),--s||o(i)}));return i.error&&n(i.value),r.promise},race:function(e){var t=this,r=q(t),o=r.reject,n=j((function(){var n=b(t.resolve);O(e,(function(e){n.call(t,e).then(r.resolve,o)}))}));return n.error&&o(n.value),r.promise}})},e7d4:function(e,t,r){var o=r("6053"),n=r("11f1"),i=r("d193"),a=r("d8dc"),s=r("aac5"),l=r("2e44"),c=Object.prototype,u=c.hasOwnProperty;function d(e,t){var r=i(e),c=!r&&n(e),d=!r&&!c&&a(e),p=!r&&!c&&!d&&l(e),h=r||c||d||p,f=h?o(e.length,String):[],g=f.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}e.exports=d},e893:function(e,t,r){var o=r("5135"),n=r("56ef"),i=r("06cf"),a=r("9bf2");e.exports=function(e,t){for(var r=n(t),s=a.f,l=i.f,c=0;c<r.length;c++){var u=r[c];o(e,u)||s(e,u,l(t,u))}}},e8b5:function(e,t,r){var o=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},e8f1:function(e,t,r){var o=r("37f8"),n=r("6b6a"),i=r("d11d"),a=1,s=2;function l(e,t,r,l,c,u){var d=r&a,p=e.length,h=t.length;if(p!=h&&!(d&&h>p))return!1;var f=u.get(e),g=u.get(t);if(f&&g)return f==t&&g==e;var m=-1,v=!0,b=r&s?new o:void 0;u.set(e,t),u.set(t,e);while(++m<p){var _=e[m],E=t[m];if(l)var O=d?l(E,_,m,t,e,u):l(_,E,m,e,t,u);if(void 0!==O){if(O)continue;v=!1;break}if(b){if(!n(t,(function(e,t){if(!i(b,t)&&(_===e||c(_,e,r,l,u)))return b.push(t)}))){v=!1;break}}else if(_!==E&&!c(_,E,r,l,u)){v=!1;break}}return u["delete"](e),u["delete"](t),v}e.exports=l},e95a:function(e,t,r){var o=r("b622"),n=r("3f8c"),i=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},eb2d:function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},ebd6:function(e,t){var r=Object.prototype,o=r.toString;function n(e){return o.call(e)}e.exports=n},ec1f:function(e,t,r){var o=r("edb4"),n="__lodash_hash_undefined__",i=Object.prototype,a=i.hasOwnProperty;function s(e){var t=this.__data__;if(o){var r=t[e];return r===n?void 0:r}return a.call(t,e)?t[e]:void 0}e.exports=s},edb4:function(e,t,r){var o=r("da00"),n=o(Object,"create");e.exports=n},ee01:function(e,t,r){var o=r("58b0"),n=r("0099"),i=n(o);e.exports=i},ee67:function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},f04e:function(e,t,r){var o=r("b882"),n=r("d193");function i(e,t,r){var i=t(e);return n(e)?i:o(i,r(e))}e.exports=i},f069:function(e,t,r){"use strict";var o=r("1c0b"),n=function(e){var t,r;this.promise=new e((function(e,o){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=o})),this.resolve=o(t),this.reject=o(r)};e.exports.f=function(e){return new n(e)}},f13a:function(e,t,r){var o=r("5691"),n=r("906c"),i=r("73ab"),a=200;function s(e,t){var r=this.__data__;if(r instanceof o){var s=r.__data__;if(!n||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(e,t),this.size=r.size,this}e.exports=s},f1ef:function(e,t,r){var o=r("f73a"),n=r("74aa"),i="[object Map]";function a(e){return n(e)&&o(e)==i}e.exports=a},f5df:function(e,t,r){var o=r("00ee"),n=r("c6b6"),i=r("b622"),a=i("toStringTag"),s="Arguments"==n(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(r){}};e.exports=o?n:function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=l(t=Object(e),a))?r:s?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},f6b4:function(e,t,r){"use strict";var o=r("c532");function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},f73a:function(e,t,r){var o=r("86ec"),n=r("906c"),i=r("2827"),a=r("9b42"),s=r("160c"),l=r("caf0"),c=r("26e8"),u="[object Map]",d="[object Object]",p="[object Promise]",h="[object Set]",f="[object WeakMap]",g="[object DataView]",m=c(o),v=c(n),b=c(i),_=c(a),E=c(s),O=l;(o&&O(new o(new ArrayBuffer(1)))!=g||n&&O(new n)!=u||i&&O(i.resolve())!=p||a&&O(new a)!=h||s&&O(new s)!=f)&&(O=function(e){var t=l(e),r=t==d?e.constructor:void 0,o=r?c(r):"";if(o)switch(o){case m:return g;case v:return u;case b:return p;case _:return h;case E:return f}return t}),e.exports=O},f758:function(e,t){function r(e,t){var r=-1,o=e.length;t||(t=Array(o));while(++r<o)t[r]=e[r];return t}e.exports=r},f772:function(e,t,r){var o=r("5692"),n=r("90e3"),i=o("keys");e.exports=function(e){return i[e]||(i[e]=n(e))}},f84c:function(e,t){function r(e,t,r){var o=r-1,n=e.length;while(++o<n)if(e[o]===t)return o;return-1}e.exports=r},f906:function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,o=/\d\d?/,n=/\d*[^\s\d-_:/()]+/,i={},a=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),r=60*t[1]+(+t[2]||0);return 0===r?0:"+"===t[0]?-r:r}(e)}],c=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var r,o=i.meridiem;if(o){for(var n=1;n<=24;n+=1)if(e.indexOf(o(n,0,t))>-1){r=n>12;break}}else r=e===(t?"pm":"PM");return r},d={A:[n,function(e){this.afternoon=u(e,!1)}],a:[n,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[o,s("seconds")],ss:[o,s("seconds")],m:[o,s("minutes")],mm:[o,s("minutes")],H:[o,s("hours")],h:[o,s("hours")],HH:[o,s("hours")],hh:[o,s("hours")],D:[o,s("day")],DD:[r,s("day")],Do:[n,function(e){var t=i.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var o=1;o<=31;o+=1)t(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],M:[o,s("month")],MM:[r,s("month")],MMM:[n,function(e){var t=c("months"),r=(c("monthsShort")||t.map((function(e){return e.substr(0,3)}))).indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[n,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[r,function(e){this.year=a(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function p(r){var o,n;o=r,n=i&&i.formats;for(var a=(r=o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,o){var i=o&&o.toUpperCase();return r||n[o]||e[o]||n[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,r){return t||r.slice(1)}))}))).match(t),s=a.length,l=0;l<s;l+=1){var c=a[l],u=d[c],p=u&&u[0],h=u&&u[1];a[l]=h?{regex:p,parser:h}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},r=0,o=0;r<s;r+=1){var n=a[r];if("string"==typeof n)o+=n.length;else{var i=n.regex,l=n.parser,c=e.substr(o),u=i.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var r=e.hours;t?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,r){r.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var o=t.prototype,n=o.parse;o.parse=function(e){var t=e.date,o=e.utc,a=e.args;this.$u=o;var s=a[1];if("string"==typeof s){var l=!0===a[2],c=!0===a[3],u=l||c,d=a[2];c&&(d=a[2]),i=this.$locale(),!l&&d&&(i=r.Ls[d]),this.$d=function(e,t,r){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var o=p(t)(e),n=o.year,i=o.month,a=o.day,s=o.hours,l=o.minutes,c=o.seconds,u=o.milliseconds,d=o.zone,h=new Date,f=a||(n||i?1:h.getDate()),g=n||h.getFullYear(),m=0;n&&!i||(m=i>0?i-1:h.getMonth());var v=s||0,b=l||0,_=c||0,E=u||0;return d?new Date(Date.UTC(g,m,f,v,b,_,E+60*d.offset*1e3)):r?new Date(Date.UTC(g,m,f,v,b,_,E)):new Date(g,m,f,v,b,_,E)}catch(e){return new Date("")}}(t,s,o),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!==this.format(s)&&(this.$d=new Date("")),i={}}else if(s instanceof Array)for(var h=s.length,f=1;f<=h;f+=1){a[1]=s[f-1];var g=r.apply(this,a);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}f===h&&(this.$d=new Date(""))}else n.call(this,e)}}}))},fc6a:function(e,t,r){var o=r("44ad"),n=r("1d80");e.exports=function(e){return o(n(e))}},fcc3:function(e,t,r){!function(t,o){e.exports=o(r("d2b2"))}("undefined"!=typeof self&&self,(function(e){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.E_CLIENT_TYPE=t.ENUM_SOURCE_TYPE=t.ENUM_DISPATCH_TYPE=t.ENUM_BROADCASTER_STATUS=t.ENUM_PLAY_SOURCE_TYPE=t.ENUM_PUBLISH_STATE_NEGO=t.ENUM_PUSH_SIGNAL_SUB_CMD=t.ENUM_SIGNAL_SUB_CMD=t.QUALITYLEVEL=t.MIXSTREAM_ERROR_CODE=t.SERVER_ERROR_CODE=t.ENUM_STREAM_UPDATE_CMD_PRI=t.ENUM_STREAM_UPDATE_CMD=t.MINIUM_HEARTBEAT_INTERVAL=t.STREAM_DELETE_REASON=t.ENUM_NETWORK_STATE=t.ENUM_RUN_STATE=t.ENUM_STREAM_UPDATE_TYPE=t.ENUM_STREAM_CMD_PRI=t.ENUM_STREAM_SUB_CMD=t.ENUM_PUBLISH_STREAM_STATE=t.MAX_RETRY_CONNECT_INTERVAL=t.MAX_TRANS_DATA_LENGTH=t.MAX_TRANS_TYPE_LENGTH=t.MAX_MIX_TASK_ID_LENGTH=t.MAX_MESSAGE_LENGTH=t.MAX_ROOM_ID_LENGTH=t.MAX_USER_NAME_LENGTH=t.MAX_USER_ID_LENGTH=t.MAX_STREAM_ID_LENGTH=t.MAX_TRY_HEARTBEAT_COUNT=t.SEND_MSG_TIMEOUT=t.SEND_MSG_RESET=t.MAX_TRY_CONNECT_COUNT=t.ENUM_CONNECT_STATE=t.ENUM_PROBE_STATE=t.ENUM_PLAY_STATE_NEGO=t.ENUM_PLAYER_STATE=t.ENUM_PLAY_STATE=t.ENUM_PUBLISH_STATE=t.ENUM_SCREEM_RESOLUTION_TYPE=t.ENUM_RESOLUTION_TYPE=t.ENUM_SIGNAL_STATE=t.ERROR_CODES=t.sdkErrorList=t.ENUM_REMOTE_TYPE=t.LOG_LEVEL=t.ENUM_LOG_LEVEL=t.ROOMVERSION=t.PROTO_VERSION=void 0,t.ZegoExpressWebRTM=t.ZegoDataReport=t.ZegoLogger=t.ZegoExpressWebRTMEngine=t.getReportSeq=t.getSeq=t.QUALITY_CONSTANT=t.QualityGrade=t.REPORT_ACTION=t.ENUM_RETRY_STATE=t.ENUM_PLAY_STATE_UPDATE=t.ENUM_PUBLISH_STATE_UPDATE=t.LinkedList=t.ListNode=void 0,t.PROTO_VERSION="2.9.1",t.ROOMVERSION="V1",function(e){e[e.debug=0]="debug",e[e.info=1]="info",e[e.warn=2]="warn",e[e.error=3]="error",e[e.report=99]="report",e[e.disable=100]="disable"}(t.ENUM_LOG_LEVEL||(t.ENUM_LOG_LEVEL={})),t.LOG_LEVEL={debug:0,info:1,warn:2,error:3,report:99,disable:100},function(e){e[e.disable=0]="disable",e[e.websocket=1]="websocket",e[e.https=2]="https"}(t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={})),t.sdkErrorList={CLIENT:"Client.",SERVER:"Server.",SUCCESS:{code:"Success",msg:"success."},PARAM:{code:"Error.Param",msg:"input error."},HEARTBEAT_TIMEOUT:{code:"Error.Timeout",msg:"heartbeat timeout."},LOGIN_TIMEOUT:{code:"Error.Timeout",msg:"login timeout."},SEND_MSG_TIMEOUT:{code:"Error.Timeout",msg:"send customsg timeout."},RESET_QUEUE:{code:"Error.Timeout",msg:"msg waiting ack is clear when reset."},LOGIN_DISCONNECT:{code:"Error.Network",msg:"network is broken and login fail."},KICK_OUT:{code:"Error.Kickout",msg:"kickout reason="},UNKNOWN:{code:"Error.Unknown",msg:"unknown error."},FREQ_LIMITED:{code:"Error.requencyLimited",msg:"Frequency Limited."}},t.ERROR_CODES={ROOM_SESSION_ID_ERR:1000000152,FETCH_TRANS_UNKNOWN_CHANNEL:1000001108,FETCH_TRANS_UNKNOWN_TYPE:1000001109,FETCH_TRANS_WRONG_SEQ:1000001110},function(e){e[e.disconnected=0]="disconnected",e[e.connecting=1]="connecting",e[e.connected=2]="connected"}(t.ENUM_SIGNAL_STATE||(t.ENUM_SIGNAL_STATE={})),t.ENUM_RESOLUTION_TYPE={LOW:{width:320,height:240,frameRate:15,bitRate:300},MEDIUM:{width:640,height:480,frameRate:15,bitRate:800},HIGH:{width:1280,height:720,frameRate:20,bitRate:1500}},t.ENUM_SCREEM_RESOLUTION_TYPE={LOW:{frameRate:20,bitRate:800},MEDIUM:{frameRate:15,bitRate:1500},HIGH:{frameRate:5,bitRate:2e3}},t.ENUM_PUBLISH_STATE={start:0,waitingSessionRsp:1,waitingOffserRsp:2,waitingServerAnswer:3,waitingServerICE:4,connecting:5,publishing:6,stop:7,didNotStart:8},t.ENUM_PLAY_STATE={start:0,waitingSessionRsp:1,waitingOffserRsp:2,waitingServerAnswer:3,waitingServerICE:4,connecting:5,playing:6,stop:7,didNotStart:8},t.ENUM_PLAYER_STATE={start:0,playing:1,stop:2},t.ENUM_PLAY_STATE_NEGO={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6},t.ENUM_PROBE_STATE={tryProbe:0,probed:2},t.ENUM_CONNECT_STATE={disconnect:0,connecting:1,connected:2},t.MAX_TRY_CONNECT_COUNT=1,t.SEND_MSG_RESET=2,t.SEND_MSG_TIMEOUT=1,t.MAX_TRY_HEARTBEAT_COUNT=5,t.MAX_STREAM_ID_LENGTH=256,t.MAX_USER_ID_LENGTH=64,t.MAX_USER_NAME_LENGTH=256,t.MAX_ROOM_ID_LENGTH=128,t.MAX_MESSAGE_LENGTH=1024,t.MAX_MIX_TASK_ID_LENGTH=256,t.MAX_TRANS_TYPE_LENGTH=128,t.MAX_TRANS_DATA_LENGTH=4096,t.MAX_RETRY_CONNECT_INTERVAL=12,t.ENUM_PUBLISH_STREAM_STATE={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},t.ENUM_STREAM_SUB_CMD={liveNone:0,liveBegin:2001,liveEnd:2002,liveUpdate:2003},t.ENUM_STREAM_CMD_PRI={liveBegin:"zegochat_js.room_stream_create_req",liveEnd:"zegochat_js.room_stream_delete_req",liveUpdate:"zegochat_js.room_stream_update_req"},t.ENUM_STREAM_UPDATE_TYPE={added:1,deleted:0},function(e){e[e.logout=0]="logout",e[e.trylogin=1]="trylogin",e[e.login=2]="login"}(t.ENUM_RUN_STATE||(t.ENUM_RUN_STATE={})),function(e){e[e.offline=0]="offline",e[e.online=1]="online"}(t.ENUM_NETWORK_STATE||(t.ENUM_NETWORK_STATE={})),t.STREAM_DELETE_REASON={0:{code:1,description:"user_stop_publishing_stream_normal"},1:{code:2,description:"user_heart_beat_timeout"},2:{code:3,description:"user_repeat_login"},3:{code:4,description:"user_kicked_out"},4:{code:5,description:"user_offline"},100:{code:6,description:"remove_by_server"}},t.MINIUM_HEARTBEAT_INTERVAL=3e3,t.ENUM_STREAM_UPDATE_CMD={added:12001,deleted:12002,updated:12003},t.ENUM_STREAM_UPDATE_CMD_PRI={added:1,updated:2,deleted:3},t.SERVER_ERROR_CODE=1e4,t.MIXSTREAM_ERROR_CODE=1e4,function(e){e[e.low=1]="low",e[e.stantard=2]="stantard",e[e.hight=3]="hight",e[e.custome=4]="custome"}(t.QUALITYLEVEL||(t.QUALITYLEVEL={})),t.ENUM_SIGNAL_SUB_CMD={none:0,joinLiveRequest:1001,joinLiveResult:1002,joinLiveInvite:1003,joinLiveStop:1004},t.ENUM_PUSH_SIGNAL_SUB_CMD={none:0,pushJoinLiveRequest:11001,pushJoinLiveResult:11002,pushJoinLiveInvite:11003,pushJoinLiveStop:11004},t.ENUM_PUBLISH_STATE_NEGO={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6},function(e){e[e.cdn=0]="cdn",e[e.ultra=1]="ultra"}(t.ENUM_PLAY_SOURCE_TYPE||(t.ENUM_PLAY_SOURCE_TYPE={})),function(e){e[e.stop=0]="stop",e[e.start=1]="start"}(t.ENUM_BROADCASTER_STATUS||(t.ENUM_BROADCASTER_STATUS={})),function(e){e[e.cdn=0]="cdn",e[e.ultra=1]="ultra",e[e.customUrl=2]="customUrl"}(t.ENUM_DISPATCH_TYPE||(t.ENUM_DISPATCH_TYPE={})),function(e){e[e.CDN=0]="CDN",e[e.BGP=1]="BGP"}(t.ENUM_SOURCE_TYPE||(t.ENUM_SOURCE_TYPE={})),function(e){e[e.ClientType_None=0]="ClientType_None",e[e.ClientType_H5=1]="ClientType_H5",e[e.ClientType_SmallPragram=2]="ClientType_SmallPragram",e[e.ClientType_Webrtc=3]="ClientType_Webrtc"}(t.E_CLIENT_TYPE||(t.E_CLIENT_TYPE={}));var o=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._id=null,this.next=null,this.prev=null,this._id=e,this._data=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id?this._id:null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),e.prototype.hasNext=function(){return this.next&&this.next.id},e.prototype.hasPrev=function(){return this.prev&&this.prev.id},e}();t.ListNode=o;var n=function(){function e(){this.start=new o,this.end=new o,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}return e.prototype.insertBefore=function(e,t){var r=new o(this._idCounter,t);return r.next=e,r.prev=e.prev,e.prev&&(e.prev.next=r),e.prev=r,++this._idCounter,++this._numNodes,r},e.prototype.addLast=function(e){return this.insertBefore(this.end,e)},e.prototype.add=function(e){return this.addLast(e)},e.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},e.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},e.prototype.size=function(){return this._numNodes},e.prototype.getFromFirst=function(e){var t=0,r=this.start.next;if(e>=0)for(;t<e&&null!==r;)r=r.next,++t;else r=null;if(null===r)throw"Index out of bounds.";return r},e.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},e.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},e.prototype.removeFirst=function(){var e=null;return this._numNodes>0&&this.start.next&&(e=this.remove(this.start.next)),e},e.prototype.removeLast=function(){var e=null;return this._numNodes>0&&this.end.prev&&(e=this.remove(this.end.prev)),e},e.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},e.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},e.prototype.find=function(e){for(var t=this.start,r=!1,o=null;t.hasNext()&&!r;)e(t=t.next)&&(o=t,r=!0);return o},e.prototype.map=function(e){for(var t=this.start,r=[];t.hasNext();)e(t=t.next)&&r.push(t);return r},e.prototype.push=function(e){return this.addLast(e)},e.prototype.unshift=function(e){this._numNodes>0?this.insertBefore(this.start.next,e):this.insertBefore(this.end,e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(){return this.removeFirst()},e}();t.LinkedList=n,t.ENUM_PUBLISH_STATE_UPDATE={start:0,error:1,retry:2},t.ENUM_PLAY_STATE_UPDATE={start:0,error:1,retry:2,stop:3},t.ENUM_RETRY_STATE={didNotStart:0,retrying:1,finished:2},t.REPORT_ACTION={eventStart:"eventStart",eventEndWithMsgInfo:"eventEndWithMsgInfo",addEventMsg:"addEventMsg",addEvent:"addEvent",eventEnd:"eventEnd",addMsgInfo:"addMsgInfo"},function(e){e[e.Unknown=-1]="Unknown",e[e.Excellent=0]="Excellent",e[e.Good=1]="Good",e[e.Middle=2]="Middle",e[e.Poor=3]="Poor",e[e.Die=4]="Die"}(t.QualityGrade||(t.QualityGrade={})),function(e){e[e.MinQuality=0]="MinQuality",e[e.DieQuality=0]="DieQuality",e[e.PoorMinQuality=1]="PoorMinQuality",e[e.MiddleMinQuality=30]="MiddleMinQuality",e[e.GoodMinQuality=60]="GoodMinQuality",e[e.ExcellentMinQuality=85]="ExcellentMinQuality",e[e.MaxQuality=100]="MaxQuality"}(t.QUALITY_CONSTANT||(t.QUALITY_CONSTANT={}));var i=r(11);Object.defineProperty(t,"getSeq",{enumerable:!0,get:function(){return i.getSeq}}),Object.defineProperty(t,"getReportSeq",{enumerable:!0,get:function(){return i.getReportSeq}}),Object.defineProperty(t,"ZegoExpressWebRTMEngine",{enumerable:!0,get:function(){return i.ZegoExpressWebRTMEngine}}),Object.defineProperty(t,"ZegoLogger",{enumerable:!0,get:function(){return i.ZegoLogger}}),Object.defineProperty(t,"ZegoDataReport",{enumerable:!0,get:function(){return i.ZegoDataReport}}),Object.defineProperty(t,"ZegoExpressWebRTM",{enumerable:!0,get:function(){return i.ZegoExpressWebRTM}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoWechatLogEvent=t.ZegoRTCLogEvent=void 0;var o=r(4),n=function(e){return e};t.ZegoRTCLogEvent={kZegoTaskCreateStream:{event:"/sdk/create_stream",error:{kBrowserNotSupportError:o.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kParamError:o.errorCodeList.PUBLISHER_PARAM,kScreenCancelError:o.errorCodeList.PUBLISH_SCREEN_CANCELED,kScreenFailedError:o.errorCodeList.PUBLISHER_SCREEN_FAILED,kScreenNotSupportError:o.errorCodeList.PUBLISH_SCREEN_NOT_SUPPORT,kHttpsRequiredError:o.errorCodeList.PUBLISHER_HTTPS_REQUIRED,kGetUserMediaError:o.errorCodeList.PUBLISHER_GET_USER_MEDIA_FAIL},stream_type:n,screen:n,camera:n,custom:n},kZegoTaskPublishStart:{event:"/sdk/api/publish_request",error:{kPublishParamError:o.errorCodeList.PUBLISHER_PARAM,kPublishNetworkTimeoutError:o.errorCodeList.TIMEOUT,kPublishDispatchTimeoutError:o.errorCodeList.DISPATCH_TIMEOUT,kPublishDispatchError:o.errorCodeList.DISPATCH_ERROR,kPublishNetworkBrokenError:o.errorCodeList.NETWORK_BROKEN,kPublishNoPreviewError:o.errorCodeList.PUBLISH_NO_PREVIEW,kPublishNoLoginError:o.errorCodeList.NOT_LOGIN,kPublishRetryTimeoutError:o.errorCodeList.PUBLISHER_RETRY_TIMEOUT,kMediaServerForbidError:o.errorCodeList.PUBLISHER_MEDIA_SERVER_FORBID,kPublishSessionClosedError:o.errorCodeList.PUBLISHER_SESSION_CLOSED,kPublishNegoTimeoutError:o.errorCodeList.PUBLISHER_SERVER_NEGO_TIMEOUT,kCreateOfferError:o.errorCodeList.PUBLISHER_CREATE_OFFER_ERROR,kSetLocalDescError:o.errorCodeList.PUBLISHER_SET_LOCAL_DESC_ERROR,kSessionTimeoutError:o.errorCodeList.PUBLISHER_SESSION_TIMEOUT,kSessionRequestError:o.errorCodeList.PUBLISHER_SESSION_REQUEST_FAIL,kSetRemoteDescError:o.errorCodeList.PUBLISHER_SET_REMOTE_DESC_ERROR,kMediaConnectionError:o.errorCodeList.PUBLISHER_MEDIA_CONNECTION_ERROR,kWebsocketDisconnectedError:o.errorCodeList.PUBLISHER_WEBSOCKET_DISCONNECTED,kMediaDescError:o.errorCodeList.PUBLISHER_MEDIA_DESC_ERROR,kCandidateError:o.errorCodeList.PUBLISHER_CANDIDATE_ERROR,kIsPublishing:o.errorCodeList.PUBLISHER_IS_PUBLISHING,kClientIPChangedError:o.errorCodeList.PUBLISHER_CLIENT_IP_CHANGED,kTTLOverTimeError:o.errorCodeList.PUBLISHER_TTL_OVERTIME},publishOption:n,message:n,session_id:n,stream:n,video_en_codec_id:n,cap_w:n,cap_h:n,w:n,h:n,video_en_fps:n,video_en_bps:n,audio_c_channel_count:n,audio_en_bps:n,aec_level:n,ans_level:n,agc:n,traffic_control_min_video_bitrate:n},kZegoTaskVideoCaptureSize:{event:"/sdk/api/publish_video_c_size",session_id:n,w:n,h:n},kZegoTaskVideoPlaySize:{event:"/sdk/play_video_size_changed",session_id:n,w:n,h:n},kZegoTaskRePublish:{event:"/sdk/republish",stream:n},kZegoTaskPublishStop:{event:"/sdk/stop_publish",error:{kParamError:o.errorCodeList.PUBLISHER_PARAM},stream:n},kZegoTaskPlayStart:{event:"/sdk/api/play_request",error:{kStreamIDNullError:o.errorCodeList.STREAM_ID_NULL,kPlayParamError:o.errorCodeList.PLAYER_PARAM,kPlayStreamIDToLongError:o.errorCodeList.STREAMID_TOO_LONG,kPlayStreamIDInvalidCharacterError:o.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPlayNoLoginError:o.errorCodeList.NOT_LOGIN,kPlayRepeatedPullError:o.errorCodeList.REPEATED_PULL,kPlayNetworkTimeoutError:o.errorCodeList.TIMEOUT,kPlayDispatchTimeoutError:o.errorCodeList.DISPATCH_TIMEOUT,kPlayDispatchError:o.errorCodeList.DISPATCH_ERROR,kPlayNetworkBrokenError:o.errorCodeList.NETWORK_BROKEN,kPlayUnsupportedResourceMode:o.errorCodeList.PLAYER_UNSUPPORTED_PROTOCOL,kPlayRetryTimeoutError:o.errorCodeList.PLAYER_RETRY_TIMEOUT,kPlaySessionClosedError:o.errorCodeList.PLAYER_SESSION_CLOSED,kPlaySessionResetError:o.errorCodeList.PLAYER_SESSION_RESET,kPlayNegoTimeoutError:o.errorCodeList.PLAYER_SERVER_NEGO_TIMEOUT,kCreateOfferError:o.errorCodeList.PLAYER_CREATE_OFFER_ERROR,kSetLocalDescError:o.errorCodeList.PLAYER_SET_LOCAL_DESC_ERROR,kSessionRequestError:o.errorCodeList.PLAYER_SESSION_REQUEST_FAIL,kSessionTimeoutError:o.errorCodeList.PLAYER_SESSION_TIMEOUT,kSetRemoteDescError:o.errorCodeList.PLAYER_SET_REMOTE_DESC_ERROR,kMediaConnectionError:o.errorCodeList.PLAYER_MEDIA_CONNECTION_ERROR,kWebsocketDisconnectedError:o.errorCodeList.PLAYER_WEBSOCKET_DISCONNECTED,kCandidateError:o.errorCodeList.PLAYER_CANDIDATE_ERROR,kMediaDescError:o.errorCodeList.PLAYER_MEDIA_DESC_ERROR,kIsPlaying:o.errorCodeList.PLAYER_IS_PLAYING,kClientIPChangedError:o.errorCodeList.PLAYER_CLIENT_IP_CHANGED,kTTLOverTimeError:o.errorCodeList.PLAYER_TTL_OVERTIME,kProbeTimeOutError:o.errorCodeList.PLAYER_PROBE_TIMEOUT},playOption:n,message:n,session_id:n,stream:n,audio_activate:n,video_activate:n},kZegoTaskRePlay:{event:"/sdk/replay",stream:n},kZegoTaskPlayStop:{event:"/sdk/stop_play",error:{kParamError:o.errorCodeList.PUBLISHER_PARAM},stream:n},kZegoPlayContentChanged:{event:"/sdk/play_content_changed",session_id:n,video_activate:n,audio_activate:n},kZegoTaskMixStart:{event:"/mix/start_mix",error:{kParamError:o.errorCodeList.INPUT_PARAM,kTaskIDNullError:o.errorCodeList.MIXER_TASK_ID_NULL,kTaskIDToLongError:o.errorCodeList.MIXER_TASK_ID_TOO_LONG,kTaskIDInvalidCharacterError:o.errorCodeList.MIXER_TASK_ID_INVALID_CHARACTER,kInputListNullError:o.errorCodeList.MIXER_INPUTLIST_NULL,kOutputListNullError:o.errorCodeList.MIXER_OUTPUTLIST_NULL,kOutputTargetInvalidError:o.errorCodeList.MIXER_OUTPUT_TARGET_INVALID,kOutputNoTargetError:o.errorCodeList.MIXER_NO_OUTPUT_TARGET,kRequestError:o.errorCodeList.MIXER_START_REQUEST_ERROR,kInternalError:o.errorCodeList.MIXER_INNER_ERROR,kNoLoginError:o.errorCodeList.NOT_LOGIN},mix_stream_id:n,stream_cnt:n,input_stream_list:n,output_target_list:n},kZegoTaskMixStop:{event:"/mix/stop_mix",error:{kParamError:o.errorCodeList.INPUT_PARAM,kTaskIDNullError:o.errorCodeList.MIXER_TASK_ID_NULL,kRequestError:o.errorCodeList.MIXER_STOP_REQUEST_ERROR,kInternalError:o.errorCodeList.MIXER_INNER_ERROR,kNoLoginError:o.errorCodeList.NOT_LOGIN}},kZegoTaskMixConfig:{event:"/mix/config_mix",error:{kParamError:o.errorCodeList.INPUT_PARAM,kVideoConfigInvalidError:o.errorCodeList.MIXER_VIDEO_CONFIG_INVALID,kBackgroundImageUrlInvalidError:o.errorCodeList.MIXER_BACKGROUND_IMAGE_URL_INVALID,kNoLoginError:o.errorCodeList.NOT_LOGIN},config:n},kZegoTaskEnumDevices:{event:"/device/list",error:{kBrowserNotSupportError:o.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:o.errorCodeList.ENUMERATE_DEVICES_FAIL},dev_list:n},kZegoTaskAudioOutput:{event:"/device/audio_capture",error:{kBrowserNotSupportError:o.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:o.errorCodeList.ENUMERATE_DEVICES_FAIL},session_id:n,device:n},kZegoTaskVideoCapture:{event:"/device/video_capture",error:{kBrowserNotSupportError:o.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:o.errorCodeList.ENUMERATE_DEVICES_FAIL},session_id:n,device:n},kZegoTaskDeviceInterrupt:{event:"/device/interrupt",error:{kBrowserNotSupportError:o.errorCodeList.PUBLISHER_BROWSER_NOT_SUPPORT,kEnumDevicesError:o.errorCodeList.ENUMERATE_DEVICES_FAIL},session_id:n,interrupt:n},kZegoTaskSetDebug:"/sdk/set_debug",kZegoTaskSetLog:"/sdk/set_log_config",kZegoTaskUseVideoDevice:{event:"/device/api/video_c",error:{kParamError:o.errorCodeList.INPUT_PARAM,kDevicesNoFoundError:o.errorCodeList.DEVICE_NOT_FOUND,kLocalStreamError:o.errorCodeList.LOCALSTREAM_WRONG},device:n},kZegoTaskUseAudioDevice:{event:"/device/api/audio_c",error:{kParamError:o.errorCodeList.INPUT_PARAM,kDevicesNoFoundError:o.errorCodeList.DEVICE_NOT_FOUND,kLocalStreamError:o.errorCodeList.LOCALSTREAM_WRONG},device:n},kZegoTaskCheckSystemRequirements:{event:"/sdk/check_system",capability:n},kZegoTaskMutePublishVideo:"/sdk/mute_publish_video",kZegoTaskMutePublishAudio:"/sdk/mute_publish_audio",kZegoTaskMuteMicrophone:"/sdk/mute_microphone",kZegoTaskMutePlayVideo:"/sdk/mute_play_video",kZegoTaskMutePlayAudio:"/sdk/mute_play_audio",kZegoTaskRemoteCameraUpdate:{event:"/sdk/remote_camera_update",stream:n,status:n},kZegoTaskRemoteMicUpdate:{event:"/sdk/remote_mic_update",stream:n,status:n},kZegoTaskGetSoundLevel:{event:"/sdk/get_sound_level",error:{kGetSoundLevelError:o.errorCodeList.GET_SOUND_LEVEL_FAIL}},kZegoTaskStopSoundLevel:"/sdk/stop_sound_level",kZegoTaskAddPublishCdnUrl:{event:"/sdk/add_publish_cdn_url",error:{kParamError:o.errorCodeList.INPUT_PARAM}},kZegoTaskRemovePublishCdnUrl:{event:"/sdk/remove_publish_cdn_url",error:{kParamError:o.errorCodeList.INPUT_PARAM},stream:n,target_url:n},kZegoTaskClearPublishCdnUrl:{event:"/sdk/clear_publish_cdn_url",error:{kParamError:o.errorCodeList.INPUT_PARAM}},kZegoTaskPublishTarget:{event:"/sdk/publish_target",error:{kParamError:o.errorCodeList.INPUT_PARAM,kPublishStreamNoFoundError:o.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kNoLoginError:o.errorCodeList.NOT_LOGIN,kNoResponseError:o.errorCodeList.PUBLISH_TARGET_NO_RESPONSE,kBizChannelError:o.errorCodeList.BIZ_CHANNEL_ERROR,kInvalidChannelError:o.errorCodeList.INVALID_CHANNEL,kUnknownServerError:o.errorCodeList.UNKNOWN_SERVER_ERROR}},kZegoTaskDestroyStream:{event:"/sdk/destroy_stream",error:{kLocalStreamError:o.errorCodeList.LOCALSTREAM_WRONG}},kZegoTaskScreenSharingEnded:"/sdk/screen_share_end",kZegoTaskAudioOutputChanged:{event:"/device/api/audio_output",session_id:n,stream:n,device:n,reason:n},kZegoEventPublishStat:"/sdk/publish_stat_report",kZegoEventPlayStat:"/sdk/play_stat_report",kZegoSetAudioConfig:{event:"/sdk/set_audio_config",error:{kParamError:o.errorCodeList.INPUT_PARAM}},kZegoSetVideoConfig:{event:"/sdk/set_video_config",error:{kParamError:o.errorCodeList.INPUT_PARAM,kLocalStreamError:o.errorCodeList.LOCALSTREAM_WRONG}},kZegoReplaceTrack:{event:"/sdk/replace_track",error:{kParamError:o.errorCodeList.INPUT_PARAM}},kZegoTaskLiveRoomGetStreamUpdateInfo:{event:"/liveroom/get_stream_update_info",stream_update_type:n,update_stream:n},kZegoTaskLiveRoomGetStreamExtraInfo:{event:"/liveroom/get_stream_extra_info",update_stream:n},kZegoTaskLiveRoomSendStreamExtraInfo:{event:"/liveroom/send_stream_extra_info",error:{kParamError:o.errorCodeList.INPUT_PARAM,kExtraInfoNullError:o.errorCodeList.PUBLISHER_EXTRA_INFO_NULL,kNoLoginError:o.errorCodeList.NOT_LOGIN,kPublishStreamNoFoundError:o.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kUpdateStreamInfoFailError:o.errorCodeList.PUBLISHER_UPDATE_STREAM_INFO_FAIL},stream:n,stream_extra_info:n,room_sid:n},kZegoTaskPlayDecodeFirstVideoFrame:{event:"/sdk/play_decode_first_video_frame",session_id:n,fft_consumed:n},kZegoVisibilityChange:{event:"/app/background"},kZegoSetCaptureVolume:{event:"/sdk/set_capture_volume",error:{kParamError:o.errorCodeList.INPUT_PARAM}},kZegoListener:{event:"/sdk/listener"},kZegoNetProbe:{event:"/sdk/net_probe"},kZegoNetProbeResult:{event:"/sdk/net_probe_result"}},t.ZegoWechatLogEvent={kZegoTaskCheckSystemRequirements:{event:"/sdk/check_system",error:{kCheckSystemGetSettingFailError:o.errorCodeList.WX_GET_SETTING_FAIL},capability:n},kZegoTaskPublishStart:{event:"/sdk/api/publish_request",error:{kPublishStreamIDNullError:o.errorCodeList.STREAM_ID_NULL,kPublishParamError:o.errorCodeList.PUBLISHER_PARAM,kPublishStreamIDTooLongError:o.errorCodeList.STREAMID_TOO_LONG,kPublishStreamIDInvalidCharacterError:o.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPublishNetworkTimeoutError:o.errorCodeList.TIMEOUT,kPublishDispatchTimeoutError:o.errorCodeList.DISPATCH_TIMEOUT,kPublishDispatchError:o.errorCodeList.DISPATCH_ERROR,kPublishNetworkBrokenError:o.errorCodeList.NETWORK_BROKEN,kPublishNoLoginError:o.errorCodeList.NOT_LOGIN,kPublishRetryTimeoutError:o.errorCodeList.PUBLISHER_RETRY_TIMEOUT,kIsPublishing:o.errorCodeList.PUBLISHER_IS_PUBLISHING},publishOption:n,stream:n,message:n},kZegoTaskPlayStart:{event:"/sdk/api/play_request",error:{kPlayStreamIDNullError:o.errorCodeList.STREAM_ID_NULL,kPlayParamError:o.errorCodeList.PLAYER_PARAM,kPlayStreamIDTooLongError:o.errorCodeList.STREAMID_TOO_LONG,kPlayStreamIDInvalidCharacterError:o.errorCodeList.STREAM_ID_INVALID_CHARACTER,kPlayNoLoginError:o.errorCodeList.NOT_LOGIN,kPlayRepeatedPullError:o.errorCodeList.REPEATED_PULL,kPlayNetworkTimeoutError:o.errorCodeList.TIMEOUT,kPlayDispatchTimeoutError:o.errorCodeList.DISPATCH_TIMEOUT,kPlayDispatchError:o.errorCodeList.DISPATCH_ERROR,kPlayNetworkBrokenError:o.errorCodeList.NETWORK_BROKEN,kPlayRetryTimeoutError:o.errorCodeList.PLAYER_RETRY_TIMEOUT,kIsPlaying:o.errorCodeList.PLAYER_IS_PLAYING},playOption:n,message:n,session_id:n,stream:n,audio_activate:n,video_activate:n},kZegoEventPublishStat:"/sdk/publish_stat_report",kZegoEventPlayStat:"/sdk/play_stat_report",kZegoTaskRePublish:"/sdk/republish",kZegoTaskRePlay:"/sdk/replay",kZegoTaskPublishStop:{event:"/sdk/stop_publish",error:{kParamError:o.errorCodeList.PUBLISHER_PARAM},stream:n},kZegoTaskPlayStop:{event:"/sdk/stop_play",error:{kParamError:o.errorCodeList.PUBLISHER_PARAM},stream:n},kZegoTaskLiveRoomGetStreamUpdateInfo:{event:"/liveroom/get_stream_update_info",stream_update_type:n,update_stream:n},kZegoTaskLiveRoomGetStreamExtraInfo:{event:"/liveroom/get_stream_extra_info",update_stream:n},kZegoTaskMixStart:{event:"/mix/start_mix",error:{kParamError:o.errorCodeList.INPUT_PARAM,kTaskIDNullError:o.errorCodeList.MIXER_TASK_ID_NULL,kTaskIDToLongError:o.errorCodeList.MIXER_TASK_ID_TOO_LONG,kTaskIDInvalidCharacterError:o.errorCodeList.MIXER_TASK_ID_INVALID_CHARACTER,kInputListNullError:o.errorCodeList.MIXER_INPUTLIST_NULL,kOutputListNullError:o.errorCodeList.MIXER_OUTPUTLIST_NULL,kOutputTargetInvalidError:o.errorCodeList.MIXER_OUTPUT_TARGET_INVALID,kOutputNoTargetError:o.errorCodeList.MIXER_NO_OUTPUT_TARGET,kRequestError:o.errorCodeList.MIXER_START_REQUEST_ERROR,kInternalError:o.errorCodeList.MIXER_INNER_ERROR},mix_stream_id:n,stream_cnt:n,input_stream_list:n,output_target_list:n},kZegoTaskMixStop:{event:"/mix/stop_mix",error:{kParamError:o.errorCodeList.INPUT_PARAM,kTaskIDNullError:o.errorCodeList.MIXER_TASK_ID_NULL,kRequestError:o.errorCodeList.MIXER_STOP_REQUEST_ERROR,kInternalError:o.errorCodeList.MIXER_INNER_ERROR}},kZegoTaskMixConfig:{event:"/mix/config_mix",error:{kParamError:o.errorCodeList.INPUT_PARAM,kVideoConfigInvalidError:o.errorCodeList.MIXER_VIDEO_CONFIG_INVALID,kBackgroundImageUrlInvalidError:o.errorCodeList.MIXER_BACKGROUND_IMAGE_URL_INVALID},config:n},kZegoTaskLiveRoomSendStreamExtraInfo:{event:"/liveroom/send_stream_extra_info",error:{kParamError:o.errorCodeList.INPUT_PARAM,kExtraInfoNullError:o.errorCodeList.PUBLISHER_EXTRA_INFO_NULL,kNoLoginError:o.errorCodeList.NOT_LOGIN,kPublishStreamNoFoundError:o.errorCodeList.PUBLISHER_STREAM_NO_FOUND,kUpdateStreamInfoFailError:o.errorCodeList.PUBLISHER_UPDATE_STREAM_INFO_FAIL},stream:n,stream_extra_info:n,room_sid:n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZEGO_WECHATMINI_ACTION=t.ZEGO_WEBRTC_ACTION=void 0,function(e){e.CONSTRUCTOR="zc.0",e.CHECK_SUPPORT="zc.csr",e.CREATE_STREAM="zc.cs",e.DESTROY_STREAM="zc.ds",e.START_PUBLISHING_STREAM="zc.sps.0",e.START_PLAYING_STREAM="zc.sps.1",e.STOP_PUBLISHING_STREAM="zc.sps.0.0",e.STOP_PLAYING_STREAM="zc.sps.1.0",e.ON_STREAM="zc.os",e.ON_PUSH_STREAM_UPDATE="zc.opsu",e.ACTIVATE_SEI_INSERT="zc.asi",e.BIND_WINDOW_LISTENER="zc.wl",e.MUTE_PUBLISH_STREAM_VIDEO="zc.mpsv.0",e.MUTE_PUBLISH_STREAM_AUDIO="zc.mpsa.0",e.MUTE_MIC="zc.mm",e.MUTE_PLAY_STREAM_VIDEO="zc.mpsv.1",e.MUTE_PLAY_STREAM_AUDIO="zc.mpsa.1",e.SET_AUDIO_OUTPUT="zc.sao",e.SET_CUSTOM_SIGNAL_URL="zc.scsu",e.SET_TURN_OVER_TCP_ONLY="zc.stoto",e.SET_VIDEO_CONFIG="zc.svc",e.SET_AUDIO_CONFIG="zc.sac",e.REPLACE_TRACK="zc.rp",e.PRELOAD_EFFECT="zc.pe.0",e.PLAY_EFFECT="zc.pe.1",e.PAUSE_EFFECT="zc.pe.2",e.RESUME_EFFECT="zc.re",e.STOP_EFFECT="zc.se",e.UNLOAD_EFFECT="zc.ue",e.SET_EFFECT_VOLUME="zc.sev",e.START_MIXING_AUDIO="zc.sma.0",e.STOP_MIXING_AUDIO="zc.sma.1",e.MIXING_BUFFER="zc.mb",e.STOP_MIXING_BUFFER="zc.smb",e.SET_MIXING_AUDIO_VOLUME="zc.smav",e.ENABLE_STREAM="zc.es",e.ENABLE_MIC_ONLY="zc.emo",e.RDH_ACTIVE="zc.rdh.a",e.RDH_MAX_TIME="zc.rdh.m",e.RDH_WEBRTC_URL_RSP="zc.rdh.hfwur",e.PUBLISH_STATE_HANDLE="zc.psh.0",e.PLAY_STATE_HANDLE="zc.psh.1",e.STATECENTER_ACTION_LISTENER="zc.sc.al",e.SIGNAL_SET_SESSION_INFO="zc.s.ssi",e.SIGNAL_RESET_CONNECT_TIMER="zc.s.rct",e.SIGNAL_BIND_WEBSOCKET_HANDLE="zc.s.bwh",e.SIGNAL_RESET_CHECK_MESSAGE="zc.s.rcm",e.SIGNAL_UPDATE_TOKEN="zc.s.ut",e.SIGNAL_SEND_MESSAGE_WITH_CALLBACK="zc.s.smwc",e.SIGNAL_CONNECT_SERVER="zc.s.cs.0",e.SIGNAL_START_CONNECT_TIMER="zc.s.sct",e.SIGNAL_DISCONNECT_SERVER="zc.s.dc",e.SIGNAL_CREATE_SESSION="zc.s.cs.1",e.SIGNAL_REMOVE_SESSION="zc.s.rs",e.SIGNAL_SEND_REMOVE_SESSION="zc.s.srs",e.SIGNAL_SEND_MESSAGE="zc.s.sm",e.SIGNAL_HANDLE_RESPOND_DATA="zc.s.hrd",e.SIGNAL_ADD_SESSION="zc.s.as",e.SIGNAL_HANDLE_PUSH_DATA="zc.s.hpd",e.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA="zc.s.hprsd",e.SIGNAL_SEND_MEDIA_DESC="zc.s.smd",e.SIGNAL_SEND_CANDIDATE_INFO="zc.s.sci",e.SIGNAL_SEND_MEDIA_DESC_ACK="zc.s.smda",e.SIGNAL_SEND_CANDIDATE_INFO_ACK="zc.s.scia",e.SIGNAL_SEND_CLOSE_SESSION_ACK="zc.s.scsa",e.SIGNAL_SEND_RESET_SESSION_ACK="zc.s.srsa",e.SIGNAL_REGISTER_PUSH_CALLBACK="zc.s.rpc",e.SIGNAL_CHECK_MESSAGE_TIMEOUT="zc.s.cmt",e.SIGNAL_SEND_HEARTBEAT="zc.s.sh",e.SIGNAL_QUALITY_REPORT="zc.s.qr",e.SIGNAL_SEND_STREAM_STATUS="zc.s.sss",e.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM="zc.s.apvs",e.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM="zc.s.apas",e.SIGNAL_SEND_BROADCAST_STATUS="zc.s.sbs",e.SIGNAL_SEND_NET_PROBE="zc.s.snp",e.SIGNAL_SEND_NET_QUALITY_INFO_PUSH_ACK="zc.s.npa",e.PUBLISHER_START_PUBLISH="zc.p.0.sp.0",e.PUBLISHER_PUBLISH_SUCCESS="zc.p.ps",e.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS="zc.p.0.ocpss",e.PUBLISHER_HANDLE_CREATE_SESSION_WITH_SDP="zc.p.0.hcsws",e.PUBLISHER_ON_CREATE_OFFER_SUCCESS="zc.p.0.ocos",e.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS="zc.p.0.oslds",e.PUBLISHER_ON_GET_REMOTE_DESCRIPTION="zc.p.0.ogrd",e.PUBLISHER_ON_RECV_MEDIA_DESC="zc.p.0.ormd",e.PUBLISHER_ON_RECV_CANDIDATE_INFO="zc.p.0.orci.0",e.PUBLISHER_ON_RECV_PUBLISH_EVENT="zc.p.0.orpe",e.PUBLISHER_ON_RECV_CLIENT_INFO="zc.p.0.orci.1",e.PUBLISHER_ON_ICE_CANDIDATE="zc.p.0.oic",e.PUBLISHER_ON_CONNECTION_STATE_CHANGE="zc.p.0.ocsc",e.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE="zc.p.0.oicsc",e.PUBLISHER_RESET_PUBLISH="zc.p.0.rp",e.PUBLISHER_SET_PLAYER_QUALITY_TIMER="zc.p.0.spqt",e.PUBLISHER_UPLOAD_PUBLISH_QUALITY="zc.p.0.upq",e.PUBLISHER_ON_RECV_RESET_SESSION="zc.p.0.orrs",e.PUBLISHER_ON_RECV_CLOSE_SESSION="zc.p.0.orcs",e.PUBLISHER_SEND_CANDIDATE_INFO="zc.p.0.sci",e.PUBLISHER_STATE_ERROR="zc.p.0.psr",e.PUBLISHER_STOP_PUBLISH="zc.p.0.sp.1",e.PUBLISHER_ON_DISCONNECT="zc.p.0.od",e.PUBLISHER_START_SOUND_LEVEL="zc.p.0.ssl.0",e.PUBLISHER_STOP_SOUND_LEVEL="zc.p.0.ssl.1",e.PUBLISHER_PLAY_EFFECT="zc.p.0.pe.0",e.PUBLISHER_PAUSE_EFFECT="zc.p.0.pe.1",e.PUBLISHER_RESUME_EFFECT="zc.p.0.re",e.PUBLISHER_STOP_EFFECT="zc.p.0.se",e.PUBLISHER_START_MIXING_AUDIO="zc.p.0.sma.0",e.PUBLISHER_STOP_MIXING_AUDIO="zc.p.0.sma.1",e.PUBLISHER_MIXING_BUFFER="zc.p.0.mb",e.PUBLISHER_SET_MIXING_AUDIO_VOLUME="zc.p.0.smav",e.PUBLISHER_HANDLE_ENC_BITRATE="zc.p.0.heb",e.PUBLISHER_ON_RECV_NET_QUALITY_INFO="zc.p.0.nqi",e.PLAYER_START_PLAY="zc.p.1.sp.0",e.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS="zc.p.ocpss.1",e.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP="zc.p.hcsws.1",e.PLAYER_ON_CREATE_OFFER_SUCCESS="zc.p.ocos.1",e.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS="zc.p.oslds.1",e.PLAYER_ON_RECV_MEDIA_DESC="zc.p.ormd.1",e.PLAYER_ON_RECV_CANDIDATE_INFO="zc.p.orci.1",e.PLAYER_ON_RECV_PLAY_EVENT="zc.p.orpe.1",e.PLAYER_ON_RECV_CLIENT_INFO="zc.p.orci.1.1",e.PLAYER_ON_ICE_CANDIDATE="zc.p.oic.1",e.PLAYER_ON_CONNECTION_STATE_CHANGE="zc.p.ocsc.1",e.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE="zc.p.oicsc.1",e.PLAYER_RESET_PLAY="zc.p.rp.1",e.PLAYER_SET_PLAYER_QUALITY_TIMER="zc.p.spqt.1",e.PLAYER_UPLOAD_PLAYER_QUALITY="zc.p.upq.1",e.PLAYER_ON_RECV_RESET_SESSION="zc.p.orrs.1",e.PLAYER_ON_RECV_CLOSE_SESSION="zc.p.orcs.1",e.PLAYER_ON_RECV_STREAM_STATUS="zc.p.orss.1",e.PLAYER_ON_GOT_REMOTE_STREAM="zc.p.ogrs.1",e.PLAYER_SEND_CANDIDATE_INFO="zc.p.sci.1",e.PLAYER_STATE_ERROR="zc.p.psr.1",e.PLAYER_STOP_PLAY="zc.p.1.sp.1",e.PLAYER_ON_DISCONNECT="zc.p.od.1",e.PLAYER_START_SOUND_LEVEL="zc.p.ssl.1",e.PLAYER_STOP_SOUND_LEVEL="zc.p.ssl.1.1",e.PLAYER_ON_RECV_NET_QUALITY_INFO="zc.p.1.nqi",e.PUBLISH_SET_CAPTURE_VOLUME="zc.p.scv",e.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ="zc.sh.msbss",e.STREAMHANDLER_MERGE_STREAM="zc.sh.ms",e.STREAMHANDLER_PATCH_STREAM_LIST="zc.sh.psl"}(t.ZEGO_WEBRTC_ACTION||(t.ZEGO_WEBRTC_ACTION={})),function(e){e.ADD_PUBLISH_CDN_URL="zw.apcu",e.REMOVE_PUBLISH_CDN_URL="zw.rpcu",e.STOP_MIXER_TASK="zw.smt",e.ON_STREAM="zw.os",e.ON_PUSH_STREAM_UPDATE="zw.opsu",e.ON_PUBLISH_STATE_UPDATE="zw.w.opsu",e.ON_PUBLISH_STATE_UPDATE_HANDLE="zw.w.opsuh",e.WECHATMINI_SETPREFERPLAYSOURCETYPE="zw.w.sppst.1",e.WECHATMINI_BIND_LISTENER="zw.w.bl",e.WECHATMINI_DELETE_LISTENER="zw.w.dl",e.WECHATMINI_UPDATE_PLAYER_STATE="zw.w.ups",e.WECHATMINI_UPDATE_PLAYER_NET_STATUS="zw.w.upns",e.WECHATMINI_SET_CUSTOM_SIGNAL_URL="zw.w.scsu",e.WECHATMINI_GET_NEXT_URL="zw.w.gnu",e.WECHATMINI_BIND_STREAM_CENTER_HANDLER="zw.w.bsch",e.WECHATMINI_BIND_RTM_LISTENER="zw.w.brl",e.PUBLISHMODULE_SET_PREFER_PUBLISH_SOURCE_TYPE="zw.pu.sppst.0",e.PUBLISHMODULE_START_PUBLISHING_STREAM="zw.pu.sps.0",e.PUBLISHMODULE_STOP_PUBLISHING_STREAM="zw.pu.sps.0.0",e.PUBLISHMODULE_FETCH_PUBLISH_STREAM_URL="zw.pu.fpsu.0",e.PUBLISHMODULE_HANDLE_FETCH_STREAM_PUBLISH_URL_RSP="zw.pu.hfspur.0",e.PUBLISHMODULE_DO_PUBLISH_STREAM="zw.pu.dps.0",e.PUBLISHMODULE_UPDATE_STREAM_INFO="zw.pu.upi",e.PUBLISHMODULE_HANDLE_STREAM_UPDATE_RSP="zw.pu.hsur",e.PLAYMODULE_START_PLAYING_STREAM="zw.pl.sps.1",e.PLAYMODULE_STOP_PLAYING_STREAM="zw.pl.sps.1.0",e.PLAYMODULE_START_PLAYING_STREAM_FROM_CDN="zw.pl.spsfc",e.PLAYMODULE_START_PLAYING_STREAM_FROM_BGP="zw.pl.spsfb",e.PLAYMODULE_DO_PLAY_STREAM="zw.pl.dps",e.PLAYMODULE_FETCH_PLAY_STREAM_URL="zw.pl.fpsu",e.PLAYMODULE_HANDLE_FETCH_STREAM_URL_RSP="zw.pl.hfsur",e.STREAMCENTERWECHAT_RESET="zw.scw.r.0",e.STREAMCENTERWECHAT_START_PUBLISHING_STREAM="zw.scw.sps.0",e.STREAMCENTERWECHAT_START_PLAYING_STREAM="zw.scw.sps.1",e.STREAMCENTERWECHAT_START_PLAYER="zw.scw.sp.0",e.STREAMCENTERWECHAT_ON_STREAM_URL_UPDATE="zw.scw.opuu.0",e.STREAMCENTERWECHAT_UPDATE_PLAYER_STATE="zw.scw.ups.0",e.STREAMCENTERWECHAT_UPDATE_PLAYER_NET_STATUS="zw.scw.upns",e.STREAMCENTERWECHAT_UPDATE_PUBLISHING_STATE="zw.scw.ups.0.0",e.STREAMCENTERWECHAT_UPDATE_PLAYING_STATE="zw.scw.ups.1.0",e.STREAMCENTERWECHAT_GET_NEXT_URL="zw.scw.gnu",e.STREAMCENTERWECHAT_STOP_PUBLISHING_STREAM="zw.scw.sps.0.0",e.STREAMCENTERWECHAT_STOP_PLAYING_STREAM="zw.scw.sps.1.0",e.STREAMCENTERWECHAT_STOP_PLAYER="zw.scw.sp.1",e.STREAMCENTERWECHAT_ON_PLAY_START="zw.scw.ops.0",e.STREAMCENTERWECHAT_ON_PLAY_STOP="zw.scw.ops.1",e.STREAMCENTERWECHAT_ON_PLAY_RETRY="zw.scw.opr",e.PLAYWECHAT_TRY_START_PLAYER="zw.pw.tsp.0",e.PLAYWECHAT_UPDATE_EVENT="zw.pw.ue",e.PLAYWECHAT_GET_PLAY_URL="zw.pw.gpu"}(t.ZEGO_WECHATMINI_ACTION||(t.ZEGO_WECHATMINI_ACTION={}))},function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!((n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientUtil=void 0;var i=r(0),a=r(1),s=r(12),l=function(){function e(){}return e.checkIllegalCharacters=function(e){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\*])+$/.test(e)&&/^[^:/]*$/g.test(e)},e.isUrl=function(e){return!!(e.startsWith("rtmp://")||e.startsWith("https://")&&e.endsWith(".flv")||e.startsWith("https://")&&e.endsWith(".m3u8"))},e.registerCallback=function(e,t,r){var o,n;t.success&&(o=t.success,r[e+"SuccessCallback"]=o),t.error&&(n=t.error,r[e+"ErrorCallback"]=n)},e.actionErrorCallback=function(e,t){return t[e+"ErrorCallback"]},e.actionSuccessCallback=function(e,t){return t[e+"SuccessCallback"]},e.logReportCallback=function(t,r,o,n){e.registerCallback(t,{success:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];e.dataReportEvent(r,o,t,n,i)}},n)},e.actionLogReportCallback=function(t,r,o,n,i){e.actionSuccessCallback(t,r)&&e.actionSuccessCallback(t,r)(o,n)},e.getServerError=function(e){var t={1:"parse json error.",1001:"login is processing.",1002:"liveroom request error.",1003:"zpush connect fail.",1004:"zpush handshake fail.",1005:"zpush login fail.",1006:"user login state is wrong.",1007:"got no zpush addr",1008:"token error",1009:"dispatch error",1010:"token expired",1011:"token format error",2002:"biz channel error",1e9:"liveroom cmd error, code:"};if(0===e)return{code:0,message:""};var r={code:0,message:"liveroom cmd error"};return r.code=e,r.message=e>1e9?t[1e9]+e:t[e]?t[e]+" code:"+e:"unknown error code:"+e,r},e.unregisterCallback=function(e,t){delete t[e+"SuccessCallback"],delete t[e+"ErrorCallback"]},e.decodeServerError=function(e,t){var r={code:-1,message:"server error"};return e>1e9&&(r.code=e-1e9+52e6),t&&(r.message=t),r},e.getLiveRoomError=function(e){return e>1e9?{1105:"ROOM_MAX_USER_COUNT",1012:"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM",2002:"ROOM_ERROR_AUTHENTICATION_FAILED",2003:"ROOM_ERROR_LOGIN_TIMEOUT"}[e-1e9]||"":{1:"PARSE_JSON_ERROR",1001:"LOGIN_PROCESSING",1002:"LIVEROMM_REQUEST_ERROR",1003:"ZPUSH_REQUEST_FAIL",1004:"ZPUSH_REQUEST_FAIL",1005:"ZPUSH_REQUEST_FAIL",1006:"LOGIN_STATE_WRONG",1007:"ZPUSH_REQUEST_FAIL",1008:"TOKEN_ERROR",1009:"DIAPATCH_ERROR",1010:"TOKEN_EXPIRED",1011:"TOKEN_ERROR",1012:"SUBCMD_ERROR",1101:"ZEGO_AUTH_ERROR",2001:"BIZ_CHANNEL_ERROR",2002:"BIZ_CHANNEL_ERROR"}[e]||"ROOM_INNER_ERROR"},e.mixServerError=function(e){var t={1:"MIXER_START_REQUEST_ERROR",2:"MIXER_START_REQUEST_ERROR",3:"MIXER_AUTHENTICATION_FAILED",150:"MIXER_INPUT_STREAM_NOT_EXISTS",151:"MIXER_START_REQUEST_ERROR",152:"MIXER_STOP_REQUEST_ERROR",153:"MIXER_INPUT_PARAMETERS_ERROR",154:"MIXER_EXCEED_MAX_OUTPUT_COUNT",155:"MIXER_INPUT_PARAMETERS_ERROR",156:"MIXER_VIDEO_CONFIG_INVALID",157:"MIXER_NO_SERVICES",158:"MIXER_EXCEED_MAX_INPUT_COUNT",159:"MIXER_START_REQUEST_ERROR",160:"MIXER_NOT_OWNER_STOPMIXER",170:"MIXER_WATERMARK_PARAMETERS_ERROR",171:"MIXER_WATERMARK_NULL",175:"MIXER_REPEAT_INPUT",190:"MIXER_START_REQUEST_ERROR"},r="MIXER_INNER_ERROR";return e>1e9&&t[e-1e9]&&(r=t[e-1e9]),r},e.getKickoutError=function(e){var t={};switch(e){case 1:t.code=63000001,t.message="zpush multiple login kickout",t.name="MULTIPLE_LOGIN_KICKOUT";break;case 2:t.code=63000002,t.message="zpush manual kickout",t.name="MANUAL_KICKOUT";break;case 3:t.code=63000003,t.message="kickout reason = "+e;break;case 4:t.code=63000001,t.message="zpush multiple login kickout",t.name="MULTIPLE_LOGIN_KICKOUT";break;default:t.code=e,t.message="kickout reason = "+e}return t},e.dataReportEvent=function(e,t,r,o,n){switch(r){case"eventStart":e.eventStart(t,o);break;case"eventEndWithMsgInfo":e.eventEndWithMsgInfo(t,o,n[0]);break;case"addEventMsg":e.addEventMsg(t,o,n[0],n[1]);break;case"addEvent":e.addEvent(t,o);break;case"eventEnd":e.eventEnd(t,o);break;case"addMsgInfo":e.addMsgInfo(t,n[0])}},e.isKeepTryLogin=function(e){switch(e){case 1002:case 1003:return!0;default:return!1}},e.mergeStreamList=function(e,t,r,o){var n,i=[],a=[],s=[];r||(r=[]);for(var l=0;l<r.length;l++)if(r[l].anchor_id_name!=e&&r[l].user_id!=e){n=!1;for(var c=0;c<t.length;c++)if(r[l].stream_id===t[c].stream_id){r[l].extra_info!==t[c].extra_info&&s.push(r[l]),n=!0;break}n||i.push(r[l])}for(var u=0;u<t.length;u++){n=!1;for(var d=0;d<r.length;d++)if(t[u].stream_id===r[d].stream_id){n=!0;break}n||a.push(t[u])}for(t.splice(0),l=0;l<r.length;l++)t.push(r[l]);o(i,a,s)},e.checkInteger=function(e,t){return 0==t?"number"==typeof e&&e%1==0&&e>=0:"number"==typeof e&&e%1==0&&e>0},e.checkValidNumber=function(e,t,r){return t=t||1,r=r||1e4,"number"==typeof e&&e%1==0&&e>=t&&e<=r},e.uuid=function(e,t){var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];if(t=t||o.length,e)for(r=0;r<e;r++)n[r]=o[0|Math.random()*t];else{var i=void 0;for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",r=0;r<36;r++)n[r]||(i=0|16*Math.random(),n[r]=o[19==r?3&i|8:i])}return n.join("")},e.supportDetection=function(e,t,r,i){return o(this,void 0,void 0,(function(){var o,a,s,l,c,u,d,p;return n(this,(function(n){switch(n.label){case 0:return o={webRTC:!1,customCapture:!1,camera:!1,microphone:!1,videoCodec:{H264:!1,H265:!1,VP8:!1,VP9:!1},screenSharing:e,errInfo:{}},i&&"screenSharing"===i?(t({result:e,errInfo:o.errInfo}),[2]):i&&"customCapture"!==i||(((a=document.createElement("video")).captureStream||a.mozCaptureStream)&&(o.customCapture=!0),"customCapture"!==i)?(s=navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,l="https:"!==window.location.protocol&&"file:"!==window.location.protocol&&-1==window.location.hostname.indexOf("127.0.0.1")&&-1==window.location.hostname.indexOf("localhost"),i&&"camera"!==i&&"microphone"!==i?[3,9]:s?l?(o.camera=!1,console.error("webrtc requires https or localhost"),[3,9]):[3,1]:[3,9]):(t({result:o.customCapture,errInfo:o.errInfo}),[2]);case 1:if(i&&"camera"!==i)return[3,5];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,navigator.mediaDevices.getUserMedia({video:!0})];case 3:return(c=n.sent())&&(o.camera=!0)&&c.getTracks().forEach((function(e){return e.stop()})),[3,5];case 4:return u=n.sent(),o.errInfo.camera={name:u.name,message:u.message},console.error("camera devices detect error: ",u.name,u.message),[3,5];case 5:if(i&&"microphone"!==i)return[3,9];n.label=6;case 6:return n.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!0})];case 7:return(d=n.sent())&&(o.microphone=!0)&&d.getTracks().forEach((function(e){return e.stop()})),[3,9];case 8:return p=n.sent(),o.errInfo.microphone={name:p.name,message:p.message},console.error("microphone devices detect error: ",p.name,p.message),[3,9];case 9:return"camera"===i||"microphone"===i?(t({result:o[i],errInfo:o.errInfo}),[2]):(this.supportVideoCodeType((function(e,r){i||(o.videoCodec.H264=e.H264,o.videoCodec.H265=e.H265,o.videoCodec.VP8=e.VP8,o.videoCodec.VP9=e.VP9,o.webRTC=e.webRTC),r&&("string"==typeof r?o.errInfo.extendedDate=r:o.errInfo.webRTC={name:r.name,message:r.message},console.error("videoCodec detect error: "+r)),t&&t(i?{result:e[i],errInfo:o.errInfo}:o)}),r,i),[2])}}))}))},e.getDevices=function(e,t){void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((function(t){for(var r=[],o=[],n=[],i=0;i<t.length;i++){var a=t[i];"audioinput"===a.kind&&r.push({deviceName:a.label,deviceID:a.deviceId}),"audiooutput"===a.kind&&o.push({deviceName:a.label,deviceID:a.deviceId}),"videoinput"===a.kind&&n.push({deviceName:a.label,deviceID:a.deviceId})}e&&e({microphones:r,speakers:o,cameras:n})})).catch((function(e){console.error("enumerate devices wrong "+e),t&&t(a.ZegoRTCLogEvent.kZegoTaskEnumDevices.error.kEnumDevicesError)})):t&&t(a.ZegoRTCLogEvent.kZegoTaskEnumDevices.error.kBrowserNotSupportError)},e.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var o=0;o<r;o++){var n=parseInt(e[o]),i=parseInt(t[o]);if(n>i)return 1;if(n<i)return-1}return 0},e.isSupportLive=function(e,t){var r="当前微信版本过低，无法使用相关组件",o="需要摄像头和录音功能的授权",n=wx.getSystemInfoSync().SDKVersion,i={code:0,msg:""};this.compareVersion(n,"1.7.0")<0&&(i={code:10001,msg:r},e&&e(i)),wx.getSetting({success:function(t){var r=t.authSetting;r["scope.camera"]&&r["scope.record"]||(i={code:10002,msg:o}),e&&e(i)},fail:function(e){console.error("get setting error",e),t&&t(e)}})},e.supportVideoCodeType=function(e,t,r){return o(this,void 0,void 0,(function(){var o,i,a,l,c,u,d,p,h,f;return n(this,(function(n){switch(n.label){case 0:return o={webRTC:!1,H264:!1,VP8:!1,VP9:!1,H265:!1},r?1!==t||"VP8"!==r&&"H264"!==r?[3,2]:[4,(f=new s.CheckModule).checkSupportByType(r)]:[3,2];case 1:return"boolean"==typeof(i=n.sent())?(o[r]=i,[2,e(o)]):(o[r]=!1,[2,e(o,i)]);case 2:if("webRTC"!==r&&1!==t)return[3,7];n.label=3;case 3:return n.trys.push([3,5,,6]),[4,(new RTCPeerConnection).createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 4:return n.sent(),o.webRTC=!0,[3,6];case 5:return a=n.sent(),e&&e(o,a),[3,6];case 6:if("webRTC"===r)return[2,e(o)];n.label=7;case 7:if(1===t){for(l="",u=[],d=0,p=c=["VP8","H264"];d<p.length;d++)h=p[d],f=new s.CheckModule,u.push(f.checkSupportByType(h));return Promise.all(u).then((function(t){t.forEach((function(e,t){"boolean"==typeof e?o[c[t]]=!0:(o[c[t]]=!1,l=e)})),l?e(o,l):e(o)})),[2]}try{(new RTCPeerConnection).createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((function(t){if(o.webRTC=!0,t&&t.sdp){var n=t.sdp.split("\r\n");if(o.H264=n.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("H264/")>-1})),"H264"===r)return e(o);if(o.VP8=n.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("VP8/")>-1})),"VP8"===r)return e(o);o.VP9=n.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("VP9/")>-1})),o.H265=n.some((function(e){return e.startsWith("a=rtpmap:")&&e.indexOf("H265/")>-1})),e&&e(o)}}))}catch(t){e&&e(o,t)}return[2]}}))}))},e.inlineWorker=function(e){if(Worker&&e){var t=e.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],r=URL.createObjectURL(new window.Blob([t],{type:"text/javascript"}));return new Worker(r)}return null},e.getBrowser=function(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),r=-1!=e.indexOf("Firefox"),o=null!=window.opr,n=e.indexOf("Chrome")&&window.chrome,i=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version");return t?"IE":r?"Firefox":o?"Opera":n?"Chrome":i?"Safari":"Unkown"},e.getPublisherStateType=function(e){return 0==e||1==e?0==e?"PUBLISHING":"NO_PUBLISH":"PUBLISH_REQUESTING"},e.getPlayerStateType=function(e){return 0==e||1==e?0==e?"PLAYING":"NO_PLAY":"PLAY_REQUESTING"},e.getSteamUpdateType=function(e){return 0==e?"DELETE":"ADD"},e.checkScreenParams=function(t,r){if("object"==typeof t&&void 0!==t.videoQuality&&!e.checkInteger(t.videoQuality))return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," videoQuality must be integer number"),!1;if("object"==typeof t&&4===t.videoQuality){if(void 0===t.bitRate)return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate is required when videoQuality is 4"),!1;if(!e.checkInteger(t.bitRate))return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be integer number"),!1;if(t.bitRate>10240)return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate cannot greater than 10 Mbps"),!1;if(void 0===t.frameRate)return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," frameRate is required when videoQuality is 4"),!1;if(!e.checkInteger(t.frameRate))return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," frameRate must be integer number"),!1;if(void 0===t.width)return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," width is required when videoQuality is 4"),!1;if(!e.checkInteger(t.width))return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," width must be integer number"),!1;if(void 0===t.height)return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," height is required when videoQuality is 4"),!1;if(!e.checkInteger(t.height))return r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," height must be integer number"),!1}return!0},e.checkCameraParams=function(t,r){return t.width&&e.checkValidNumber(t.width)?t.height&&e.checkValidNumber(t.height)?t.frameRate&&e.checkValidNumber(t.frameRate)?!(!t.bitRate||!e.checkValidNumber(t.bitRate))||(r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be integer number"),!1):(r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," frameRate must be integer number"),!1):(r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," height must be integer number"),!1):(r(a.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," width must be integer number"),!1)},e.isParamEmpty=function(e){return null!=e&&""!==e},e.isTypeString=function(e){return"string"==typeof e},e.isTooLong=function(e,t){return!(e.length>=t)},e.isReDispatch=function(e){var t=e.message.match(/action:(\d+)/),r=t?Number(t[1]):NaN;return[a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kTTLOverTimeError,a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kClientIPChangedError,a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kTTLOverTimeError,a.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kClientIPChangedError].includes(e)||[6].includes(r)},e.arrAvg=function(e,t,r){return e.push(t),e.length>r&&e.shift(),e.reduce((function(e,t){return e+t}))/e.length},e.getNetQuality=function(e,t,r){return void 0!==r?.15*this.calcQualityOfJitter(r)+.85*Math.min(this.calcQualityOfRtt(e),this.calcQualityOfLostRate(t,!1)):Math.min(this.calcQualityOfRtt(e),this.calcQualityOfLostRate(t,!0))},e.calcQualityOfRtt=function(e){return e<600?97-Math.pow(.09*e,1.1):18*Math.exp(.002*(600-e))},e.calcQualityOfJitter=function(e){return e<=50?98-Math.pow(e,1.15):i.QUALITY_CONSTANT.PoorMinQuality},e.calcQualityOfLostRate=function(e,t){if(t){var r=e;return r<=55?99-Math.pow(.8*r,1.18):i.QUALITY_CONSTANT.PoorMinQuality}var o=100*e;return o<=40?96-Math.pow(o,1.22):i.QUALITY_CONSTANT.PoorMinQuality},e.quality2QualityGrade=function(e){return i.QualityGrade.Unknown,e>=i.QUALITY_CONSTANT.ExcellentMinQuality?i.QualityGrade.Excellent:e>=i.QUALITY_CONSTANT.GoodMinQuality?i.QualityGrade.Good:e>=i.QUALITY_CONSTANT.MiddleMinQuality?i.QualityGrade.Middle:e>=i.QUALITY_CONSTANT.PoorMinQuality?i.QualityGrade.Poor:i.QualityGrade.Die},e}();t.ClientUtil=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodeList=t.innerErrList=void 0,t.innerErrList={SUCCESS:{code:0,message:""},SEND_MSG_TIMEOUT:{code:"Error.Timeout",message:"send custom message timeout."}},t.errorCodeList={NOT_LOGIN:{code:1000002,message:"not login room"},STREAMID_TOO_LONG:{code:1000014,message:"stream ID is too long"},STREAM_ID_NULL:{code:1000015,message:"streamID is empty"},STREAM_ID_INVALID_CHARACTER:{code:1000016,message:"stream ID contains illegal characters"},NETWORK_BROKEN:{code:1000017,message:"network is broken"},LOCALSTREAM_WRONG:{code:1000018,message:"local stream wrong"},GET_SOUND_LEVEL_FAIL:{code:1000019,message:"get sound level error"},INPUT_PARAM:{code:1100001,message:"input param error."},TIMEOUT:{code:1100002,message:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},UNKNOWN_SERVER_ERROR:{code:1100999,message:"unknown server error"},INIT_SDK_WRONG:{code:1101e3,message:"init sdk wrong"},WX_GET_SETTING_FAIL:{code:1101001,message:"wx get setting fail"},USER_ID_NULL:{code:1002005,message:"user ID is empty"},USER_ID_INVALID_CHARACTER:{code:1002006,message:"user ID contains illegal characters"},USER_ID_TOO_LONG:{code:1002007,message:"user ID is too long"},USER_NAME_NULL:{code:1002008,message:"username is empty"},USER_NAME_TOO_LONG:{code:1002010,message:"username is too long"},ROOM_ID_NULL:{code:1002011,message:"room ID is empty"},ROOM_ID_INVALID_CHARACTER:{code:1002012,message:"room ID contains illegal characters"},ROOM_ID_TOO_LONG:{code:1002013,message:"room ID is too long"},LOGIN_TIMEOUT:{code:1002031,message:"login timeout"},ROOM_MAX_USER_COUNT:{code:1002034,message:"users logging into the room exceeds the maximum number"},MULTIPLE_LOGIN_KICKOUT:{code:1002050,message:"kickout may be the same user ID login other"},ROOM_RETRY_TIMEOUT:{code:1002053,message:"network is broken and login fail."},MANUAL_KICKOUT:{code:1002055,message:"server has sent a signal to kick out"},ROOM_INNER_ERROR:{code:1002099,message:"room inner error"},HEARTBEAT_TIMEOUT:{code:1102001,message:"heartbeat timeout."},PARSE_JSON_ERROR:{code:1102011,message:"parse json error."},LOGIN_PROCESSING:{code:1102012,message:"login is processing."},LIVEROOM_REQUEST_ERROR:{code:1102013,message:"liveroom request error."},ZPUSH_REQUEST_FAIL:{code:1102014,message:"zpush request fail."},LOGIN_STATE_WRONG:{code:1102015,message:"user login state is wrong."},TOKEN_ERROR:{code:1102016,message:"token error"},DISPATCH_ERROR:{code:1102017,message:"dispatch error"},TOKEN_EXPIRED:{code:1102018,message:"token expired"},SUBCMD_ERROR:{code:1102019,message:"subcmd error."},ZEGO_AUTH_ERROR:{code:1102020,message:"zego auth error."},BIZ_CHANNEL_ERROR:{code:1102021,message:"biz channel error."},DISPATCH_TIMEOUT:{code:1102022,message:"dispatch request timeout"},CONNECT_FAILED:{code:1102023,message:"connect signal fail"},INVALID_CHANNEL:{code:1102024,message:"invalid channel"},PUBLISHER_MEDIA_SERVER_FORBID:{code:1003025,message:"stream is forbided by media server"},PUBLISHER_EXTRA_INFO_NULL:{code:1003050,message:"extra info of publishing stream is null"},PUBLISHER_EXTRA_INFO_TOO_LONG:{code:1003051,message:"stream extra info is too long"},PUBLISHER_PARAM:{code:1103001,message:"input param error"},PUBLISHER_BROWSER_NOT_SUPPORT:{code:1103002,message:"browser do not support"},PUBLISHER_DISPATCH_FAIL:{code:1103003,message:"dispatch request error"},PUBLISHER_SCREEN_FAILED:{code:1103010,message:"screen fail"},ENUMERATE_DEVICES_FAIL:{code:1103011,message:"enumerate devices fail"},PUBLISHER_DISPATCH_REQUEST_FAIL:{code:1103020,message:"dispatch request fail"},PUBLISHER_SESSION_REQUEST_FAIL:{code:1103021,message:"session request fail"},PUBLISHER_CREATE_OFFER_ERROR:{code:1103022,message:"create offer error"},PUBLISHER_SET_LOCAL_DESC_ERROR:{code:1103023,message:"setLocalDescription error"},PUBLISHER_MEDIA_DESC_ERROR:{code:1103024,message:"mediaDesc error"},PUBLISHER_SET_REMOTE_DESC_ERROR:{code:1103025,message:"other side offer error"},PUBLISHER_CANDIDATE_ERROR:{code:1103026,message:"candidate error"},PUBLISHER_SESSION_CLOSED:{code:1103027,message:"server session closed"},PUBLISHER_MEDIA_CONNECTION_ERROR:{code:1103028,message:"ice connection error"},PUBLISHER_CONSTRAINTS_ERROR:{code:1103029,message:"constraint error"},PUBLISHER_SERVER_NEGO_TIMEOUT:{code:1103030,message:"negotiation timeout"},PUBLISH_NOT_PUBLISH:{code:1103040,message:"publisher not found"},PUBLISH_DEVICE_OUT_ERR:{code:1103041,message:"device change "},PUBLISH_SCREEN_CANCELED:{code:1103042,message:"screen canceled"},PUBLISH_SCREEN_NOT_SUPPORT:{code:1103043,message:"screen not support"},PUBLISH_NO_PREVIEW:{code:1103044,message:"stream is not from zego"},VIDEO_DEVICE_FALSE:{code:1103045,message:"video is false"},AUDIO_DEVICE_FALSE:{code:1103046,message:"audio is false"},TRACK_NOT_FOUND:{code:1103047,message:"track is not found"},DEVICE_NOT_FOUND:{code:1103048,message:"device is not found"},REPEATED_PULL:{code:1103049,message:"repeated pull same stream"},PUBLISHER_WEBSOCKET_DISCONNECTED:{code:1103050,message:"websocket disconnected"},PUBLISHER_RETRY_TIMEOUT:{code:1103051,message:"publisher retry timeout"},PUBLISHER_CDN_PUSH_ERROR:{code:1103052,message:"publisher cdn push error"},PUBLISHER_HTTPS_REQUIRED:{code:1103053,message:"https is required"},PUBLISHER_NO_PREVIEW:{code:1103054,message:"no preview"},PUBLISHER_STREAM_NO_FOUND:{code:1103055,message:"publish stream no found"},PUBLISHER_IS_PUBLISHING:{code:1103056,message:"publish is publishing"},PUBLISHER_DECODE_AUDIO_FAIL:{code:1103057,message:"decode audio data fail"},PUBLISHER_CLIENT_IP_CHANGED:{code:1103058,message:"client ip changed"},PUBLISHER_TTL_OVERTIME:{code:1103059,message:"ttl over time"},PUBLISHER_SESSION_TIMEOUT:{code:1103060,message:"session request timeout"},PUBLISHER_GET_USER_MEDIA_FAIL:{code:1103061,message:"get media fail"},PUBLISHER_UPDATE_STREAM_INFO_FAIL:{code:1103062,message:"update stream info fail"},PUBLISH_TARGET_NO_RESPONSE:{code:1103063,message:"publish target no response"},PLAYER_PARAM:{code:1104001,message:"input parm error"},PLAYER_DISPATCH_REQUEST_FAIL:{code:1104020,message:"dispatch request fail"},PLAYER_SESSION_REQUEST_FAIL:{code:1104021,message:"session request fail"},PLAYER_CREATE_OFFER_ERROR:{code:1104022,message:"create offer error"},PLAYER_SET_LOCAL_DESC_ERROR:{code:1104023,message:"setLocalDescription error"},PLAYER_MEDIA_DESC_ERROR:{code:1104024,message:"mediaDesc error"},PLAYER_SET_REMOTE_DESC_ERROR:{code:1104025,message:"other side offer error"},PLAYER_CANDIDATE_ERROR:{code:1104026,message:"candidate error"},PLAYER_SESSION_CLOSED:{code:1104027,message:"server session closed"},PLAYER_MEDIA_CONNECTION_ERROR:{code:1104028,message:"ice connection error"},PLAYER_WEBSOCKET_DISCONNECTED:{code:1104029,message:"websocket disconnected"},PLAYER_SERVER_NEGO_TIMEOUT:{code:1104030,message:"negotiation timeout"},PLAYER_RETRY_TIMEOUT:{code:1104031,message:"player retry timeout"},PLAYER_IS_PLAYING:{code:1104032,message:"player is playing"},PLAYER_CLIENT_IP_CHANGED:{code:1104033,message:"client ip changed"},PLAYER_TTL_OVERTIME:{code:1104034,message:"ttl is over time"},PLAYER_SESSION_RESET:{code:1104035,message:"reset session push"},PLAYER_SESSION_TIMEOUT:{code:1104036,message:"session request timeout"},PLAYER_PROBE_TIMEOUT:{code:1104037,message:"probe time out"},PLAYER_UNSUPPORTED_PROTOCOL:{code:1104038,message:"resource mode is not supported"},MIXER_NO_SERVICES:{code:1005e3,message:"no mix stream service"},MIXER_TASK_ID_NULL:{code:1005001,message:"mixer task is null"},MIXER_TASK_ID_TOO_LONG:{code:1005002,message:"task ID is too long"},MIXER_TASK_ID_INVALID_CHARACTER:{code:1005003,message:"task ID contains illegal characters"},MIXER_NO_OUTPUT_TARGET:{code:1005005,message:"task configuration does not specify output"},MIXER_OUTPUT_TARGET_INVALID:{code:1005006,message:"stream output target is incorrect"},MIXER_START_REQUEST_ERROR:{code:1005010,message:"start mixer task fail, possibly due to network reasons"},MIXER_STOP_REQUEST_ERROR:{code:1005011,message:"stop mixer task fail, possibly due to network reasons"},MIXER_NOT_OWNER_STOP_MIXER:{code:1005012,message:" maxed task must be stopped by the start user of the task"},MIXER_INPUTLIST_NULL:{code:1005020,message:"Mixed stream task input list is null"},MIXER_OUTPUTLIST_NULL:{code:1005021,message:"Mixed stream task output list is null"},MIXER_VIDEO_CONFIG_INVALID:{code:1005023,message:"invalid mixed stream task video configuration"},MIXER_EXCEED_MAX_INPUT_COUNT:{code:1005025,message:"more than the maximum number of input streams"},MIXER_INPUT_STREAM_NOT_EXISTS:{code:1005026,message:"Input stream does not exist"},MIXER_INPUT_PARAMETERS_ERROR:{code:1005027,message:"mix stream input parameters are wrong"},MIXER_EXCEED_MAX_OUTPUT_COUNT:{code:1005030,message:"more than the maximum number of output streams"},MIXER_AUTHENTICATION_FAILED:{code:1005050,message:"mixed stream authentication failed"},MIXER_WATERMARK_NULL:{code:1005061,mag:"input watermark is null"},MIXER_WATERMARK_PARAMETERS_ERROR:{code:1005062,message:"input watermark parameter is wrong"},MIXER_WATERMARK_URL_INVALID:{code:1005063,message:"illegal input watermark URL"},MIXER_BACKGROUND_IMAGE_URL_INVALID:{code:1005067,message:"illegal input background image URL"},MIXER_REPEAT_INPUT:{code:1005099,message:"mix stream input repeat"},MIXER_INNER_ERROR:{code:1005099,message:"mixer internal error"},DEVICE_ERROR_TYPE_UNPLUGGED:{code:1006006,message:"the device is unplugged"},IM_CONTENT_NULL:{code:1009001,message:"message content is empty"},IM_CONTENT_TOO_LONG:{code:1009002,message:"message content is too long"},IM_SEND_FAILED:{code:1009010,message:"failed to send message"},FREQ_LIMITED:{code:1109001,message:"frequency limited."}}},function(e,t,r){"use strict";var o=this&&this.__spreadArray||function(e,t){for(var r=0,o=t.length,n=e.length;r<o;r++,n++)e[n]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.SdpUtil=void 0;var n=function(){function e(){}return e.zegoSdp=function(e){var t=e.split("\r\n"),r=[],n=[];t.forEach((function(e){var t=e.match(/a=rtpmap:(\d+)\s+((H264\/90000)|(opus\/48000\/2))/);t&&t[1]&&t[2]&&("H264/90000"===t[2]&&r.push(t[1]),"opus/48000/2"===t[2]&&n.push(t[1]))}));var i=[];return t.map((function(e){var t=!0,a=e.match(/((a=rtcp-fb:)|(a=rtpmap:)|(a=fmtp:))(\d+)/);if(a&&a[5]&&(o(o([],r),n).some((function(e){return e==a[5]}))||(t=!1)),e.indexOf("m=video")>-1){var s=e.split(" ");e=o([s[0],s[1],s[2]],r).join(" ")}else e.indexOf("m=audio")>-1&&(s=e.split(" "),e=o([s[0],s[1],s[2]],n).join(" "));t&&i.push(e)})),i.join("\r\n")},e.getSDPByVideDecodeType=function(e,t){var r={str:"",arr:[],obj:{H264:[],H265:[],VP8:[],VP9:[],OHTER:[]}};if(!e.includes("m=video"))return e;var n=/m=video.+/.exec(e)[0];n=n.match(/[\s|\d]+/g)[1].replace(" ",""),r.str=n,r.arr=r.str.split(" "),r.arr.forEach((function(t){var o=new RegExp("a=rtpmap:"+t+".+").exec(e)[0];o.includes("H264")?r.obj.H264.push(t):o.includes("H265")?r.obj.H265.push(t):o.includes("VP8")?r.obj.VP8.push(t):o.includes("VP9")?r.obj.VP9.push(t):r.obj.OHTER.push(t)})),r.obj.OHTER.forEach((function(t){var o=new RegExp("a=fmtp:"+t+".+apt=(\\d+)").exec(e),n=o&&o[1];n&&(r.obj.H264.includes(n)?r.obj.H264.push(t):r.obj.H265.includes(n)?r.obj.H265.push(t):r.obj.VP8.includes(n)?r.obj.VP8.push(t):r.obj.VP9.includes(n)&&r.obj.VP9.push(t))}));var i=[];return"VP9"===t?i=o(o(o([],r.obj.H265),r.obj.H264),r.obj.VP8):"VP8"===t?i=o(o(o([],r.obj.H265),r.obj.H264),r.obj.VP9):"H264"===t?i=o(o(o([],r.obj.H265),r.obj.VP8),r.obj.VP9):"H265"===t&&(i=o(o(o([],r.obj.VP8),r.obj.H264),r.obj.VP9)),i.forEach((function(t){var o=r.arr.indexOf(t);r.arr.splice(o,1);var n=new RegExp("a=rtpmap:"+t+".+\\s\\n","g"),i=new RegExp("a=rtcp-fb:"+t+".+\\s\\n","g"),a=new RegExp("a=fmtp:"+t+".+\\s\\n","g");e=(e=(e=e.replace(n,"")).replace(i,"")).replace(a,"")})),e=e.replace(n,r.arr.join(" "))},e}();t.SdpUtil=n},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoWebRTC=void 0;var n=r(0),i=r(3),a=r(13),s=r(14),l=r(2),c=r(1),u=r(15),d=r(21),p=r(4),h=function(){function e(e,t,r,o){void 0===o&&(o=0),this.mediaEleSources=[],this.logger=e,this.dataReport=t,this.ac=new("undefined"!=typeof webkitAudioContext?webkitAudioContext:AudioContext),this.stateCenter=new a.StateCenter(this.logger,this.dataReport),this.stateCenter.clientType="webrtc",this.stateCenter.type=2===o?"PRIVATE":"PUBLIC",this.RTM=r,this.streamCenter=new d.ZegoStreamCenterWeb(this.logger,this.stateCenter,this.dataReport,this.RTM,this.ac,this.mediaEleSources),this.rtcModules=new u.RTCModules(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.RTM,this.ac),this.stateCenter.networkState=navigator?navigator.onLine?n.ENUM_NETWORK_STATE.online:n.ENUM_NETWORK_STATE.offline:n.ENUM_NETWORK_STATE.online}return e.prototype.mutePublishStreamVideo=function(e,t,r){this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+" call");var o=n.getReportSeq();if(this.dataReport.newReport(o,c.ZegoRTCLogEvent.kZegoTaskMutePublishVideo),"boolean"!=typeof t||void 0!==r&&"boolean"!=typeof r)return this.logger.error(l.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+" option error"),!1;var i=this.rtcModules.advancedModule.enableStream(e,{video:!t,retain:r});return this.dataReport.uploadReport(o),this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_VIDEO+" end"),i},e.prototype.mutePublishStreamAudio=function(e,t){this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+" call");var r=n.getReportSeq();if(this.dataReport.newReport(r,c.ZegoRTCLogEvent.kZegoTaskMutePublishAudio),"boolean"!=typeof t)return this.logger.error(l.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+" option error"),!1;var o=this.rtcModules.advancedModule.enableStream(e,{audio:!t});return this.dataReport.uploadReport(r),this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PUBLISH_STREAM_AUDIO+" end"),o},e.prototype.mutePlayStreamVideo=function(e,t){this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_VIDEO+" call "+e+" "+t);var r=n.getReportSeq();this.dataReport.newReport(r,c.ZegoRTCLogEvent.kZegoTaskMutePlayVideo);var o=this.rtcModules.playModule.mutePlayStream(e,"video",t);return this.dataReport.uploadReport(r),this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_VIDEO+" end"),o},e.prototype.mutePlayStreamAudio=function(e,t){this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_AUDIO+" call "+e+" "+t);var r=n.getReportSeq();this.dataReport.newReport(r,c.ZegoRTCLogEvent.kZegoTaskMutePlayAudio);var o=this.rtcModules.playModule.mutePlayStream(e,"audio",t);return this.dataReport.uploadReport(r),this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_PLAY_STREAM_AUDIO+"end"),o},e.prototype.muteMicrophone=function(e){this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_MIC+" call");var t=n.getReportSeq();if(this.dataReport.newReport(t,c.ZegoRTCLogEvent.kZegoTaskMuteMicrophone),"boolean"!=typeof e)return this.logger.error(l.ZEGO_WEBRTC_ACTION.MUTE_MIC+" option error"),!1;var r=this.rtcModules.advancedModule.enableMicrophoneOnly(!e);return this.dataReport.uploadReport(t),this.logger.info(l.ZEGO_WEBRTC_ACTION.MUTE_MIC+" end"),r},e.prototype.isMicrophoneMuted=function(){return!this.streamCenter.isMicEnabled},e.prototype.setAudioOutput=function(e,t){return this.logger.info(l.ZEGO_WEBRTC_ACTION.SET_AUDIO_OUTPUT+" call"),"string"!=typeof t?(this.logger.error("audiooutput is not string"),!1):this.rtcModules.playModule.setStreamAudioOutput(e,t)},e.prototype.setCustomSignalUrl=function(e){if(this.logger.info(l.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+" call: "+e),e&&0!=e.length){var t=!0;e.forEach((function(e){return 0!=e.indexOf("wss://")&&(t=!1)})),t?this.stateCenter.customUrl=e:this.logger.error(l.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+" url is not correct")}else this.logger.error(l.ZEGO_WEBRTC_ACTION.SET_CUSTOM_SIGNAL_URL+" param error")},e.prototype.setQualityMonitorCycle=function(e){return"number"==typeof e&&e>=1e3?(this.streamCenter.setQualityMonitorCycle(e),!0):(this.logger.error("zc.sqmc.0 time must be number and bigger than 1000"),!1)},e.prototype.startPlayingStream=function(e,t){return this.logger.info(l.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+" call by user"),this.rtcModules.playModule.startPlayingStream(e,t)},e.prototype.stopPlayingStream=function(e){this.logger.info(l.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" call by user"),this.rtcModules.playModule.stopPlayingStream(e)},e.prototype.setTurnOverTcpOnly=function(e){this.logger.info(l.ZEGO_WEBRTC_ACTION.SET_TURN_OVER_TCP_ONLY+" call "+e),"boolean"==typeof e?this.stateCenter.turnOverTcpOnly=e:this.logger.error("zc.p.stoto.0 param must be param")},e.prototype.createStream=function(e){return this.rtcModules.publishModule.createStream(e)},e.prototype.destroyStream=function(e){this.rtcModules.publishModule.destroyStream(e)},e.prototype.startPublishingStream=function(e,t,r){return this.logger.info(l.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" call by user"),this.rtcModules.publishModule.startPublishingStream(e,t,r)},e.prototype.activateSEIInsert=function(e){var t=e.stream,r=e.action,o=e.infoType;return this.rtcModules.publishModule.activateSEIInsert(t,r,o)},e.prototype.stopPublishingStream=function(e){return this.logger.info(l.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+" call by user"),this.rtcModules.publishModule.stopPublishingStream(e)},e.prototype.setVideoConfig=function(e,t){return this.rtcModules.advancedModule.setVideoConfig(e,t)},e.prototype.setAudioConfig=function(e,t){return this.rtcModules.advancedModule.setAudioConfig(e,t)},e.prototype.replaceTrack=function(e,t){return this.rtcModules.advancedModule.replaceTrack(e,t)},e.prototype.preloadEffect=function(e,t,r){this.rtcModules.audioMixModule.preloadEffect(e,t,r)},e.prototype.playEffect=function(e,t,r){this.rtcModules.audioMixModule.playEffect(e,t,r)},e.prototype.pauseEffect=function(e,t){return this.rtcModules.audioMixModule.pauseEffect(e,t)},e.prototype.resumeEffect=function(e,t){return this.rtcModules.audioMixModule.resumeEffect(e,t)},e.prototype.stopEffect=function(e,t){return this.rtcModules.audioMixModule.stopEffect(e,t)},e.prototype.unloadEffect=function(e){return this.rtcModules.audioMixModule.unloadEffect(e)},e.prototype.setEffectVolume=function(e,t,r){return this.rtcModules.audioMixModule.setEffectVolume(e,t,r)},e.prototype.startMixingAudio=function(e,t){return this.rtcModules.audioMixModule.startMixingAudio(e,t)},e.prototype.stopMixingAudio=function(e,t){return this.rtcModules.audioMixModule.stopMixingAudio(e,t)},e.prototype.mixingBuffer=function(e,t,r,o){this.rtcModules.audioMixModule.mixingBuffer(e,t,r,o)},e.prototype.stopMixingBuffer=function(e,t){return this.rtcModules.audioMixModule.stopMixingBuffer(e,t)},e.prototype.setMixingAudioVolume=function(e,t,r){return this.rtcModules.audioMixModule.setMixingAudioVolume(e,t,r)},e.prototype.checkSystemRequirements=function(t,r){var o=this,a=navigator&&navigator.mediaDevices&&(e.screenShotReady||"getDisplayMedia"in navigator.mediaDevices);return this.logger.info(l.ZEGO_WEBRTC_ACTION.CHECK_SUPPORT+" call"+navigator.userAgent),new Promise((function(e){var s=n.getReportSeq();o.dataReport.newReport(s,c.ZegoRTCLogEvent.kZegoTaskCheckSystemRequirements.event);var l=r||"all",u=function(t){o.dataReport.addMsgInfo(s,{capability:c.ZegoRTCLogEvent.kZegoTaskCheckSystemRequirements.capability(t)}),o.dataReport.uploadReport(s);var r=o.stateCenter.checkList.indexOf(l);o.stateCenter.checkList.splice(r,1),e(t)};return["webRTC","customCapture","camera","microphone","screenSharing","H264","VP8","all"].includes(l)&&[0,1].includes(t)?o.stateCenter.checkList.includes(l)||o.stateCenter.checkList.includes("all")?u({result:!1,errInfo:{extendedDate:"The last test of the same type has not returned a result "}}):(o.stateCenter.checkList.push(l),void i.ClientUtil.supportDetection(a,u,t,r)):u({result:!1,errInfo:{extendedDate:"param error"}})}))},e.prototype.enumDevices=function(){var e=this;return this.logger.info("zc.ed.0 call"),new Promise((function(t,r){var o=n.getReportSeq();e.dataReport.newReport(o,c.ZegoRTCLogEvent.kZegoTaskEnumDevices.event),i.ClientUtil.getDevices((function(r){var n=[];r.cameras.forEach((function(e){return n.push({device:e.deviceName,type:0})})),r.microphones.forEach((function(e){return n.push({device:e.deviceName,type:1})})),r.speakers.forEach((function(e){return n.push({device:e.deviceName,type:2})})),e.dataReport.addMsgInfo(o,{dev_list:c.ZegoRTCLogEvent.kZegoTaskEnumDevices.dev_list(n)}),e.dataReport.uploadReport(o),t(r)}),(function(t){e.dataReport.addMsgInfo(o,t),e.dataReport.uploadReport(o),r(t)}))}))},e.prototype.getAudioInfo=function(e,t,r){if(!e)return this.logger.error("loclStream is empty!"),!1;var n=o({},r);return new s.MediaUtil(this.ac,n).connectToSource(e,(function(e){t(e)}))},e.prototype.getSoundLevel=function(e,t,r){this.rtcModules.audioMixModule.getSoundLevel(e,t,r)},e.prototype.stopSoundLevel=function(e){this.logger.info("zc.ssl call");var t=n.getReportSeq();this.dataReport.newReport(t,c.ZegoRTCLogEvent.kZegoTaskStopSoundLevel);var r=this.stateCenter.audioStreamList[e.id];r.mic.disconnect(),r.script.disconnect(),delete this.stateCenter.audioStreamList[e.id],this.dataReport.uploadReport(t)},e.handleDataAvailable=function(t){t.data&&t.data.size>0&&e.recordedBlobs.push(t.data)},e.prototype.startRecord=function(t){var r=this,o=t.captureStream();e.recordedBlobs=[];var i={mimeType:"video/webm;codecs=vp9"};n.MediaRecorder.isTypeSupported(i.mimeType)||(i={mimeType:"video/webm;codecs=vp8"},n.MediaRecorder.isTypeSupported(i.mimeType)||(i={mimeType:"video/webm"},n.MediaRecorder.isTypeSupported(i.mimeType)||(i={mimeType:""})));try{e.mediaRecorder=new n.MediaRecorder(o,i)}catch(e){return void this.logger.error("Exception while creating ZegoMediaRecorder:",e)}e.mediaRecorder.onstop=function(e){r.logger.warn("Recorder stopped: "+e)},e.mediaRecorder.ondataavailable=e.handleDataAvailable,e.mediaRecorder.start(10)},e.prototype.stopRecord=function(){e.mediaRecorder?e.mediaRecorder.stop():this.logger.warn("please invoke startRecord first")},e.prototype.resumeRecord=function(){e.mediaRecorder?e.mediaRecorder.resume():this.logger.warn("please invoke startRecord first")},e.prototype.pauseRecord=function(){e.mediaRecorder?e.mediaRecorder.pause():this.logger.warn("please invoke startRecord first")},e.prototype.saveRecord=function(t){if(e.mediaRecorder&&e.recordedBlobs){var r=new Blob(e.recordedBlobs,{type:"video/webm"}),o=window.URL.createObjectURL(r),n=document.createElement("a");n.style.display="none",n.href=o,n.download=t+".webm",document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)}),100)}else this.logger.warn("please invoke startRecord first")},e.prototype.takeSnapShot=function(e,t){if(e&&0!==e.videoHeight){var r=document.createElement("canvas");r.width=e.videoWidth,r.height=e.videoHeight;var o=r.getContext("2d");o&&o.drawImage(e,0,0,r.width,r.height),t.src=r.toDataURL("image/jpeg")}else this.logger.error("video can not empty")},e.prototype.saveSnapShot=function(e,t){if(e&&0!==e.videoHeight){var r=document.createElement("canvas");r.width=e.videoWidth,r.height=e.videoHeight;var o=r.getContext("2d");o&&o.drawImage(e,0,0,r.width,r.height),r.toBlob((function(e){var r=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=r,o.download=t+".jpeg",document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(r)}),100)}))}else this.logger.error("video can not empty")},e.prototype.useVideoDevice=function(e,t){return this.rtcModules.advancedModule.useVideoDevice(e,t)},e.prototype.useAudioDevice=function(e,t){return this.rtcModules.advancedModule.useAudioDevice(e,t)},e.prototype.setSoundLevelDelegate=function(e,t){this.logger.info("zc.ssd.0 call"),"boolean"==typeof e?t&&(!i.ClientUtil.checkInteger(t)||t<100||t>3e3)?this.logger.error("zc.ssd.0 soundLevel interval must be integer number which is between 100 and 3000"):this.streamCenter.setSoundLevelDelegate(e,t):this.logger.error("zc.ssd.0 param 1 must be boolean")},e.prototype.on=function(e,t){return this.rtcModules.bindListener(e,t)},e.prototype.off=function(e,t){return this.rtcModules.deleteListener(e,t)},e.prototype.getVersion=function(){return n.PROTO_VERSION},e.prototype.setStreamExtraInfo=function(e,t){var r=this;return new Promise((function(o,i){var a=n.getReportSeq();r.dataReport.newReport(a,c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.event),r.dataReport.addMsgInfo(a,{stream:c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.stream(e),stream_extra_info:c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.stream_extra_info(t)});var s=function(e,t){r.logger.error("zb.ssei "+t),r.dataReport.addMsgInfo(a,{error:e.code,message:e.message+" "+t}),r.dataReport.uploadReport(a),i({errorCode:e.code,extendedData:e.message+" "+t})};if("string"==typeof e&&""!=e)if("string"==typeof t&&""!=t)if(r.RTM.service.isDisConnect())s(c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kNoLoginError,"not login");else if(r.stateCenter.publishStreamList[e]){var l=r.streamCenter.getRoomByStreamID(e);l?(r.dataReport.addMsgInfo(a,{room_sid:c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.room_sid(l.sessionID)}),l.streamHandler.setStreamExtraInfo(e,t,o,s),r.dataReport.uploadReport(a)):s(c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kNoLoginError,"not login")}else s(c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kPublishStreamNoFoundError,"publish stream no found");else s(c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kParamError,"extraInfo must be string and no empty");else s(c.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kParamError,"streamID must be string and not empty")}))},e.prototype.addPublishCdnUrl=function(e,t){return this.logger.info("zg.cm.apu call ",e,t),this.rtcModules.advancedModule.publishTarget({type:"addpush",streamID:e,pushUrl:t})},e.prototype.removePublishCdnUrl=function(e,t){return this.logger.info("zg.cm.apu call ",e,t),this.rtcModules.advancedModule.publishTarget({type:"delpush",streamID:e,pushUrl:t})},e.prototype.startMixerTask=function(e){var t=this;return new Promise((function(r,o){var a=n.getReportSeq();if(t.dataReport.newReport(a,c.ZegoRTCLogEvent.kZegoTaskMixStart.event),i.ClientUtil.logReportCallback("kZegoTaskMixStart"+e.taskID,t.dataReport,a,t.stateCenter.reportList),!(null==e?void 0:e.inputList.find((function(r){var n=p.errorCodeList.MIXER_INPUT_PARAMETERS_ERROR;if(void 0===r.streamID||null===r.streamID){var s={errorCode:n.code,extendedData:n.message+". streamID should be of string type"};return t.dataReport.addMsgInfo(a,s),t.dataReport.uploadReport(a),i.ClientUtil.unregisterCallback("kZegoTaskMixStart"+e.taskID,t.stateCenter.reportList),o(s),!0}return!1})))){e.outputConfig&&e.outputConfig.outputFps&&(e.outputConfig.outputFPS=e.outputConfig.outputFps);var s=function(r){var n,s,l,c="",u=p.errorCodeList;r.errorCode<2e9&&r.errorCode>1e9?l=u[c=i.ClientUtil.mixServerError(r.errorCode)]:r.errorCode<1e6&&(l=i.ClientUtil.decodeServerError(r.errorCode,r.extendedData),c=i.ClientUtil.getLiveRoomError(r.errorCode)),l?t.dataReport.addMsgInfo(a,l):t.dataReport.addMsgInfo(a,r),t.dataReport.uploadReport(a),i.ClientUtil.unregisterCallback("kZegoTaskMixStart"+e.taskID,t.stateCenter.reportList),c&&(r.errorCode=null===(n=u[c])||void 0===n?void 0:n.code,r.extendedData=(null===(s=u[c])||void 0===s?void 0:s.message)||""),o(r)},l=t.stateCenter.roomList[0];l?l.streamHandler.updateMixStream(e,(function(o){t.dataReport.uploadReport(a),i.ClientUtil.unregisterCallback("kZegoTaskMixStart"+e.taskID,t.stateCenter.reportList),r(o)}),s):s({errorCode:c.ZegoRTCLogEvent.kZegoTaskMixStart.error.kNoLoginError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskMixStart.error.kNoLoginError.message})}}))},e.prototype.setMixerTaskConfig=function(e){var t=this;return new Promise((function(r,o){var a=n.getReportSeq();t.dataReport.newReport(a,c.ZegoRTCLogEvent.kZegoTaskMixConfig.event),i.ClientUtil.logReportCallback("kZegoTaskMixConfig",t.dataReport,a,t.stateCenter.reportList);var s=t.stateCenter.roomList[0];s?s.streamHandler.setMixerTaskConfig(e).then((function(e){t.dataReport.uploadReport(a),i.ClientUtil.unregisterCallback("kZegoTaskMixConfig",t.stateCenter.reportList),r(e)})).catch((function(e){t.dataReport.addMsgInfo(a,e),t.dataReport.uploadReport(a),i.ClientUtil.unregisterCallback("kZegoTaskMixConfig",t.stateCenter.reportList),o(e)})):o({errorCode:c.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kNoLoginError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kNoLoginError.message})}))},e.prototype.stopMixerTask=function(e){var t=this;return new Promise((function(r,o){var a=n.getReportSeq();if(t.dataReport.newReport(a,c.ZegoRTCLogEvent.kZegoTaskMixStop.event),!e||"string"!=typeof e||e.length>n.MAX_MIX_TASK_ID_LENGTH||!i.ClientUtil.checkIllegalCharacters(e))return t.logger.error("zb.rh.lg taskID must be string less 256"),t.dataReport.addMsgInfo(a,{error:c.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.code,message:c.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.message+" param taskID error"}),t.dataReport.uploadReport(a),void o({errorCode:c.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskMixStop.error.kParamError.message+" param taskID error"});var s=function(e){var r,s,l,c="",u=p.errorCodeList;e.errorCode<2e9&&e.errorCode>1e9?l=u[c=i.ClientUtil.mixServerError(e.errorCode-n.MIXSTREAM_ERROR_CODE)]:e.errorCode<1e6&&(l=i.ClientUtil.decodeServerError(e.errorCode,e.extendedData),c=i.ClientUtil.getLiveRoomError(e.errorCode)),l?t.dataReport.addMsgInfo(a,l):t.dataReport.addMsgInfo(a,e),t.dataReport.uploadReport(a),c&&(e.errorCode=null===(r=u[c])||void 0===r?void 0:r.code,e.extendedData=(null===(s=u[c])||void 0===s?void 0:s.message)||""),o(e)},l=t.stateCenter.roomList[0];l?l.streamHandler.stopMixStream(e,(function(e){t.dataReport.uploadReport(a),r(e)}),s):s({errorCode:c.ZegoRTCLogEvent.kZegoTaskMixStop.error.kNoLoginError.code,extendedData:c.ZegoRTCLogEvent.kZegoTaskMixStop.error.kNoLoginError.message})}))},e.prototype.setCaptureVolume=function(e,t){return this.rtcModules.publishModule.setCaptureVolume(e,t)},e.prototype.getRoomInfo=function(){var e=this.stateCenter.roomList[0];return null==e?void 0:e.streamHandler.getRoomInfo()},e.screenShotReady=!1,e}();t.ZegoWebRTC=h,window.addEventListener("message",(function(e){var t=e.data.type,r=e.origin;r!==window.location.origin&&console.warn("ScreenStream: you should discard foreign event from origin:",r),"SS_PING"===t&&(h.screenShotReady=!0)}))},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!((n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoPreview=void 0;var a=r(0),s=r(1),l=r(2),c=function(){function e(e,t,r,o){var n=this;this.localStream=null,this.videoInfo={},this.previewSuc=!1,this.soundLevel=0,this.script=null,this.mic=null,this.audioTrack=null,this.activeteSEIConfig=null,this.isAudioEnabled=!0,this.gainNode=null,this.cameraMaxResolution={},this.enableMicrophone=function(e,t){var r;if(!n.localStream)return n.logger.error("zp.em.2 no localStream"),!1;n.localStream.getAudioTracks().forEach((function(t){t.enabled=e})),n.audioTrack&&(n.audioTrack.enabled=e&&t.isMicEnabled);var o=null===(r=t.checkPublish(n.localStream))||void 0===r?void 0:r.publisher;if(o){var i=o.camera_status,a=e&&t.isMicEnabled?0:20;o.camera_status===i&&o.mic_status===a||o.sendStreamStatus(i,a)}return n.isAudioEnabled=e,n.logger.debug("zp.em.2 call success"),!0},this.enableMicrophoneOnly=function(e,t){var r;if(!n.localStream)return n.logger.error("zp.em.2 no localStream"),!1;var o=null===(r=t.checkPublish(n.localStream))||void 0===r?void 0:r.publisher;if(o){var i=o.mic_status,a=n.isAudioEnabled&&e?0:20;o.camera_status===i&&o.mic_status===a||o.sendStreamStatus(i,a)}return n.micTrack?(n.micTrack.enabled=n.isAudioEnabled&&e,n.logger.debug("zp.emo.2 call success"),!0):(n.logger.info("zp.emo.2 no micTrack"),!0)},this.enableCamera=function(e,t,r){var o,i;if(!n.localStream)return n.logger.error("zp.ec.2 no localStream"),!1;(!r||e)&&n.localStream.getVideoTracks().forEach((function(t){if(t.enabled=e,e&&void 0!==typeof t.getSettings().width&&t.getSettings().width>0){var r=t.getSettings().width-1,o=t.getSettings().height-1;t.applyConstraints({width:r,height:o}),setTimeout((function(){t.applyConstraints({width:n.videoInfo.width,height:n.videoInfo.height})}),200)}}));var a=function(a){var s=t.publisherList[a].publisher;if(s.localStream==n.localStream){if(r&&!e){var l=n.localStream.clone(),c=l.getVideoTracks()[0];null==(u=null===(o=s.peerConnection)||void 0===o?void 0:o.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.kind)===c.kind})))||u.replaceTrack(c),l.getTracks().forEach((function(e){return e.stop()}))}else if(e){var u;null==(u=null===(i=s.peerConnection)||void 0===i?void 0:i.getSenders().find((function(e){var t;return"video"===(null===(t=e.track)||void 0===t?void 0:t.kind)})))||u.replaceTrack(n.localStream.getVideoTracks()[0])}var d=e?0:20,p=n.isAudioEnabled&&t.isMicEnabled?0:20;s.camera_status===d&&s.mic_status===p||s.sendStreamStatus(d,p)}};for(var s in t.publisherList)a(s);return n.logger.info("zp.ec.2 call success"),!0},this.logger=e,this.previewType=o,this.ac=t,this.streamCenter=r}return Object.defineProperty(e.prototype,"micTrack",{get:function(){return"camera"===this.previewType&&this.audioTrack||null},enumerable:!1,configurable:!0}),e.prototype.getMediaStreamConstraints=function(e,t){var r={audio:null,video:null};if(r.audio=!0,r.video={width:640,height:480,frameRate:15,bitRate:800},e.audio?void 0===e.audioInput&&void 0===e.ANS&&void 0===e.AGC&&void 0===e.AEC&&void 0===e.channelCount?(r.audio={},r.audio.noiseSuppression=!0,r.audio.autoGainControl=!0,r.audio.echoCancellation=!0,r.audio.channelCount=1):(r.audio={},void 0!==e.audioInput&&null!==e.audioInput&&(r.audio.deviceId=e.audioInput),void 0!==e.ANS&&(r.audio.noiseSuppression=e.ANS),void 0!==e.AGC&&(r.audio.autoGainControl=e.AGC),void 0!==e.AEC&&(r.audio.echoCancellation=e.AEC),void 0!==e.channelCount&&(r.audio.channelCount=e.channelCount)):!1===e.audio&&(r.audio=!1),e.video){var o=640,n=480,i=15,s=800;if(1===e.videoQuality?(o=a.ENUM_RESOLUTION_TYPE.LOW.width,n=a.ENUM_RESOLUTION_TYPE.LOW.height,i=a.ENUM_RESOLUTION_TYPE.LOW.frameRate,s=a.ENUM_RESOLUTION_TYPE.LOW.bitRate):2===e.videoQuality?(o=a.ENUM_RESOLUTION_TYPE.MEDIUM.width,n=a.ENUM_RESOLUTION_TYPE.MEDIUM.height,i=a.ENUM_RESOLUTION_TYPE.MEDIUM.frameRate,s=a.ENUM_RESOLUTION_TYPE.MEDIUM.bitRate):3===e.videoQuality?(o=a.ENUM_RESOLUTION_TYPE.HIGH.width,n=a.ENUM_RESOLUTION_TYPE.HIGH.height,i=a.ENUM_RESOLUTION_TYPE.HIGH.frameRate,s=a.ENUM_RESOLUTION_TYPE.HIGH.bitRate):4===e.videoQuality?(o=e.width,n=e.height,i=e.frameRate,s=e.bitRate||800):this.logger.info("zp.gmsc.2 use default"),t&&(e.width&&(o=e.width),e.height&&(n=e.height),e.frameRate&&(i=e.frameRate),e.bitRate&&(s=e.bitRate)),!1===e.horizontal){var l=n;n=o,o=l}!0===e.isSwitch&&(l=n,n=o,o=l),r.video={width:o,height:n,frameRate:i,bitRate:s},null!=e.facingMode?r.video.facingMode=e.facingMode:null!=e.videoInput&&null!=e.videoInput&&""!=e.videoInput&&(r.video.deviceId={exact:e.videoInput}),this.logger.info("zp.gmsc.2 width: "+o+" height: "+n+" rate: "+i)}else!1===e.video&&(e.audioBitrate&&(r.video={}),r.video=!1);return r},e.prototype.startPreview=function(e,t,r){return n(this,void 0,void 0,(function(){var n,a,l,c,u=this;return i(this,(function(i){return this.logger.debug("zp.sv.2 called"),this.mediaStreamConfig=e,void 0===navigator.mediaDevices||null==navigator.mediaDevices.getUserMedia?(r&&r(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError),[2]):e.source instanceof MediaStream?(n=e.source.getVideoTracks(),a=n.length>0?n[0].getSettings():{width:0,height:0,frameRate:0},this.logger.debug("zp.sv.2 use external media stream"),this.previewSuc=!0,this.localStream=e.source,e.source.getAudioTracks().length>0&&(this.audioTrack=e.source.getAudioTracks()[0]),this.videoInfo={width:a.width,height:a.height,frameRate:a.frameRate,bitRate:e.bitRate||0,startBitrate:e.startBitrate,channelCount:e.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*e.audioBitrate||48e3},t&&t(this.localStream),[2]):e.source instanceof HTMLMediaElement?((l=this.captureStream(e.source,e))?(this.videoInfo.bitRate=e.bitRate||0,this.previewSuc=!0,l.getAudioTracks().length>0&&(this.audioTrack=l.getAudioTracks()[0]),t&&t(l)):r&&r(s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError),[2]):(c=this.getMediaStreamConstraints(e),this.videoInfo=o({},c.video),this.videoInfo?(this.videoInfo.audioBitrate=1e3*e.audioBitrate||48e3,this.videoInfo.startBitrate=e.startBitrate):e.audioBitrate&&(this.videoInfo={audioBitrate:1e3*e.audioBitrate||48e3}),this.mediaStreamConfig.video=!!c.video,this.mediaStreamConfig.audio=!!c.audio,this.logger.info("zp.sv.2 ",JSON.stringify(c)),e.unlimitedCaptureResolution&&c.video.width&&(c.video.width={ideal:4096},c.video.height={ideal:2160},this.logger.info("zp.sv.2 ","capture max resolution of camera")),navigator.mediaDevices.getUserMedia(c).then((function(r){u.logger.info("zp.sv.2 success"),u.localStream=r,u.previewSuc=!0,r.getAudioTracks().length>0&&(u.audioTrack=u.localStream.getAudioTracks()[0]),u.videoInfo&&(u.videoInfo.channelCount=e.channelCount||(u.audioTrack&&u.audioTrack.getSettings?u.audioTrack.getSettings().channelCount:1)),t&&t(r)}),(function(e){if(u.logger.info("zp.sv.2 failed ",e.name," ",e.message),r){var t=s.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kGetUserMediaError;t.message=t.message+" "+e.name+e.message,r(t)}})),[2])}))}))},e.prototype.captureStream=function(e,t){if(!e)return this.logger.info("zp.cs.2 no local video"),null;var r;if(e.captureStream)r=e.captureStream(),this.logger.debug("zp.cs.2 captureStream");else{if(!e.mozCaptureStream)return this.logger.info("zp.cs.2 don't support"),null;r=e.mozCaptureStream(),this.logger.debug("zp.cs.2 mozCaptureStream")}return 0==r.getTracks().length?(this.logger.error("zp.cs.2 external capture tracks no found"),null):(this.localStream=r,this.videoInfo={width:e.videoWidth,height:e.videoHeight,frameRate:0,bitRate:0,channelCount:t.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*t.audioBitrate||48e3,startBitrate:t.startBitrate},this.logger.debug("zp.cs.2 called success"),this.localStream)},e.prototype.stopPreview=function(){this.logger.info("zp.sv.2.1 called"),this.localStream&&(this.localStream.getTracks().reverse().forEach((function(e){return e.stop()})),this.audioTrack&&this.audioTrack.stop(),this.localStream=null,this.videoInfo={})},e.prototype.startSoundLevel=function(){var e=this;if(this.localStream&&0!=this.localStream.getAudioTracks().length){this.script&&this.script.disconnect()&&(this.script=null),this.mic&&this.mic.disconnect()&&(this.mic=null);try{this.mic=this.ac.createMediaStreamSource(this.localStream),this.script=this.ac.createScriptProcessor(4096,1,1),this.mic.connect(this.script),this.script.connect(this.ac.destination),this.script.onaudioprocess=function(t){for(var r=t.inputBuffer.getChannelData(0),o=0,n=0;n<r.length;n++)o<r[n]&&(o=r[n]);e.soundLevel=100*o},this.ac.resume()}catch(e){this.logger.error(l.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" get sound level failed "+e)}}},e.prototype.stopSoundLevel=function(){this.soundLevel=0,this.script&&this.script.disconnect(),this.mic&&this.mic.disconnect(),this.script=null,this.mic=null},e.prototype.restartSoundLevel=function(){this.streamCenter.soundLevelDelegate?(this.stopSoundLevel(),this.startSoundLevel()):this.stopSoundLevel()},e}();t.ZegoPreview=c},function(e,t,r){e.exports=function e(t,r,o){function n(a,s){if(!r[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};t[a][0].call(c.exports,(function(e){return n(t[a][1][e]||e)}),c,c.exports,e,t,r,o)}return r[a].exports}for(var i=!1,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(e,t,r){"use strict";var o=(0,e("./adapter_factory.js").adapterFactory)({window:window});t.exports=o},{"./adapter_factory.js":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.adapterFactory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},c=o.log,u=o.detectBrowser(t),d={browserDetails:u,commonShim:l,extractVersion:o.extractVersion,disableLog:o.disableLog,disableWarnings:o.disableWarnings};switch(u.browser){case"chrome":if(!n||!n.shimPeerConnection||!r.shimChrome)return c("Chrome shim is not included in this adapter release."),d;c("adapter.js shimming chrome."),d.browserShim=n,n.shimGetUserMedia(t),n.shimMediaStream(t),n.shimPeerConnection(t),n.shimOnTrack(t),n.shimAddTrackRemoveTrack(t),n.shimGetSendersWithDtmf(t),n.shimGetStats(t),n.shimSenderReceiverGetStats(t),n.fixNegotiationNeeded(t),l.shimRTCIceCandidate(t),l.shimConnectionState(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t),l.removeAllowExtmapMixed(t);break;case"firefox":if(!a||!a.shimPeerConnection||!r.shimFirefox)return c("Firefox shim is not included in this adapter release."),d;c("adapter.js shimming firefox."),d.browserShim=a,a.shimGetUserMedia(t),a.shimPeerConnection(t),a.shimOnTrack(t),a.shimRemoveStream(t),a.shimSenderGetStats(t),a.shimReceiverGetStats(t),a.shimRTCDataChannel(t),l.shimRTCIceCandidate(t),l.shimConnectionState(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t);break;case"edge":if(!i||!i.shimPeerConnection||!r.shimEdge)return c("MS edge shim is not included in this adapter release."),d;c("adapter.js shimming edge."),d.browserShim=i,i.shimGetUserMedia(t),i.shimGetDisplayMedia(t),i.shimPeerConnection(t),i.shimReplaceTrack(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t);break;case"safari":if(!s||!r.shimSafari)return c("Safari shim is not included in this adapter release."),d;c("adapter.js shimming safari."),d.browserShim=s,s.shimRTCIceServerUrls(t),s.shimCreateOfferLegacy(t),s.shimCallbacksAPI(t),s.shimLocalStreamsAPI(t),s.shimRemoteStreamsAPI(t),s.shimTrackEventTransceiver(t),s.shimGetUserMedia(t),l.shimRTCIceCandidate(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t),l.removeAllowExtmapMixed(t);break;default:c("Unsupported browser!")}return d};var o=c(e("./utils")),n=c(e("./chrome/chrome_shim")),i=c(e("./edge/edge_shim")),a=c(e("./firefox/firefox_shim")),s=c(e("./safari/safari_shim")),l=c(e("./common_shim"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return n.shimGetUserMedia}});var i=e("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),r.shimMediaStream=function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},r.shimOnTrack=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(o){var n=void 0;n=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===o.track.id})):{track:o.track};var i=new Event("track");i.track=o.track,i.receiver=n,i.transceiver={receiver:n},i.streams=[t.stream],r.dispatchEvent(i)})),t.stream.getTracks().forEach((function(o){var n=void 0;n=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===o.id})):{track:o};var i=new Event("track");i.track=o,i.receiver=n,i.transceiver={receiver:n},i.streams=[t.stream],r.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else a.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))},r.shimGetSendersWithDtmf=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,o){var n=r.apply(this,arguments);return n||(n=t(this,e),this._senders.push(n)),n};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},r.shimGetStats=function(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,o){var n=this,i=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var l=function(e){i[1](s(a(e)))};return t.apply(this,[l,arguments[0]])}return new Promise((function(e,r){t.apply(n,[function(t){e(s(a(t)))},r])})).then(r,o)}}},r.shimSenderReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=n.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),a.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],r=void 0,o=void 0,n=void 0;return this.getSenders().forEach((function(e){e.track===t&&(r?n=!0:r=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(o?n=!0:o=e),e.track===t})),n||r&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}},r.shimAddTrackRemoveTrackWithNative=s,r.shimAddTrackRemoveTrack=function(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return s(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}o.apply(this,[t])};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},n.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var o=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var i=this.getSenders().find((function(e){return e.track===t}));if(i)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[r.id];if(a)a.addTrack(t),Promise.resolve().then((function(){o.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);this._streams[r.id]=s,this._reverseStreams[s.id]=r,this.addStream(s)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments,o=arguments.length&&"function"==typeof arguments[0];return o?r.apply(this,[function(r){var o=c(e,r);t[0].apply(null,[o])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then((function(t){return c(e,t)}))}}));var i=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=u(this,arguments[0]),i.apply(this,arguments)):i.apply(this,arguments)};var l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=l.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var r=void 0;Object.keys(this._streams).forEach((function(o){t._streams[o].getTracks().find((function(t){return e.track===t}))&&(r=t._streams[o])})),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var o=e._reverseStreams[t],n=e._streams[o.id];r=r.replace(new RegExp(n.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}function u(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var o=e._reverseStreams[t],n=e._streams[o.id];r=r.replace(new RegExp(o.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}},r.shimPeerConnection=function(e){if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},r.fixNegotiationNeeded=function(e){a.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils.js"));function s(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var o=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(o)&&this._shimmedLocalStreams[r.id].push(o):this._shimmedLocalStreams[r.id]=[r,o],o};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var o=this.getSenders();r.apply(this,arguments);var n=this.getSenders().filter((function(e){return-1===o.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(n)};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],o.apply(this,arguments)};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var o=t._shimmedLocalStreams[r].indexOf(e);-1!==o&&t._shimmedLocalStreams[r].splice(o,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),n.apply(this,arguments)}}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var o=r.video&&r.video.width,n=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},o&&(r.video.mandatory.maxWidth=o),n&&(r.video.mandatory.maxHeight=n),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices){var r=n.detectBrowser(e),a=function(e){if("object"!==(void 0===e?"undefined":o(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===o(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var a={};"number"==typeof n.ideal?(a[i("min",r)]=n.ideal,t.optional.push(a),(a={})[i("max",r)]=n.ideal,t.optional.push(a)):(a[i("",r)]=n.ideal,t.optional.push(a))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,n){if(r.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===o(e.audio)){var s=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===o(e.video)){var l=e.video.facingMode;l=l&&("object"===(void 0===l?"undefined":o(l))?l:{ideal:l});var c=r.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||c)){delete e.video.facingMode;var u=void 0;if("environment"===l.exact||"environment"===l.ideal?u=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(u=["front"]),u)return t.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&u.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=l.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=a(e.video),i("chrome: "+JSON.stringify(e)),n(e)}))}e.video=a(e.video)}return i("chrome: "+JSON.stringify(e)),n(e)},l=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,r,o){s(e,(function(e){t.webkitGetUserMedia(e,r,(function(e){o&&o(l(e))}))}))}.bind(t),t.mediaDevices.getUserMedia){var c=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(l(e))}))}))}}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils.js")),i=n.log},{"../utils.js":15}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimRTCIceCandidate=function(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),n=a.default.parseCandidate(e.candidate),i=Object.assign(r,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,s.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},r.shimMaxMessageSize=function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=s.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=function(e){if(!e||!e.sdp)return!1;var t=a.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=a.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r},n=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r},i=function(e,r){var o=65536;"firefox"===t.browser&&57===t.version&&(o=65535);var n=a.default.matchPrefix(e.sdp,"a=max-message-size:");return n.length>0?o=parseInt(n[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(o=2147483637),o},l=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,r(arguments[0])){var e=o(arguments[0]),t=n(e),a=i(arguments[0],e),s=void 0;s=0===t&&0===a?Number.POSITIVE_INFINITY:0===t||0===a?Math.max(t,a):Math.min(t,a);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return s}}),this._sctp=c}return l.apply(this,arguments)}}},r.shimSendThrowTypeError=function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},s.wrapPeerConnectionEvent(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var o=arguments[0],n=o.length||o.size||o.byteLength;if("open"===e.readyState&&t.sctp&&n>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}},r.shimConnectionState=function(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}},r.removeAllowExtmapMixed=function(e){if(e.RTCPeerConnection){var t=s.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),r.apply(this,arguments)}}}};var n,i=e("sdp"),a=(n=i)&&n.__esModule?n:{default:n},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./utils"))},{"./utils":15,sdp:17}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var o=e("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return o.shimGetUserMedia}});var n=e("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return n.shimGetDisplayMedia}}),r.shimPeerConnection=function(e){var t=a.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){r.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var o=(0,c.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,s.filterIceServers)(e.iceServers,t.version),a.log("ICE servers after filtering:",e.iceServers)),new o(e)},e.RTCPeerConnection.prototype=o.prototype},r.shimReplaceTrack=function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)};var i,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils")),s=e("./filtericeservers"),l=e("rtcpeerconnection-shim"),c=(i=l)&&i.__esModule?i:{default:i}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.filterIceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&o.deprecated("RTCIceServer.url","RTCIceServer.urls");var n="string"==typeof t;return n&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!r?(r=!0,!0):t&&!r})),delete e.url,e.urls=n?t[0]:t,!!t.length}}))};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils"))},{"../utils":15}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetUserMedia=function(e){var t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return n.shimGetUserMedia}});var i=e("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),r.shimOnTrack=function(e){"object"===(void 0===e?"undefined":o(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},r.shimPeerConnection=function(e){var t=a.detectBrowser(e);if("object"===(void 0===e?"undefined":o(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,o){return i.apply(this,[e||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(r,o)}}},r.shimSenderGetStats=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},r.shimReceiverGetStats=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),a.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},r.shimRemoveStream=function(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;a.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})},r.shimRTCDataChannel=function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var o=new DOMException("getDisplayMedia without video constraints is undefined");return o.name="NotFoundError",o.code=8,Promise.reject(o)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimGetUserMedia=function(e){var t=n.detectBrowser(e),r=e&&e.navigator,i=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,o){n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,o)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":o(e))&&"object"===o(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},i&&i.prototype.getSettings){var l=i.prototype.getSettings;i.prototype.getSettings=function(){var e=l.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var c=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":o(e))&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[e])}}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils"))},{"../utils":15}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.shimLocalStreamsAPI=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getTracks().forEach((function(o){return t.call(r,o,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,r){return r&&(this._localStreams?this._localStreams.includes(r)||this._localStreams.push(r):this._localStreams=[r]),t.call(this,e,r)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var o=e.getTracks();this.getSenders().forEach((function(e){o.includes(e.track)&&t.removeTrack(e)}))}})}},r.shimRemoteStreamsAPI=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}},r.shimCallbacksAPI=function(e){if("object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var o=arguments.length>=2?arguments[2]:arguments[0],n=r.apply(this,[o]);return t?(n.then(e,t),Promise.resolve()):n},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};var l=function(e,t,r){var o=i.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o};t.setLocalDescription=l,l=function(e,t,r){var o=a.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.setRemoteDescription=l,l=function(e,t,r){var o=s.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.addIceCandidate=l}},r.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,o=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return o(i(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,o){t.mediaDevices.getUserMedia(e).then(r,o)}.bind(t))},r.shimConstraints=i,r.shimRTCIceServerUrls=function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var o=[],i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,o.push(a)):o.push(e.iceServers[i])}e.iceServers=o}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},r.shimTrackEventTransceiver=function(e){"object"===(void 0===e?"undefined":o(e))&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},r.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var o=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&o?"sendrecv"===o.direction?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":"recvonly"===o.direction&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):!0!==e.offerToReceiveVideo||o||this.addTransceiver("video")}return t.apply(this,arguments)}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils"));function i(e){return e&&void 0!==e.video?Object.assign({},e,{video:n.compactObject(e.video)}):e}},{"../utils":15}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.extractVersion=a,r.wrapPeerConnectionEvent=function(e,t,r){if(e.RTCPeerConnection){var o=e.RTCPeerConnection.prototype,n=o.addEventListener;o.addEventListener=function(e,o){if(e!==t)return n.apply(this,arguments);var i=function(e){var t=r(e);t&&o(t)};return this._eventMap=this._eventMap||{},this._eventMap[o]=i,n.apply(this,[e,i])};var i=o.removeEventListener;o.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return i.apply(this,arguments);var o=this._eventMap[r];return delete this._eventMap[r],i.apply(this,[e,o])},Object.defineProperty(o,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},r.disableLog=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":o(e))+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},r.disableWarnings=function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":o(e))+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},r.log=function(){if("object"===("undefined"==typeof window?"undefined":o(window))){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},r.deprecated=function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},r.detectBrowser=function(e){var t=e.navigator,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;if(t.mozGetUserMedia)r.browser="firefox",r.version=a(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)r.browser="chrome",r.version=a(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=a(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=a(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return r},r.compactObject=function e(t){return"object"!==(void 0===t?"undefined":o(t))?t:Object.keys(t).reduce((function(r,n){var i="object"===o(t[n]),a=i?e(t[n]):t[n],s=i&&!Object.keys(a).length;return void 0===a||s?r:Object.assign(r,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,a))}),{})},r.walkStats=s,r.filterStats=function(e,t,r){var o=r?"outbound-rtp":"inbound-rtp",n=new Map;if(null===t)return n;var i=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((function(t){e.forEach((function(r){r.type===o&&r.trackId===t.id&&s(e,r,n)}))})),n};var n=!0,i=!0;function a(e,t,r){var o=e.match(t);return o&&o.length>=r&&parseInt(o[r],10)}function s(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((function(o){o.endsWith("Id")?s(e,e.get(t[o]),r):o.endsWith("Ids")&&t[o].forEach((function(t){s(e,e.get(t),r)}))})))}},{}],16:[function(e,t,r){"use strict";var o=e("sdp");function n(e,t,r,n,i){var a=o.writeRtpDescription(e.kind,t);if(a+=o.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=o.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":i||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(n?n.id:"-")+" "+s+"\r\n";a+="a="+l,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+"\r\n"),a}function i(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},o=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},n=function(e,t,r,n){var i=o(e.parameters.apt,r),a=o(t.parameters.apt,n);return i&&a&&i.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(o){for(var i=0;i<t.codecs.length;i++){var a=t.codecs[i];if(o.name.toLowerCase()===a.name.toLowerCase()&&o.clockRate===a.clockRate){if("rtx"===o.name.toLowerCase()&&o.parameters&&a.parameters.apt&&!n(o,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(o.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<o.rtcpFeedback.length;t++)if(o.rtcpFeedback[t].type===e.type&&o.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var o=0;o<t.headerExtensions.length;o++){var n=t.headerExtensions[o];if(e.uri===n.uri){r.headerExtensions.push(n);break}}})),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return r||e.addRemoteCandidate(t),!r}function l(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}t.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,r,o,n){var i=new Event("track");i.track=r,i.receiver=o,i.transceiver={receiver:o},i.streams=n,e.setTimeout((function(){t._dispatchEvent("track",i)}))}var u=function(r){var n=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){n[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw l("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var o=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var n="string"==typeof o;return n&&(o=[o]),o=o.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)})),delete e.url,e.urls=n?o[0]:o,!!o.length}}))}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=o.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(u.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(u.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),u.prototype.onicecandidate=null,u.prototype.onaddstream=null,u.prototype.ontrack=null,u.prototype.onremovestream=null,u.prototype.onsignalingstatechange=null,u.prototype.oniceconnectionstatechange=null,u.prototype.onconnectionstatechange=null,u.prototype.onicegatheringstatechange=null,u.prototype.onnegotiationneeded=null,u.prototype.ondatachannel=null,u.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},u.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},u.prototype.getConfiguration=function(){return this._config},u.prototype.getLocalStreams=function(){return this.localStreams},u.prototype.getRemoteStreams=function(){return this.remoteStreams},u.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,o={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)o.iceTransport=this.transceivers[0].iceTransport,o.dtlsTransport=this.transceivers[0].dtlsTransport;else{var n=this._createIceAndDtlsTransports();o.iceTransport=n.iceTransport,o.dtlsTransport=n.dtlsTransport}return t||this.transceivers.push(o),o},u.prototype.addTrack=function(t,r){if(this._isClosed)throw l("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var o;if(this.transceivers.find((function(e){return e.track===t})))throw l("InvalidAccessError","Track already exists.");for(var n=0;n<this.transceivers.length;n++)this.transceivers[n].track||this.transceivers[n].kind!==t.kind||(o=this.transceivers[n]);return o||(o=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),o.track=t,o.stream=r,o.rtpSender=new e.RTCRtpSender(t,o.dtlsTransport),o.rtpSender},u.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach((function(t){r.addTrack(t,e)}));else{var o=e.clone();e.getTracks().forEach((function(e,t){var r=o.getTracks()[t];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),o.getTracks().forEach((function(e){r.addTrack(e,o)}))}},u.prototype.removeTrack=function(t){if(this._isClosed)throw l("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find((function(e){return e.rtpSender===t}));if(!r)throw l("InvalidAccessError","Sender was not created by this connection.");var o=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(o)&&this.localStreams.indexOf(o)>-1&&this.localStreams.splice(this.localStreams.indexOf(o),1),this._maybeFireNegotiationNeeded()},u.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var r=t.getSenders().find((function(t){return t.track===e}));r&&t.removeTrack(r)}))},u.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},u.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},u.prototype._createIceGatherer=function(t,r){var o=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var n=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(n,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;n.state=r?"completed":"gathering",null!==o.transceivers[t].bufferedCandidateEvents&&o.transceivers[t].bufferedCandidateEvents.push(e)},n.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),n},u.prototype._gather=function(t,r){var n=this,i=this.transceivers[r].iceGatherer;if(!i.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),i.onlocalcandidate=function(e){if(!(n.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var s=e.candidate,l=!s||0===Object.keys(s).length;if(l)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),s.component=1,s.ufrag=i.getLocalParameters().usernameFragment;var c=o.writeCandidate(s);a.candidate=Object.assign(a.candidate,o.parseCandidate(c)),a.candidate.candidate=c,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var u=o.getMediaSections(n._localDescription.sdp);u[a.candidate.sdpMLineIndex]+=l?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",n._localDescription.sdp=o.getDescription(n._localDescription.sdp)+u.join("");var d=n.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==n.iceGatheringState&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),l||n._dispatchEvent("icecandidate",a),d&&(n._dispatchEvent("icecandidate",new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},u.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var o=new e.RTCDtlsTransport(r);return o.ondtlsstatechange=function(){t._updateConnectionState()},o.onerror=function(){Object.defineProperty(o,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:o}},u.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var o=this.transceivers[e].dtlsTransport;o&&(delete o.ondtlsstatechange,delete o.onerror,delete this.transceivers[e].dtlsTransport)},u.prototype._transceive=function(e,r,n){var a=i(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:o.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),n&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},u.prototype.setLocalDescription=function(e){var t,r,n=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(l("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,n.signalingState)||n._isClosed)return Promise.reject(l("InvalidStateError","Can not set local "+e.type+" in state "+n.signalingState));if("offer"===e.type)t=o.splitSections(e.sdp),r=t.shift(),t.forEach((function(e,t){var r=o.parseRtpParameters(e);n.transceivers[t].localCapabilities=r})),n.transceivers.forEach((function(e,t){n._gather(e.mid,t)}));else if("answer"===e.type){t=o.splitSections(n._remoteDescription.sdp),r=t.shift();var s=o.matchPrefix(r,"a=ice-lite").length>0;t.forEach((function(e,t){var a=n.transceivers[t],l=a.iceGatherer,c=a.iceTransport,u=a.dtlsTransport,d=a.localCapabilities,p=a.remoteCapabilities;if(!(o.isRejected(e)&&0===o.matchPrefix(e,"a=bundle-only").length||a.rejected)){var h=o.getIceParameters(e,r),f=o.getDtlsParameters(e,r);s&&(f.role="server"),n.usingBundle&&0!==t||(n._gather(a.mid,t),"new"===c.state&&c.start(l,h,s?"controlling":"controlled"),"new"===u.state&&u.start(f));var g=i(d,p);n._transceive(a,g.codecs.length>0,!1)}}))}return n._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?n._updateSignalingState("have-local-offer"):n._updateSignalingState("stable"),Promise.resolve()},u.prototype.setRemoteDescription=function(n){var u=this;if(-1===["offer","answer"].indexOf(n.type))return Promise.reject(l("TypeError",'Unsupported type "'+n.type+'"'));if(!a("setRemoteDescription",n.type,u.signalingState)||u._isClosed)return Promise.reject(l("InvalidStateError","Can not set remote "+n.type+" in state "+u.signalingState));var d={};u.remoteStreams.forEach((function(e){d[e.id]=e}));var p=[],h=o.splitSections(n.sdp),f=h.shift(),g=o.matchPrefix(f,"a=ice-lite").length>0,m=o.matchPrefix(f,"a=group:BUNDLE ").length>0;u.usingBundle=m;var v=o.matchPrefix(f,"a=ice-options:")[0];return u.canTrickleIceCandidates=!!v&&v.substr(14).split(" ").indexOf("trickle")>=0,h.forEach((function(a,l){var c=o.splitLines(a),h=o.getKind(a),v=o.isRejected(a)&&0===o.matchPrefix(a,"a=bundle-only").length,b=c[0].substr(2).split(" ")[2],_=o.getDirection(a,f),E=o.parseMsid(a),O=o.getMid(a)||o.generateIdentifier();if(v||"application"===h&&("DTLS/SCTP"===b||"UDP/DTLS/SCTP"===b))u.transceivers[l]={mid:O,kind:h,protocol:b,rejected:!0};else{var y,S,T,C,R,k,I,j,L;!v&&u.transceivers[l]&&u.transceivers[l].rejected&&(u.transceivers[l]=u._createTransceiver(h,!0));var M,N,A=o.parseRtpParameters(a);v||(M=o.getIceParameters(a,f),(N=o.getDtlsParameters(a,f)).role="client"),I=o.parseRtpEncodingParameters(a);var P=o.parseRtcpParameters(a),w=o.matchPrefix(a,"a=end-of-candidates",f).length>0,x=o.matchPrefix(a,"a=candidate:").map((function(e){return o.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===n.type||"answer"===n.type)&&!v&&m&&l>0&&u.transceivers[l]&&(u._disposeIceAndDtlsTransports(l),u.transceivers[l].iceGatherer=u.transceivers[0].iceGatherer,u.transceivers[l].iceTransport=u.transceivers[0].iceTransport,u.transceivers[l].dtlsTransport=u.transceivers[0].dtlsTransport,u.transceivers[l].rtpSender&&u.transceivers[l].rtpSender.setTransport(u.transceivers[0].dtlsTransport),u.transceivers[l].rtpReceiver&&u.transceivers[l].rtpReceiver.setTransport(u.transceivers[0].dtlsTransport)),"offer"!==n.type||v)"answer"!==n.type||v||(S=(y=u.transceivers[l]).iceGatherer,T=y.iceTransport,C=y.dtlsTransport,R=y.rtpReceiver,k=y.sendEncodingParameters,j=y.localCapabilities,u.transceivers[l].recvEncodingParameters=I,u.transceivers[l].remoteCapabilities=A,u.transceivers[l].rtcpParameters=P,x.length&&"new"===T.state&&(!g&&!w||m&&0!==l?x.forEach((function(e){s(y.iceTransport,e)})):T.setRemoteCandidates(x)),m&&0!==l||("new"===T.state&&T.start(S,M,"controlling"),"new"===C.state&&C.start(N)),!i(y.localCapabilities,y.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&y.sendEncodingParameters[0].rtx&&delete y.sendEncodingParameters[0].rtx,u._transceive(y,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!R||"sendrecv"!==_&&"sendonly"!==_?delete y.rtpReceiver:(L=R.track,E?(d[E.stream]||(d[E.stream]=new e.MediaStream),r(L,d[E.stream]),p.push([L,R,d[E.stream]])):(d.default||(d.default=new e.MediaStream),r(L,d.default),p.push([L,R,d.default]))));else{(y=u.transceivers[l]||u._createTransceiver(h)).mid=O,y.iceGatherer||(y.iceGatherer=u._createIceGatherer(l,m)),x.length&&"new"===y.iceTransport.state&&(!w||m&&0!==l?x.forEach((function(e){s(y.iceTransport,e)})):y.iceTransport.setRemoteCandidates(x)),j=e.RTCRtpReceiver.getCapabilities(h),t<15019&&(j.codecs=j.codecs.filter((function(e){return"rtx"!==e.name}))),k=y.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var D,U=!1;"sendrecv"===_||"sendonly"===_?(U=!y.rtpReceiver,R=y.rtpReceiver||new e.RTCRtpReceiver(y.dtlsTransport,h),U&&(L=R.track,E&&"-"===E.stream||(E?(d[E.stream]||(d[E.stream]=new e.MediaStream,Object.defineProperty(d[E.stream],"id",{get:function(){return E.stream}})),Object.defineProperty(L,"id",{get:function(){return E.track}}),D=d[E.stream]):(d.default||(d.default=new e.MediaStream),D=d.default)),D&&(r(L,D),y.associatedRemoteMediaStreams.push(D)),p.push([L,R,D]))):y.rtpReceiver&&y.rtpReceiver.track&&(y.associatedRemoteMediaStreams.forEach((function(t){var r=t.getTracks().find((function(e){return e.id===y.rtpReceiver.track.id}));r&&function(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(r,t)})),y.associatedRemoteMediaStreams=[]),y.localCapabilities=j,y.remoteCapabilities=A,y.rtpReceiver=R,y.rtcpParameters=P,y.sendEncodingParameters=k,y.recvEncodingParameters=I,u._transceive(u.transceivers[l],!1,U)}}})),void 0===u._dtlsRole&&(u._dtlsRole="offer"===n.type?"active":"passive"),u._remoteDescription={type:n.type,sdp:n.sdp},"offer"===n.type?u._updateSignalingState("have-remote-offer"):u._updateSignalingState("stable"),Object.keys(d).forEach((function(t){var r=d[t];if(r.getTracks().length){if(-1===u.remoteStreams.indexOf(r)){u.remoteStreams.push(r);var o=new Event("addstream");o.stream=r,e.setTimeout((function(){u._dispatchEvent("addstream",o)}))}p.forEach((function(e){var t=e[0],o=e[1];r.id===e[2].id&&c(u,t,o,[r])}))}})),p.forEach((function(e){e[2]||c(u,e[0],e[1],[])})),e.setTimeout((function(){u&&u.transceivers&&u.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},u.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},u.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},u.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},u.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},u.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},u.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(l("InvalidStateError","Can not call createOffer after close"));var i=r.transceivers.filter((function(e){return"audio"===e.kind})).length,a=r.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(i=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(r.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));i>0||a>0;)i>0&&(r._createTransceiver("audio"),i--),a>0&&(r._createTransceiver("video"),a--);var c=o.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(n,i){var a=n.track,s=n.kind,l=n.mid||o.generateIdentifier();n.mid=l,n.iceGatherer||(n.iceGatherer=r._createIceGatherer(i,r.usingBundle));var c=e.RTCRtpSender.getCapabilities(s);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),n.remoteCapabilities&&n.remoteCapabilities.codecs&&n.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(n.remoteCapabilities&&n.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var u=n.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&t>=15019&&"video"===s&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),n.wantReceive&&(n.rtpReceiver=new e.RTCRtpReceiver(n.dtlsTransport,s)),n.localCapabilities=c,n.sendEncodingParameters=u})),"max-compat"!==r._config.bundlePolicy&&(c+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(e,t){c+=n(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+o.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(u)},u.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(l("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(l("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var a=o.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(a+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=o.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(e,o){if(!(o+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var l;e.stream&&("audio"===e.kind?l=e.stream.getAudioTracks()[0]:"video"===e.kind&&(l=e.stream.getVideoTracks()[0]),l&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var c=i(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=n(e,c,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(c)},u.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(n,i){if(!r._remoteDescription)return i(l("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<r.transceivers.length;c++)if(r.transceivers[c].mid===e.sdpMid){a=c;break}var u=r.transceivers[a];if(!u)return i(l("OperationError","Can not add ICE candidate"));if(u.rejected)return n();var d=Object.keys(e.candidate).length>0?o.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return n();if(d.component&&1!==d.component)return n();if((0===a||a>0&&u.iceTransport!==r.transceivers[0].iceTransport)&&!s(u.iceTransport,d))return i(l("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=o.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(d.type?p:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=o.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var h=0;h<r.transceivers.length&&(r.transceivers[h].rejected||(r.transceivers[h].iceTransport.addRemoteCandidate({}),(t=o.getMediaSections(r._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=o.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));h++);n()}))},u.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)})),!r)throw l("InvalidAccessError","Invalid selector.");return r.getStats()}var o=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&o.push(e[t].getStats())}))})),Promise.all(o).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var o=r.prototype.getStats;r.prototype.getStats=function(){return o.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(r){var o;e[r].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(o=e[r]).type]||o.type,t.set(r,e[r])})),t}))}}}));var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=u.prototype[e];u.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),u}},{sdp:17}],17:[function(e,t,r){"use strict";var o={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};o.localCName=o.generateIdentifier(),o.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},o.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},o.getDescription=function(e){var t=o.splitSections(e);return t&&t[0]},o.getMediaSections=function(e){var t=o.splitSections(e);return t.shift(),t},o.matchPrefix=function(e,t){return o.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},o.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},o=8;o<t.length;o+=2)switch(t[o]){case"raddr":r.relatedAddress=t[o+1];break;case"rport":r.relatedPort=parseInt(t[o+1],10);break;case"tcptype":r.tcpType=t[o+1];break;case"ufrag":r.ufrag=t[o+1],r.usernameFragment=t[o+1];break;default:r[t[o]]=t[o+1]}return r},o.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},o.parseIceOptions=function(e){return e.substr(14).split(" ")},o.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},o.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},o.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},o.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},o.parseFmtp=function(e){for(var t,r={},o=e.substr(e.indexOf(" ")+1).split(";"),n=0;n<o.length;n++)r[(t=o[n].trim().split("="))[0].trim()]=t[1];return r},o.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var o=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?o.push(t+"="+e.parameters[t]):o.push(t)})),t+="a=fmtp:"+r+" "+o.join(";")+"\r\n"}return t},o.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},o.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},o.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},o=e.indexOf(":",t);return o>-1?(r.attribute=e.substr(t+1,o-t-1),r.value=e.substr(o+1)):r.attribute=e.substr(t+1),r},o.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},o.getMid=function(e){var t=o.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},o.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},o.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:o.matchPrefix(e+t,"a=fingerprint:").map(o.parseFingerprint)}},o.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},o.getIceParameters=function(e,t){var r=o.splitLines(e);return{usernameFragment:(r=r.concat(o.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:r.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},o.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},o.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=o.splitLines(e)[0].split(" "),n=3;n<r.length;n++){var i=r[n],a=o.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var s=o.parseRtpMap(a),l=o.matchPrefix(e,"a=fmtp:"+i+" ");switch(s.parameters=l.length?o.parseFmtp(l[0]):{},s.rtcpFeedback=o.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(o.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return o.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(o.parseExtmap(e))})),t},o.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){r+=o.writeRtpMap(e),r+=o.writeFmtp(e),r+=o.writeRtcpFb(e)}));var n=0;return t.codecs.forEach((function(e){e.maxptime>n&&(n=e.maxptime)})),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=o.writeExtmap(e)})),r},o.parseRtpEncodingParameters=function(e){var t,r=[],n=o.parseRtpParameters(e),i=-1!==n.fecMechanisms.indexOf("RED"),a=-1!==n.fecMechanisms.indexOf("ULPFEC"),s=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),l=s.length>0&&s[0].ssrc,c=o.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===l&&(t=c[0][1]),n.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var o={ssrc:l,codecPayloadType:parseInt(e.parameters.apt,10)};l&&t&&(o.rtx={ssrc:t}),r.push(o),i&&((o=JSON.parse(JSON.stringify(o))).fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},r.push(o))}})),0===r.length&&l&&r.push({ssrc:l});var u=o.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=u}))),r},o.parseRtcpParameters=function(e){var t={},r=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var n=o.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=n.length>0,t.compound=0===n.length;var i=o.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},o.parseMsid=function(e){var t,r=o.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var n=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return n.length>0?{stream:(t=n[0].value.split(" "))[0],track:t[1]}:void 0},o.generateSessionId=function(){return Math.random().toString().substr(2,21)},o.writeSessionBoilerplate=function(e,t,r){var n=void 0!==t?t:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||o.generateSessionId())+" "+n+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},o.writeMediaSection=function(e,t,r,n){var i=o.writeRtpDescription(e.kind,t);if(i+=o.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=o.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a="msid:"+n.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+a,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+o.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+o.localCName+"\r\n"),i},o.getDirection=function(e,t){for(var r=o.splitLines(e),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return t?o.getDirection(t):"sendrecv"},o.getKind=function(e){return o.splitLines(e)[0].split(" ")[0].substr(2)},o.isRejected=function(e){return"0"===e.split(" ",2)[1]},o.parseMLine=function(e){var t=o.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},o.parseOLine=function(e){var t=o.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},o.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=o.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=o)},{}]},{},[1])(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryHandler=void 0;var o=function(){function e(){this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryStartTime=0,this.retryActiveCount=1,this.isOverTime=!1}return e.prototype.init=function(e,t,r,o){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),"number"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),"number"==typeof r&&(this.RETRY_CONTINUE_COUNT=r),"number"==typeof o&&(this.RETRY_MAX_TIME_INTERVAL=o)},e.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryStartTime=0,this.retryActiveCount=1},e}();t.RetryHandler=o},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoExpressWebRTMEngine=t.ClientUtil=t.ZegoExpressEngine=void 0;var i=r(6),a=r(0);Object.defineProperty(t,"ZegoExpressWebRTMEngine",{enumerable:!0,get:function(){return a.ZegoExpressWebRTMEngine}});var s=r(3);Object.defineProperty(t,"ClientUtil",{enumerable:!0,get:function(){return s.ClientUtil}});var l=function(e){function t(t,r){var o=this;return a.ZegoExpressWebRTMEngine.version="2.9.1",(o=e.call(this,t,r)||this).zegoWebRTC=new i.ZegoWebRTC(o.logger,o.dataReport,o.zegoWebRTM),o}return n(t,e),t.prototype.createStream=function(e){return this.zegoWebRTC.createStream(e)},t.prototype.mutePlayStreamAudio=function(e,t){return this.zegoWebRTC.mutePlayStreamAudio(e,t)},t.prototype.mutePlayStreamVideo=function(e,t){return this.zegoWebRTC.mutePlayStreamVideo(e,t)},t.prototype.setSoundLevelDelegate=function(e,t){return this.zegoWebRTC.setSoundLevelDelegate(e,t)},t.prototype.startMixingAudio=function(e,t){return this.zegoWebRTC.startMixingAudio(e,t)},t.prototype.startPlayingStream=function(e,t){return this.zegoWebRTC.startPlayingStream(e,t)},t.prototype.stopPlayingStream=function(e){return this.zegoWebRTC.stopPlayingStream(e)},t.prototype.setMixingAudioVolume=function(e,t,r){return this.zegoWebRTC.setMixingAudioVolume(e,t,r)},t.prototype.useAudioDevice=function(e,t){return this.zegoWebRTC.useAudioDevice(e,t)},t.prototype.replaceTrack=function(e,t){return this.zegoWebRTC.replaceTrack(e,t)},t.prototype.stopMixingAudio=function(e,t){return this.zegoWebRTC.stopMixingAudio(e,t)},t.prototype.checkSystemRequirements=function(e,t){return void 0===t&&(t=0),this.zegoWebRTC.checkSystemRequirements(t,e)},t.prototype.setMixerTaskConfig=function(e){return this.zegoWebRTC.setMixerTaskConfig(e)},t.prototype.setVideoConfig=function(e,t){return this.zegoWebRTC.setVideoConfig(e,t)},t.prototype.enumDevices=function(){return this.zegoWebRTC.enumDevices()},t.prototype.setAudioConfig=function(e,t){return this.zegoWebRTC.setAudioConfig(e,t)},t.prototype.startMixerTask=function(e){return this.zegoWebRTC.startMixerTask(e)},t.prototype.off=function(e,t){return this.zegoWebRTM.stateCenter.listenerList[e]?this.zegoWebRTM.off(e,t):!!this.zegoWebRTC.stateCenter.listenerList[e]&&this.zegoWebRTC.off(e,t)},t.prototype.setCaptureVolume=function(e,t){return this.zegoWebRTC.setCaptureVolume(e,t)},t.prototype.stopMixerTask=function(e){return this.zegoWebRTC.stopMixerTask(e)},t.prototype.destroyStream=function(e){return this.zegoWebRTC.destroyStream(e)},t.prototype.on=function(e,t){return this.zegoWebRTM.stateCenter.listenerList[e]?this.zegoWebRTM.on(e,t):!!this.zegoWebRTC.stateCenter.listenerList[e]&&this.zegoWebRTC.on(e,t)},t.prototype.startPublishingStream=function(e,t,r){return this.zegoWebRTC.startPublishingStream(e,t,r)},t.prototype.stopPublishingStream=function(e){return this.zegoWebRTC.stopPublishingStream(e)},t.prototype.addPublishCdnUrl=function(e,t){return 3===arguments.length?this.zegoWebRTC.addPublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.addPublishCdnUrl(e,t)},t.prototype.removePublishCdnUrl=function(e,t){return 3===arguments.length?this.zegoWebRTC.removePublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.removePublishCdnUrl(e,t)},t.prototype.setStreamExtraInfo=function(e,t){return this.zegoWebRTC.setStreamExtraInfo(e,t)},t.prototype.mutePublishStreamVideo=function(e,t,r){return this.zegoWebRTC.mutePublishStreamVideo(e,t,r)},t.prototype.mutePublishStreamAudio=function(e,t){return this.zegoWebRTC.mutePublishStreamAudio(e,t)},t.prototype.muteMicrophone=function(e){return this.zegoWebRTC.muteMicrophone(e)},t.prototype.isMicrophoneMuted=function(){return this.zegoWebRTC.isMicrophoneMuted()},t.prototype.useVideoDevice=function(e,t){return this.zegoWebRTC.useVideoDevice(e,t)},t}(a.ZegoExpressWebRTMEngine);t.ZegoExpressEngine=l},function(t,r){t.exports=e},function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!((n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckModule=void 0;var i=r(5),a=function(){function e(){var e=this;this.iceconnectionstatechangeTimes=0,this.isCheckAll=!1;var t=document.createElement("canvas");t.getContext("2d").fillStyle="rgba(255, 255, 255, 0)";try{this.localStream=t.captureStream()}catch(e){console.error("canvas captureStream error",e)}this.timer=setTimeout((function(){e.resolve("Detection timeout"),e.hangup()}),5e3)}return e.prototype.checkSupportByType=function(e){return o(this,void 0,void 0,(function(){var t,r,o=this;return n(this,(function(n){switch(n.label){case 0:return this.checkType=e,t={},this.localPc=new RTCPeerConnection(t),this.remotePc=new RTCPeerConnection(t),r=new Promise((function(e){return o.resolve=e})),this.localPc.addEventListener("icecandidate",(function(e){return o.onIceCandidate(o.localPc,e)})),this.remotePc.addEventListener("icecandidate",(function(e){return o.onIceCandidate(o.remotePc,e)})),this.remotePc.addEventListener("iceconnectionstatechange",(function(t){"connected"===o.remotePc.iceConnectionState&&(o.iceconnectionstatechangeResult=!0),2==++o.iceconnectionstatechangeTimes&&o.iceCandidate&&(clearTimeout(o.timer),"connected"===o.remotePc.iceConnectionState?o.resolve(!0):o.resolve("The browser does not support "+e+" format"),o.hangup())})),this.localStream.getTracks().forEach((function(e){return o.localPc.addTrack(e,o.localStream)})),[4,this.check(e)];case 1:return n.sent(),[4,r];case 2:return[2,n.sent()]}}))}))},e.prototype.check=function(e){return o(this,void 0,void 0,(function(){var t,r;return n(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.localPc.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 1:return(t=o.sent()).sdp=i.SdpUtil.getSDPByVideDecodeType(t.sdp,e),this.onCreateOfferSuccess(t),[3,3];case 2:return r=o.sent(),this.onCreateSessionDescriptionError(r),[3,3];case 3:return[2]}}))}))},e.prototype.onCreateOfferSuccess=function(e){return o(this,void 0,void 0,(function(){var t,r,o,i;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.localPc.setLocalDescription(e)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),this.onSetSessionDescriptionError(t),[2];case 3:return n.trys.push([3,5,,6]),[4,this.remotePc.setRemoteDescription(e)];case 4:return n.sent(),[3,6];case 5:return r=n.sent(),this.onSetSessionDescriptionError(r),[2];case 6:return n.trys.push([6,9,,10]),[4,this.remotePc.createAnswer()];case 7:return o=n.sent(),[4,this.onCreateAnswerSuccess(o)];case 8:return n.sent(),[3,10];case 9:return i=n.sent(),this.onCreateSessionDescriptionError(i),[2];case 10:return[2]}}))}))},e.prototype.onCreateAnswerSuccess=function(e){return o(this,void 0,void 0,(function(){var t,r;return n(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.remotePc.setLocalDescription(e)];case 1:return o.sent(),[3,3];case 2:return t=o.sent(),this.onSetSessionDescriptionError(t),[2];case 3:return o.trys.push([3,5,,6]),[4,this.localPc.setRemoteDescription(e)];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),this.onSetSessionDescriptionError(r),[2];case 6:return[2]}}))}))},e.prototype.onIceCandidate=function(e,t){return o(this,void 0,void 0,(function(){var r;return n(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getOtherPc(e).addIceCandidate(t.candidate)];case 1:return o.sent(),[3,3];case 2:return r=o.sent(),console.error(this.checkType,this.getPcName(e)+" addIceCandidate error",r),clearTimeout(this.timer),this.hangup(),this.resolve(r),[3,3];case 3:return"remotePc"===this.getPcName(e)&&t.candidate&&(this.iceCandidate=!0),this.iceconnectionstatechangeResult&&"localPc"===this.getPcName(e)&&(clearTimeout(this.timer),this.hangup(),this.resolve(!0)),[2]}}))}))},e.prototype.getOtherPc=function(e){return e===this.localPc?this.remotePc:this.localPc},e.prototype.getPcName=function(e){return e===this.localPc?"localPc":"remotePc"},e.prototype.onCreateSessionDescriptionError=function(e){console.error("Failed to create session description: "+e.toString()),clearTimeout(this.timer),this.hangup(),this.resolve(e)},e.prototype.onSetSessionDescriptionError=function(e){console.error("Failed to set session description: "+e.toString()),clearTimeout(this.timer),this.hangup(),this.resolve(e)},e.prototype.hangup=function(){this.localPc.close(),this.remotePc.close(),this.iceconnectionstatechangeTimes=0,this.localStream.getTracks().forEach((function(e){return e.stop()}))},e}();t.CheckModule=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateCenter=void 0;var o=r(0),n=r(2),i=r(0),a=r(1),s=function(){function e(e,t){this.logger=e,this.dataReport=t,this.debug=!1,this.testEnvironment=!1,this.pullLimited=!0,this.configOK=!1,this.relateService=[],this.role=2,this.maxMemberCount=0,this.roomCreateFlag=1,this.callbackList={},this.publishStreamList={},this.streamUrlMap={},this.cmdCallback={},this.customUrl=[],this.customPlayUrl=[],this.turnOverTcpOnly=!1,this.customSetTcpOrUdp=!1,this.supportUdp=!1,this.audioEffectBuffer={},this.audioBitRate=48e3,this.cdnSeq=0,this.listenerList={roomStreamUpdate:[],streamExtraInfoUpdate:[],playerStateUpdate:[],publisherStateUpdate:[],screenSharingEnded:[],publishQualityUpdate:[],playQualityUpdate:[],remoteCameraStatusUpdate:[],remoteMicStatusUpdate:[],soundLevelUpdate:[],capturedSoundLevelUpdate:[],videoDeviceStateChanged:[],audioDeviceStateChanged:[],deviceError:[],_deviceError:[],_remoteCameraStatusUpdate:[],_remoteMicStatusUpdate:[],_streamUpdated:[]},this.reportList={},this.reportSeqList={startPublish:{},rePublish:{},startPlay:{},rePlay:{},stopPublish:{},stopPlay:{}},this.streamTrigger={},this.mixStreamAdvance={},this.audioStreamList={},this.deviceInfos=null,this.deviceChangeTimer=null,this.deviceStateOut=!1,this.networkState=i.ENUM_NETWORK_STATE.offline,this.streamRetryTime=300,this.checkList=[],this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""},this.streamConnectTime=0,this.clientIP="",this.type="PUBLIC",this.roomList=[],this.isMultiRoom=!1}return e.prototype.getRequestId=function(){return this.idName+"-"+i.getSeq()},e.prototype.getSignalCmdContent=function(e,t,r,o){var n={request_id:t,room_id:e,from_userid:this.idName,from_username:this.nickName,to_userid:r};return null!=o&&(n.result=o),JSON.stringify(n)},e.prototype.actionListener=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!["playQualityUpdate","publishQualityUpdate","soundLevelUpdate","capturedSoundLevelUpdate"].includes(e)&&this.listenerList[e]){var s=o.getReportSeq();this.dataReport.newReport(s,a.ZegoRTCLogEvent.kZegoListener.event),this.dataReport.addMsgInfo(s,{listener:e,params:r}),this.dataReport.uploadReport(s)}this.listenerList[e]&&this.listenerList[e].forEach((function(o){try{setTimeout((function(){o.apply(void 0,r)}),0)}catch(r){t.logger.error(n.ZEGO_WEBRTC_ACTION.STATECENTER_ACTION_LISTENER+" "+e+" "+r)}}))},e.prototype.getRoomByRoomID=function(e){return this.roomList.find((function(t){return t.roomID==e}))},e.prototype.getPlayRoom=function(e){return this.roomList.find((function(t){return!!t.streamList.find((function(t){return t.stream_id==e}))}))},e}();t.StateCenter=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaUtil=void 0;var o=r(3),n=function(){function e(e,t){var r=this,o=t.type,n=t.channels,i=void 0===n?1:n,a=t.bufferSize,s=void 0===a?0:a,l=t.sampleBit,c=void 0===l?16:l,u=t.sampleRate,d=void 0===u?44100:u;this.instant=0,this.slow=0,this.clip=0,this.context=e,this.type=o,this.channels=i,this.bufferSize=s,this.sampleBit=c,this.sampleRate=d,this.script=e.createScriptProcessor(s,i,i),(new Date).getTime(),this.script.addEventListener("audioprocess",(function(e){var t,n=e.inputBuffer.getChannelData(0),i=0,a=0;for(t=0;t<n.length;++t)i+=n[t]*n[t],Math.abs(n[t])>.99&&(a+=1);if(r.instant=Math.sqrt(i/n.length),r.slow=.95*r.slow+.05*r.instant,r.clip=a/n.length,"pcm"===o||"wav"===o){for(var s=[],l=0;l<r.channels;l++)s.push(e.inputBuffer.getChannelData(l));r.recorderBuffer(s)}})),"pcm"!==o&&"wav"!==o||this.initRecorderBuffer(o)}return e.prototype.connectToSource=function(e,t){try{this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==t&&t(null)}catch(e){console.error(e),void 0!==t&&t(e)}return this},e.prototype.recorderBuffer=function(e){this.worker.postMessage({command:"record",val:e})},e.prototype.initRecorderBuffer=function(e){var t=this;this.worker=o.ClientUtil.inlineWorker((function(){var e,t,r,o,n,i,a=[],s=this;function l(e,t,r){for(var o=0;o<r.length;o++,t+=2){var n=Math.max(-1,Math.min(1,r[o]));e.setInt16(t,n<0?32768*n:32767*n,!0)}}function c(e,t,r){for(var o=0;o<r.length;o++,t++){var n=Math.max(-1,Math.min(1,r[o])),i=n<0?128*n:127*n;i+=128,e.setInt8(t,i)}}function u(e,t,r){for(var o=0;o<r.length;o++)e.setUint8(t+o,r.charCodeAt(o))}function d(e,t){for(var r=new Float32Array(t.length/e),o=0,n=0;o<r.length;)r[o]=t[n],n+=e,o++;return r}function p(e,t,r){for(var o=new Float32Array(t*e.length),n=0,i=0;i<r[0].length;i++)o.set(r[0][i],n),n+=r[0][i].length;return o}function h(e,t){for(var r=new Float32Array(e.length+t.length),o=0;o<e.length+t.length;o+=2)r[o]=e[o/2>>0],r[o+1]=t[o/2>>0];return r}function f(t){var r,o;if(1==e)r=p(a[0],n,a),1!=t&&(o=d(t,r));else if(2==e){var i=p(a[0],n,a),s=p(a[1],n,a);1!=t?o=h(d(t,i),d(t,s)):r=h(i,s)}return 1!=t?o:r}function g(e){var r=function(e,r){var o;8==r?o=e.length:16==r&&(o=e.length,o*=2);var n=new ArrayBuffer(o),i=new DataView(n);return 8==r?c(i,0,e):16==t&&l(i,0,e),i}(f(e),t);s.postMessage({command:"exportPcmLive",val:r})}function m(o){var n=function(o,n){var i;8==n?i=o.length:16==t&&(i=o.length,i*=2);var a=new ArrayBuffer(i+44),s=new DataView(a),d=r,p=t,h=e;return u(s,0,"RIFF"),s.setUint32(4,36+i,!0),u(s,8,"WAVE"),u(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,h,!0),s.setUint32(24,d,!0),s.setUint32(28,d*h*(p/8),!0),s.setUint16(32,h*(p/8),!0),s.setUint16(34,p,!0),u(s,36,"data"),s.setUint32(40,i,!0),8==t?c(s,44,o):16==t&&l(s,44,o),s}(f(o),t);s.postMessage({command:"exportWav",val:n})}this.onmessage=function(s){switch(s.data.command){case"init":l=s.data.val,e=l.sampleChannel,t=l.sampleBit,r=l.sampleRate,o=l.oldSampleRate,n=l.bufferSize,i=l.type;break;case"record":!function(t){for(var n=0;n<e;n++)a[n]||(a[n]=[]),a[n].push(t[n]);var s=Math.round(o/r);"pcm"===i?g(s):"wav"===i&&m(s),a=[]}(s.data.val)}var l}})),this.worker.postMessage({command:"init",val:{sampleChannel:this.channels,sampleBit:this.sampleBit,sampleRate:this.sampleRate,oldSampleRate:this.context.sampleRate,bufferSize:this.bufferSize,type:e}}),this.worker.onmessage=function(e){switch(e.data.command){case"exportPcmLive":t.onReceiveBuffer(e.data.val);break;case"exportWav":t.onReceiveWav(e.data.val)}}},e.prototype.onReceiveBuffer=function(e){},e.prototype.onReceiveWav=function(e){},e.prototype.writeString=function(e,t,r){for(var o=0;o<r.length;o++)e.setUint8(t+o,r.charCodeAt(o))},e.prototype.writeBuffer=function(e,t,r){for(var o=0;o<r.byteLength;o++)e.setUint8(t+o,r[o])},e.prototype.concatenation=function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].buffer.byteLength;var o=new Uint8Array(t),n=0;for(r=0;r<e.length;++r)o.set(new Uint8Array(e[r].buffer),n),n+=e[r].buffer.byteLength;return o},e.prototype.encodeWave=function(e){var t=this.concatenation(e),r=t.byteLength,o=new ArrayBuffer(r+44),n=new DataView(o),i=this.sampleRate,a=this.sampleBit,s=this.channels;return this.writeString(n,0,"RIFF"),n.setUint32(4,36+r,!0),this.writeString(n,8,"WAVE"),this.writeString(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,s,!0),n.setUint32(24,i,!0),n.setUint32(28,i*s*(a/8),!0),n.setUint16(32,s*(a/8),!0),n.setUint16(34,a,!0),this.writeString(n,36,"data"),n.setUint32(40,r,!0),this.writeBuffer(n,44,t),n},e.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},e}();t.MediaUtil=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RTCModules=void 0;var o=r(0),n=r(1),i=r(3),a=r(16),s=r(17),l=r(18),c=r(19),u=r(20),d=r(2),p=function(){function e(e,t,r,o,n,i){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=o,this.rtm=n,this.ac=i,this.mediaEleSources=[],this.publishModule=new s.PublishModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm),this.playModule=new l.PlayModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm),this.advancedModule=new u.AdvancedModule(this.logger,this.dataReport,this.streamCenter,this.stateCenter),this.audioMixModule=new c.AudioMixModule(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.ac),this.init()}return e.prototype.init=function(){this.bindWindowListener(),this.bindRTMListener(),this.bindStreamCenterHandler()},e.prototype.bindWindowListener=function(){var e=this,t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),r=i.ClientUtil.getBrowser(),a=t?"pagehide":"Firefox"===r?"beforeunload":"unload";window.addEventListener(a,(function(){for(var t in window.event&&(window.event.cancelBubble=!0),e.streamCenter.publisherList)e.publishModule.stopPublishingStream(t);for(var t in e.streamCenter.playerList)e.playModule.stopPlayingStream(t)})),window.addEventListener("message",(function(t){var r=t.data,o=r.type,n=r.streamId,a=r.canRequestAudioTrack;"SS_DIALOG_SUCCESS"===o&&e.screenStreamFrom(n,a,i.ClientUtil.actionSuccessCallback("screenShare",e.stateCenter.callbackList)),"SS_DIALOG_CANCEL"===o&&i.ClientUtil.actionSuccessCallback("screenShare",e.stateCenter.callbackList)(!1,null,o)})),window.addEventListener("offline",(function(){for(var t in e.logger.info("zc.off.0 newtwork is broken"),e.stateCenter.networkState=o.ENUM_NETWORK_STATE.offline,e.streamCenter.publisherList)(r=e.streamCenter.publisherList[t].retryStreamHandler).startMaxTime(),r.invalid();for(var t in e.streamCenter.playerList){var r;(r=e.streamCenter.playerList[t].retryStreamHandler).startMaxTime(),r.invalid()}})),window.addEventListener("online",(function(t){for(var r in e.logger.info("zc.on.0 network is online"),e.stateCenter.networkState=o.ENUM_NETWORK_STATE.online,e.streamCenter.publisherList){var i=e.streamCenter.publisherList[r].publisher,a=e.streamCenter.publisherList[r].retryStreamHandler;i.state==o.ENUM_PUBLISH_STATE.stop||i.stateNego!==o.ENUM_PUBLISH_STATE_NEGO.iceConnected?!a.isOverTime&&a.publishStateHandle(o.ENUM_PUBLISH_STATE_UPDATE.error,r,n.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNetworkBrokenError):i.state==o.ENUM_PUBLISH_STATE.publishing&&a.stopMaxTime()}for(var r in e.streamCenter.playerList){var s=e.streamCenter.playerList[r].player;a=e.streamCenter.playerList[r].retryStreamHandler,s.state==o.ENUM_PLAY_STATE.stop||s.stateNego!==o.ENUM_PLAY_STATE_NEGO.iceConnected?!a.isOverTime&&a.playStateHandle(o.ENUM_PLAY_STATE_UPDATE.error,r,n.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNetworkBrokenError):s.state==o.ENUM_PLAY_STATE.playing&&a.stopMaxTime()}})),window.addEventListener("visibilitychange",(function(t){if(Object.keys(e.streamCenter.publisherList).length>0||Object.keys(e.streamCenter.playerList).length>0){var r=o.getReportSeq();e.dataReport.newReport(r,n.ZegoRTCLogEvent.kZegoVisibilityChange.event),e.dataReport.uploadReport(r)}}))},e.prototype.bindRTMListener=function(){var e,t,r=this;this.rtm._on("roomLoginResponse",(function(e){r.logger.info("zc.rlr call "+JSON.stringify(e));var t=e.header.room_id;r.stateCenter.appid=r.rtm.getAppID(),r.stateCenter.idName=r.rtm.getUserID(),r.stateCenter.testEnvironment=r.rtm.isTestEnvironment(),r.stateCenter.isMultiRoom=r.rtm.getMultiRoom(),r.streamCenter.setSessionInfo(r.stateCenter.appid,r.stateCenter.idName,r.stateCenter.testEnvironment);var o=r.rtm.getToken(t),n=r.rtm.getSessionId(t),i=r.rtm.getRoomSessionID(t),s=r.stateCenter.getRoomByRoomID(t);if(!s){var l=new a.StreamHandler(r.logger,r.stateCenter,r.rtm,r.dataReport,r.streamCenter,t);r.bindStreamHandler(l),s={roomID:t,streamHandler:l,sessionID:n,roomSessionID:i,token:o,isResetRoom:!1,streamList:[],streamInfoList:[]},r.stateCenter.roomList.push(s),l.handleStreamStart(e,s)}s.sessionID=n,s.roomSessionID=i,r.logger.info("zc.rlr end "+t)})),this.rtm._on("HBResponse",(function(e){var t,o=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id,n=r.stateCenter.getRoomByRoomID(o);"PUBLIC"===r.stateCenter.type&&(null==n||n.streamHandler.patchStreamList(e))})),this.rtm._on("_roomStateUpdate",(function(e,t,o,n){if("DISCONNECTED"==t){r.logger.info("zc.rsu "+e+" disconnected "+(o?o+" ":"")+(n||""));var i=r.stateCenter.getRoomByRoomID(e);if(i){var a=r.stateCenter.roomList.findIndex((function(t){return t.roomID==e}));i.isResetRoom=!0,i.streamHandler.reset(),r.streamCenter.reset(e),r.stateCenter.roomList.splice(a,1)}}else r.logger.info("zc.rsu "+e+" state: "+t)})),this.rtm._on("_tokenRenewed",(function(e,t){r.logger.info("zc.tr roomID:"+t+" "+e);var o=r.stateCenter.getRoomByRoomID(t);o&&(o.token=e)})),this.rtm.service.on("stream",(function(e){var t,o=(null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id)||"",n=r.stateCenter.getRoomByRoomID(o);n?n.streamHandler.handleStreamUpdateRsp(e):r.logger.error(d.ZEGO_WEBRTC_ACTION.ON_STREAM+" room no found")})),null===(e=this.rtm.service)||void 0===e||e.on("push_stream_update",(function(e){var t,o=(null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id)||"",n=r.stateCenter.getRoomByRoomID(o);n?n.streamHandler.handlePushStreamUpdateMsg(e):r.logger.error(d.ZEGO_WEBRTC_ACTION.ON_PUSH_STREAM_UPDATE+" room no found")})),null===(t=this.rtm.service)||void 0===t||t.on("zegochat_js.push_room_stream_update_req",(function(e){var t,o=(null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.room_id)||"",n=r.stateCenter.getRoomByRoomID(o);n?n.streamHandler.handlePriPushStreamUpdateMsg(e):r.logger.error(d.ZEGO_WEBRTC_ACTION.ON_STREAM+" room no found")}))},e.prototype.bindStreamCenterHandler=function(){var e=this;this.streamCenter.onPlayStateUpdate=function(t,r,n){var a=e.stateCenter.reportSeqList.startPlay[r],s=e.streamCenter.playerList[r];if(1==t&&s&&i.ClientUtil.isReDispatch(n)){var l=s.player,c=s.retryDispatchHandler,u=s.playOption;return 0!=l.sessionId&&l.signal&&l.shouldSendCloseSession()&&(l.signal.sendCloseSession(o.getSeq(),l.sessionId,1),l.signal.removeSession(l.sessionId),l.closeSessionSignal=!0),l.resetPlay(),c.stopMaxTime(),c.invalid(),c.initStream(r,u,!1),void(e.rtm.isLogin()?(c.startMaxTime(),c.active(0)):e.streamCenter.playerList[r].isReDispatch=!0)}s&&s.player&&(0==t||1==t)&&a&&(e.dataReport.eventEndWithMsgInfo(a,"PlayState",{type:t}),1==t&&n&&e.dataReport.addMsgInfo(a,n),e.dataReport.uploadReport(a),delete e.stateCenter.reportSeqList.startPlay[r]),1===t&&e.streamCenter.playErrorCallBackList[r]&&(e.streamCenter.playErrorCallBackList[r]({errorCode:n&&n.code,extendedData:n&&n.message}),delete e.streamCenter.playErrorCallBackList[r],e.logger.info("zc.opsu.1 stop play called by sdk"),e.playModule.stopPlayingStream(r)),e.stateCenter.actionListener("playerStateUpdate",{state:i.ClientUtil.getPlayerStateType(t),streamID:r,errorCode:n&&n.code,extendedData:n&&n.message})},this.streamCenter.onPublishStateUpdate=function(t,r,o){e.onPublishStateUpdateHandle(t,r,o)},this.streamCenter.onPublishQualityUpdate=function(t,r){e.stateCenter.actionListener("publishQualityUpdate",t,r)},this.streamCenter.onPlayQualityUpdate=function(t,r){e.stateCenter.actionListener("playQualityUpdate",t,r)},this.streamCenter.onRemoteCameraStatusUpdate=function(t,r,i){var a=o.getReportSeq();e.dataReport.newReport(a,n.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.event),e.dataReport.addMsgInfo(a,{stream:n.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.stream(t),status:n.ZegoRTCLogEvent.kZegoTaskRemoteCameraUpdate.status(r)}),e.dataReport.uploadReport(a),e.stateCenter.actionListener("remoteCameraStatusUpdate",t,r),e.stateCenter.actionListener("_remoteCameraStatusUpdate",t,i)},this.streamCenter.onRemoteMicStatusUpdate=function(t,r,i){var a=o.getReportSeq();e.dataReport.newReport(a,n.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.event),e.dataReport.addMsgInfo(a,{stream:n.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.stream(t),status:n.ZegoRTCLogEvent.kZegoTaskRemoteMicUpdate.status(r)}),e.dataReport.uploadReport(a),e.stateCenter.actionListener("remoteMicStatusUpdate",t,r),e.stateCenter.actionListener("_remoteMicStatusUpdate",t,i)},this.streamCenter.onSoundLevelUpdate=function(t){e.stateCenter.actionListener("soundLevelUpdate",t)},this.streamCenter.onMicSoundLevelUpdate=function(t){e.stateCenter.actionListener("capturedSoundLevelUpdate",t)}},e.prototype.bindStreamHandler=function(e){var t=this;e.onStreamUpdated=function(e,r,a){var s;s="PRIVATE"===t.stateCenter.type?a.map((function(e){return{streamID:e.stream_id,user:{userID:e.user_id,userName:e.user_name},extraInfo:e.extra_info,title:e.title,streamVer:e.stream_ver}})):a.map((function(e){return{streamID:e.streamID,user:e.user,extraInfo:e.extraInfo,urlsFLV:e.urlFlv,urlsRTMP:e.urlRtmp,urlsHLS:e.urlHls,urlsHttpsFLV:e.urlHttpsFlv,urlsHttpsHLS:e.urlHttpsHls}}));var l={};if(0===r){var c=a.map((function(e){return{stream_id:e.streamID,code:o.STREAM_DELETE_REASON[e.closeType]&&o.STREAM_DELETE_REASON[e.closeType].code||0,description:o.STREAM_DELETE_REASON[e.closeType]&&o.STREAM_DELETE_REASON[e.closeType].description||"unknown"}}));l.stream_delete_reason=c}var u=o.getReportSeq();if(t.dataReport.newReport(u,n.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamUpdateInfo.event),t.dataReport.addMsgInfo(u,{stream_update_type:n.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamUpdateInfo.stream_update_type(1===r?"added":"deleted"),update_stream:n.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamUpdateInfo.update_stream(s)}),t.dataReport.uploadReport(u),t.stateCenter.actionListener("roomStreamUpdate",e,i.ClientUtil.getSteamUpdateType(r),s,Object.keys(l).length>0?JSON.stringify(l):""),t.stateCenter.actionListener("_streamUpdated",r,a),1===r){var d=[];s.forEach((function(e){e.extraInfo&&d.push({streamID:e.streamID,user:e.user,extraInfo:e.extraInfo})})),d.length>0&&t.stateCenter.actionListener("streamExtraInfoUpdate",e,d)}},e.onPublishStateUpdate=function(e,r,o){t.logger.info("zb.opsu ",r);var n=t.stateCenter.reportSeqList.startPublish[r],a=t.streamCenter.publisherList[r];a&&a.publisher&&(0==e||1==e)&&n&&(t.dataReport.eventEndWithMsgInfo(n,"PublishState",{type:e}),1==e&&t.dataReport.addMsgInfo(n,o),t.dataReport.uploadReport(n),delete t.stateCenter.reportSeqList.startPublish[r]),t.stateCenter.actionListener("publisherStateUpdate",{state:i.ClientUtil.getPublisherStateType(e),streamID:r,errorCode:o.code,extendedData:o.message})},e.onStreamExtraInfoUpdated=function(e,r){var i;i="PUBLIC"===t.stateCenter.type?r.map((function(e){return{streamID:e.streamID,user:e.user,extraInfo:e.extraInfo}})):r.map((function(e){return{streamID:e.stream_id,user:{userID:e.user_id,userName:e.user_name},extraInfo:e.extra_info,title:e.title,streamVer:e.stream_ver}}));var a=o.getReportSeq();t.dataReport.newReport(a,n.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamExtraInfo.event),t.dataReport.addMsgInfo(a,{update_stream:n.ZegoRTCLogEvent.kZegoTaskLiveRoomGetStreamExtraInfo.update_stream(i)}),t.dataReport.uploadReport(a),t.stateCenter.actionListener("streamExtraInfoUpdate",e,i)}},e.prototype.screenStreamFrom=function(e,t,r){var o={};o.audio={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e}},o.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxWidth:window.screen.width,maxHeight:window.screen.height}},!t&&(o.audio=!1),navigator.mediaDevices.getUserMedia(o).then((function(e){r(!0,e)})).catch((function(e){r(!1,null,e)}))},e.prototype.onPublishStateUpdateHandle=function(e,t,r){var n=this;this.logger.info("zc.opsuh.0 call");var a=this.streamCenter.publisherList[t],s=a.room;if(s)if(0==e){if(this.stateCenter.publishStreamList[t])if([o.ENUM_PUBLISH_STREAM_STATE.tryPublish,o.ENUM_PUBLISH_STREAM_STATE.retryPublish].includes(this.stateCenter.publishStreamList[t].state)&&!s.streamList.find((function(e){return e.stream_id==t}))){this.stateCenter.publishStreamList[t].state=o.ENUM_PUBLISH_STREAM_STATE.update_info;var l=void 0;l="PUBLIC"===this.stateCenter.type?o.ENUM_STREAM_SUB_CMD.liveBegin:o.ENUM_STREAM_CMD_PRI.liveBegin,s.streamHandler.updateStreamInfo(t,l,this.stateCenter.publishStreamList[t].extra_info,(function(e){"PRIVATE"===n.stateCenter.type&&n.stateCenter.publishStreamList[t]&&n.stateCenter.publishStreamList[t].state==o.ENUM_PUBLISH_STREAM_STATE.update_info&&(n.stateCenter.publishStreamList[t].state=o.ENUM_PUBLISH_STREAM_STATE.stop,s.streamHandler.onPublishStateUpdate(1,t,e),n.publishModule.stopPublishingStream(t))}))}else this.stateCenter.publishStreamList[t].state=o.ENUM_PUBLISH_STREAM_STATE.publishing,this.WebrtcOnPublishStateUpdateHandle(e,t,r)}else{if(1==e&&a&&i.ClientUtil.isReDispatch(r)){var c=a.publisher,u=a.retryDispatchHandler,d=a.publishOption;return 0!=c.sessionId&&c.signal&&c.shouldSendCloseSession()&&(c.signal.sendCloseSession(o.getSeq(),c.sessionId,1),c.signal.removeSession(c.sessionId),c.closeSessionSignal=!0),c.resetPublish(),u.stopMaxTime(),u.invalid(),u.initStream(t,d,!0),void(this.rtm.isLogin()?(u.startMaxTime(),u.active(0)):this.streamCenter.publisherList[t].isReDispatch=!0)}s.streamHandler.onPublishStateUpdate(e,t,r),1==e&&(this.logger.info("zc.opsuh.0 stop publish called by sdk"),this.publishModule.stopPublishingStream(t))}else this.logger.error("zc.opsuh.0 room not exist")},e.prototype.WebrtcOnPublishStateUpdateHandle=function(e,t,r){if(this.stateCenter.publishStreamList[t].state==o.ENUM_PUBLISH_STREAM_STATE.publishing){var n=this.streamCenter.getRoomByStreamID(t);n&&n.streamHandler.onPublishStateUpdate(e,t,r)}},e.prototype.bindListener=function(e,t){return this.stateCenter.listenerList[e]?"function"!=typeof t?(this.logger.error("zc.o.0 listener callBack must be funciton"),!1):(-1==this.stateCenter.listenerList[e].indexOf(t)&&this.stateCenter.listenerList[e].push(t),!0):(this.logger.error("zc.o.0 event "+e+" no found"),!1)},e.prototype.deleteListener=function(e,t){if(!this.stateCenter.listenerList[e])return this.logger.error("zc.o.1 listener no found"),!1;var r=this.stateCenter.listenerList[e];return t?r.splice(r.indexOf(t),1):this.stateCenter.listenerList[e]=[],!0},e}();t.RTCModules=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamHandler=void 0;var o=r(0),n=r(3),i=r(0),a=r(1),s=r(4),l=r(2),c=function(){function e(e,t,r,o,n,i){this.logger=e,this.stateCenter=t,this.rtm=r,this.dataReport=o,this.streamCenter=n,this.roomID=i,this.minStreamSeq=0,this.streamSeq=0,this.streamQuerying=!1,this.streamSeqMergeMap=null,this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3}return e.prototype.setCDNInfo=function(e,t){e.urlFlv=t.urls_flv instanceof Array?t.urls_flv[0]:"string"==typeof t.urls_flv?t.urls_flv:"",e.urlHls=t.urls_m3u8 instanceof Array?t.urls_m3u8[0]:"string"==typeof t.urls_m3u8?t.urls_m3u8:"",e.urlHttpsFlv=t.urls_https_flv instanceof Array?t.urls_https_flv[0]:"string"==typeof t.urls_https_flv?t.urls_https_flv:"",e.urlHttpsHls=t.urls_https_m3u8 instanceof Array?t.urls_https_m3u8[0]:"string"==typeof t.urls_https_m3u8?t.urls_https_m3u8:"",e.urlRtmp=t.urls_rtmp instanceof Array?t.urls_rtmp[0]:"string"==typeof t.urls_rtmp?t.urls_rtmp:""},e.prototype.onStreamUpdated=function(e,t,r){},e.prototype.onStreamExtraInfoUpdated=function(e,t){},e.prototype.handleStreamStart=function(e,t){this.logger.info("zb.sh.hss call stream update"),this.room=t,e.body?(this.streamListHBMergeInterval=e.body.stream_list_hb_wait_merge_time||2e3,this.streamListMergeInterval=e.body.stream_list_push_merge_timeout||5e3,this.streamQuerying=!1,this.handleFullUpdateStream(e.body.stream_seq,e.body.stream_info||[]),this.handleReconnectStream(e.body.stream_info),this.logger.info("zb.sh.hss call end")):this.logger.error("zb.sh.hss server response wrong")},e.prototype.onPublishStateUpdate=function(e,t,r){},e.prototype.updateStreamInfo=function(e,t,r,i){var a,l,c,u=this;if(void 0===r&&(r=""),this.logger.info("zb.sh.usi call"),"PUBLIC"===this.stateCenter.type){var d={stream_id:e,extra_info:r},p=JSON.stringify(d);l={sub_cmd:t,stream_msg:p,third_token:null===(a=this.room)||void 0===a?void 0:a.token},c="stream"}else l={room_header:{room_id:this.roomID,room_sid:this.rtm.getRoomSid()||"0",room_user_session_id:this.rtm.getRoomSessionID()||"0"},stream_id:e,extra_info:r,title:"",stream_sid:this.stateCenter.publishStreamList[e].sid},c=t;var h=this.room;this.room.streamInfoList[e]={},this.room.streamInfoList[e].seq=this.rtm.service.sendMessage(c,l,(function(e,t){u.handleStreamUpdateRsp(e)}),(function(a,l){var c=u.room;if(c&&!c.isResetRoom&&!u.rtm.service.isDisConnect()&&a.code&&a.code==s.errorCodeList.TIMEOUT.code&&c.streamInfoList[e].seq==l)2001==t&&u.stateCenter.publishStreamList[e]&&u.stateCenter.publishStreamList[e].state==o.ENUM_PUBLISH_STREAM_STATE.update_info||2002==t?setTimeout((function(){u.updateStreamInfo(e,t,r,i)}),0):i&&i(s.errorCodeList.TIMEOUT);else if(a.body&&a.body.err_code){var d=n.ClientUtil.getServerError(a.body.err_code);i&&i(d,l),t===o.ENUM_STREAM_SUB_CMD.liveBegin&&u.onPublishStateUpdate(o.ENUM_PUBLISH_STATE_UPDATE.error,e,d)}}),void 0,{sessionID:null==h?void 0:h.sessionID,roomID:null==h?void 0:h.roomID,roomSessionID:null==h?void 0:h.roomSessionID}),this.logger.info("zb.sh.usi call success cmd "+t)},e.prototype.handleStreamUpdateRsp=function(e){if(this.rtm.service.isDisConnect())this.logger.error("zb.sh.hsur not login");else if(0==e.body.err_code){this.logger.info("zb.sh.hsur stream seq "+this.streamSeq+" server seq "+e.body.stream_seq),"PUBLIC"===this.stateCenter.type?this.streamSeq=e.body.stream_seq:this.streamSeq++;var t=this.room;if(t)if("PUBLIC"===this.stateCenter.type)for(var r=function(r){var i=e.body.stream_info[r].stream_id,a=n.stateCenter.publishStreamList[i];if(!a)return n.logger.info("hsur.0 stream is not exist"),{value:void 0};a.state==o.ENUM_PUBLISH_STREAM_STATE.update_info&&(a.state=o.ENUM_PUBLISH_STREAM_STATE.publishing,t.streamList.find((function(e){return e.stream_id==i}))||t.streamList.push(e.body.stream_info[r]),n.onPublishStateUpdate(o.ENUM_PUBLISH_STATE_UPDATE.start,i,{code:0,message:""})),delete t.streamInfoList[i]},n=this,i=0;i<e.body.stream_info.length;i++){var a=r(i);if("object"==typeof a)return a.value}else{var s=e.body.stream_id;this.stateCenter.publishStreamList[s]&&this.stateCenter.publishStreamList[s].state==o.ENUM_PUBLISH_STREAM_STATE.update_info&&(this.stateCenter.publishStreamList[s].state=o.ENUM_PUBLISH_STREAM_STATE.publishing,this.stateCenter.publishStreamList[s].sid=e.body.stream_sid,this.stateCenter.publishStreamList[s].ver=e.body.stream_ver,t.streamList.find((function(e){return e.stream_id==s}))||t.streamList.push({stream_id:e.body.stream_id,stream_seq:e.body.stream_seq,stream_sid:e.body.stream_sid,stream_ver:e.body.stream_ver,user_id:"",user_name:""}),this.onPublishStateUpdate(0,s,{code:0,message:""})),delete t.streamInfoList[s]}else this.logger.info("hsur.0 room no found")}else this.logger.error("zb.sh.hsur stream update error "+e.body.err_code)},e.prototype.handleFetchStreamListRsp=function(e){this.logger.info("zb.sh.hfslr call"),this.streamQuerying=!1,0===e.body.err_code?this.streamSeq!==e.body.stream_seq?(this.handleFullUpdateStream(e.body.stream_seq,e.body.stream_info),this.logger.info("zb.sh.hfslr call success")):this.logger.info("zb.sh.hfslr same seq"):this.logger.info("zb.sh.hfslr server error=",e.body.err_code)},e.prototype.handleFullUpdateStream=function(e,t){var r=this;this.logger.info("zb.sh.hfus call"),this.streamSeq=e,this.logger.debug("zb.sh.hfus server seq "+this.streamSeq),n.ClientUtil.mergeStreamList(this.stateCenter.idName,this.room.streamList,t,(function(e,t,n){0!==e.length&&(r.logger.debug("zb.sh.hfus callback addstream"),r.onStreamUpdated(r.roomID,o.ENUM_STREAM_UPDATE_TYPE.added,r.makeCallbackStreamList(e))),0!==t.length&&(r.logger.debug("zb.sh.hfus callback delstream"),r.onStreamUpdated(r.roomID,o.ENUM_STREAM_UPDATE_TYPE.deleted,r.makeCallbackStreamList(t))),0!==n.length&&(r.logger.debug("zb.sh.hfus callback updatestream"),r.onStreamExtraInfoUpdated(r.roomID,r.makeCallbackStreamList(n)))})),this.logger.info("zb.sh.hfus call success")},e.prototype.handlePushStreamUpdateMsg=function(e){if(this.logger.info("zb.sh.hpsum call"),e.body.stream_info&&0!==e.body.stream_info.length){if(e.body.stream_info.length+this.streamSeq!==e.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream"),void this.fetchStreamList();switch(this.streamSeq=e.body.stream_seq,e.body.stream_cmd){case o.ENUM_STREAM_UPDATE_CMD.added:this.handleAddedStreamList(e.body.stream_info);break;case o.ENUM_STREAM_UPDATE_CMD.deleted:this.handleDeletedStreamList(e.body.stream_info);break;case o.ENUM_STREAM_UPDATE_CMD.updated:this.handleUpdatedStreamList(e.body.stream_info)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},e.prototype.handlePriPushStreamUpdateMsg=function(e){if(this.logger.info("zb.sh.hpsum call"),e.body.streams_info&&0!==e.body.streams_info.length){if(e.body.streams_info.length+this.streamSeq!==e.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream"),void this.mergeStreamByStreamSeq(e.body.stream_cmd,e.body.stream_seq,e.body.streams_info);switch(this.streamSeq=e.body.stream_seq,e.body.stream_cmd){case o.ENUM_STREAM_UPDATE_CMD_PRI.added:this.handleAddedStreamList(e.body.streams_info);break;case o.ENUM_STREAM_UPDATE_CMD_PRI.deleted:this.handleDeletedStreamList(e.body.streams_info);break;case o.ENUM_STREAM_UPDATE_CMD_PRI.updated:this.handleUpdatedStreamList(e.body.streams_info)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},e.prototype.handleAddedStreamList=function(e){this.logger.debug("zb.sh.hasl call");for(var t,r=[],n=0;n<e.length;n++)if(e[n].anchor_id_name!=this.stateCenter.idName&&e[n].user_id!==this.stateCenter.idName){t=!1;for(var i=0;i<this.room.streamList.length;i++)if(e[n].stream_id===this.room.streamList[i].stream_id){t=!0;break}t||r.push(e[n])}else this.logger.debug("hdsl.0 have self stream added");if(0!==r.length){this.logger.debug("zb.sh.hasl callback addstream");for(var a=0;a<r.length;a++)this.room.streamList.push(r[a]);this.onStreamUpdated(this.roomID,o.ENUM_STREAM_UPDATE_TYPE.added,this.makeCallbackStreamList(r))}this.logger.info("zb.sh.hasl call success")},e.prototype.handleDeletedStreamList=function(e){this.logger.debug("zb.sh.hdsl call");for(var t=[],r=0;r<e.length;r++)if(e[r].anchor_id_name!=this.stateCenter.idName&&e[r].user_id!==this.stateCenter.idName){for(var n=this.room.streamList.length-1;n>=0;n--)if(e[r].stream_id===this.room.streamList[n].stream_id){this.room.streamList.splice(n--,1),t.push(e[r]);break}}else this.logger.debug("zb.sh.hdsl have self stream deleted");0!==t.length&&(this.logger.debug("zb.sh.hdsl callback delstream"),this.onStreamUpdated(this.roomID,o.ENUM_STREAM_UPDATE_TYPE.deleted,this.makeCallbackStreamList(t))),this.logger.info("zb.sh.hdsl call")},e.prototype.handleUpdatedStreamList=function(e){this.logger.debug("zb.sh.husl call");for(var t=[],r=0;r<e.length;r++)if(e[r].anchor_id_name!=this.stateCenter.idName&&e[r].user_id!==this.stateCenter.idName){for(var o=0;o<this.room.streamList.length;o++)if(e[r].stream_id===this.room.streamList[o].stream_id){e[r].extra_info!==this.room.streamList[o].extra_info&&(this.room.streamList[o]=e[r],t.push(e[r]));break}}else this.logger.debug("hsul.0 have self stream updated");0!==t.length&&(this.logger.debug("zb.sh.husl callback updatestream"),this.onStreamExtraInfoUpdated(this.roomID,this.makeCallbackStreamList(t))),this.logger.info("zb.sh.husl call success")},e.prototype.fetchStreamList=function(){if(this.logger.info("zb.sh.fsl call"),this.rtm.service.isDisConnect())this.logger.info("zb.sh.fsl state error");else if(this.streamQuerying)this.logger.info("zb.sh.fsl already doing");else if(this.streamQuerying=!0,this.logger.debug("zb.sh.fsl send fetch request"),"PUBLIC"===this.stateCenter.type){var e={reserve:0},t=this.room;this.rtm.service.sendMessage("stream_info",e,this.handleFetchStreamListRsp.bind(this),(function(e,t){}),void 0,{roomID:null==t?void 0:t.roomID,sessionID:null==t?void 0:t.sessionID,roomSessionID:null==t?void 0:t.roomSessionID}),this.logger.info("zb.sh.fsl call success")}else{if(!this.rtm.isLogin(this.roomID))return void this.logger.info("zb.sh.fsl room state error");e={room_header:{room_id:this.roomID,room_sid:this.rtm.getRoomSid()||"0",room_user_session_id:this.rtm.getRoomSessionID()||"0"}},this.rtm.service.sendMessage("zegochat_js.room_info_req",e,this.handleFetchStreamListRsp.bind(this),(function(e,t){}))}},e.prototype.handleReconnectStream=function(e){this.logger.info("zb.sh.hrs call");var t=this.streamCenter.publisherList,r=this.streamCenter.playerList,n=function(r){if(t[r].roomID!==i.roomID)return"continue";if(t[r].publisher.state!=o.ENUM_PUBLISH_STATE.publishing||e.find((function(e){return e.stream_id==r}))){if(t[r].publisher.state==o.ENUM_PUBLISH_STATE.stop&&e.find((function(e){return e.stream_id==r}))){a=void 0,a="PUBLIC"===i.stateCenter.type?o.ENUM_STREAM_SUB_CMD.liveEnd:o.ENUM_STREAM_CMD_PRI.liveEnd,i.updateStreamInfo(r,a);for(var n=0;n<i.room.streamList.length;n++)if(i.room.streamList[n].stream_id==r){i.room.streamList.splice(n--,1);break}}}else{var a=void 0;a="PUBLIC"===i.stateCenter.type?o.ENUM_STREAM_SUB_CMD.liveBegin:o.ENUM_STREAM_CMD_PRI.liveBegin,i.updateStreamInfo(r,a,i.stateCenter.publishStreamList[r].extra_info)}},i=this;for(var a in t)n(a);for(var a in t)t[a].roomID===this.roomID&&t[a].isReDispatch&&(this.logger.info("zb.sh.hrs "+a+"retry dispatch"),(s=t[a].retryDispatchHandler).stopMaxTime(),s.invalid(),s.initStream(a,t[a].publishOption,!0),s.active(0),t[a].isReDispatch=!1);for(var a in r){var s;r[a].roomID===this.roomID&&r[a].isReDispatch&&(this.logger.info("zb.sh.hrs "+a+"retry dispatch"),(s=r[a].retryDispatchHandler).stopMaxTime(),s.invalid(),s.initStream(a,r[a].playOption,!1),s.active(0),r[a].isReDispatch=!1)}this.logger.info("zb.sh.hrs end")},e.prototype.makeCallbackStreamList=function(e){var t=[];if("PUBLIC"===this.stateCenter.type){if(e&&e.length>0)for(var r=0;r<e.length;r++){var o={user:{userID:e[r].anchor_id_name,userName:e[r].anchor_nick_name},extraInfo:e[r].extra_info,streamID:e[r].stream_id,roomID:"",urlFlv:"",urlRtmp:"",urlHls:"",urlHttpsFlv:"",urlHttpsHls:"",streamGID:e[r].stream_gid,closeType:e[r].close_type};this.setCDNInfo(o,e[r]),t.push(o)}}else if(e&&e.length>0)for(r=0;r<e.length;r++)o={user_id:e[r].user_id,user_name:e[r].user_name,stream_id:e[r].stream_id,stream_sid:e[r].stream_sid,extra_info:e[r].extra_info,title:e[r].title,stream_ver:e[r].stream_ver},t.push(o);return t},e.prototype.updateMixStream=function(e,t,r){var l,c=this;if(this.logger.info("zb.sh.ums call"),!e.noTaskID&&!e.taskID)return this.logger.error("zb.sh.ums no taskId found"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDNullError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDNullError.message}),!1;if(!e.noTaskID&&"string"!=typeof e.taskID)return this.logger.error("zb.rh.lg taskId must be string"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.noTaskID&&e.taskID.length>o.MAX_MIX_TASK_ID_LENGTH)return this.logger.error("zb.sh.ums taskId is too long"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDToLongError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDToLongError.message}),!1;if(!e.noTaskID&&!n.ClientUtil.checkIllegalCharacters(e.taskID))return this.logger.error("zb.sh.ums task ID contains illegal characters"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDInvalidCharacterError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kTaskIDInvalidCharacterError.message}),!1;if(!e.inputList||0==e.inputList.length)return this.logger.error("zb.sh.ums input list wrong"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputListNullError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInputListNullError.message}),!1;e.inputList.forEach((function(e){"AUDIO"===e.contentType&&(!e.layout&&(e.layout={top:0,left:0,bottom:0,right:0}),e.layout.top=0,e.layout.left=0,e.layout.bottom=1,e.layout.right=1)}));for(var u=e.inputList.every((function(e){return"AUDIO"===e.contentType})),d=0;d<e.inputList.length;d++){var p=e.inputList[d];if("object"!=typeof p.layout)return this.logger.error("zb.sh.ums input layout must be object"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!(n.ClientUtil.checkInteger(p.layout.top,!1)&&n.ClientUtil.checkInteger(p.layout.bottom,!1)&&n.ClientUtil.checkInteger(p.layout.left,!1)&&n.ClientUtil.checkInteger(p.layout.right,!1)))return this.logger.error("zb.sh.ums top、left、bottom、right must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1}if(!e.outputList||0==e.outputList.length)return this.logger.error("zb.sh.ums no output list found"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputListNullError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputListNullError.message}),!1;if(e.outputList.some((function(e){return"string"==typeof e&&!n.ClientUtil.isUrl(e)&&!n.ClientUtil.checkIllegalCharacters(e)||"object"==typeof e&&e.target&&!n.ClientUtil.isUrl(e.target)&&!n.ClientUtil.checkIllegalCharacters(e.target)})))return this.logger.error("zb.sh.ums stream output target is incorrect"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.message}),!1;if(!(u||e.outputConfig&&"object"==typeof e.outputConfig))return this.logger.error("zb.sh.ums no output config found"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputNoTargetError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputNoTargetError.message}),!1;if(u&&(void 0===e.outputConfig&&(e.outputConfig={outputBitrate:0,outputFPS:0,outputWidth:0,outputHeight:0}),e.outputConfig.outputBitrate=.001,e.outputConfig.outputFPS=1,e.outputConfig.outputWidth=1,e.outputConfig.outputHeight=1),!(u||e.outputConfig.outputBitrate&&n.ClientUtil.checkInteger(e.outputConfig.outputBitrate)))return this.logger.error("zb.sh.ums bitrate param is required and must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.outputConfig.outputFPS||!n.ClientUtil.checkInteger(e.outputConfig.outputFPS))return this.logger.error("zb.sh.ums fps param is required and must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.outputConfig.outputWidth||!n.ClientUtil.checkInteger(e.outputConfig.outputWidth))return this.logger.error("zb.sh.ums width param is required and must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(!e.outputConfig.outputHeight||!n.ClientUtil.checkInteger(e.outputConfig.outputHeight))return this.logger.error("zb.sh.ums height param is required and must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==e.outputConfig.outputAudioCodecID&&!n.ClientUtil.checkInteger(e.outputConfig.outputAudioCodecID,!1))return this.logger.error("zb.sh.ums AudioCodecID param must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==e.outputConfig.outputAudioBitrate&&!n.ClientUtil.checkInteger(e.outputConfig.outputAudioBitrate))return this.logger.error("zb.sh.ums AudioBitrate param must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;if(void 0!==e.outputConfig.outputAudioChannels&&!n.ClientUtil.checkInteger(e.outputConfig.outputAudioChannels,!1))return this.logger.error("zb.sh.ums AudioChannels param must be integer number"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kParamError.message}),!1;var h=0;e.outputConfig.singleStreamPassThrough&&"boolean"==typeof e.outputConfig.singleStreamPassThrough&&(h=e.outputConfig.singleStreamPassThrough?1:0);var f={task_id:e.taskID,id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:o.PROTO_VERSION,bypass:h},g=this.stateCenter.mixStreamAdvance;g&&(g.videoCodec&&(f.extra_params=[{key:"video_encode",value:g.videoCodec}]),g.backgroundColor&&(f.output_bg_color=g.backgroundColor),g.backgroundImage&&(f.output_bg_image=g.backgroundImage),g.waterMark&&(f.watermark=g.waterMark),g.extraParams&&(!f.extra_params&&(f.extra_params=[]),(l=f.extra_params).push.apply(l,g.extraParams)));var m=[];for(d=0;d<e.inputList.length;d++){var v=e.inputList[d],b=v.streamID;this.stateCenter.testEnvironment&&(b="zegotest-"+this.stateCenter.appid+"-"+v.streamID),m.push({stream_id:b,content_control:"AUDIO"===v.contentType?1:0,rect:{layer:d,top:v.layout.top,left:v.layout.left,bottom:v.layout.bottom,right:v.layout.right}})}f.MixInput=m,n.ClientUtil.actionSuccessCallback("kZegoTaskMixStart"+e.taskID,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback("kZegoTaskMixStart"+e.taskID,this.stateCenter.reportList)(i.REPORT_ACTION.addMsgInfo,void 0,{mix_stream_id:a.ZegoRTCLogEvent.kZegoTaskMixStart.mix_stream_id(e.taskID),stream_cnt:a.ZegoRTCLogEvent.kZegoTaskMixStart.stream_cnt(m.length),input_stream_list:a.ZegoRTCLogEvent.kZegoTaskMixStart.input_stream_list(m)});var _=[];e.outputList.forEach((function(t){var o={},n="";if("string"==typeof t)n=t;else{if("object"!=typeof t||!t.target)return c.logger.error("zb.sh.ums output target required"),r({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kOutputTargetInvalidError.message}),!1;n=t.target}n.startsWith("rtmp://")||n.startsWith("https://")&&n.endsWith(".flv")||n.startsWith("https://")&&n.endsWith(".m3u8")?o.mixurl=n:c.stateCenter.testEnvironment?o.stream_id="zegotest-"+c.stateCenter.appid+"-"+n:o.stream_id=n,o.bitrate=1e3*e.outputConfig.outputBitrate,o.fps=e.outputConfig.outputFPS,o.width=e.outputConfig.outputWidth,o.height=e.outputConfig.outputHeight,e.outputConfig.outputAudioCodecID&&(o.audio_enc_id=e.outputConfig.outputAudioCodecID),"vp8"===g.videoCodec?o.audio_enc_id=3:"h264"===g.videoCodec&&(o.audio_enc_id=0),e.outputConfig.outputAudioBitrate&&(o.audio_bitrate=1e3*e.outputConfig.outputAudioBitrate),e.outputConfig.outputAudioChannels&&(o.audio_channel_cnt=e.outputConfig.outputAudioChannels),c.stateCenter.testEnvironment?o.testenv=1:o.testenv=0,_.push(o)})),f.MixOutput=_,n.ClientUtil.actionSuccessCallback("kZegoTaskMixStart"+e.taskID,this.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback("kZegoTaskMixStart"+e.taskID,this.stateCenter.reportList)(i.REPORT_ACTION.addMsgInfo,void 0,{output_target_list:a.ZegoRTCLogEvent.kZegoTaskMixStart.output_target_list(_)});var E={channel:"zeus",cmd:"start_mix",req_body:JSON.stringify(f)};return this.logger.debug("zb.sh.ums send command"),this.sendBizChannelRequest(E,(function(e,i,a){c.logger.debug("zb.sh.ums receive message");var s="zegotest-"+c.stateCenter.appid+"-";if(0!=a.length){for(var l=JSON.parse(a),u=[],d=0;d<l.play.length;d++){var p={rtmpURL:"",hlsURL:"",flvURL:""},h=l.play[d].stream_alias||"";c.stateCenter.testEnvironment&&h&&h.startsWith(s)&&(h=h.slice(s.length)),p.streamID=h,l.play[d].rtmp_url&&l.play[d].rtmp_url.length>0&&(p.rtmpURL=l.play[d].rtmp_url),l.play[d].hls_url&&l.play[d].hls_url.length>0&&(p.hlsURL=l.play[d].hls_url),l.play[d].hdl_url&&l.play[d].hdl_url.length>0&&(p.flvURL=l.play[d].hdl_url),u.push(p)}if(t){var f={mixerOutputList:u};t({errorCode:0,extendedData:JSON.stringify(f)})}}else r&&r({errorCode:n.ClientUtil.getServerError(o.MIXSTREAM_ERROR_CODE+1).code,extendedData:""})}),(function(e,t,o){if("number"==typeof e){c.logger.debug("zb.sh.ums error: "+e);var i=[];if(1000000150==e&&0!=o.length)for(var l=JSON.parse(o),u="zegotest-"+c.stateCenter.appid+"-",d=0;d<l.non_exist_streams.length;d++){var p=l.non_exist_streams[d];c.stateCenter.testEnvironment&&p.startsWith(u)?i.push(p.slice(u.length)):i.push(p)}r&&r({errorCode:n.ClientUtil.getServerError(e).code,extendedData:""})}else{c.logger.debug("zb.sh.ums error code "+e.code);var h=void 0;h=e==s.errorCodeList.TIMEOUT?a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kRequestError:a.ZegoRTCLogEvent.kZegoTaskMixStart.error.kInternalError,r&&r({errorCode:h.code,extendedData:h.message})}})),!0},e.prototype.sendBizChannelRequest=function(e,t,r,o){var n=this;void 0===o&&(o=!1),e=Object.assign(e,{is_retry_req:o?1:0});var i=this.room;this.rtm.service.sendMessage("biz_channel",e,(function(e,r){t(e.header.seq,e.body.cmd,e.body.rsp_body)}),(function(o,i){var a=o.body.err_code,s=o.body.rsp_body;"number"!=typeof a||2002!==a?r(a,i,s):n.sendBizChannelRequest(e,t,r,!0)}),void 0,{roomID:null==i?void 0:i.roomID,sessionID:null==i?void 0:i.sessionID,roomSessionID:null==i?void 0:i.roomSessionID})},e.prototype.setMixerTaskConfig=function(e){var t=this;return new Promise((function(r,o){var s,l={},c={};if(e&&e.videoCodec){var u=e.videoCodec.toLowerCase();if(-1==["vp8","h264"].indexOf(u))return t.logger.error("zb.sh.ums param videoCode error"),o({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kVideoConfigInvalidError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kVideoConfigInvalidError.message}),!1;l.videoCodec=u,c.video_codec=u}if(e.backgroundColor){if(!n.ClientUtil.checkInteger(e.backgroundColor))return t.logger.error("zb.sh.ums param backgroundColor must be integer number"),o({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;l.backgroundColor=e.backgroundColor,c.background_color=e.backgroundColor}if(e.backgroundImage){if("string"!=typeof e.backgroundImage)return t.logger.error("zb.sh.ums param outputBgImage error"),o({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kParamError.message}),!1;if(!e.backgroundImage.startsWith("preset-id://")||!e.backgroundImage.endsWith(".jpg")&&!e.backgroundImage.endsWith(".png"))return t.logger.error("zb.sh.ums illegal input background image URL"),o({errorCode:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kBackgroundImageUrlInvalidError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskMixConfig.error.kBackgroundImageUrlInvalidError.message}),!1;l.backgroundImage=e.backgroundImage,c.background_image=e.backgroundImage}e.waterMark&&(l.waterMark=e.waterMark,c.water_mark=e.waterMark),e.extraParams&&(l.extraParams||(l.extraParams=[]),(s=l.extraParams).push.apply(s,e.extraParams)),t.stateCenter.mixStreamAdvance=l,n.ClientUtil.actionSuccessCallback("kZegoTaskMixConfig",t.stateCenter.reportList)&&n.ClientUtil.actionSuccessCallback("kZegoTaskMixConfig",t.stateCenter.reportList)(i.REPORT_ACTION.addMsgInfo,void 0,{config:a.ZegoRTCLogEvent.kZegoTaskMixConfig.config(c)}),r({errorCode:0,extendedData:""})}))},e.prototype.stopMixStream=function(e,t,r,i,l){var c=this;this.logger.info("zb.sh.sms call");var u={id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:o.PROTO_VERSION};"string"==typeof e&&(u.task_id=e),null!=i?this.stateCenter.testEnvironment?u.stream_id="zegotest-"+this.stateCenter.appid+"-"+i:u.stream_id=i:null!=l&&(u.mixurl=l);var d={channel:"zeus",cmd:"stop_mix",req_body:JSON.stringify(u)};return this.sendBizChannelRequest(d,(function(){t&&t({errorCode:0})}),(function(e){if("number"==typeof e)r&&r({errorCode:n.ClientUtil.getServerError(o.MIXSTREAM_ERROR_CODE+e).code,extendedData:""});else{c.logger.error("zb.sh.sms stop mix fail "+JSON.stringify(e));var t=void 0;t=e==s.errorCodeList.TIMEOUT?a.ZegoRTCLogEvent.kZegoTaskMixStop.error.kRequestError:a.ZegoRTCLogEvent.kZegoTaskMixStop.error.kInternalError,r&&r({errorCode:t.code,extendedData:t.message})}})),!0},e.prototype.updateStreamExtraInfo=function(e,t,r,n){var i;this.logger.info("zb.sh.usei call"),i="PUBLIC"===this.stateCenter.type?o.ENUM_STREAM_SUB_CMD.liveUpdate:o.ENUM_STREAM_CMD_PRI.liveUpdate,this.stateCenter.publishStreamList[e]&&this.stateCenter.publishStreamList[e].state>=o.ENUM_PUBLISH_STREAM_STATE.update_info?(this.stateCenter.publishStreamList[e].extra_info=t,this.updateStreamInfo(e,i,t),r({errorCode:0})):n(a.ZegoRTCLogEvent.kZegoTaskLiveRoomSendStreamExtraInfo.error.kUpdateStreamInfoFailError)},e.prototype.setStreamExtraInfo=function(e,t,r,o){this.updateStreamExtraInfo(e,t,r,o)},e.prototype._publishTarget=function(e,t,r){var n=this;this.logger.info("zb.sh.ptcall");var i=Math.ceil((new Date).getTime()/1e3),l=e.streamID;this.stateCenter.testEnvironment&&(l="zegotest-"+this.stateCenter.appid+"-"+e.streamID);var c={appid:this.stateCenter.appid,biz_type:0,timestamp:i,seq:this.stateCenter.cdnSeq++,version:1*o.PROTO_VERSION,stream_id:l,pushurl:e.pushUrl},u={channel:"media",cmd:e.type,req_body:JSON.stringify(c)};this.logger.debug("zb.sh.pt send command"),this.sendBizChannelRequest(u,(function(o,i,l){if(n.logger.info("zb.sh.pt receive message"),0!=l.length){var c=JSON.parse(l),u=c.code,d=c.message;u&&0!=u?(n.logger.error("zb.sh.pt "+e.type+" error code: "+u+" "+d),r(s.errorCodeList.UNKNOWN_SERVER_ERROR," cmd: "+e.type+" "+u+" "+d)):(n.logger.info("zb.sh.pt "+e.type+" success"),t&&t({errorCode:0,extendedData:""}))}else r(a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kNoResponseError)}),(function(t,o,i){n.logger.info("zb.sh.pt error: "+t);var s=a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kUnknownServerError;2001==t?a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kInvalidChannelError:2002==t&&(s=a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kBizChannelError),n.logger.error("zb.sh.pt "),r(s," cmd: "+e.type+" "+t+"   ")}))},e.prototype.patchStreamList=function(e){var t=this;e.body.stream_seq===this.streamSeq||this.streamSeqMergeMap||(this.logger.info(l.ZEGO_WEBRTC_ACTION.STREAMHANDLER_PATCH_STREAM_LIST+" call update stream "+this.streamSeq+" server "+e.body.stream_seq),this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout((function(){t.handleMergeTimeout()}),this.streamListHBMergeInterval)),this.minStreamSeq=e.body.stream_seq},e.prototype.mergeStreamByStreamSeq=function(e,t,r){var o=this;this.streamSeqMergeMap||(this.logger.warn(l.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ+" new merge stream list "+this.streamSeq+" server "+t),this.streamSeqMergeMap={},this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout((function(){o.handleMergeTimeout()}),this.streamListMergeInterval)),this.logger.info(l.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM_BY_STREAM_SEQ+" "+this.streamSeqMergeMap+" "+e+" "+t+" "+r),this.streamSeqMergeMap[t]={cmd:e,streamList:r}},e.prototype.handleMergeTimeout=function(){if(this.streamSeqMergeMap){var e=Object.keys(this.streamSeqMergeMap).map((function(e){return+e})).sort((function(e,t){return e-t}));e[e.length-1]-e[0]+1===e.length||e[e.length-1]>=this.minStreamSeq?this.mergeStream(e):(this.streamSeqMergeMap=null,this.fetchStreamList())}},e.prototype.mergeStream=function(e){var t=this;this.logger.info(l.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM+" merge streamList "+this.streamSeq+" streamSeqList "+e.join(","));var r=e[e.length-1],n=[];e.forEach((function(e){if(t.streamSeqMergeMap&&t.streamSeqMergeMap[e])switch(t.streamSeqMergeMap[e].cmd){case o.ENUM_STREAM_UPDATE_CMD.added:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=n.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&n.splice(t),n.push(e)}));break;case o.ENUM_STREAM_UPDATE_CMD.deleted:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=n.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&n.splice(t)}));break;case o.ENUM_STREAM_UPDATE_CMD.updated:t.streamSeqMergeMap[e].streamList.forEach((function(e){var t=n.findIndex((function(t){return t.stream_id==e.stream_id}));-1!==t&&n.splice(t),n.push(e)}))}})),this.streamSeqMergeMap=null,this.logger.info(l.ZEGO_WEBRTC_ACTION.STREAMHANDLER_MERGE_STREAM+" "+n),this.handleFullUpdateStream(r,n)},e.prototype.reset=function(){this.minStreamSeq=0,this.streamSeqMergeMap=null,this.streamSeqMergeTimer&&(clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=void 0),this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3},e.prototype.getRoomInfo=function(){var e=this;return new Promise((function(t,r){if(e.rtm.isLogin(e.roomID)){var o=function(e,o){if(0!==e.body.code)r({errorCode:e.body.code,extendData:e.body.message});else{var n=e.body.streams_info.map((function(e){return{streamID:e.stream_id,user:{userID:e.user_id,userName:e.user_name},extraInfo:e.extra_info}}));t({streamList:n})}},n={room_header:{room_id:e.roomID,room_sid:e.rtm.getRoomSid()||"0",room_user_session_id:e.rtm.getRoomSessionID()||"0"}};e.rtm.service.sendMessage("zegochat_js.room_info_req",n,o,o)}else e.logger.error("zn.rh.gri no enter room")}))},e}();t.StreamHandler=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublishModule=void 0;var o=r(2),n=r(0),i=r(1),a=r(3),s=r(4),l=r(7),c=r(6),u=function(){function e(e,t,r,o,n){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=o,this.rtm=n}return e.prototype.createStream=function(e){var t=this;return this.logger.info(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" call"),e&&e.camera&&e.camera.audioBitRate&&(e.camera.audioBitrate=e.camera.audioBitRate),e&&e.camera&&e.camera.bitrate&&(e.camera.bitRate=e.camera.bitrate),e&&e.screen&&"object"==typeof e.screen&&e.screen.bitrate&&(e.screen.bitRate=e.screen.bitrate),e&&e.custom&&e.custom.bitrate&&(e.custom.bitRate=e.custom.bitrate),new Promise((function(r,s){var l="camera",u=n.getReportSeq();t.dataReport.newReport(u,i.ZegoRTCLogEvent.kZegoTaskCreateStream.event);var d=function(e){if(0==e.getAudioTracks().length){var o=t.streamCenter.ac.createMediaStreamDestination(),n=o?o.stream:null,i=n?n.getAudioTracks()[0]:null;i&&e.addTrack(i)}t.dataReport.uploadReport(u),!t.stateCenter.deviceInfos&&t.recordDevices(),r(e),t.streamCenter.activeSoundLevel()},p=function(e,r){void 0===r&&(r=""),t.dataReport.addMsgInfo(u,{error:e.code,message:e.message+r}),t.dataReport.uploadReport(u),s({code:e.code,msg:e.message+r})};if("https:"!==window.location.protocol&&"file:"!==window.location.protocol&&-1==window.location.hostname.indexOf("127.0.0.1")&&-1==window.location.hostname.indexOf("localhost"))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" https or localhost required "),void p({code:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError.code,message:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError.message+" https or localhost required"});if(e&&e.screen){if(l="screen",!a.ClientUtil.checkScreenParams(e.screen,p))return;var h=a.ClientUtil.getBrowser(),f=t.streamCenter.getScreenConstrains(e.screen);t.dataReport.addMsgInfo(u,{stream_type:i.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type("screen"),screen:i.ZegoRTCLogEvent.kZegoTaskCreateStream.screen(f)});var g=function(e){t.streamCenter.createScreenPreviewer(e,f)&&d(e),e.getVideoTracks()[0].onended=function(){var r=n.getReportSeq();t.dataReport.newReport(r),t.dataReport.uploadReport(r,i.ZegoRTCLogEvent.kZegoTaskScreenSharingEnded),e&&t.stopPreview(e),t.stateCenter.actionListener("screenSharingEnded",e)}};"Firefox"==h||"object"==typeof e.screen&&"firefox"==e.screen.type?t.startScreenShotFirFox("screen",f,(function(e,t,r){e?t&&g(t):r&&p(r)})):"Chrome"==h&&c.ZegoWebRTC.screenShotReady||"object"==typeof e.screen&&"shot"==e.screen.type?t.startScreenShotChrome((function(r,n,a){r?(t.logger.info(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" using extension"),n&&g(n)):(a&&t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" extension "+a),"SS_DIALOG_CANCEL"===a||"object"==typeof e.screen&&"shot"==e.screen.type?a&&p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenCancelError):t.startScreenSharing(f,(function(e,r,n){e?r&&g(r):(t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" "+n),n&&p(n))})))})):t.startScreenSharing(f,(function(e,t,r){e?t&&g(t):r&&p(r)}))}else{if(e&&"object"==typeof e.camera&&void 0!==e.camera.videoQuality&&!a.ClientUtil.checkInteger(e.camera.videoQuality))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" videoQuality must be integer number"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," videoQuality must be integer number");if(e&&e.camera&&e.camera.audioBitrate){if(!a.ClientUtil.checkInteger(e.camera.audioBitrate))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" audioBitrate must be integer number"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate must be integer number");if(e.camera.audioBitrate<6)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" audioBitrate cannot less 6 kbps"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot less 6 kbps");if(e.camera.audioBitrate>510)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" audioBitrate cannot greater than 510 kbps"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot greater than 510 kbps");t.stateCenter.audioBitRate=1e3*e.camera.audioBitrate}if(e&&e.camera&&e.camera.bitRate){if("number"!=typeof e.camera.bitRate)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate must be integer number"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be integer number");if(e.camera.bitRate>10240)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate cannot greater than 10 Mbps"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate cannot greater than 10 Mbps")}if(e&&e.camera&&void 0!==e.camera.channelCount&&!a.ClientUtil.checkInteger(e.camera.channelCount))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" channelCount must be integer number"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," channelCount must be integer number");if(e&&e.camera&&4===e.camera.videoQuality&&!a.ClientUtil.checkCameraParams(e.camera,p))return;if(e&&e.custom&&e.custom.bitRate){if(!a.ClientUtil.checkInteger(e.custom.bitRate))return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate must be integer number"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate must be integer number");if(e.custom.bitRate>10240)return t.logger.error(o.ZEGO_WEBRTC_ACTION.CREATE_STREAM+" bitrate cannot greater than 10 Mbps"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," bitrate cannot greater than 10 Mbps")}if(e&&e.custom&&e.custom.audioBitrate){if(!a.ClientUtil.checkInteger(e.custom.audioBitrate))return t.logger.error("ze.cs.0 audioBitrate must be integer number"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate must be integer number");if(e.custom.audioBitrate<6)return t.logger.error("ze.cs.0 audioBitrate cannot less 6 kbps"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot less 6 kbps");if(e.custom.audioBitrate>510)return t.logger.error("ze.cs.0 audioBitrate cannot greater than 510 kbps"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," audioBitrate cannot greater than 510 kbps")}if(e&&e.custom&&void 0!==e.custom.channelCount&&1!==e.custom.channelCount&&2!==e.custom.channelCount)return t.logger.error("ze.cs.0 channelCount must number 1 or 2"),void p(i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kParamError," channelCount must number 1 or 2");var m={};e&&e.camera?(l="camera",m=e.camera,t.dataReport.addMsgInfo(u,{stream_type:i.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type("camera"),camera:i.ZegoRTCLogEvent.kZegoTaskCreateStream.camera(e.camera)}),"boolean"!=typeof m.video&&(m.video=!0),"boolean"!=typeof m.audio&&(m.audio=!0)):e&&e.custom&&(l="custom",m=e.custom,t.dataReport.addMsgInfo(u,{stream_type:i.ZegoRTCLogEvent.kZegoTaskCreateStream.stream_type("custom"),custom:i.ZegoRTCLogEvent.kZegoTaskCreateStream.custom(e.custom)})),t.startPreview(m,l,d,p)}}))},e.prototype.destroyStream=function(e){this.logger.info(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" call");var t=n.getReportSeq();if(this.dataReport.newReport(t),!(e instanceof MediaStream))return this.logger.error(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" localStream is not mediaStream or tracks is null"),this.dataReport.addMsgInfo(t,i.ZegoRTCLogEvent.kZegoTaskDestroyStream.error.kLocalStreamError),void this.dataReport.uploadReport(t,i.ZegoRTCLogEvent.kZegoTaskDestroyStream.event);e instanceof MediaStream&&0==e.getTracks().length&&this.logger.info(o.ZEGO_WEBRTC_ACTION.DESTROY_STREAM+" tracks is null"),this.stopPreview(e),this.dataReport.uploadReport(t,i.ZegoRTCLogEvent.kZegoTaskDestroyStream.event)},e.prototype.startPublishingStream=function(e,t,r){this.logger.info(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" call ",e);var s,l=!0,c="",u=n.getReportSeq();if(this.stateCenter.reportSeqList.startPublish[e]=u,this.dataReport.newReport(u,i.ZegoRTCLogEvent.kZegoTaskPublishStart.event),l&&void 0===e&&(c="stream id required",this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+c),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError),!l||e&&"string"==typeof e||(c="stream id type wrong",this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+c),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError),l&&e.length>n.MAX_STREAM_ID_LENGTH&&(c="stream id length limit",this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+c),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError),l&&!a.ClientUtil.checkIllegalCharacters(e)&&(c="stream ID contains illegal characters",this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+c),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError),l&&(!t||t instanceof MediaStream&&0==t.getTracks().length)&&(c="localStream wrong",this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+c),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError),l&&!this.streamCenter.checkPreview(t)&&(c="stream is not from zego",this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+c),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNoPreviewError),l&&void 0!==r&&"object"!=typeof r&&(l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError,c="publishOption must be object"),l&&void 0!==r&&void 0!==r.streamParams&&"string"!=typeof r.streamParams&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" publishOption streamParams must be string"),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError,c=" publishOption streamParams must be string"),l&&void 0!==r&&void 0!==r.extraInfo&&"string"!=typeof r.extraInfo&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" publishOption extraInfo must be string"),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError,c=" publishOption extraInfo must be string"),l&&void 0!==r&&void 0!==r.videoCodec&&"string"!=typeof r.videoCodec&&(this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" publishOption videoCodec must be string"),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError,c=" publishOption videoCodec must be string"),!l||!this.stateCenter.isMultiRoom||r&&"string"==typeof r.roomID&&""!=r.roomID||(l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishParamError,c=" roomID is need if set multi room"),r&&r.videoCodec&&(r.videoCodec=r.videoCodec.toUpperCase()),l&&this.rtm.service.isDisConnect()&&(this.logger.error("zc.p.sps.1 not login"),l=!1,s=i.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNoLoginError),!l)return this.logger.error(o.ZEGO_WEBRTC_ACTION.START_PUBLISHING_STREAM+" "+c),this.dataReport.uploadReport(u,void 0,s,c),delete this.stateCenter.reportSeqList.startPublish[e],!1;r||(r={}),this.dataReport.addMsgInfo(u,{stream:i.ZegoRTCLogEvent.kZegoTaskPublishStart.stream(e),publishOption:i.ZegoRTCLogEvent.kZegoTaskPublishStart.publishOption(r)}),r.audioBitRate=this.stateCenter.audioBitRate;var d=r.roomID?r.roomID:this.stateCenter.roomList[0]?this.stateCenter.roomList[0].roomID:"",p=this.stateCenter.getRoomByRoomID(d);if(!p)return this.logger.error("zc.p.sps.1 room no found"),!1;if(this.dataReport.addMsgInfo(u,{publish_room_id:d,isMulti:this.stateCenter.isMultiRoom}),this.stateCenter.customUrl&&0!=this.stateCenter.customUrl.length)return this.stateCenter.publishStreamList[e]={state:n.ENUM_PUBLISH_STREAM_STATE.tryPublish,extra_info:r.extraInfo?r.extraInfo:null},this.streamCenter.setPublishStateStart(p,e,t,r)?(p.streamHandler.onPublishStateUpdate(n.ENUM_PUBLISH_STATE_UPDATE.retry,e,{code:0,message:""}),this.streamCenter.publisherList[e].serverUrls=this.stateCenter.customUrl,this.streamCenter.startPublishingStream(e)):(this.logger.info("zc.p.sps.1 cannot start publish"),!1);if(!this.streamCenter.setPublishStateStart(p,e,t,r))return this.logger.error("zc.p.sps.1 cannot start publish"),!1;this.stateCenter.publishStreamList[e]={state:n.ENUM_PUBLISH_STREAM_STATE.tryPublish,extra_info:r.extraInfo?r.extraInfo:null},this.logger.info("zc.p.sps.1 start publish"),p.streamHandler.onPublishStateUpdate(n.ENUM_PUBLISH_STATE_UPDATE.retry,e,{code:0,message:""});var h=this.streamCenter.publisherList[e].retryDispatchHandler;return h.stopMaxTime(),h.invalid(),h.initStream(e,r,!0),h.startMaxTime(),h.active(0)},e.prototype.activateSEIInsert=function(e,t,r){void 0===r&&(r=0);var n=this.streamCenter.checkPreview(e);if(!n)return this.logger.error(o.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" stream is not created"),!1;if(0!==t&&1!==t)return this.logger.error(o.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" value of “action” should be 0 or 1"),!1;n.activeteSEIConfig={action:t,infoType:r};var i=this.streamCenter.checkPublish(e);return i&&(null==i||i.publisher.activateSEIInsert(t,r)),!0},e.prototype.stopPublishingStream=function(e){this.logger.info(o.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+" call ",e);var t=n.getReportSeq();if(this.stateCenter.reportSeqList.stopPublish[e]=t,this.dataReport.newReport(t,i.ZegoRTCLogEvent.kZegoTaskPublishStop.event),this.dataReport.addMsgInfo(t,{streamID:i.ZegoRTCLogEvent.kZegoTaskPublishStop.stream(e)}),"string"!=typeof e||""==e)return this.logger.error(o.ZEGO_WEBRTC_ACTION.STOP_PUBLISHING_STREAM+" streamID must be string and not empty"),this.dataReport.uploadReport(t,void 0,i.ZegoRTCLogEvent.kZegoTaskPublishStop.error.kParamError,"stream id type error"),delete this.stateCenter.reportSeqList.stopPublish[e],!1;var r=this.streamCenter.publisherList[e],a=this.streamCenter.getRoomByStreamID(e),s=r&&r.publisher&&r.publisher.state!==n.ENUM_PUBLISH_STATE.stop;if(this.streamCenter.stopPublishingStream(e),this.stateCenter.publishStreamList[e]){if(this.stateCenter.publishStreamList[e].state>=n.ENUM_PUBLISH_STREAM_STATE.update_info&&a){var l=void 0;l="PUBLIC"===this.stateCenter.type?n.ENUM_STREAM_SUB_CMD.liveEnd:n.ENUM_STREAM_CMD_PRI.liveEnd,a.streamHandler.updateStreamInfo(e,l);for(var c=0;c<a.streamList.length;c++)if(a.streamList[c].stream_id==e){a.streamList.splice(c--,1);break}}delete this.stateCenter.publishStreamList[e]}return this.dataReport.uploadReport(t),a&&s&&a.streamHandler.onPublishStateUpdate(n.ENUM_PUBLISH_STATE_UPDATE.error,e,{code:0,message:""}),!0},e.prototype.setCaptureVolume=function(e,t){var r=this;return new Promise((function(n){var a;r.logger.info(o.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+" call");var s=function(e){r.logger.error(o.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+" "+e),n({errorCode:i.ZegoRTCLogEvent.kZegoSetCaptureVolume.error.kParamError.code,extendedData:JSON.stringify({fail_reason:i.ZegoRTCLogEvent.kZegoSetCaptureVolume.error.kParamError.message+" "+e})})},l=r.streamCenter.ac,c=r.streamCenter.checkPreview(e);if(e instanceof MediaStream&&c)if(0!=e.getAudioTracks().length)if("number"!=typeof t||t<0||t>100)s(" volume must be number between 0 to 100");else{if(c.gainNode)c.gainNode.gain.value=t/100;else{var u=l.createMediaStreamSource(e),d=l.createGain(),p=l.createMediaStreamDestination();u.connect(d),d.connect(p);var h=p.stream.getAudioTracks()[0];for(var f in r.streamCenter.publisherList){var g=r.streamCenter.publisherList[f];if(g.localStream==e){var m=null===(a=g.publisher.peerConnection)||void 0===a?void 0:a.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));m&&(m.replaceTrack(h),g.localStream.removeTrack(g.publisher.localStream.getAudioTracks()[0]),g.localStream.addTrack(h));break}}e.removeTrack(e.getAudioTracks()[0]),e.addTrack(h),c.gainNode=d,c.gainNode.gain.value=t/100}l.resume(),n({errorCode:0,extendedData:""}),r.logger.info(o.ZEGO_WEBRTC_ACTION.PUBLISH_SET_CAPTURE_VOLUME+" call success")}else s(" stream audioTrack no found");else s(" stream must be created by zego")}))},e.prototype.startScreenShotChrome=function(e){if(c.ZegoWebRTC.screenShotReady)window.postMessage({type:"SS_UI_REQUEST",text:"start"},"*"),a.ClientUtil.registerCallback("screenShare",{success:e},this.stateCenter.callbackList);else{var t='zc.b.ss Please install the extension:1. Go to chrome://extensions  2. Check: "Enable Developer mode   3. Click: "Load the unpacked extension... 4. Choose "extension" folder from the repository 5. Reload this page';this.logger.error(t),e(!1,null,{code:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" "+t})}},e.prototype.startScreenSharing=function(e,t){var r=this;"getDisplayMedia"in navigator.mediaDevices?navigator.mediaDevices.getDisplayMedia({audio:e.audio,video:{frameRate:e.frameRate,width:e.width,height:e.height}}).then((function(e){t(!0,e)})).catch((function(e){r.logger.error("zc.b.sss "+e),e.message&&"permission denied"==e.message.toLowerCase()?t(!1,null,i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenCancelError):t(!1,null,{code:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" "+e})})):(this.logger.error("zc.b.sss brower does not support getDisplayMedia"),t(!1,null,i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kBrowserNotSupportError))},e.prototype.startScreenShotFirFox=function(e,t,r){var o=this,n={video:{frameRate:t.frameRate,bitRate:t.bitRate,width:t.width,height:t.height,mediaSource:e},audio:t.audio};navigator.mediaDevices.getUserMedia(n).then((function(e){r(!0,e)})).catch((function(e){o.logger.error("ze.ssf.1 "+e),r(!1,null,{code:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.code,message:i.ZegoRTCLogEvent.kZegoTaskCreateStream.error.kScreenFailedError.message+" "+e})}))},e.prototype.startPreview=function(e,t,r,o){var n=this,i=null;return i=new l.ZegoPreview(this.logger,this.streamCenter.ac,this.streamCenter,t),this.streamCenter.previewStreamList.push(i),i.startPreview(e,(function(e){n.streamCenter.soundLevelDelegate&&(null==i||i.startSoundLevel()),"camera"===t&&(null==i?void 0:i.micTrack)&&(i.micTrack.enabled=n.streamCenter.isMicEnabled),n.logger.debug("zsc.sp.0 call success"),!n.stateCenter.deviceInfos&&n.recordDevices(),r&&r(e)}),(function(e){n.streamCenter.previewStreamList=n.streamCenter.previewStreamList.filter((function(e){return e!==i})),o&&o(e)})),!0},e.prototype.stopPreview=function(e){if(!e)return this.logger.warn("zsc.sp.0 localStream null"),!1;for(var t in this.streamCenter.publisherList)this.streamCenter.publisherList[t].localStream===e&&(this.streamCenter.publisherList[t].localStream=null);var r=this.streamCenter.checkPreview(e);return r?(r.previewSuc&&(r.stopPreview(),this.streamCenter.removePreview(r)),!0):(this.logger.warn("zsc.sp.0 no preview"),!1)},e.prototype.recordDevices=function(){var e=this;this.logger.info("zsc.rd.0 call"),a.ClientUtil.getDevices((function(t){e.stateCenter.deviceInfos={microphones:t.microphones,speakers:t.speakers,cameras:t.cameras}}),(function(t){e.logger.warn("zsc.rd.0 getDevices err:",t)})),void 0!==navigator.mediaDevices.ondevicechange&&(navigator.mediaDevices.ondevicechange=null,navigator.mediaDevices.ondevicechange=function(t){e.logger.info("zsc.rd.0 devicechange"),e.stateCenter.deviceChangeTimer&&(clearTimeout(e.stateCenter.deviceChangeTimer),e.stateCenter.deviceChangeTimer=null),e.stateCenter.deviceChangeTimer=setTimeout((function(){a.ClientUtil.getDevices((function(t){for(var r=[],o=function(o){var n=e.stateCenter.deviceInfos.cameras[o];t.cameras.find((function(e){return e.deviceID===n.deviceID}))||r.push(n)},a=0;a<e.stateCenter.deviceInfos.cameras.length;a++)o(a);e.stateCenter.deviceStateOut=!1;var l=!1;r.length>0&&(l=!0),r.forEach((function(t){for(var r in e.streamCenter.publisherList){var o=e.streamCenter.publisherList[r],a=o.publisher;o.localStream&&o.cameraLabel===t.deviceName&&(l=!1,a.sendStreamStatus(-6,a.mic_status),e.stateCenter.actionListener("deviceError",s.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,t.deviceName),e.stateCenter.actionListener("_deviceError",s.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,t.deviceName,"camera"));var c=n.getReportSeq();e.dataReport.newReport(c,i.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),e.dataReport.addMsgInfo(c,{interrupt:0}),e.dataReport.uploadReport(c),e.stateCenter.actionListener("videoDeviceStateChanged","DELETE",t),o.localStream&&0===o.localStream.getAudioTracks().length&&(l=!1)}})),l&&(e.stateCenter.deviceStateOut=!0),e.stateCenter.deviceInfos.microphones.filter((function(e){return!t.microphones.find((function(t){return t.deviceID===e.deviceID}))})).forEach((function(t){for(var r in e.streamCenter.publisherList){var o=e.streamCenter.publisherList[r],a=o.publisher;o.localStream&&(o.microLabel===t.deviceName||o.microLabel.includes(t.deviceName))&&(a.sendStreamStatus(a.camera_status,-6),e.stateCenter.actionListener("deviceError",s.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,e.streamCenter.publisherList[r].microLabel),e.stateCenter.actionListener("_deviceError",s.errorCodeList.DEVICE_ERROR_TYPE_UNPLUGGED.code,e.streamCenter.publisherList[r].microLabel,"micro"));var l=n.getReportSeq();e.dataReport.newReport(l,i.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),e.dataReport.addMsgInfo(l,{interrupt:0}),e.dataReport.uploadReport(l),e.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Input",t)}}));var c=e.stateCenter.deviceInfos.speakers.filter((function(e){return!t.speakers.find((function(t){return t.deviceID===e.deviceID}))})),u=t.cameras.filter((function(t){return!e.stateCenter.deviceInfos.cameras.find((function(e){return e.deviceID===t.deviceID}))})),d=t.microphones.filter((function(t){return!e.stateCenter.deviceInfos.microphones.find((function(e){return e.deviceID===t.deviceID}))})),p=t.speakers.filter((function(t){return!e.stateCenter.deviceInfos.speakers.find((function(e){return e.deviceID===t.deviceID}))}));c.forEach((function(t){var r=n.getReportSeq();e.dataReport.newReport(r,i.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.event),e.dataReport.addMsgInfo(r,{reason:i.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.reason("delete"),device:i.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(t)}),e.dataReport.uploadReport(r),e.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Output",t)})),u.forEach((function(t){var r=n.getReportSeq();e.dataReport.newReport(r,i.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),e.dataReport.addMsgInfo(r,{interrupt:1}),e.dataReport.uploadReport(r),e.stateCenter.actionListener("videoDeviceStateChanged","ADD",t)})),d.forEach((function(t){var r=n.getReportSeq();e.dataReport.newReport(r,i.ZegoRTCLogEvent.kZegoTaskDeviceInterrupt.event),e.dataReport.addMsgInfo(r,{interrupt:1}),e.dataReport.uploadReport(r),e.stateCenter.actionListener("audioDeviceStateChanged","ADD","Input",t)})),p.forEach((function(t){var r=n.getReportSeq();e.dataReport.newReport(r,i.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.event),e.dataReport.addMsgInfo(r,{reason:i.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.reason("add"),device:i.ZegoRTCLogEvent.kZegoTaskAudioOutputChanged.device(t)}),e.dataReport.uploadReport(r),e.stateCenter.actionListener("audioDeviceStateChanged","ADD","Output",t)})),e.stateCenter.deviceInfos={microphones:t.microphones,speakers:t.speakers,cameras:t.cameras}}),(function(t){e.logger.warn("zsc.rd.0 getDevices err:",t)}))}),500)})},e}();t.PublishModule=u},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.PlayModule=void 0;var n=r(2),i=r(0),a=r(1),s=r(3),l=function(){function e(e,t,r,o,n){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=o,this.rtm=n}return e.prototype.startPlayingStream=function(e,t){var r=this;return this.logger.info(n.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+" call ",e),new Promise((function(o,n){return r._handlePlayStream(e,t,o,n)}))},e.prototype._handlePlayStream=function(e,t,r,l){var c=this,u=i.getReportSeq();this.stateCenter.reportSeqList.startPlay[e]=u,this.dataReport.newReport(u,a.ZegoRTCLogEvent.kZegoTaskPlayStart.event);var d=function(t,r){c.logger.error(n.ZEGO_WEBRTC_ACTION.START_PLAYING_STREAM+" "+(r||t.message)),c.dataReport.uploadReport(u,void 0,t,r),delete c.stateCenter.reportSeqList.startPlay[e],l&&l(o(o({},t),{errorCode:t.code,extendedData:t.message+(r?" "+r:"")}))};if(void 0===e||"string"!=typeof e||""===e)return d(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayParamError,"stream id type error"),!1;if(e.length>i.MAX_STREAM_ID_LENGTH)return d(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayStreamIDToLongError,"stream id length limit "+i.MAX_STREAM_ID_LENGTH),!1;if(!s.ClientUtil.checkIllegalCharacters(e))return d(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayStreamIDInvalidCharacterError),!1;if(void 0!==t&&"object"!=typeof t)return d(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayParamError,"playOption must be object"),!1;if(this.stateCenter.customUrl&&this.stateCenter.customUrl.length>0)return this.streamCenter.setPlayStateStart(e,t)?(this.streamCenter.onPlayStateUpdate(i.ENUM_PLAY_STATE_UPDATE.retry,e,{code:0,message:""}),this.streamCenter.playerList[e].serverUrls=this.stateCenter.customUrl,this.streamCenter.startPlayingStream(e,(function(e){r&&r(e)}))):(d(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRepeatedPullError,"cannot start play"),!1);if(this.dataReport.addMsgInfo(u,{stream:a.ZegoRTCLogEvent.kZegoTaskPlayStart.stream(e),playOption:a.ZegoRTCLogEvent.kZegoTaskPlayStart.playOption(t)}),this.rtm.service.isDisConnect())return d(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNoLoginError),!1;if(this.stateCenter.pullLimited||(e=NaN+e),t&&t.videoCodec&&(t.videoCodec=t.videoCodec.toUpperCase()),!this.streamCenter.setPlayStateStart(e,t))return d(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRepeatedPullError,"cannot start play"),!1;this.streamCenter.onPlayStateUpdate(i.ENUM_PLAY_STATE_UPDATE.retry,e,{code:0,message:""}),this.streamCenter.playSuccessCallBackList[e]=function(e){r&&r(e)},l&&(this.streamCenter.playErrorCallBackList[e]=l);var p=this.streamCenter.playerList[e].retryDispatchHandler;return p.stopMaxTime(),p.invalid(),p.initStream(e,t,!1),p.startMaxTime(),p.active(0)},e.prototype.stopPlayingStream=function(e){this.logger.info(n.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" call",e);var t=i.getReportSeq();if(this.stateCenter.reportSeqList.stopPlay[e]=t,this.dataReport.newReport(t,a.ZegoRTCLogEvent.kZegoTaskPlayStop.event),this.dataReport.addMsgInfo(t,{stream:a.ZegoRTCLogEvent.kZegoTaskPlayStop.stream(e)}),"string"!=typeof e||""===e)return this.logger.error(n.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" streamid must be string and not empty"),this.dataReport.uploadReport(t,void 0,a.ZegoRTCLogEvent.kZegoTaskPlayStop.error.kParamError,"stream id type error"),void delete this.stateCenter.reportSeqList.stopPlay[e];var r=this.streamCenter.playerList[e],o=r&&r.player&&r.player.state!==i.ENUM_PLAY_STATE.stop;for(var s in this.streamCenter.stopPlayingStream(e),this.stateCenter.streamUrlMap)if(this.stateCenter.streamUrlMap[s]===e){delete this.stateCenter.streamUrlMap[s];break}this.dataReport.uploadReport(t),o&&this.streamCenter.onPlayStateUpdate(i.ENUM_PLAY_STATE_UPDATE.error,e,{code:0,message:""}),this.logger.debug(n.ZEGO_WEBRTC_ACTION.STOP_PLAYING_STREAM+" call success")},e.prototype.mutePlayStream=function(e,t,r){var o=this;return this.logger.info("zsc.mps.0 call "+t+" "+r),new Promise((function(n,s){if("string"!=typeof e||""==e)return o.logger.error("zsc.mps.0 streamID must be string and not empty"),void s(!1);if("boolean"!=typeof r)return o.logger.error("zsc.mps.0 mute must be boolean"),void s(!1);var l=o.streamCenter.playerList[e];if(!l)return o.logger.error("zsc.mps.0 player not found"),void s(!1);if("video"===t){if(l.playOption&&!1===l.playOption.video||l.player&&0!==l.player.cameraStatus)return o.logger.error("zsc.mps.0 stream no contain video"),void s(!1);l.player.signal.ActivatePlayVideoStream(i.getSeq(),l.player.sessionId,r,(function(){o.logger.info("zsc.mps.0 suc");var e=i.getReportSeq();o.dataReport.newReport(e,a.ZegoRTCLogEvent.kZegoPlayContentChanged.event),o.dataReport.addMsgInfo(e,{session_id:a.ZegoRTCLogEvent.kZegoPlayContentChanged.session_id(l.player.sessionId),video_activate:a.ZegoRTCLogEvent.kZegoPlayContentChanged.video_activate(r?0:1),audio_activate:a.ZegoRTCLogEvent.kZegoPlayContentChanged.audio_activate(1==l.player.playOption.audio?1:0==l.player.playOption.audio?0:1)}),o.dataReport.uploadReport(e),n(!0)}),(function(){o.logger.error("zsc.mps.0 fail"),s(!1)}))}else{if(l.playOption&&!1===l.playOption.audio||l.player&&0!==l.player.micStatus)return o.logger.error("zsc.mps.0 stream no contain audio"),void s(!1);l.player.signal.ActivatePlayAudioStream(i.getSeq(),l.player.sessionId,r,(function(){o.logger.info("zsc.mps.0 suc");var e=i.getReportSeq();o.dataReport.newReport(e,a.ZegoRTCLogEvent.kZegoPlayContentChanged.event),o.dataReport.addMsgInfo(e,{session_id:a.ZegoRTCLogEvent.kZegoPlayContentChanged.session_id(l.player.sessionId),video_activate:a.ZegoRTCLogEvent.kZegoPlayContentChanged.video_activate(1==l.player.playOption.video?1:0==l.player.playOption.video?0:1),audio_activate:a.ZegoRTCLogEvent.kZegoPlayContentChanged.audio_activate(r?0:1)}),o.dataReport.uploadReport(e),n(!0)}),(function(){o.logger.error("zsc.mps.0 fail"),s(!1)}))}}))},e.prototype.setStreamAudioOutput=function(e,t){var r=this;return!(null==t||0==t.length||!e)&&(this.logger.debug("zsc.ssao.0 device "+t),e?"undefined"!==e.sinkId?(e.setSinkId(t).then((function(){r.logger.info("zsc.ssao.0 success device: "+t)})).catch((function(e){r.logger.info("zsc.ssao.0 "+e.name)})),!0):(this.logger.error("zsc.ssao.0 browser does not suppport"),!1):(this.logger.error("zsc.ssao.0 no localVideo"),!1))},e}();t.PlayModule=l},function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMixModule=void 0;var a=r(2),s=r(0),l=r(1),c=i(r(8)),u=function(){function e(e,t,r,o,n){this.logger=e,this.dataReport=t,this.stateCenter=r,this.streamCenter=o,this.ac=n,this.buffer=null,this.blank=null,"safari"==c.browserDetails.browser&&null==this.blank&&null==this.buffer&&(this.ac.resume(),this.buffer=this.ac.createBuffer(1,1,this.ac.sampleRate),this.blank=this.ac.createBufferSource(),this.blank.buffer=this.buffer,this.blank.connect(this.ac.destination),this.blank.start())}return e.prototype.preloadEffect=function(e,t,r){e&&"string"==typeof e&&t&&"string"==typeof t?this.stateCenter.audioEffectBuffer[e]?this.logger.error(a.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+" audio buffer already exists"):(this.logger.info(a.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+" start preload effect"),this._preloadEffect(this.ac,e,t,r)):this.logger.error(a.ZEGO_WEBRTC_ACTION.PRELOAD_EFFECT+" params error")},e.prototype.playEffect=function(e,t,r){e.streamID&&"string"==typeof e.streamID&&e.effectID&&"string"==typeof e.effectID?this.stateCenter.audioEffectBuffer[e.effectID]?this._playEffect(e,t,r):this.logger.error(a.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+" audio buffer doesn't exists"):this.logger.error(a.ZEGO_WEBRTC_ACTION.PLAY_EFFECT+" params error")},e.prototype.pauseEffect=function(e,t){return e&&"string"==typeof e?(t&&"string"!=typeof t&&this.logger.error(a.ZEGO_WEBRTC_ACTION.PAUSE_EFFECT+" effect "),this._pauseEffect(e,t)):(this.logger.error(a.ZEGO_WEBRTC_ACTION.PAUSE_EFFECT+" streamID format error"),!1)},e.prototype.resumeEffect=function(e,t){return e&&"string"==typeof e?(t&&"string"!=typeof t&&this.logger.error(a.ZEGO_WEBRTC_ACTION.RESUME_EFFECT+" effect "),this._resumeEffect(e,t)):(this.logger.error(a.ZEGO_WEBRTC_ACTION.RESUME_EFFECT+" streamID format error"),!1)},e.prototype.stopEffect=function(e,t){return e&&"string"==typeof e?(t&&"string"!=typeof t&&this.logger.error(a.ZEGO_WEBRTC_ACTION.STOP_EFFECT+" effect "),this._stopEffect(e,t)):(this.logger.error(a.ZEGO_WEBRTC_ACTION.STOP_EFFECT+" streamID format error"),!1)},e.prototype.unloadEffect=function(e){return e&&"string"==typeof e?(delete this.stateCenter.audioEffectBuffer[e],!0):(this.logger.error(a.ZEGO_WEBRTC_ACTION.UNLOAD_EFFECT+" params error"),!1)},e.prototype.setEffectVolume=function(e,t,r){if(!e||"string"!=typeof e)return this.logger.error(a.ZEGO_WEBRTC_ACTION.SET_EFFECT_VOLUME+" streamID format error"),!1;r&&"string"!=typeof r&&this.logger.error(a.ZEGO_WEBRTC_ACTION.SET_EFFECT_VOLUME+" effect ");var o=this.streamCenter.getPublisher(e);return o?o.setEffectVolume(t/100,r):(this.logger.error(a.ZEGO_WEBRTC_ACTION.SET_EFFECT_VOLUME+" publisher doesn't exist"),!1)},e.prototype.startMixingAudio=function(e,t){return this.logger.info(a.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" call "+e),e&&"string"==typeof e?t?(this.logger.info(a.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" end "+e),Array.isArray(t)&&0!==t.length?this._startMixingAudio(e,t):(this.logger.error(a.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" audio param type error"),!1)):(this.logger.error(a.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" no audio"),!1):(this.logger.error(a.ZEGO_WEBRTC_ACTION.START_MIXING_AUDIO+" stream id type error"),!1)},e.prototype.stopMixingAudio=function(e,t){return e&&"string"==typeof e?Array.isArray(t)&&0!==t.length||void 0===t?this._stopMixingAudio(e,t):(this.logger.error(a.ZEGO_WEBRTC_ACTION.STOP_MIXING_AUDIO+" audio param type error"),!1):(this.logger.error(a.ZEGO_WEBRTC_ACTION.STOP_MIXING_AUDIO+" param streamID format error"),!1)},e.prototype.mixingBuffer=function(e,t,r,o){this.logger.info(a.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" call streamID: "+e+" sourceID:"+t),e&&"string"==typeof e?t&&"string"==typeof t?(this._mixingBuffer(e,t,r,o),this.logger.info(a.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" end")):this.logger.error(a.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" param source id format error"):this.logger.error(a.ZEGO_WEBRTC_ACTION.MIXING_BUFFER+" param streamid format error")},e.prototype.stopMixingBuffer=function(e,t){return this.logger.info(a.ZEGO_WEBRTC_ACTION.STOP_MIXING_BUFFER+" call streamID: "+e+" sourceID:"+t),e&&"string"==typeof e?t&&"string"==typeof t?this._stopMixingBuffer(e,t):(this.logger.error(a.ZEGO_WEBRTC_ACTION.STOP_MIXING_BUFFER+" param source id format error"),!1):(this.logger.error(a.ZEGO_WEBRTC_ACTION.STOP_MIXING_BUFFER+" param streamid format error"),!1)},e.prototype.setMixingAudioVolume=function(e,t,r){return this.logger.info(a.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" call"),"string"!=typeof e||""==e?(this.logger.error(a.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" stream ID must be string and not empty"),!1):"number"!=typeof t||t<0||t>100?(this.logger.error(a.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" volume must be a number between 0 and 100"),!1):r&&r instanceof HTMLMediaElement?this._setMixingAudioVolume(e,t,r):(this.logger.error(a.ZEGO_WEBRTC_ACTION.SET_MIXING_AUDIO_VOLUME+" no audio"),!1)},e.prototype.getSoundLevel=function(e,t,r){this.logger.info("zc.gsl call");var o=s.getReportSeq();this.dataReport.newReport(o,l.ZegoRTCLogEvent.kZegoTaskGetSoundLevel.event);try{this.ac.resume();var n=this.ac.createMediaStreamSource(e),i=this.ac.createScriptProcessor(4096,1,1);this.stateCenter.audioStreamList[e.id]={mic:n,script:i},n.connect(i),i.connect(this.ac.destination),i.onaudioprocess=function(e){for(var r=e.inputBuffer.getChannelData(0),o=0,n=0;n<r.length;n++)o<r[n]&&(o=r[n]);t(o)},this.dataReport.uploadReport(o)}catch(e){r(e),this.dataReport.addMsgInfo(o,l.ZegoRTCLogEvent.kZegoTaskGetSoundLevel.error.kGetSoundLevelError),this.dataReport.uploadReport(o)}this.logger.info("zc.gsl call success")},e.prototype._preloadEffect=function(e,t,r,o){var n=this,i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="arraybuffer",i.onload=function(){if(200==i.status||304==i.status){var r=i.response;e.decodeAudioData(r,(function(e){n.logger.info("zc.pe.0 effect preload success"),n.stateCenter.audioEffectBuffer[t]=e,o&&o()}),(function(e){n.logger.error("zc.pe.0 effect preload fail "+e),o&&o(e)}))}else{var a=i.statusText;n.logger.error("zc.pe.0 effect preload fail "+a),o&&o(a)}},i.send()},e.prototype._playEffect=function(e,t,r){var o=this.stateCenter.audioEffectBuffer[e.effectID],n=this.streamCenter.getPublisher(e.streamID);n?o?n.playEffect(e,o,t,r):this.logger.error("zc.pe.1 no audio buffer found"):this.logger.error("zc.pe.1 publisher doesn't exist")},e.prototype._pauseEffect=function(e,t){var r=this.streamCenter.getPublisher(e);return r?r.pauseEffect(t):(this.logger.error("zc.pe.2 publisher doesn't exist"),!1)},e.prototype._resumeEffect=function(e,t){var r=this.streamCenter.getPublisher(e);return r?r.resumeEffect(t):(this.logger.error("zc.re.0 publisher doesn't exist"),!1)},e.prototype._stopEffect=function(e,t){var r=this.streamCenter.getPublisher(e);return r?r.stopEffect(t):(this.logger.error("zc.re.0 publisher doesn't exist"),!1)},e.prototype._setMixingAudioVolume=function(e,t,r){var o=this.streamCenter.getPublisher(e);return o?o.setMixingAudioVolume(t/100,r):(this.logger.error("zc.sma.2 publisher doesn't exist"),!1)},e.prototype._startMixingAudio=function(e,t){var r=this.streamCenter.getPublisher(e);return r?r.startMixingAudio(t):(this.logger.error("zc.sma.0 publisher doesn't exist"),!1)},e.prototype._stopMixingAudio=function(e,t){var r=this.streamCenter.getPublisher(e);return r?r.stopMixingAudio(t):(this.logger.error("zc.sma.1 publisher doesn't exist"),!1)},e.prototype._mixingBuffer=function(e,t,r,o){var n=this.streamCenter.getPublisher(e);n?r instanceof ArrayBuffer?n.mixingBuffer(t,r,o):this.logger.error("zc.mb.0 array buffer not found"):this.logger.error("zc.mb.0 publisher doesn't exist")},e.prototype._stopMixingBuffer=function(e,t){var r=this.streamCenter.getPublisher(e);return r?r.stopMixingBuffer(t):(this.logger.error("zc.sma.1 publisher doesn't exist"),!1)},e}();t.AudioMixModule=u},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedModule=void 0;var n=r(2),i=r(0),a=r(1),s=r(3),l=r(4),c=function(){function e(e,t,r,o){this.logger=e,this.dataReport=t,this.streamCenter=r,this.stateCenter=o,this.screenShotReady=!1}return e.prototype.setVideoConfig=function(e,t){var r=this;return this.logger.info(n.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" call"),new Promise((function(o,l){var c=i.getReportSeq();return r.dataReport.newReport(c,a.ZegoRTCLogEvent.kZegoSetVideoConfig.event),e instanceof MediaStream?t&&"object"==typeof t&&0!=Object.keys(t).length?t.width&&!s.ClientUtil.checkValidNumber(t.width)?(r.logger.error(n.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints width integer number, range[1, 10000]"),r.dataReport.addMsgInfo(c,{error:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.code,message:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.message+" constraints width integer number, range[1, 10000]"}),r.dataReport.uploadReport(c),void l({errorCode:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.message+" constraints wrong"})):t.height&&!s.ClientUtil.checkValidNumber(t.height)?(r.logger.error(n.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints height integer number, range[1, 10000]"),r.dataReport.addMsgInfo(c,{error:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.code,message:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.message+" constraints height integer number, range[1, 10000]"}),r.dataReport.uploadReport(c),void l({errorCode:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.message+" constraints wrong"})):void r.setPublishStreamConstraints(e,t,(function(e){r.dataReport.uploadReport(c),o(e)})):(r.logger.error(n.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" constraints wrong"),r.dataReport.addMsgInfo(c,a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError),r.dataReport.uploadReport(c),void l({errorCode:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.message+" constraints wrong"})):(r.logger.error(n.ZEGO_WEBRTC_ACTION.SET_VIDEO_CONFIG+" localStream not found"),r.dataReport.addMsgInfo(c,a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kLocalStreamError),r.dataReport.uploadReport(c),void l({errorCode:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoSetVideoConfig.error.kParamError.message+" localStream no found"}))}))},e.prototype.setAudioConfig=function(e,t){var r=this;return this.logger.info(n.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+" call"),new Promise((function(o){var s=i.getReportSeq();return r.dataReport.newReport(s,a.ZegoRTCLogEvent.kZegoSetAudioConfig.event),e instanceof MediaStream?!t||"object"!=typeof t||0==Object.keys(t).length||void 0!==t.AEC&&"boolean"!=typeof t.AEC||void 0!==t.AGC&&"boolean"!=typeof t.AGC||void 0!==t.ANS&&"boolean"!=typeof t.ANS?(r.logger.error(n.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+" constraints wrong"),r.dataReport.addMsgInfo(s,a.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError),r.dataReport.uploadReport(s),void o({errorCode:a.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.message+" constraints wrong"})):void r.setPublishStreamConstraints(e,t,(function(e){r.dataReport.uploadReport(s),o(e)})):(r.logger.error(n.ZEGO_WEBRTC_ACTION.SET_AUDIO_CONFIG+" localStream not found"),r.dataReport.addMsgInfo(s,a.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError),r.dataReport.uploadReport(s),void o({errorCode:a.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoSetAudioConfig.error.kParamError.message+" localStream no found"}))}))},e.prototype.enableStream=function(e,t){if(this.logger.info(n.ZEGO_WEBRTC_ACTION.ENABLE_STREAM+" call"),"boolean"!=typeof t.video&&"boolean"!=typeof t.audio)return this.logger.error(n.ZEGO_WEBRTC_ACTION.ENABLE_STREAM+" option error"),!1;var r=!0,o=!0;return"boolean"==typeof t.video&&(r=this.enableCamera(e,t.video,t.retain)),"boolean"==typeof t.audio&&(o=this.enableMicrophone(e,t.audio)),r&&o},e.prototype.enableMicrophoneOnly=function(e){if(this.logger.info(n.ZEGO_WEBRTC_ACTION.ENABLE_MIC_ONLY+" call"),"boolean"!=typeof e)return!1;for(var t=0;t<this.streamCenter.previewStreamList.length;t++)if(!this.streamCenter.previewStreamList[t].enableMicrophoneOnly(e,this.streamCenter))return this.logger.error("zsc.emo.0 previewer "+t+" change mic mute state failed"),!1;return this.streamCenter.isMicEnabled=e,!0},e.prototype.replaceTrack=function(e,t){var r=this;return new Promise((function(o){var s=i.getReportSeq();return r.dataReport.newReport(s,a.ZegoRTCLogEvent.kZegoReplaceTrack.event),e instanceof MediaStream?t&&t instanceof MediaStreamTrack?void r._replaceTrack(e,t,(function(e){r.dataReport.uploadReport(s),o(e)})):(r.logger.error(n.ZEGO_WEBRTC_ACTION.REPLACE_TRACK+" mediastream track no found"),r.dataReport.uploadReport(s,void 0,a.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError),void o({errorCode:a.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError.message+" mediastream track no found"})):(r.logger.error(n.ZEGO_WEBRTC_ACTION.REPLACE_TRACK+" localStream not found"),r.dataReport.uploadReport(s,void 0,a.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError),void o({errorCode:a.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoReplaceTrack.error.kParamError.message+" localStream no found"}))}))},e.prototype.setPublishStreamConstraints=function(e,t,r){var o=this,n=null;for(var i in this.logger.info("zsc.spsc.0 constraints",JSON.stringify(t)),this.streamCenter.publisherList)this.streamCenter.publisherList[i].localStream==e&&(n=this.streamCenter.publisherList[i]);if(!n)return this.logger.error("zsc.spsc.0 publisher not found"),void(r&&r({errorCode:l.errorCodeList.PUBLISH_NOT_PUBLISH.code,extendedData:l.errorCodeList.PUBLISH_NOT_PUBLISH.message}));this.logger.info("zsc.spsc.0 streamId ",n.streamID);var a=this.streamCenter.checkPreview(e);if(!a)return this.logger.error("zsc.spsc.0 preview no found"),void(r&&r({errorCode:l.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:l.errorCodeList.PUBLISH_NO_PREVIEW.message}));var s=!1,c=!1;(t.width||t.height||t.frameRate)&&(a.mediaStreamConfig.videoQuality=4,s=!0),void 0===t.ANS&&void 0===t.AGC&&void 0===t.AEC||(c=!0);var u=a.localStream,d=u.getVideoTracks()[0],p=u.getAudioTracks()[0];s&&!d?(this.logger.error("zsc.spsc.0 video track not found"),r&&r({errorCode:l.errorCodeList.TRACK_NOT_FOUND.code,extendedData:l.errorCodeList.TRACK_NOT_FOUND.message})):t.video=!0,c&&!p?(this.logger.error("zsc.spsc.0 audio track not found"),r&&r({errorCode:l.errorCodeList.TRACK_NOT_FOUND.code,extendedData:l.errorCodeList.TRACK_NOT_FOUND.message})):t.audio=!0;var h=JSON.parse(JSON.stringify(a.mediaStreamConfig)),f=Object.assign(a.mediaStreamConfig,t),g=a.getMediaStreamConstraints(f,!0);this.logger.info("zsc.spsc.0 applyConstraints ",JSON.stringify(g));var m=[];if(s&&m.push(d.applyConstraints(g.video)),c&&(p.stop(),m.push(navigator.mediaDevices.getUserMedia({video:!1,audio:g.audio}))),t.maxBitrate){var v=n.publisher.peerConnection.getSenders().find((function(e){return e.track&&"video"===e.track.kind})),b=v.getParameters();v?(b.encodings||(b.encodings=[{}]),b.encodings[0].maxBitrate=1e3*t.maxBitrate,m.push(v.setParameters(b))):this.logger.error("zsc.spsc.0 video sender no found")}if(m.length>0)Promise.all(m).then((function(e){if(o.logger.info("zsc.spsc.0 set constraints success",e[1]),c){var i=(s?e[1]:e[0]).getAudioTracks()[0],a=n.publisher.peerConnection.getSenders().find((function(e){return"audio"===e.track.kind}));if(a&&(a.replaceTrack(i),u)){var l=u.getAudioTracks()[0];u.removeTrack(l),u.addTrack(i);var d=o.streamCenter.checkPreview(u);d&&(d.gainNode=null)}}t.maxBitrate&&n.publisher&&(n.publisher.videoInfo.bitRate=t.maxBitrate),r&&r({errorCode:0,extendedData:""})})).catch((function(e){o.logger.error("zsc.spsc.0 fail reason ",e.name,JSON.stringify(e)),r&&r({errorCode:l.errorCodeList.PUBLISHER_CONSTRAINTS_ERROR.code,extendedData:e.name+" "+(e.constraint?"constraint:"+e.constraint:"")})}));else{if(this.logger.warn("zsc.spsc.0 constaints is no changes"),c){var _=a.getMediaStreamConstraints(h);this.logger.info("zsc.spsc.0 oldMediaStreamConstraints ",JSON.stringify(_)),navigator.mediaDevices.getUserMedia({video:!1,audio:_.audio}).then((function(e){e.getTracks().forEach((function(e){var t=u.getTracks().find((function(t){return t.kind===e.kind})),r=n.publisher.peerConnection.getSenders().find((function(t){return null!==t.track&&t.track.kind===e.kind}));r&&(r.replaceTrack(e),t&&u.removeTrack(t),u.addTrack(e))})),o.logger.info("zsc.spsc.0.1 setbackup suc ")})).catch((function(e){o.logger.error("zsc.spsc.0.1 setbackup fail "+e.name)}))}r&&r({errorCode:l.errorCodeList.PUBLISHER_CONSTRAINTS_ERROR.code,extendedData:"constraints is no changes"})}},e.prototype.useVideoDevice=function(e,t){var r=this;return this.logger.info("zc.uvd.0 call"),new Promise((function(o){var n=i.getReportSeq();if(r.dataReport.newReport(n,a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.event),r.dataReport.addMsgInfo(n,{device:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.device(t)}),!(e instanceof MediaStream))return r.logger.error("zc.uvd.0 localStream not found"),r.dataReport.addMsgInfo(n,a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kLocalStreamError),r.dataReport.uploadReport(n),void o({errorCode:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message});if("string"!=typeof t)return r.logger.error("zc.uvd.0 deviceID must be string"),r.dataReport.addMsgInfo(n,{error:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,message:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message+" deviceID must be string"}),r.dataReport.uploadReport(n),void o({errorCode:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kParamError.message});var l=function(t){var i;r.dataReport.uploadReport(n);var a=r.streamCenter.checkPublish(e);a&&(a.cameraLabel=(null===(i=e.getVideoTracks()[0])||void 0===i?void 0:i.label)||a.cameraLabel),o(t)};s.ClientUtil.getDevices((function(n){if(!n.cameras.find((function(e){return e.deviceID==t})))return r.logger.error("zc.uvd.0 device is not found"),void o({errorCode:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kDevicesNoFoundError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskUseVideoDevice.error.kDevicesNoFoundError.message});r.switchDevice("video",e,t,l)}),(function(o){r.logger.warn("zc.uvd.0 getDevices err:",o),r.switchDevice("video",e,t,l)}))}))},e.prototype.useAudioDevice=function(e,t){var r=this;return this.logger.info("zc.uad.1 call"),new Promise((function(o){var n=i.getReportSeq();r.dataReport.newReport(n,a.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.event),r.dataReport.addMsgInfo(n,{device:a.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.device(t)});var l=function(e,t){r.logger.error("zc.uad.1 "+t);var i=e;i.message=i.message+(t?" "+t:""),r.dataReport.addMsgInfo(n,i),r.dataReport.uploadReport(n),o({errorCode:i.code,extendedData:i.message})},c=function(t){var i;r.dataReport.uploadReport(n);var a=r.streamCenter.checkPublish(e);a&&(a.microLabel=(null===(i=e.getAudioTracks()[0])||void 0===i?void 0:i.label)||a.microLabel),o(t)};e instanceof MediaStream?"string"==typeof t?s.ClientUtil.getDevices((function(n){if(!n.microphones.find((function(e){return e.deviceID==t})))return r.logger.error("zc.uad.1 device is not found"),void o({errorCode:a.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kDevicesNoFoundError.code,extendedData:a.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kDevicesNoFoundError.message});r.switchDevice("audio",e,t,c)}),(function(o){r.logger.warn("zc.uad.1 getDevices err:",o),r.switchDevice("audio",e,t,c)})):l(a.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kParamError,"deviceID must be string"):l(a.ZegoRTCLogEvent.kZegoTaskUseAudioDevice.error.kLocalStreamError,"localStream not found")}))},e.prototype.publishTarget=function(e){var t=this,r=i.getReportSeq();switch(e.type){case"addpush":this.dataReport.newReport(r,a.ZegoRTCLogEvent.kZegoTaskAddPublishCdnUrl.event);break;case"delpush":case"clearpush":this.dataReport.newReport(r,a.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.event)}return this.dataReport.addMsgInfo(r,{stream:a.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.stream(e.streamID),target_url:a.ZegoRTCLogEvent.kZegoTaskRemovePublishCdnUrl.target_url(e.pushUrl)}),new Promise((function(o,n){var i=function(e,o){t.logger.error("zb.pt"+(o||e.message)),t.dataReport.addMsgInfo(r,{error:e.code,message:e.message+(o||"")}),t.dataReport.uploadReport(r),n({errorCode:e.code,extendedData:e.message+(o?" "+o:"")})};if(-1==["addpush","delpush","clearpush"].indexOf(e.type))return t.logger.error("zb.sh.pt cdn push type error"),void i(l.errorCodeList.PUBLISHER_CDN_PUSH_ERROR,"type error");if(e.streamID&&"string"==typeof e.streamID)if(e.pushUrl&&"string"==typeof e.pushUrl)if(t.stateCenter.publishStreamList[e.streamID]){var s=t.streamCenter.getRoomByStreamID(e.streamID);s?s.streamHandler._publishTarget(e,o,i):i(a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kNoLoginError)}else i(a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kPublishStreamNoFoundError);else i(a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kParamError,"push url error");else i(a.ZegoRTCLogEvent.kZegoTaskPublishTarget.error.kParamError,"stream id type error")}))},e.prototype.switchDevice=function(e,t,r,n){var i=this,a=this.streamCenter.checkPreview(t);if(!a)return this.logger.error("zsc.sd.0 preview no found"),void(n&&n({errorCode:l.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:l.errorCodeList.PUBLISH_NO_PREVIEW.message}));if("video"===e&&0==a.mediaStreamConfig.video)return this.logger.error("zsc.sd.0 camera can not be changed when video is false"),void(n&&n({errorCode:l.errorCodeList.VIDEO_DEVICE_FALSE.code,extendedData:l.errorCodeList.VIDEO_DEVICE_FALSE.message}));if("audio"===e&&0==a.mediaStreamConfig.audio)return this.logger.error("zsc.sd.0 microphone can not be changed when audio is false"),void(n&&n({errorCode:l.errorCodeList.AUDIO_DEVICE_FALSE.code,extendedData:l.errorCodeList.AUDIO_DEVICE_FALSE.message}));a.mediaStreamConfig.videoInput!==r&&delete a.mediaStreamConfig.facingMode;var c,u={};"video"===e?(u.videoInput=r,c=t.getVideoTracks()[0]):(u.audioInput=r,c=t.getAudioTracks()[0]);var d=s.ClientUtil.getBrowser();this.logger.info("zsc.sd.0 browser "+d),"Firefox"===d&&c.stop();var p=o(o({},a.mediaStreamConfig),u),h=a.getMediaStreamConstraints(p),f=function(r,o,n){void 0===n&&(n=!1),o.getTracks().forEach((function(o){var s,l=r.getTracks().find((function(e){return e.kind===o.kind}));if(l){for(var c in i.streamCenter.publisherList)if(i.streamCenter.publisherList[c].localStream==t){var u=null===(s=i.streamCenter.publisherList[c].publisher.peerConnection)||void 0===s?void 0:s.getSenders().find((function(e){return null!==e.track&&e.track.kind===o.kind}));(l.kind===e||n)&&(u?(u.replaceTrack(o),a.gainNode=null):i.logger.warn("zsc.sd.0 no sender found, only switching device on localMediaElement"))}l?l.kind===e||n?(o.enabled=l.enabled,r.removeTrack(l),l.stop(),r.addTrack(o)):o.stop():r.addTrack(o),"audio"===o.kind&&(a.audioTrack=o)}})),a.restartSoundLevel()};navigator.mediaDevices.getUserMedia(h).then((function(r){Object.assign(a.mediaStreamConfig,u),f(t,r),i.logger.info("zsc.sd.0 swtich "+e+" device success"),n&&n({errorCode:0,extendedData:""})}),(function(r){var o,s;null===(o=t.getVideoTracks()[0])||void 0===o||o.stop(),null===(s=t.getAudioTracks()[0])||void 0===s||s.stop(),i.logger.warn("zsc.sd.0 swtich "+e+" device failed, stop last device and retry. ",r+""),navigator.mediaDevices.getUserMedia(h).then((function(r){Object.assign(a.mediaStreamConfig,u),f(t,r,!0),i.logger.info("zsc.sd.0 swtich "+e+" device success"),n&&n({errorCode:0,extendedData:""})}),(function(r){i.logger.warn("zsc.sd.0 swtich "+e+" device failed and recover last device. ",r+"");var o=a.getMediaStreamConstraints(a.mediaStreamConfig),s=l.errorCodeList.VIDEO_DEVICE_FALSE;"audio"===e&&(s=l.errorCodeList.AUDIO_DEVICE_FALSE),navigator.mediaDevices.getUserMedia(o).then((function(o){f(t,o,!0),i.logger.info("zsc.sd.0 recover last "+e+" device success"),n&&n({errorCode:s.code,extendedData:s.message+" "+JSON.stringify(r)})}),(function(t){i.logger.error("zsc.sd.0 swtich "+e+" device and recover failed, please recreate stream. ",t+""),n&&n({errorCode:s.code,extendedData:s.message+" "+JSON.stringify(t)})}))}))}))},e.prototype._replaceTrack=function(e,t,r){var o=this.streamCenter.checkPreview(e),n=this.streamCenter.checkPublish(e);if(/Safari/.test(navigator.userAgent)&&/Chrome/.test(navigator.userAgent),n){var i=n.publisher.replaceTrack(t);r&&r(i)}else{if(!o)return this.logger.error("zc.rt.0 preview no found"),void(r&&r({errorCode:l.errorCodeList.PUBLISH_NO_PREVIEW.code,extendedData:l.errorCodeList.PUBLISH_NO_PREVIEW.message}));var a=o.localStream,s=a.getTracks().find((function(e){return e.kind===t.kind}));s?(a.removeTrack(s),a.addTrack(t),r&&r({errorCode:0,extendedData:""})):(this.logger.error("zc.rt.0 track no found"),r&&r({errorCode:l.errorCodeList.TRACK_NOT_FOUND.code,extendedData:l.errorCodeList.TRACK_NOT_FOUND.message}))}},e.prototype.enableMicrophone=function(e,t){var r=this.streamCenter.checkPreview(e);return r?r.enableMicrophone(t,this.streamCenter):(this.logger.error("zsc.em.0 no preview"),!1)},e.prototype.enableCamera=function(e,t,r){var o=this.streamCenter.checkPreview(e);return o?o.enableCamera(t,this.streamCenter,r):(this.logger.error("zsc.ec.0 no preview"),!1)},e}();t.AdvancedModule=c},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoStreamCenterWeb=void 0;var a=r(0),s=r(7),l=r(22),c=r(24),u=r(0),d=r(25),p=r(26),h=r(27),f=r(28),g=r(4),m=r(1),v=function(e){function t(t,r,o,n,i,a){var s=e.call(this)||this;return s.testEnvironment=!1,s.heartbeatTimer=null,s.heartbeatInterval=1e4,s.qualityTimerInterval=3e3,s.previewStreamList=[],s.signalList={},s.chargeInfos={itemtype:"ChargeInfos",timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]},s.chargeInfosTimer=null,s.chargeInfosInterval=6e4,s.chargeInfoSeq=0,s.soundLevelDelegate=!1,s.soundLevelInterval=1e3,s.isPeer=!0,s.probeList={},s.isMicEnabled=!0,s.playerList={},s.publisherList={},s.playSuccessCallBackList={},s.playErrorCallBackList={},s.tryCountConnectInterval=3e3,s.checkMessageTimeout=function(){for(var e in s.signalList)s.signalList[e].signal&&s.signalList[e].signal.checkMessageTimeout()},s.getAllInUseUrl=function(){var e=[];for(var t in s.signalList)e.push(t);return e},s.onDisconnectHandle=function(e,t){if(s.logger.info("zsc.od.0 call"),s.signalList[e]){for(var r=s.signalList[e],o=0;o<r.publishConnectedList.length;o++){var n=s.publisherList[r.publishConnectedList[o]];n&&n.publisher&&n.publisher.onDisconnect(t)}for(o=0;o<r.playConnectedList.length;o++){var i=s.playerList[r.playConnectedList[o]];i&&i.player&&i.player.onDisconnect(t)}delete s.signalList[e],s.stopSignalHeartbeat(),s.stopChargeInfosUpload(),s.stopSoundLevel()}},s.logger=t,s.stateCenter=r,s.dataReport=o,s.rtm=n,s.ac=i,s.mediaEleSources=a,"PRIVATE"==s.stateCenter.type&&(s.isPeer=!1),s}return n(t,e),Object.defineProperty(t.prototype,"cameraPreviewStream",{get:function(){return this.previewStreamList.find((function(e){return"camera"===e.previewType}))},enumerable:!1,configurable:!0}),t.prototype.onSignalDisconnected=function(e){},t.prototype.setQualityMonitorCycle=function(e){var t=this;return this.logger.debug("zsc.qmc.0 timeInterval "+e),0==Object.keys(this.publisherList).length?this.qualityTimerInterval=e:Object.keys(this.publisherList).forEach((function(r){t.publisherList[r].publisher.qualityTimeInterval=e,t.publisherList[r].publisher.setPublishQualityTimer()})),!0},t.prototype.setSessionInfo=function(e,t,r){this.logger.debug("zsc.ssi.0 called"),this.appid=e,this.userid=t,this.testEnvironment=r},t.prototype.onPlayStateUpdate=function(e,t,r){},t.prototype.onPlayQualityUpdate=function(e,t){},t.prototype.onPublishStateUpdate=function(e,t,r){},t.prototype.onPublishQualityUpdate=function(e,t){},t.prototype.onUpdateHeartBeatIntervalHandle=function(e){e!=this.heartbeatInterval&&(this.logger.debug("zsc.uhb.0 update "+e),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatInterval=e,this.startSignalHeartbeat())},t.prototype.setPublishStateStart=function(e,t,r,o){var n=this;if(this.logger.info("zsc.pss.0 call "+t),this.stateCenter.networkState==a.ENUM_NETWORK_STATE.offline)return this.logger.error("zsc.pss.0 network offline"),!1;var i=this.publisherList[t],s=this.stateCenter.reportSeqList.startPublish[t];if(this.dataReport.eventStart(s,"setPublishState"),i)return this.logger.error("zsc.pss.0 publisher already exist"),this.dataReport.eventEndWithMsgInfo(s,"setPublishState",{message:"publisher already exist"}),this.dataReport.uploadReport(s,void 0,m.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kIsPublishing),delete this.stateCenter.reportSeqList.startPublish[t],!1;var c=new l.ZegoPublish(this.logger,this.dataReport,this.qualityTimerInterval,this,this.ac,this.mediaEleSources,this.stateCenter);c.state=u.ENUM_PUBLISH_STATE.start,c.isPeer=this.isPeer,c.reportSeq=this.stateCenter.reportSeqList.startPublish[t];var d=r.getVideoTracks()[0]&&r.getVideoTracks()[0].label,p=r.getAudioTracks()[0]&&r.getAudioTracks()[0].label,g=r.getVideoTracks()[0]&&r.getVideoTracks()[0].getSettings().deviceId,v=r.getAudioTracks()[0]&&r.getAudioTracks()[0].getSettings().deviceId,b=new h.RetryStreamHandler(this.logger,this.stateCenter,this,!0);return this.publisherList[t]={seq:0,room:e,localStream:r,publisher:c,serverUrls:[],ttl:0,isCenterNode:!1,streamID:t,publishOption:o,cameraLabel:d||"",microLabel:p||"",cameraDeviceId:g||"",microDeviceId:v||"",deviceStateCount:0,retryStreamHandler:b,retryDispatchHandler:new f.RetryDispatchHandler(this.logger,this.stateCenter,this.rtm,this)},c.onPublishStateUpdate=function(e,r,o,i){var a=n.publisherList[r];a?b.publishStateHandle(e,a.streamID,o,i):n.logger.error("zsc.psuh.0 cannot find publish "+t)},c.onPublishQualityUpdate=function(e,r){var o=n.publisherList[e];o?(n.stateCenter.deviceStateOut&&0===r.audio.audioBitrate?(o.deviceStateCount++,o.deviceStateCount>=2&&(o.deviceStateCount=0,n.stateCenter.deviceStateOut=!1,n.logger.warn("zsc.pss.0 publish audio error by device"))):o.deviceStateCount=0,n.onPublishQualityUpdate(o.streamID,r)):n.logger.error("zsc.psuh.0 cannot find publish "+t)},this.dataReport.eventStart(c.reportSeq,"GetSignalUrl"),this.dataReport.eventStart(c.streamReportSeq,"GetSignalUrl"),!0},t.prototype.startPublishingStream=function(e){this.logger.info("zsc.sps.0 call");var t=this.publisherList[e];if(!t)return this.logger.error("zsc.sps.0 publisher don't exist"),!1;var r=t.publisher;if(this.dataReport.eventEndWithMsg(r.reportSeq,"GetSignalUrl",{urls:t.serverUrls,is_center:t.isCenterNode}),this.dataReport.eventEndWithMsg(r.streamReportSeq,"GetSignalUrl",{urls:t.serverUrls,is_center:t.isCenterNode}),!t.serverUrls||0===t.serverUrls.length)return t.retryStreamHandler.publishStateHandle(u.ENUM_PUBLISH_STATE_UPDATE.error,e,g.errorCodeList.DISPATCH_ERROR),this.logger.info("zsc.sps.0 server don't have signal url"),!1;var o=t.serverUrls.indexOf(this.server);-1!==o&&(t.serverUrls.splice(o,1),t.serverUrls.unshift(this.server));var n=t.retryStreamHandler;return n.invalid(),n.init(this.stateCenter.streamRetryTime),n.initStream(e,t.serverUrls),n.activePublish(0)},t.prototype.updateWaitingList=function(e,t,r,o,n){t?e.publishWaitingList.push({streamID:r,success:o,error:n}):e.playWaitingList.push({streamID:r,success:o,error:n})},t.prototype.publishStream=function(e){var t=this.publisherList[e].publisher;if(t){var r=null,o=null,n=this.publisherList[e].publishOption,i=this.checkPreview(this.publisherList[e].localStream);if(i){r=i.localStream,o=i.videoInfo;var a=this.stateCenter.reportSeqList.startPublish[e];this.dataReport.addMsgInfo(a,{cap_w:m.ZegoRTCLogEvent.kZegoTaskPublishStart.cap_w(i.videoInfo.width),cap_h:m.ZegoRTCLogEvent.kZegoTaskPublishStart.cap_h(i.videoInfo.height),w:m.ZegoRTCLogEvent.kZegoTaskPublishStart.w(i.videoInfo.width),h:m.ZegoRTCLogEvent.kZegoTaskPublishStart.h(i.videoInfo.height),video_en_fps:m.ZegoRTCLogEvent.kZegoTaskPublishStart.video_en_fps(i.videoInfo.frameRate),video_en_bps:m.ZegoRTCLogEvent.kZegoTaskPublishStart.video_en_bps(i.videoInfo.bitRate)}),r?(this.logger.info("zsc.ps.0 call success"),t.gwNodeTTL<(new Date).getTime()&&(t.gwNode="",t.gwNodeList=[],t.gwNodeTTL=0),t.startPublish(e,r,o,i.mediaStreamConfig,n)):this.logger.error("zsc.ps.0 no localStream found")}else this.logger.error("zsc.ps.0 no preview found")}else this.logger.info("zsc.ps.0 publisher don't exist")},t.prototype.connectPublishServer=function(e,t){var r=this,o=this.publisherList[e];return o?(this.dataReport.eventStart(o.publisher.reportSeq,"ConnectServer"),this.dataReport.eventStart(o.publisher.streamReportSeq,"ConnectServer"),this.connectWithReuseSignalServer(e,!0,t,(function(e,t,o){var n=r.publisherList[e];if(n){var i=n.publisher;if(i){r.dataReport.eventEndWithMsg(i.reportSeq,"ConnectServer",{result:0,server:o}),r.dataReport.eventEndWithMsg(i.streamReportSeq,"ConnectServer",{result:0,server:o});var a=t.tokenInfo;r.logger.info("zsc.cps.0 update token success"),a&&a.report&&(i.qualityUpload=a.report,i.qualityUploadInterval=a.report_interval),i.signal=t.signal,r.server=o,r.publishStream(e),r.getTokenSuccess()}else r.logger.info("zsc.cps.1 check publisher don't exist")}else r.logger.info("zsc.cps.0 after connect publisher don't exist")}),(function(e,t){r.logger.error("zsc.cps.0 "+e+" connect fail "+t);var o=r.publisherList[e];if(o){var n=o.publisher;if(n){r.dataReport.eventEndWithMsg(n.reportSeq,"ConnectServer",{result:t}),r.dataReport.uploadReport(n.reportSeq),delete r.stateCenter.reportSeqList.startPublish[e];var a=i({},g.errorCodeList.CONNECT_FAILED);a.message=a.message+" "+t,1008===t&&(a=g.errorCodeList.TOKEN_EXPIRED),o.retryStreamHandler.publishStateHandle(u.ENUM_PUBLISH_STATE_UPDATE.error,e,a,1008==t)}else r.logger.info("zsc.cps.1 check publisher don't exist")}else r.logger.info("zsc.cps.0 after connect publisher don't exist")})),!0):(this.logger.error("zsc.cps.0 publisher don't exist"),!1)},t.prototype.getTokenSuccess=function(){this.logger.debug("zsc.gts.0 call")},t.prototype.stopPublishingStream=function(e){var t=this.publisherList[e];if(t){var r=t.retryStreamHandler;for(var o in r&&(r.stopMaxTime(),r.invalid()),this.signalList)this.signalList[o].publishWaitingList=this.signalList[o].publishWaitingList.filter((function(t){return t.streamID!==e}));delete this.publisherList[e],t.publisher&&(t.publisher.stopPublish(),delete t.publisher),this.removeStreamFromSignal(!0,e),this.stopSignalHeartbeat(),this.stopChargeInfosUpload(),this.stopSoundLevel(),this.logger.debug("zsc.sps.0.1 call success")}else this.logger.warn("zsc.sps.0.1 publisher don't exist")},t.prototype.connectWithReuseSignalServer=function(e,t,r,o,n){var i=this;this.logger.info("zsc.crss.0 begin "+r);var a=null;if(this.signalList[r])(a=this.signalList[r]).state==u.ENUM_SIGNAL_STATE.connected?(this.logger.info("zsc.crss.0 already connected "+r+" streamId: "+e),t?a.publishConnectedList.push(e):a.playConnectedList.push(e),o(e,a,r)):a.state==u.ENUM_SIGNAL_STATE.connecting&&(this.logger.info("zsc.crss.0 signal is connecting "+r+" streamId: "+e),this.updateWaitingList(a,t,e,o,n));else{this.logger.info("zsc.crss.0 new signal "+r+" streamId: "+e);var s=new d.ZegoSignal(this.logger,this.stateCenter);s.setSessionInfo(this.appid,this.userid),s.onUpdateHeartBeatInterval=this.onUpdateHeartBeatIntervalHandle.bind(this),s.onDisconnect=this.onDisconnectHandle;var l=this.publisherList[e]?this.publisherList[e].retryStreamHandler:this.playerList[e]?this.playerList[e].retryStreamHandler:null;if(this.stateCenter.streamConnectTime)s.tryConnectInterval=this.stateCenter.streamConnectTime;else if(l&&l.retryActiveCount){var c=l.retryActiveCount*(l.retryActiveCount-1)/2+2;c=c>u.MAX_RETRY_CONNECT_INTERVAL?u.MAX_RETRY_CONNECT_INTERVAL:c,s.tryConnectInterval=1e3*c}this.signalList[r]={signal:s,state:u.ENUM_SIGNAL_STATE.connecting,publishWaitingList:[],playWaitingList:[],publishConnectedList:[],playConnectedList:[],tokenInfo:null},this.updateWaitingList(this.signalList[r],t,e,o,n),s.connectServer(this.stateCenter.roomList[0].token,r,(function(e,t,o){a=i.signalList[r];var n,s,l=0;if(0!=e){for(i.logger.info("zsc.crss.0 connect failed "+t),l=0;l<a.publishWaitingList.length;l++)(n=a.publishWaitingList[l]).error&&n.error(n.streamID,e);for(l=0;l<a.playWaitingList.length;l++)(s=a.playWaitingList[l]).error&&s.error(s.streamID,e);delete i.signalList[r]}else{for(i.logger.debug("zsc.crss.0 connected success "+t),a.state=u.ENUM_SIGNAL_STATE.connected,a.tokenInfo=o,l=0;l<a.publishWaitingList.length;l++)(n=a.publishWaitingList[l]).success&&n.success(n.streamID,a,t),a.publishConnectedList.push(n.streamID);for(l=0;l<a.playWaitingList.length;l++)(s=a.playWaitingList[l]).success&&s.success(s.streamID,a,t),a.playConnectedList.push(s.streamID);a.publishWaitingList=[],a.playWaitingList=[],null==i.heartbeatTimer&&i.startSignalHeartbeat(),null==i.chargeInfosTimer&&i.startChargeInfosUpload(),i.activeSoundLevel()}}))}},t.prototype.setPlayStateStart=function(e,t){var r=this;if(this.logger.info("zsc.pss.1 call "+e),this.stateCenter.networkState==a.ENUM_NETWORK_STATE.offline)return this.logger.error("zsc.pss.1 network offline"),!1;var o=this.playerList[e],n=this.stateCenter.reportSeqList.startPlay[e];if(this.dataReport.eventStart(n,"setPlayState"),o)return this.logger.error("zsc.pss.1 player already exist"),this.dataReport.eventEndWithMsgInfo(n,"setPlayState",{message:"player already exist"}),this.dataReport.uploadReport(n,void 0,m.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kIsPlaying),delete this.stateCenter.reportSeqList.startPlay[e],!1;var i=this.getPlayRoom(e)||this.stateCenter.roomList[0];if(!i)return this.logger.error("zsc.pss.1 not login room"),this.dataReport.eventEndWithMsgInfo(n,"setPlayState",{message:"not login room"}),this.dataReport.uploadReport(n,void 0,m.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNoLoginError),!1;var s=new p.ZegoPlayWeb(this.logger,null,this.dataReport,this.qualityTimerInterval,this,this.ac,this.stateCenter);t&&[0,2,3].includes(t.resourceMode)&&(s.resourceMode=t.resourceMode),this.dataReport.addMsgInfo(n,{resourceMode:s.resourceMode,play_room_id:i.roomID,isMulti:this.stateCenter.isMultiRoom}),s.state=u.ENUM_PLAY_STATE.start,s.isPeer=this.isPeer,s.reportSeq=this.stateCenter.reportSeqList.startPlay[e],s.beginTime=(new Date).getTime();var l=new h.RetryStreamHandler(this.logger,this.stateCenter,this,!1);return this.playerList[e]={seq:0,room:i,player:s,signal:null,serverUrls:[],ttl:0,isCenterNode:!1,streamID:e,playOption:t,retryStreamHandler:l,retryDispatchHandler:new f.RetryDispatchHandler(this.logger,this.stateCenter,this.rtm,this)},s.onPlayStateUpdate=function(e,t,o,n){var i=r.playerList[t];i?l.playStateHandle(e,i.streamID,o,n):r.logger.error("zsc.pss.1 cannot find play "+t)},s.onPlayQualityUpdate=function(e,t){var o=r.playerList[e];o?r.onPlayQualityUpdate(o.streamID,t):r.logger.error("zsc.pss.1 cannot find play "+e)},s.onRemoteCameraStatusUpdate=function(e,t,o){var n=r.playerList[e];n?r.onRemoteCameraStatusUpdate(n.streamID,t,o):r.logger.error("zsc.pss.1 cannot find play "+e)},s.onRemoteMicStatusUpdate=function(e,t,o){var n=r.playerList[e];n?r.onRemoteMicStatusUpdate(n.streamID,t,o):r.logger.error("zsc.pss.1 cannot find play "+e)},this.dataReport.eventStart(s.reportSeq,"GetSignalUrl"),this.dataReport.eventStart(s.streamReportSeq,"GetSignalUrl"),!0},t.prototype.onRemoteMicStatusUpdate=function(e,t,r){},t.prototype.onRemoteCameraStatusUpdate=function(e,t,r){},t.prototype.startPlayingStream=function(e,t){this.logger.info("zsc.sps.1 start play called");var r=this.playerList[e];if(!r)return this.logger.error("zsc.sps.1 player don't exist"),!1;var o=r.player;if(this.dataReport.eventEndWithMsg(o.reportSeq,"GetSignalUrl",{urls:r.serverUrls}),this.dataReport.eventEndWithMsg(o.streamReportSeq,"GetSignalUrl",{urls:r.serverUrls}),0==r.serverUrls.length)return r.retryStreamHandler.playStateHandle(u.ENUM_PLAY_STATE_UPDATE.error,e,g.errorCodeList.DISPATCH_ERROR),this.logger.info("zsc.sps.1 server don't have signal url"),!1;var n=r.serverUrls.indexOf(this.server);-1!==n&&(r.serverUrls.splice(n,1),r.serverUrls.unshift(this.server));var i=r.retryStreamHandler;return i.invalid(),i.init(this.stateCenter.streamRetryTime),i.initStream(e,r.serverUrls),i.activePull(0,t)},t.prototype.connectPlayServer=function(e,t,r){var o=this,n=this.playerList[e];return n?(this.dataReport.eventStart(n.player.reportSeq,"ConnectServer"),this.dataReport.eventStart(n.player.streamReportSeq,"ConnectServer"),this.connectWithReuseSignalServer(e,!1,r,(function(e,r,n){var i=o.playerList[e];if(i){var a=i.player;if(a){o.dataReport.eventEndWithMsg(a.reportSeq,"ConnectServer",{result:0,server:n}),o.dataReport.eventEndWithMsg(a.streamReportSeq,"ConnectServer",{result:0,server:n});var s=r.tokenInfo;o.logger.info("zsc.cps.1 update token success"),s&&s.report&&(a.qualityUpload=s.report,a.qualityUploadInterval=s.report_interval),a.signal=r.signal,o.server=n,o.playStream(e,t),o.getTokenSuccess()}else o.logger.error("zsc.cps.1 checkplayer don't exist")}else o.logger.error("zsc.cps.1 after connect player don't exist")}),(function(t,r){var n=o.playerList[t];if(n){o.dataReport.eventEndWithMsg(n.player.reportSeq,"ConnectServer",{result:r}),o.dataReport.uploadReport(n.player.reportSeq),delete o.stateCenter.reportSeqList.startPlay[e];var a=i({},g.errorCodeList.CONNECT_FAILED);a.message=a.message+" "+r,1008===r&&(a=g.errorCodeList.TOKEN_EXPIRED),n.retryStreamHandler.playStateHandle(u.ENUM_PLAY_STATE_UPDATE.error,t,a,1008==r)}else o.logger.error("zsc.cps.1 after connect player don't exist")})),!0):(this.logger.error("zsc.cps.1 player don't exist"),!1)},t.prototype.playStream=function(e,t){var r=this.playerList[e].player;r?(this.logger.info("zsc.ps.1 call success"),r.gwNodeTTL<(new Date).getTime()&&(r.gwNode="",r.gwNodeList=[],r.gwNodeTTL=0),r.startPlay(e,t,this.playerList[e].playOption)):this.logger.warn("zsc.ps.1 player don't exist")},t.prototype.stopSignalHeartbeat=function(){this.logger.debug("zsc.ssh.1 call");var e=0;for(var t in this.signalList)e+=1;this.heartbeatTimer&&0==e&&(this.logger.info("zsc.ssh.1 stop"),clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)},t.prototype.removeStreamFromSignal=function(e,t){var r=[];for(var o in this.signalList){var n=this.signalList[o];if(e){for(var i=0;i<n.publishConnectedList.length;i++)if(n.publishConnectedList[i]===t){this.logger.debug("zsc.rsfs.0 found from publish"),n.publishConnectedList.splice(i,1);break}for(i=0;i<n.publishWaitingList.length;i++)if(n.publishWaitingList[i].streamID===t){this.logger.debug("zsc.rsfs.0 found from publish"),n.publishWaitingList.splice(i,1);break}}else{for(var a=0;a<n.playConnectedList.length;a++)if(n.playConnectedList[a]===t){this.logger.debug("zsc.rsfs.0 found from play"),n.playConnectedList.splice(a,1);break}for(a=0;a<n.playWaitingList.length;a++)if(n.playWaitingList[a].streamID===t){this.logger.debug("zsc.rsfs.0 found from play"),n.playWaitingList.splice(a,1);break}}0==n.publishConnectedList.length&&0==n.playConnectedList.length&&0==n.publishWaitingList.length&&0==n.playWaitingList.length&&(n.signal.disconnectServer(),r.push(o))}for(var s=0;s<r.length;s++)delete this.signalList[r[s]],this.server==r[s]&&(this.server="")},t.prototype.stopPlayingStream=function(e){var t=this.playerList[e];if(t){var r=t.retryStreamHandler;for(var o in r&&(r.stopMaxTime(),r.invalid()),this.signalList)this.signalList[o].playWaitingList=this.signalList[o].playWaitingList.filter((function(t){return t.streamID!==e}));delete this.playerList[e],t.player&&(t.player.stopPlay(),delete t.player),this.removeStreamFromSignal(!1,e),this.stopSignalHeartbeat(),this.stopChargeInfosUpload(),this.stopSoundLevel(),delete this.playSuccessCallBackList[e],delete this.playErrorCallBackList[e],this.logger.debug("zsc.sps.1.1 call success")}else this.logger.info("zsc.sps.1.1 player don't exist")},t.prototype.reset=function(e){for(var t in this.publisherList)(this.publisherList[t].room.roomID==e||!e)&&this.stopPublishingStream(t);var r=function(t){var r=o.playerList[t].room;if(r.roomID!=e||!r.streamList.find((function(e){return e.stream_id==t}))&&1!=o.stateCenter.roomList.length){if(r.roomID==e&&o.stateCenter.roomList.length>1){var n=o.stateCenter.roomList.find((function(t){return t.roomID!==e}));n?o.playerList[t].room=n:o.stopPlayingStream(t)}}else o.stopPlayingStream(t)},o=this;for(var n in this.playerList)r(n);0==Object.keys(this.publisherList).length&&0==Object.keys(this.playerList).length&&(this.probeList={})},t.prototype.startSignalHeartbeat=function(){var e=this;this.logger.debug("zsc.ssh.0 call"),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatTimer=setTimeout((function(){e.checkSignalHeartbeat()}),this.heartbeatInterval)},t.prototype.startChargeInfosUpload=function(){var e=this;this.logger.debug("zsc.sciu.0 call"),this.chargeInfosTimer&&(clearTimeout(this.chargeInfosTimer),this.chargeInfosTimer=null),this.chargeInfosTimer=setTimeout((function(){e.checkChargeInfos()}),this.chargeInfosInterval)},t.prototype.checkChargeInfos=function(){this.logger.debug("zsc.cci.0 call");var e={is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[]};for(var t in this.chargeInfos.timestamp_begin=(new Date).getTime(),this.publisherList){this.publisherList[t].publisher.state===u.ENUM_PUBLISH_STATE.publishing&&(e.is_publishing=1);break}e.play_max_audio_bitrate=0;var r=function(t){var r=o.playerList[t].player.playStream,n=r&&0!==r.getVideoTracks().length?r.getVideoTracks()[0].getSettings():void 0,i={video_width:n&&n.width?n.width:0,video_height:n&&n.height?n.height:0,count:1};if(!e.play_stream_resolution_infos.find((function(e){return e.video_width==i.video_width&&e.video_height==i.video_height&&(e.count++,!0)}))&&e.play_stream_resolution_infos.push(i),0==i.video_width&&0==i.video_height){var a=1e3*o.playerList[t].player.lastPlayStats.audioBitrate;a>e.play_max_audio_bitrate&&(e.play_max_audio_bitrate=a)}},o=this;for(var n in this.playerList)r(n);0!==this.chargeInfos.timestamp_end?(this.chargeInfos.timestamp_diff=this.chargeInfos.timestamp_begin-this.chargeInfos.timestamp_end,this.chargeInfos.timestamp_diff_flag=1):(this.chargeInfos.timestamp_diff=0,this.chargeInfos.timestamp_diff_flag=0),this.chargeInfos.timestamp_end=(new Date).getTime(),this.chargeInfos.infos=[e],0!==e.play_stream_resolution_infos.length&&this.logger.report(this.chargeInfos),this.chargeInfosTimer&&this.startChargeInfosUpload()},t.prototype.checkSignalHeartbeat=function(){for(var e in this.logger.debug("zsc.csh.0 call"),this.signalList)this.signalList[e].signal&&this.signalList[e].signal.sendHeartbeat();this.heartbeatTimer&&this.startSignalHeartbeat()},t.prototype.stopChargeInfosUpload=function(){this.logger.debug("zsc.sciu.0 call");var e=0;for(var t in this.signalList)e+=1;this.chargeInfosTimer&&0==e&&(this.logger.info("zsc.sciu.0 stop"),clearTimeout(this.chargeInfosTimer),this.chargeInfosTimer=null)},t.prototype.getPublisher=function(e){var t=null;return this.publisherList[e]&&this.publisherList[e].publisher&&(t=this.publisherList[e].publisher),t},t.prototype.checkPreview=function(e){for(var t=0;t<this.previewStreamList.length;t++)if(this.previewStreamList[t].localStream===e)return this.previewStreamList[t];return null},t.prototype.checkPublish=function(e){for(var t in this.publisherList)if(this.publisherList[t].localStream==e)return this.publisherList[t];return null},t.prototype.removePreview=function(e){for(var t=0;t<this.previewStreamList.length;t++)if(this.previewStreamList[t]===e){this.previewStreamList.splice(t,1);break}},t.prototype.onPlayerStreamUrlUpdate=function(e,t,r){},t.prototype.getScreenConstrains=function(e){var t={};if("boolean"==typeof e&&e)t={audio:!1,frameRate:u.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate,bitRate:u.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate};else if("object"==typeof e){switch(e.videoQuality){case 1:t={frameRate:u.ENUM_SCREEM_RESOLUTION_TYPE.LOW.frameRate,bitRate:u.ENUM_SCREEM_RESOLUTION_TYPE.LOW.bitRate};break;case 3:t={frameRate:u.ENUM_SCREEM_RESOLUTION_TYPE.HIGH.frameRate,bitRate:u.ENUM_SCREEM_RESOLUTION_TYPE.HIGH.bitRate};break;case 4:t={frameRate:e.frameRate,bitRate:e.bitRate,width:e.width,height:e.height};break;case 2:default:t={frameRate:u.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.frameRate,bitRate:u.ENUM_SCREEM_RESOLUTION_TYPE.MEDIUM.bitRate}}t.audio="boolean"==typeof e.audio&&e.audio,t.startBitrate=e.startBitrate}return t},t.prototype.createScreenPreviewer=function(e,t){var r=new s.ZegoPreview(this.logger,this.ac,this,"screen"),o=e.getVideoTracks()[0].getSettings();return this.previewStreamList.push(r),r.mediaStreamConfig=t,e.getAudioTracks().length>0&&(r.audioTrack=e.getAudioTracks()[0]),r.localStream=e,r.videoInfo={width:o.width,height:o.height,frameRate:o.frameRate||15,bitRate:(null==t?void 0:t.bitRate)||1e3,startBitrate:null==t?void 0:t.startBitrate},r.previewSuc=!0,r.previewType="screen",r},t.prototype.setSoundLevelDelegate=function(e,t){for(var r in this.logger.info("zsc.ssd.0 call"),t&&(this.soundLevelInterval=t),this.soundLevelDelegate=e,this.previewStreamList){var o=this.previewStreamList[r];e?o.startSoundLevel():o.stopSoundLevel()}for(var r in this.playerList){var n=this.playerList[r].player;e?n.startSoundLevel():n.stopSoundLevel()}e?(this.logger.info("zsc.ssd.0 start getting sound"),this.activeSoundLevel()):(this.logger.info("zsc.ssd.0 stop getting sound"),this.soundLevelTimer&&clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null,this.soundLevelInterval=1e3)},Object.defineProperty(t.prototype,"hasRemoteStream",{get:function(){return Object.keys(this.signalList).length>0},enumerable:!1,configurable:!0}),t.prototype.activeSoundLevel=function(){!this.soundLevelTimer&&this.soundLevelDelegate&&this.startSoundLevel()},t.prototype.startSoundLevel=function(){var e=this;this.soundLevelTimer&&(clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null),this.soundLevelDelegate&&(this.hasRemoteStream&&this.checkSoundLevel(),this.checkMicSoundLevel(),this.soundLevelTimer=setTimeout((function(){e.startSoundLevel()}),this.soundLevelInterval))},t.prototype.checkSoundLevel=function(){this.logger.debug("zsc.csl.0 call");var e=[];for(var t in this.publisherList){var r=0,o=this.publisherList[t].publisher,n=o.previewer;n&&(r=n.soundLevel),e.push({streamID:this.getBackStreamId(o.streamId),soundLevel:r,type:"push"})}for(var t in this.playerList){var i=this.playerList[t].player;e.push({streamID:this.getBackStreamId(i.streamId),soundLevel:i.soundLevel,type:"pull"})}this.soundLevelDelegate&&e.length>0&&this.onSoundLevelUpdate(e)},t.prototype.checkMicSoundLevel=function(){if(this.cameraPreviewStream&&this.soundLevelDelegate){var e=this.cameraPreviewStream.soundLevel;this.onMicSoundLevelUpdate(e)}},t.prototype.getBackStreamId=function(e){return this.testEnvironment&&e?e.replace("zegotest-"+this.appid+"-",""):e},t.prototype.onSoundLevelUpdate=function(e){},t.prototype.onMicSoundLevelUpdate=function(e){},t.prototype.stopSoundLevel=function(){var e=this.previewStreamList.length;this.soundLevelTimer&&!this.hasRemoteStream&&0===e&&(this.logger.info("zsc.ssl.0 stop"),clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null)},t.prototype.startNetProbe=function(e,t,r){var o=this,n=a.getReportSeq();if(this.dataReport.newReport(n,m.ZegoRTCLogEvent.kZegoNetProbe.event),this.isPeer){var i=!0;0==r.length&&(i=!1,r=e?this.publisherList[t.streamId].serverUrls:this.playerList[t.streamId].serverUrls),r.forEach((function(r){if(!(o.probeList[r]&&o.probeList[r].timeStamp+9e5<(new Date).getTime()||t.probeState==u.ENUM_PROBE_STATE.probed)){var n="zegoprobe-"+(new Date).getTime();o.setPlayStateStart(n);var a=o.playerList[n]?o.playerList[n].player:null;a&&(a.isProbe=!0,i?(a.gwNode=r,a.signal=t.signal,a.startPlay(n,(function(){}))):o.connectPlayServer(n,(function(){}),r),a.onCalNetQualityResult=function(i,s){o.logger.info("zc.ocnqr.0 "+a.gwNode+" "+i+" "+s),o.probeList[r]={result:i,netQuality:s,timeStamp:(new Date).getTime()},t.gwNode==r||t.signal.server==r?t.netQuality=s:o.handleCalNetQualityResult(e,i,s,t,r),o.stopPlayingStream(n)})}})),this.dataReport.addMsgInfo(n,{netQuality:t.netQuality,nodeList:r}),this.dataReport.uploadReport(n)}else this.dataReport.uploadReport(n,void 0,{code:-1,message:"not support peer"})},t.prototype.handleCalNetQualityResult=function(e,t,r,o,n){if(this.logger.info("zc.hcqr.0 "+o.netQuality+" probe "+r+" "+n),0===t){var i=a.getReportSeq();this.dataReport.newReport(i,m.ZegoRTCLogEvent.kZegoNetProbeResult.event);var s=!1;if(r>Math.max(75,o.netQuality+20)&&o.probeState==u.ENUM_PROBE_STATE.tryProbe)if(s=!0,e){var l=o,c=l.streamId,d=l.localStream,p=l.videoInfo,h=l.mediaStreamConfig,f=l.publishOption;0!=l.sessionId&&l.signal&&l.shouldSendCloseSession()&&(l.signal.sendCloseSession(u.getSeq(),l.sessionId,1),l.signal.removeSession(l.sessionId),l.closeSessionSignal=!0),l.resetPublish(),this.publisherList[c].isCenterNode?(l.gwNode=n,l.startPublish(c,d,p,h,f)):this.connectPublishServer(c,n)}else{var g=o,v=(c=g.streamId,g.getRemoteStreamSuc),b=g.playOption;0!=g.sessionId&&g.signal&&g.shouldSendCloseSession()&&(g.signal.sendCloseSession(u.getSeq(),g.sessionId,1),g.signal.removeSession(g.sessionId),g.closeSessionSignal=!0),g.resetPlay(),this.playerList[c].isCenterNode?(g.gwNode=n,g.startPlay(c,v,b)):this.connectPlayServer(c,v,n)}else s=!1,this.logger.warn("zc.hcqr.0 "+o.netQuality+" probe "+r+" "+n);this.dataReport.addMsgInfo(i,{isSwitch:s,isPublish:e,streamID:o.streamId,result:t,node:n,netQuality:o.netQuality,probeNetQuality:r}),this.dataReport.uploadReport(i),o.probeState=u.ENUM_PROBE_STATE.probed}},t.prototype.getRoomByStreamID=function(e){return this.publisherList[e]?this.publisherList[e].room:this.playerList[e]?this.playerList[e].room:void 0},t.prototype.getPlayRoom=function(e){return this.stateCenter.roomList.find((function(t){return!!t.streamList.find((function(t){return t.stream_id==e}))}))},t}(c.ZegoStreamCenter);t.ZegoStreamCenterWeb=v},function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoPublish=void 0;var a=r(0),s=i(r(8)),l=r(23),c=r(5),u=r(3),d=r(1),p=r(2),h=r(4),f=function(){function e(e,t,r,o,n,i,s){this.state=a.ENUM_PUBLISH_STATE.stop,this.sessionId=0,this.sessionToken="",this.candidateInfo=[],this.qualityTimer=null,this.publishQualityList=[],this.maxQualityListCount=10,this.lastPublishStats={},this.reportSeq=NaN,this.streamReportSeq=a.getSeq(),this.qualityUpload=!1,this.qualityUploadInterval=3e4,this.qualityUploadLastTime=0,this.qualitySeq=0,this.videoInfo={width:0,height:0,frameRate:0,bitRate:0,channelCount:1,audioBitrate:48e3},this.mediaStreamConfig=null,this.offerSeq=0,this.audioMixList=[],this.arrayBufferMap={},this.effectList=[],this.peerConnection=null,this.qualityCount=0,this.closeSessionSignal=!1,this.channelCount=1,this.localSdpRevert=!1,this.remoteSdpRevert=!1,this.videoCodec="H264",this.stateNego=a.ENUM_PUBLISH_STATE_NEGO.stop,this.negoInterval=25e3,this.publishEvent=!1,this.cameraState="on",this.microState="on",this.gwNode="",this.gwNodeList=[],this.gwNodeTTL=0,this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[],this.isPeer=!1,this.peerFailCount=0,this.peerID=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=a.ENUM_PROBE_STATE.probed,this.toBeReplacedTracks={},this.camera_status=2,this.mic_status=2,this.logger=e,this.dataReport=t,this.qualityTimeInterval=r,this.ac=n,this.mediaEleSources=i,this.streamCenter=o,this.stateCenter=s,this.dataReport.newReport(this.streamReportSeq)}return Object.defineProperty(e.prototype,"previewer",{get:function(){return this.streamCenter.checkPreview(this.localStream)},enumerable:!1,configurable:!0}),e.prototype.publishStateUpdateError=function(e,t){this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_STATE_ERROR+"  call ",this.streamId,JSON.stringify(e)),this.streamId&&this.onPublishStateUpdate(a.ENUM_PUBLISH_STATE_UPDATE.error,this.streamId,e,t),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_STATE_ERROR+"  ended")},e.prototype.resetPublish=function(){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_RESET_PUBLISH+"   "+this.streamId+" call"),this.state=a.ENUM_PUBLISH_STATE.stop,this.publishEvent=!1,null==this.peerConnection&&null==this.peerConnection||(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.clearPublishQualityTimer(),this.signal&&(this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PublishEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId)),this.sessionSeq=0,this.offerSeq=0,this.candidateInfo=[],this.publishQualityList=[],this.qualityUploadLastTime=0,this.resetEncBitrate()},e.prototype.clearPublishQualityTimer=function(){null!=this.qualityTimer&&(clearInterval(this.qualityTimer),this.qualityTimer=null),this.lastPublishStats={},this.qualityCount=0},e.prototype.shouldSendCloseSession=function(){return this.state!=a.ENUM_PUBLISH_STATE.stop&&this.state!=a.ENUM_PUBLISH_STATE.waitingSessionRsp},e.prototype.startPublish=function(e,t,r,o,n){var i=this;this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+e+" called"),this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),e?(this.streamId=e,this.localStream=t,this.mediaStreamConfig=o,this.channelCount=o.channelCount,this.publishOption=n||{},navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&o&&(o.externalCapture||o.externalMediaStream)&&(this.localStream.onaddtrack=function(){var e,t;i.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+i.streamId+" Track added");var r=i.localStream.getVideoTracks(),o=i.localStream.getAudioTracks();if(r.length>1)null==(n=null===(e=i.peerConnection)||void 0===e?void 0:e.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.kind)===r[1].kind})))||n.replaceTrack(r[1]),i.localStream.removeTrack(r[0]);else if(o.length>1){var n;null==(n=null===(t=i.peerConnection)||void 0===t?void 0:t.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.kind)===o[1].kind})))||n.replaceTrack(o[1]),i.localStream.removeTrack(o[0])}}),r&&(this.videoInfo=r),n&&n.videoCodec&&(this.videoCodec=n.videoCodec),this.dataReport.addMsgInfo(this.reportSeq,{video_en_codec_id:d.ZegoRTCLogEvent.kZegoTaskPublishStart.video_en_codec_id("VP8"==this.videoCodec?2:0),audio_c_channel_count:d.ZegoRTCLogEvent.kZegoTaskPublishStart.audio_c_channel_count(2==this.channelCount?2:1),audio_en_bps:d.ZegoRTCLogEvent.kZegoTaskPublishStart.audio_en_bps(this.videoInfo.audioBitrate),aec_level:d.ZegoRTCLogEvent.kZegoTaskPublishStart.aec_level(1==o.AEC?2:0==o.AEC?0:2),ans_level:d.ZegoRTCLogEvent.kZegoTaskPublishStart.ans_level(1==o.ANS?2:0==o.ANS?0:2),agc:d.ZegoRTCLogEvent.kZegoTaskPublishStart.agc(1==o.AGC?2:0==o.AGC?0:2),traffic_control_min_video_bitrate:d.ZegoRTCLogEvent.kZegoTaskPublishStart.traffic_control_min_video_bitrate(this.videoInfo.bitRate)}),this.isPeer?this.createOffer():this.createSession(),this.negoTimer=setTimeout((function(){i.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" waiting timeout"),i.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNegoTimeoutError)}),this.negoInterval)):this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+e+" streamId is null")},e.prototype.activateSEIInsert=function(e,t){var r=this;return new Promise((function(o,n){return r.signal?(r.signal&&r.signal.activateSEIInsert(a.getSeq(),r.sessionId,r.peerID,e,t,(function(e,t,n){var i=!1;0===n.result?(r.logger.info(p.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" called success"),i=!0):1===n.result?(r.logger.error(p.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" "+n.peer_id+" invalid param."),i=!1):2===n.result&&(r.logger.error(p.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" peer not exist"),i=!1),o(i)}),(function(e){a.SEND_MSG_TIMEOUT===e&&r.logger.error(p.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" request timeout")})),!1):o(!1)}))},e.prototype.createSession=function(e){var t=this;this.sessionSeq=a.getSeq();var r=this.streamId;1==this.streamCenter.testEnvironment&&(r="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.isPeer?(this.dataReport.eventStart(this.reportSeq,"CreateSessionWithSdp"),this.dataReport.eventStart(this.streamReportSeq,"CreateSessionWithSdp"),this.signal.createSessionWithSdp({seq:this.sessionSeq,type:0,mode:0,streamId:r,videoInfo:this.videoInfo,strAuthParam:this.publishOption&&this.publishOption.streamParams||"",sdp:e.sdp,serverHost:this.gwNode},(function(e,r,o){t.handleCreateSessionWithSdpResp(e,r,o)}),(function(r,o){t.dataReport.eventEndWithMsg(t.reportSeq,"CreateSession",{error:r}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"CreateSession",{error:r}),r==a.SEND_MSG_TIMEOUT&&t.peerFailCount<2?(t.peerFailCount++,t.createSession(e)):r==a.SEND_MSG_TIMEOUT&&t.peerFailCount>=2?(t.isPeer=!1,t.streamCenter.isPeer=!1,t.createSession()):t.publishStateUpdateError(r==a.SEND_MSG_TIMEOUT?d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionTimeoutError:d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError)}))):(this.dataReport.eventStart(this.reportSeq,"CreateSession"),this.dataReport.eventStart(this.streamReportSeq,"CreateSession"),this.signal.createSession(this.sessionSeq,0,0,r,this.publishOption&&this.publishOption.streamParams,this.gwNode,(function(e,r,o){t.handleCreateSessionResp(e,r,o)}),(function(e,r){t.reportSeq,t.dataReport.eventEndWithMsg(t.reportSeq,"CreateSession",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"CreateSession",{error:e}),t.publishStateUpdateError(e==a.SEND_MSG_TIMEOUT?d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionTimeoutError:d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError)}))),this.state=a.ENUM_PUBLISH_STATE.waitingSessionRsp,this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" called success"),this.stateNego=a.ENUM_PUBLISH_STATE_NEGO.start},e.prototype.handleCreateSessionResp=function(e,t,r){var o=r.turn_server,n=o.split("?")[0]&&o.split("?")[0].slice(5),i=this.streamCenter.server.split("?"),a=i[1]&&i[1].slice(2);this.dataReport.eventEndWithMsg(this.streamReportSeq,"CreateSession",{sessionId:r.session_id,url:"webrtc://"+n+"/"+a+"/"+this.streamId}),this.dataReport.eventEndWithMsg(this.reportSeq,"CreateSession",{sessionId:r.session_id,url:"webrtc://"+n+"/"+a+"/"+this.streamId}),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" sessionId:"+r.session_id),this.sessionSeq==e?(this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,0!==r.result?(this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" create session failed "+r.result),this.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError)):(this.sessionId=r.session_id,this.sessionToken=r.session_token,this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" create session success "+this.sessionId),this.dataReport.addMsgInfo(this.reportSeq,{session_id:d.ZegoRTCLogEvent.kZegoTaskPublishStart.session_id(this.sessionId)}),this.onCreatePublishSessionSuccess(r))):this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" "+this.streamId+" seq is not match.")},e.prototype.handleCreateSessionWithSdpResp=function(e,t,r){var o=this;this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" sessionId:"+t),this.sessionSeq==e?(this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,this.dataReport.eventEndWithMsg(this.streamReportSeq,"CreateSessionWithSdp",{sessionId:t}),this.dataReport.eventEndWithMsg(this.reportSeq,"CreateSessionWithSdp",{sessionId:t}),0!==r.result?(this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" create session failed "+r.result),this.publishStateUpdateError({code:d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError.code,message:d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionRequestError.message+" result:"+r.result})):(this.sessionId=t,this.sessionToken=r.session_token,this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" get remote session success "+this.streamId),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,t,r){o.onRecvCloseSession(e,t,r)})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,t,r){o.onRecvResetSession(e,t,r)})),this.signal.registerPushCallback("PublishEventPush",this.sessionId,(function(e,t,r){o.onRecvPublishEvent(e,t,r)})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,t,r){o.onRecvClientInfo(e,t,r)})),this.onGetRemoteOfferSuccess(r.sdp))):this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_PUBLISH+" seq is not match.")},e.prototype.onCreatePublishSessionSuccess=function(e){var t=this;this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+this.streamId+" called");var r=[];if(e.turn_server){var o=e.turn_server;this.stateCenter.turnOverTcpOnly&&(o=o.replace("udp","tcp")),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" over tcp "+o),r.push(o)}e.stun_server&&r.push(e.stun_server);var n={iceTransportPolicy:"relay",iceServers:[{urls:r,username:e.turn_username,credential:e.turn_auth_key}]};this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+this.streamId+" username: "+e.turn_username),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+this.streamId+" credential: "+e.turn_auth_key),this.createOffer(n),this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,(function(e,r,o){t.onRecvCandidateInfo(e,r,o)})),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,r,o){t.onRecvCloseSession(e,r,o)})),this.signal.registerPushCallback("MediaDescPush",this.sessionId,(function(e,r,o){t.onRecvMediaDescription(e,r,o)})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,r,o){t.onRecvResetSession(e,r,o)})),this.signal.registerPushCallback("PublishEventPush",this.sessionId,(function(e,r,o){t.onRecvPublishEvent(e,r,o)})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,r,o){t.onRecvClientInfo(e,r,o)})),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+this.streamId+" call success")},e.prototype.createOffer=function(e){var t=this;this.peerConnection=new RTCPeerConnection(e),this.peerConnection.onicecandidate=function(e){t.onIceCandidate(e)},this.peerConnection.onsignalingstatechange=function(e){t.onConnectionStateChange(e)},this.peerConnection.oniceconnectionstatechange=function(e){t.onIceConnectionStateChange(e)};var r=[],o=[];this.localStream&&(this.localStream.getTracks().forEach((function(e){var r;null===(r=t.peerConnection)||void 0===r||r.addTrack(e,t.localStream)})),r=this.localStream.getVideoTracks(),o=this.localStream.getAudioTracks(),r.length>0&&this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+this.streamId+" video device: "+r[0].label),o.length>0&&this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+this.streamId+" audio device: "+o[0].label));var n={offerToReceiveAudio:o.length>0?1:0,offerToReceiveVideo:r.length>0?1:0};this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+this.streamId+" createOffer: "+JSON.stringify(n)),this.dataReport.eventStart(this.reportSeq,"CreateOffer"),this.dataReport.eventStart(this.streamReportSeq,"CreateOffer"),this.peerConnection.createOffer(n).then((function(e){t.dataReport.eventEnd(t.reportSeq,"CreateOffer"),t.dataReport.eventEnd(t.streamReportSeq,"CreateOffer"),t.onCreateOfferSuccess(e)}),(function(e){t.dataReport.eventEndWithMsg(t.reportSeq,"CreateOffer",{error:e.toString()}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"CreateOffer",{error:e.toString()}),t.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_PUBLISH_SESSION_SUCCESS+" "+t.streamId+" create offer error "+e.toString()),t.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kCreateOfferError,!0)}))},e.prototype.onCreateOfferSuccess=function(e){var t,r=this;0!=this.videoInfo.bitRate&&(e.sdp=this.updateBandwidthRestriction(e.sdp,this.videoInfo.bitRate)),e.sdp=e.sdp.replace(/sendrecv/g,"sendonly"),e.sdp=e.sdp.replace(/useinbandfec=\d+/,(this.videoInfo.audioBitrate?"maxaveragebitrate="+this.videoInfo.audioBitrate:"")+(2===this.videoInfo.channelCount?";stereo=1":"")),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" local sdp revert "+this.localSdpRevert),/m=video[\s\S]*m=audio/.test(e.sdp)&&(this.localSdpRevert=!0),e.sdp=c.SdpUtil.getSDPByVideDecodeType(e.sdp,this.videoCodec),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp1 "+e.sdp.substr(0,e.sdp.length/2)),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp2 "+e.sdp.substr(e.sdp.length/2)),this.dataReport.eventStart(this.reportSeq,"SetLocalDescription"),this.dataReport.eventStart(this.streamReportSeq,"SetLocalDescription"),null===(t=this.peerConnection)||void 0===t||t.setLocalDescription(e).then((function(){r.dataReport.eventEnd(r.reportSeq,"SetLocalDescription"),r.dataReport.eventEnd(r.streamReportSeq,"SetLocalDescription"),r.onSetLocalDescriptionSuccess(e)}),(function(e){r.dataReport.eventEndWithMsg(r.reportSeq,"SetLocalDescription",{error:e.toString()}),r.dataReport.eventEndWithMsg(r.streamReportSeq,"SetLocalDescription",{error:e.toString()}),r.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CREATE_OFFER_SUCCESS+" "+r.streamId+" error "+e.toString()),r.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSetLocalDescError,!0)}))},e.prototype.updateBandwidthRestriction=function(e,t){var r="AS";return"firefox"===s.browserDetails.browser&&(t=1e3*(t>>>0),r="TIAS"),-1===e.indexOf("b="+r+":")?(e=e.replace(/c=IN (.*)\r\n/g,"c=IN $1\r\nb="+r+":"+t+"\r\n")).replace("b="+r+":"+t+"\r\n",""):(e=e.replace(new RegExp("b="+r+":.*\r\n","g"),"b="+r+":"+t+"\r\n")).replace("b="+r+":"+t+"\r\n","")},e.prototype.onSetLocalDescriptionSuccess=function(e){var t=this;if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" success"),this.isPeer)this.createSession(e);else{var r={sdp:e.sdp,width:this.videoInfo.width,height:this.videoInfo.height,frameRate:this.videoInfo.frameRate,video_min_kpbs:this.videoInfo.bitRate,video_max_kpbs:this.videoInfo.bitRate,audio_kpbs:48,keyframe_intv:2};this.offerSeq=a.getSeq(),this.dataReport.eventStart(this.reportSeq,"SendMediaDesc"),this.dataReport.eventStart(this.streamReportSeq,"SendMediaDesc"),this.signal.sendMediaDesc(this.offerSeq,this.sessionId,0,r,(function(e,o,n){t.offerSeq==e&&t.sessionId==o?(t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+t.streamId+" send success"),t.dataReport.eventEndWithMsg(t.reportSeq,"SendMediaDesc",{mediaDescription:{width:r.width,height:r.height,frameRate:r.frameRate,video_min_kpbs:r.video_min_kpbs,video_max_kpbs:r.video_max_kpbs,audio_kpbs:r.audio_kpbs,keyframe_intv:r.keyframe_intv}}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"SendMediaDesc",{mediaDescription:{width:r.width,height:r.height,frameRate:r.frameRate,video_min_kpbs:r.video_min_kpbs,video_max_kpbs:r.video_max_kpbs,audio_kpbs:r.audio_kpbs,keyframe_intv:r.keyframe_intv}}),t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+t.streamId+" send success stateNego:waiterAnswer"),t.stateNego=a.ENUM_PUBLISH_STATE_NEGO.waiterAnswer,t.state=a.ENUM_PUBLISH_STATE.waitingServerAnswer):t.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+t.streamId+" seq or sessionId is not equal")}),(function(e,r){t.dataReport.eventEndWithMsg(t.reportSeq,"SendMediaDesc",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"SendMediaDesc",{error:e}),t.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaDescError)})),this.state=a.ENUM_PUBLISH_STATE.waitingOffserRsp,this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" call success")}},e.prototype.onRecvMediaDescription=function(e,t,r){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received"),this.state==a.ENUM_PUBLISH_STATE.waitingServerAnswer?(this.stateNego=a.ENUM_PUBLISH_STATE_NEGO.waitingCandidate,this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received stateNego:waitingCandidate"),this.dataReport.addEvent(this.reportSeq,"RecvMediaDesc"),this.dataReport.addEvent(this.streamReportSeq,"RecvMediaDesc"),this.signal.sendMediaDescAck(e,this.sessionId,0),1==r.type?this.onGetRemoteOfferSuccess(r.sdp):this.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaDescError)):this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_MEDIA_DESC+" "+this.streamId+" current state "+this.state+" not allowed")},e.prototype.onGetRemoteOfferSuccess=function(e){var t,r,o,n,i,l,c,u,h=this;if(this.videoInfo.audioBitrate&&48e3!==this.videoInfo.audioBitrate&&(e=e.replace(/maxaveragebitrate=(\d+)/,"maxaveragebitrate="+this.videoInfo.audioBitrate)),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+this.streamId+NaN+this.localSdpRevert),/m=video[\s\S]*m=audio/.test(e)&&(this.remoteSdpRevert=!0),this.stateCenter.turnOverTcpOnly&&(null===(o=e.match(/candidate.*/g))||void 0===o||o.forEach((function(t){var r=t.replace(/udp/,"tcp");e=e.replace(t,r)}))),this.logger.info("zp.oro.0 "+this.streamId+" sdp revert "+this.localSdpRevert+" "+this.remoteSdpRevert),this.localSdpRevert!==this.remoteSdpRevert){var f=void 0,g=void 0,m=void 0;if(this.remoteSdpRevert){g=(t=[/[\s\S]*m=audio/.exec(e)[0].replace("m=video",""),/m=video[\s\S]*m=audio/.exec(e)[0].replace("m=video",""),/m=audio[\s\S]*/.exec(e)[0]])[1],m=t[2];var v=/a=group:BUNDLE\s+(\w+)\s+(\w+)/.exec(f=t[0]);f=f.replace(/a=group:BUNDLE\s+(\w+)\s+(\w+)/,"a=group:BUNDLE "+v[2]+" "+v[1]),e=f+m+g}else g=(r=[/[\s\S]*m=audio/.exec(e)[0].replace("m=audio",""),/m=video[\s\S]*/.exec(e)[0],/m=audio[\s\S]*m=video/.exec(e)[0].replace("m=video","")])[1],m=r[2],v=/a=group:BUNDLE\s+(\w+)\s+(\w+)/.exec(f=r[0]),f=f.replace(/a=group:BUNDLE\s+(\w+)\s+(\w+)/,"a=group:BUNDLE "+v[2]+" "+v[1]),e=f+g+m;this.localSdpRevert=!1,this.remoteSdpRevert=!1}var b=e.match(/m=video(.|\r|\n)*a=rtpmap(.|\r|\n)*(a=fmtp:(102|96|97).*)/);if("chrome"==s.browserDetails.browser){var _=0;if(this.videoInfo.bitRate&&"target"===this.videoInfo.startBitrate&&(_=this.videoInfo.bitRate),null!==b&&_){var E=b[3];e=-1!==E.indexOf("apt=")?e.replace(E,"a=fmtp:96 x-google-start-bitrate="+_+"\n"+E):e.replace(E,E+";x-google-start-bitrate="+_)}}if(this.videoInfo.bitRate>0){var O=/b=AS.*(\r\n|\n)/.test(e);e=O?e.replace(/AS:(\d+)/,"AS:"+this.videoInfo.bitRate):e.replace(/m=video.*(\r\n|\n)c=.*(\r\n|\n)/,"$&b=AS:"+this.videoInfo.bitRate+"\n");var y=null===(n=this.peerConnection)||void 0===n?void 0:n.getSenders().find((function(e){return e.track&&"video"===e.track.kind}));if(y&&y.getParameters&&y.setParameters){var S=y.getParameters();S.encodings||(S.encodings=[{}]),S.encodings[0].maxBitrate=1e3*this.videoInfo.bitRate;var T=this.lastPublishStats.frameWidth,C=(null===(l=null===(i=this.previewer)||void 0===i?void 0:i.cameraMaxResolution)||void 0===l?void 0:l.maxWidth)||0,R=null===(c=this.previewer)||void 0===c?void 0:c.videoInfo.width,k=T?Math.min(C,T):C;if(C&&R){var I=Math.max(k/R,1);S.encodings[0].scaleResolutionDownBy=I}y.setParameters(S)}}this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+this.streamId+" remoteSdp:",e);var j={type:"answer",sdp:e,toJSON:function(){}};this.dataReport.eventStart(this.reportSeq,"SetRemoteDescription"),this.dataReport.eventStart(this.streamReportSeq,"SetRemoteDescription"),null===(u=this.peerConnection)||void 0===u||u.setRemoteDescription(new RTCSessionDescription(j)).then((function(){h.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+h.streamId+" set success"),h.dataReport.eventEnd(h.reportSeq,"SetRemoteDescription"),h.dataReport.eventEnd(h.streamReportSeq,"SetRemoteDescription")}),(function(e){h.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+h.streamId+" failed: "+e.toString()),h.dataReport.eventEndWithMsg(h.reportSeq,"SetRemoteDescription",{error:e.toString()}),h.dataReport.eventEndWithMsg(h.streamReportSeq,"SetRemoteDescription",{error:e.toString()}),h.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSetRemoteDescError,!0)})),this.state=a.ENUM_PUBLISH_STATE.waitingServerICE,this.logger.debug(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_GET_REMOTE_DESCRIPTION+" "+this.streamId+" call success")},e.prototype.onIceConnectionStateChange=function(e){var t=this;this.state!=a.ENUM_PUBLISH_STATE.stop&&null!=this.peerConnection&&(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" stateChanged "+this.peerConnection.iceConnectionState),"connected"===this.peerConnection.iceConnectionState?(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" connected state "+this.state),this.dataReport.eventEnd(this.reportSeq,"IceConnected"),this.dataReport.eventEnd(this.streamReportSeq,"IceConnected"),this.stateNego=a.ENUM_PUBLISH_STATE_NEGO.iceConnected,this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" stateNego:iceConnected"),this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.publishEvent?this.publishSuccess():(this.firstGetStatsTimer&&clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null,this.firstGetStatsTimer=setTimeout((function(){var e;t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" get first stats state "+t.state),t.state!==a.ENUM_PUBLISH_STATE.publishing&&(null===(e=t.peerConnection)||void 0===e||e.getStats().then((function(e){t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" get first stats suc"),e.size>0&&t.publishSuccess()})))}),1e3))):"closed"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):"failed"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,"IceFailed"),this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):"disconnected"===this.peerConnection.iceConnectionState&&(this.dataReport.addEvent(this.reportSeq,"IceDisconnected"),this.stateNego=a.ENUM_PUBLISH_STATE_NEGO.iceDisconnected,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)))},e.prototype.onIceCandidate=function(e){if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CANDIDATE+" "+this.streamId+" candidate"+e.candidate),e.candidate)if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CANDIDATE+" "+this.streamId+" candidate"+e.candidate.candidate),this.state<a.ENUM_PUBLISH_STATE.connecting||this.state==a.ENUM_PUBLISH_STATE.stop)this.candidateInfo.push({candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex});else{var t={candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex};this.sendCandidateInfo([t])}},e.prototype.sendCandidateInfo=function(e){var t=this;this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+this.streamId+" called"),!(e=e.filter((function(e){return e.candidate.indexOf("relay")>0})))||e.length<1?this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+this.streamId+" cancelled"):(this.dataReport.eventStart(this.reportSeq,"SendIceCandidate"),this.dataReport.eventStart(this.streamReportSeq,"SendIceCandidate"),this.stateNego!==a.ENUM_PUBLISH_STATE_NEGO.iceConnected&&(this.stateNego=a.ENUM_PUBLISH_STATE_NEGO.sendCandidate),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo(a.getSeq(),this.sessionId,e,(function(e,r,o){t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+t.streamId+" send success"),t.dataReport.eventEnd(t.reportSeq,"SendIceCandidate"),t.dataReport.eventEnd(t.streamReportSeq,"SendIceCandidate")}),(function(e,r){t.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SEND_CANDIDATE_INFO+" "+t.streamId+" failed to send: "+e.toString()),t.dataReport.eventEndWithMsg(t.reportSeq,"SendIceCandidate",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"SendIceCandidate",{error:e}),t.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kCandidateError)})))},e.prototype.onConnectionStateChange=function(e){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_CONNECTION_STATE_CHANGE+" "+this.streamId+" called "+e.target.signalingState)},e.prototype.onRecvCandidateInfo=function(e,t,r){var o,n=this;if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" received "+JSON.stringify(r.infos)),this.state==a.ENUM_PUBLISH_STATE.waitingServerICE){this.dataReport.addEvent(this.reportSeq,"RecvIceCandidate"),this.dataReport.addEvent(this.streamReportSeq,"RecvIceCandidate"),this.signal.sendCandidateInfoAck(e,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var i=0;i<r.infos.length;i++){var s={sdpMid:r.infos[i].sdpMid,sdpMLineIndex:r.infos[i].sdpMLineIndex,candidate:r.infos[i].candidate};this.logger.debug(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+""+this.streamId+" candidate "+s.candidate),null===(o=this.peerConnection)||void 0===o||o.addIceCandidate(new RTCIceCandidate(s)).then((function(){n.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+n.streamId+" add success")}),(function(e){n.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+n.streamId+" add error "+e.toString()),n.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kCandidateError,!0)}))}this.state=a.ENUM_PUBLISH_STATE.connecting,this.dataReport.eventStart(this.reportSeq,"IceConnected"),this.dataReport.eventStart(this.streamReportSeq,"IceConnected")}else this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" current state "+this.state+" not allowed")},e.prototype.onRecvCloseSession=function(e,t,r){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLOSE_SESSION+""+this.streamId+" "+JSON.stringify(r)),this.dataReport.addEvent(this.reportSeq,"RecvCloseSession"),this.signal.sendCloseSessionAck(e,this.sessionId,0);var o=r.err_info?JSON.parse(r.err_info.toLowerCase()):{},n=o.action?o.action:null,i=1*r.reason,a=JSON.parse(JSON.stringify(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishSessionClosedError));a.message+=" reason:"+i+" "+(n?" action:"+n:""),1011===o.err&&(a=d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaServerForbidError),this.negoTimer&&clearTimeout(this.negoTimer);var s=![4,8,10,11,12,14,26,27].includes(i)&&![2,5,6].includes(n);this.publishStateUpdateError(a,s)},e.prototype.onRecvResetSession=function(e,t,r){if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_RESET_SESSION+" "+this.streamId+" received "),t==this.sessionId){this.signal.sendCloseSessionAck(e,this.sessionId,0);var o=d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishSessionClosedError;this.negoTimer&&clearTimeout(this.negoTimer),this.publishStateUpdateError(o)}else this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_RESET_SESSION+" "+this.streamId+" cannot find session")},e.prototype.onRecvPublishEvent=function(e,t,r){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_PUBLISH_EVENT+" "+this.streamId+" received"),this.publishEvent=!0,this.firstGetStatsTimer&&(clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null),this.stateNego===a.ENUM_PUBLISH_STATE_NEGO.iceConnected&&0==r.event&&this.publishSuccess()},e.prototype.onRecvClientInfo=function(e,t,r){this.stateCenter.clientIP!==r.clientip&&this.logger.warn(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_RECV_CLIENT_INFO+" client ip changed "+this.stateCenter.clientIP+" "+r.clientip),this.stateCenter.clientIP=r.clientip,this.peerID=r.peer_id;var o=this.previewer;if(o&&null!==o.activeteSEIConfig){var n=null==o?void 0:o.activeteSEIConfig,i=n.action,a=n.infoType;this.activateSEIInsert(i,a)}},e.prototype.checkPublishConnectionFailedState=function(e){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_ICE_CONNECTION_STATE_CHANGE+" streamID "+this.streamId," state "+this.state+" connectionState "+e),this.publishStateUpdateError(d.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kMediaConnectionError)},e.prototype.setPublishQualityTimer=function(){var e=this;null==this.qualityTimer&&(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+" "+this.streamId+" called"),this.clearPublishQualityTimer(),this.qualityTimer=setInterval((function(){e.peerConnectionGetStats()}),this.qualityTimeInterval),this.lastPublishStats={audioPacketsLost:0,videoPacketsLost:0,videoPacketsSent:0,audioPacketsSent:0,audioRetransmittedPacketsSent:0,videoTime:(new Date).getTime(),audioTime:(new Date).getTime(),time:0,audioBytesSent:0,videoBytesSent:0,framesEncoded:0,framesSent:0,videoRetransmittedPacketsSent:0},this.qualitySeq=a.getSeq(),this.qualityCount=0)},e.prototype.peerConnectionGetStats=function(e){var t=this;if(this.peerConnection){var r=[this.peerConnection.getStats(null)];"Chrome"==u.ClientUtil.getBrowser()&&r.push(new Promise((function(e,r){var o;null===(o=t.peerConnection)||void 0===o||o.getStats((function(t){return e(t)}),(function(e){return r(e)}))}))),Promise.all(r).then((function(r){var o=t.getPublishStats(r[0],r[1]);e&&e(o,r[0],r[1])})).catch((function(e){t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_PLAYER_QUALITY_TIMER+" "+t.streamId+" getStats error "+e.toString())}))}},e.prototype.getPublishStats=function(e,t){var r=this;if(e){for(var o,n=document.querySelectorAll("video, audio"),i=0;i<n.length;i++)n[i].srcObject===this.localStream&&(o=n[i]);var l={audioCodec:"opus",audioTargetBitrate:this.videoInfo.audioBitrate/1e3||0,audioBitrate:0,videoTargetBitrate:this.videoInfo.bitRate||0,videoTargetFPS:this.videoInfo.frameRate||0,videoBitrate:0,audioFPS:0,audioLevel:0,audioInputLevel:0,audioPacketsLost:0,audioPacketsLostRate:0,sendLevel:0,samplingRate:0,videoFPS:0,nackCount:0,pliCount:0,audioQuality:0,videoQuality:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoPacketsLost:0,videoPacketsLostRate:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,googActualEncBitrate:0,googTargetEncBitrate:0,googFrameWidthInput:0,googFrameHeightInput:0,googFrameRateInput:0,codecImplementationName:"",videoMuteState:this.localStream.getVideoTracks().length>0&&this.localStream.getVideoTracks()[0].enabled?"0":"1",audioMuteState:this.localStream.getAudioTracks().length>0&&this.localStream.getAudioTracks()[0].enabled?"0":"1",muted:o?o.muted:void 0,paused:o?o.paused:void 0,volume:o?o.volume:void 0,sinkId:o?o.sinkId:void 0},c=this.lastPublishStats.time,h=0,f=0,g=0,m=0,v=0,b=0;e.forEach((function(e){if(("outbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesSent)&&"audio"==e.mediaType)0!=c&&(l.audioBitrate=8*(e.bytesSent-r.lastPublishStats.audioBytesSent)/(e.timestamp-c),l.audioFPS=(e.packetsSent-(e.retransmittedPacketsSent-r.lastPublishStats.audioRetransmittedPacketsSent)-r.lastPublishStats.audioPacketsSent)/(e.timestamp-c)*1e3,g=(e.retransmittedPacketsSent-r.lastPublishStats.audioRetransmittedPacketsSent)/(e.packetsSent-r.lastPublishStats.audioPacketsSent)),l.audioBitrate<0&&(l.audioBitrate=0),r.lastPublishStats.audioBytesSent=e.bytesSent,r.lastPublishStats.time=e.timestamp,r.lastPublishStats.audioPacketsSentTimeStamp=e.packetsSent-r.lastPublishStats.audioPacketsSent,r.lastPublishStats.audioPacketsSent=e.packetsSent,r.lastPublishStats.audioRetransmittedPacketsSent=e.retransmittedPacketsSent;else if(("outbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesSent)&&"video"==e.mediaType)0!=c&&(l.videoBitrate=8*(e.bytesSent-r.lastPublishStats.videoBytesSent)/(e.timestamp-c),l.videoFPS=1e3*(e.framesEncoded-r.lastPublishStats.framesEncoded)/(e.timestamp-c),m=(e.retransmittedPacketsSent-r.lastPublishStats.videoRetransmittedPacketsSent)/(e.packetsSent-r.lastPublishStats.videoPacketsSent)),l.videoBitrate<0&&(l.videoBitrate=0),l.videoFPS<0&&(l.videoFPS=0),l.nackCount=e.nackCount,l.pliCount=e.pliCount,r.lastPublishStats.videoBytesSent=e.bytesSent,r.lastPublishStats.framesEncoded=e.framesEncoded,r.lastPublishStats.time=e.timestamp,r.lastPublishStats.videoPacketsSentTimeStamp=e.packetsSent-r.lastPublishStats.videoPacketsSent,r.lastPublishStats.videoPacketsSent=e.packetsSent,r.lastPublishStats.videoRetransmittedPacketsSent=e.retransmittedPacketsSent;else if("remote-inbound-rtp"==e.type&&"video"==e.kind){e.packetsLost>0&&(l.videoPacketsLost=e.packetsLost);var t=e.packetsLost-r.lastPublishStats.videoPacketsLost;l.videoPacketsLostRate=t>0?t/r.lastPublishStats.videoPacketsSentTimeStamp:0,e.packetsLost>0&&(r.lastPublishStats.videoPacketsLost=e.packetsLost),r.lastPublishStats.videoTime=e.timestamp,f=1e3*e.roundTripTime,b=e.jitter}else if("remote-inbound-rtp"==e.type&&"audio"==e.kind){e.packetsLost>0&&(l.audioPacketsLost=e.packetsLost);var o=e.packetsLost-r.lastPublishStats.audioPacketsLost;l.audioPacketsLostRate=o>0?o/r.lastPublishStats.audioPacketsSentTimeStamp:0,e.packetsLost>0&&(r.lastPublishStats.audioPacketsLost=e.packetsLost),r.lastPublishStats.audioTime=e.timestamp,h=1e3*e.roundTripTime,v=e.jitter}else if("media-source"==e.type&&("audio"==e.kind||e.id.toLowerCase().indexOf("audio")>=0))l.audioLevel=e.audioLevel,l.sendLevel=e.totalAudioEnergy,l.audioInputLevel=32767*e.totalAudioEnergy,l.samplingRate=e.totalSamplesDuration;else if("track"==e.type&&("video"==e.kind||e.id.indexOf("video")>=0||e.frameWidth)){if(l.frameHeight=e.frameHeight,l.frameWidth=e.frameWidth,0===c||r.lastPublishStats.frameHeight===e.frameHeight&&r.lastPublishStats.frameWidth===e.frameWidth)0===c&&(r.lastPublishStats.frameHeight=e.frameHeight,r.lastPublishStats.frameWidth=e.frameWidth);else{var n=a.getReportSeq();r.dataReport.newReport(n,d.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.event),r.dataReport.addMsgInfo(n,{session_id:d.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.session_id(r.sessionId),w:d.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.w(e.frameWidth),h:d.ZegoRTCLogEvent.kZegoTaskVideoCaptureSize.h(e.frameHeight)}),r.dataReport.uploadReport(n),r.lastPublishStats.frameHeight=e.frameHeight,r.lastPublishStats.frameWidth=e.frameWidth}0!=c&&(l.videoTransferFPS=1e3*(e.framesSent-r.lastPublishStats.framesSent)/(e.timestamp-c)),l.videoTransferFPS<0&&(l.videoTransferFPS=0),r.lastPublishStats.framesSent=e.framesSent}else"candidate-pair"==e.type&&(null!=e.totalRoundTripTime&&(l.totalRoundTripTime=e.totalRoundTripTime),null!=e.currentRoundTripTime&&(l.currentRoundTripTime=e.currentRoundTripTime))})),t&&t.result().forEach((function(e){"ssrc"==e.type&&e.names().indexOf("googBandwidthLimitedResolution")>=0&&(l.googBandwidthLimitedResolution=e.stat("googBandwidthLimitedResolution")),"ssrc"==e.type&&"video"==e.stat("mediaType")&&e.names().indexOf("googCodecName")>=0&&(l.videoCodecName=e.stat("googCodecName")),"ssrc"==e.type&&"audio"==e.stat("mediaType")&&e.names().indexOf("googCodecName")>=0&&(l.audioCodecName=e.stat("googCodecName")),"ssrc"==e.type&&e.names().indexOf("googCpuLimitedResolution")>=0&&(l.googCpuLimitedResolution=e.stat("googCpuLimitedResolution")),"ssrc"==e.type&&e.names().indexOf("googFrameWidthInput")>=0&&(l.googFrameWidthInput=e.stat("googFrameWidthInput")),"ssrc"==e.type&&e.names().indexOf("googFrameHeightInput")>=0&&(l.googFrameHeightInput=e.stat("googFrameHeightInput")),"ssrc"==e.type&&e.names().indexOf("googFrameRateInput")>=0&&(l.googFrameRateInput=e.stat("googFrameRateInput")),"ssrc"==e.type&&e.names().indexOf("codecImplementationName")>=0&&(l.codecImplementationName=e.stat("codecImplementationName")),"VideoBwe"==e.type&&e.names().indexOf("googAvailableSendBandwidth")>=0&&(l.googAvailableSendBandwidth=e.stat("googAvailableSendBandwidth")),"VideoBwe"==e.type&&e.names().indexOf("googActualEncBitrate")>=0&&(l.googActualEncBitrate=e.stat("googActualEncBitrate")),"VideoBwe"==e.type&&e.names().indexOf("googTargetEncBitrate")>=0&&(l.googTargetEncBitrate=e.stat("googTargetEncBitrate")),"VideoBwe"==e.type&&e.names().indexOf("googRetransmitBitrate")>=0&&(l.googRetransmitBitrate=e.stat("googRetransmitBitrate"))})),"chrome"===s.browserDetails.browser&&this.handleEncBitrate(Number.parseInt(l.googTargetEncBitrate),Number.parseInt(l.googActualEncBitrate),Number.parseInt(l.googRetransmitBitrate)),f=isNaN(f)||f<0?0:f,m=isNaN(m)||m<0?0:m,b=isNaN(b)||b<0?0:b,h=isNaN(h)||h<0?0:h,g=isNaN(g)||g<0?0:g,v=isNaN(v)||v<0?0:v;var _=u.ClientUtil.getNetQuality(f,m,b),E=u.ClientUtil.getNetQuality(h,g,v);l.videoQuality=c>0?u.ClientUtil.quality2QualityGrade(_):0,l.audioQuality=c>0?u.ClientUtil.quality2QualityGrade(E):0;var O=Math.min(_,E);this.netQuality=O,c>0&&O<=a.QUALITY_CONSTANT.MiddleMinQuality&&(new Date).getTime()>this.probeTime+this.probeInterval&&(this.logger.info(p.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" netQuality "+O+" start net probe"),this.probeState=a.ENUM_PROBE_STATE.tryProbe,this.streamCenter.startNetProbe(!0,this,this.gwNodeList),this.probeTime=(new Date).getTime()),0!==c&&this.uploadPublishQuality(l);var y={video:{videoBitrate:l.videoBitrate,videoFPS:l.videoFPS,videoTransferFPS:l.videoTransferFPS,frameHeight:l.frameHeight,frameWidth:l.frameWidth,muteState:l.videoMuteState,videoQuality:l.videoQuality,videoPacketsLost:l.videoPacketsLost,videoPacketsLostRate:l.videoPacketsLostRate},audio:{audioBitrate:l.audioBitrate,audioCodec:l.audioCodec,muteState:l.audioMuteState,audioQuality:l.audioQuality,audioPacketsLost:l.audioPacketsLost,audioPacketsLostRate:l.audioPacketsLostRate,audioFPS:l.audioFPS},nackCount:l.nackCount,pliCount:l.pliCount,totalRoundTripTime:l.totalRoundTripTime,currentRoundTripTime:l.currentRoundTripTime};return void 0!==l.videoPacketsLost&&(y.video.videoPacketsLost=l.videoPacketsLost,y.video.videoPacketsLostRate=l.videoPacketsLostRate,y.audio.audioPacketsLost=l.audioPacketsLost,y.audio.audioPacketsLostRate=l.audioPacketsLostRate),void 0!==l.muted&&(y.muted=l.muted,y.paused=l.paused,y.volume=l.volume,y.sinkId=l.sinkId),void 0!==l.googBandwidthLimitedResolution&&(y.googBandwidthLimitedResolution=l.googBandwidthLimitedResolution,y.video.googCodecName=l.videoCodecName,y.audio.googCodecName=l.audioCodecName,y.googCpuLimitedResolution=l.googCpuLimitedResolution,y.googFrameWidthInput=l.googFrameWidthInput,y.googFrameHeightInput=l.googFrameHeightInput,y.googFrameRateInput=l.googFrameRateInput,y.codecImplementationName=l.codecImplementationName,y.googAvailableSendBandwidth=l.googAvailableSendBandwidth,y.googActualEncBitrate=l.googActualEncBitrate,y.googTargetEncBitrate=l.googTargetEncBitrate),0!==c&&this.onPublishQualityUpdate(this.streamId,y,e,t),y}},e.prototype.uploadPublishQuality=function(e){var t=this;if(this.qualityUpload){var r=Date.parse(new Date+"");(0==this.qualityUploadLastTime||r-this.qualityUploadLastTime>=this.qualityUploadInterval)&&(e.stream_type="publish",e.stream_id=this.streamId,e.timeStamp=r/1e3,this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_UPLOAD_PUBLISH_QUALITY+" "+this.streamId+" upload"+JSON.stringify(e)),this.signal.QualityReport(a.getSeq(),this.sessionId,e,(function(e,r,o){void 0!==o.report&&(t.qualityUpload=o.report,t.qualityUploadInterval=o.report_interval_ms)}),(function(e,r){t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_UPLOAD_PUBLISH_QUALITY+" "+t.streamId+" upload failed "+e)})),this.qualityUploadLastTime=r)}},e.prototype.stopPublish=function(){if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_PUBLISH+"  .1 "+this.streamId+" called"),Object.keys(this.streamCenter.publisherList).length=1)for(var e in this.streamCenter.playerList){var t=this.streamCenter.playerList[e].player;t.state==a.ENUM_PLAY_STATE.playing&&t.broadcasterStatus==a.ENUM_BROADCASTER_STATUS.start&&(this.signal&&this.signal.sendBroadcasterStatus(a.getSeq(),t.sessionId,0),t.broadcasterStatus=a.ENUM_BROADCASTER_STATUS.stop)}this.stopMixingAudio(),this.stopMixingBuffer(),this.stopEffect(),this.sessionId&&!this.closeSessionSignal&&this.signal.sendCloseSession(a.getSeq(),this.sessionId,0),this.dataReport.eventEndWithMsg(this.streamReportSeq,"PublishState",{state:this.state+""}),this.dataReport.addEvent(this.streamReportSeq,"StopPublish"),this.dataReport.addMsgExt(this.streamReportSeq,{stream:this.streamId,sessionId:this.sessionId}),this.dataReport.addMsgInfo(this.streamReportSeq,{itemtype:"RTCPublishStream"}),this.dataReport.uploadReport(this.streamReportSeq,"RTCPublishStream"),this.resetPublish()},e.prototype.onPublishStateUpdate=function(e,t,r,o){},e.prototype.onPublishQualityUpdate=function(e,t,r,o){},e.prototype.onDisconnect=function(e){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_DISCONNECT+" "+this.streamId+" call"),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_ON_DISCONNECT+" "+this.streamId+" websocket disconnect"),this.dataReport.addEvent(this.reportSeq,"OnDisconnect"),this.publishStateUpdateError(e||d.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kWebsocketDisconnectedError,!!e)},e.prototype.playEffect=function(e,t,r,o){if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+""+this.streamId+" call"),this.effectList.find((function(r){return r.effectID==e.effectID&&r.audioBuffer==t})))this.logger.warn(p.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+""+this.streamId+" effect alreadly exist ");else{this.streamCenter.soundLevelDelegate&&this.stopSoundLevel();var n=new l.AudioMix(this.logger,this.ac,this.mediaEleSources);n.localStream=this.localStream,n.peerConnection=this.peerConnection,n.audioBuffer=t,this.effectList.push({audioMix:n,effectID:e.effectID,audioBuffer:t}),n.playEffect(e.playTime,e.loop,!1,r,o),this.streamCenter.soundLevelDelegate&&this.startSoundLevel(),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_PLAY_EFFECT+""+this.streamId+" play effect "+e.effectID+" success")}},e.prototype.pauseEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t)this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),t.audioMix.pauseEffect(),this.streamCenter.soundLevelDelegate&&this.startSoundLevel(),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_PAUSE_EFFECT+" "+this.streamId+" pause "+e+" success");else{if(void 0!==e)return this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_PAUSE_EFFECT+" "+this.streamId+" no effect ID found"),!1;this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),this.effectList.forEach((function(e){return e.audioMix.pauseEffect()})),this.streamCenter.soundLevelDelegate&&this.startSoundLevel()}return!0},e.prototype.resumeEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t)this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),t.audioMix.resumeEffect(),this.streamCenter.soundLevelDelegate&&this.startSoundLevel(),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_RESUME_EFFECT+" "+this.streamId+" resume"+e+" success");else{if(void 0!==e)return this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_RESUME_EFFECT+" "+this.streamId+" no effect ID found"),!1;this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),this.effectList.forEach((function(e){return e.audioMix.resumeEffect()})),this.streamCenter.soundLevelDelegate&&this.startSoundLevel()}return!1},e.prototype.stopEffect=function(e){var t=this.effectList.find((function(t){return t.effectID==e}));if(t)this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),t.audioMix.stopMixingAudio(),this.effectList.splice(this.effectList.indexOf(t),1),this.streamCenter.soundLevelDelegate&&this.startSoundLevel(),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_EFFECT+" "+this.streamId+" pause "+e+" success");else{if(void 0!==e)return this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_EFFECT+" "+this.streamId+" no effect ID found"),!1;this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),this.effectList.forEach((function(e){return e.audioMix.stopMixingAudio()})),this.effectList=[],this.streamCenter.soundLevelDelegate&&this.startSoundLevel()}return!0},e.prototype.setEffectVolume=function(e,t){var r=this.effectList.find((function(e){return e.effectID==t}));if(r)r.audioMix.setMixingAudioVolume(e),this.logger.info("zp.sev.0 "+this.streamId+" set volume "+t+" success");else{if(void 0!==t)return this.logger.error("zp.sev.0 "+this.streamId+" no effect ID found"),!1;this.effectList.forEach((function(t){return t.audioMix.setMixingAudioVolume(e)}))}return!0},e.prototype.startMixingAudio=function(e){var t=this;return this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+" "+this.streamId+" call"),this.localStream?(this.micTrack||(this.micTrack=this.localStream.getAudioTracks().length>0?this.localStream.getAudioTracks()[0]:null),e.forEach((function(e){if(t.audioMixList.find((function(t){return t.media==e})))t.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+" "+t.streamId+" mix audio already exist");else{t.streamCenter.soundLevelDelegate&&t.stopSoundLevel();var r=new l.AudioMix(t.logger,t.ac,t.mediaEleSources);r.localStream=t.localStream,r.peerConnection=t.peerConnection,t.audioMixList.push({audioMix:r,media:e}),r.startMixingAudio(e),t.streamCenter.soundLevelDelegate&&t.startSoundLevel()}})),!0):(this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_MIXING_AUDIO+" localStream not found"),!1)},e.prototype.stopMixingAudio=function(e){var t=this;return this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_MIXING_AUDIO+" "+this.streamId+" call"),e?e.forEach((function(e){for(var r=0;r<t.audioMixList.length;r++)if(t.audioMixList[r].media==e){t.audioMixList[r].audioMix.stopMixingAudio()&&t.audioMixList.splice(r--,1);break}})):(this.audioMixList.forEach((function(e){return e.audioMix.stopMixingAudio()})),this.audioMixList=[]),!0},e.prototype.mixingBuffer=function(e,t,r){var o=this;if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_MIXING_BUFFER+" "+this.streamId+" call"),this.micTrack||(this.micTrack=this.localStream.getAudioTracks().length>0?this.localStream.getAudioTracks()[0]:null),this.arrayBufferMap[e])this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),this.arrayBufferMap[e].mixingBuffer(t,(function(){o.streamCenter.soundLevelDelegate&&o.startSoundLevel(),r&&r()}));else{this.streamCenter.soundLevelDelegate&&this.stopSoundLevel();var n=new l.AudioMix(this.logger,this.ac,this.mediaEleSources);n.localStream=this.localStream,n.peerConnection=this.peerConnection,this.arrayBufferMap[e]=n,n.mixingBuffer(t,(function(){o.streamCenter.soundLevelDelegate&&o.startSoundLevel(),r&&r()}))}},e.prototype.stopMixingBuffer=function(e){if(e&&this.arrayBufferMap[e])return this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),this.arrayBufferMap[e].stopMingBuffer(),delete this.arrayBufferMap[e],this.streamCenter.soundLevelDelegate&&this.startSoundLevel(),!0;if(void 0===e){for(var t in this.streamCenter.soundLevelDelegate&&this.stopSoundLevel(),this.arrayBufferMap)this.arrayBufferMap[t].stopMingBuffer();return this.streamCenter.soundLevelDelegate&&this.startSoundLevel(),!0}return this.logger.warn(p.ZEGO_WEBRTC_ACTION.PUBLISHER_MIXING_BUFFER+" "+this.streamId+" arrayBuffer no found"),!1},e.prototype.setMixingAudioVolume=function(e,t){this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+" "+this.streamId+" call");var r=this.audioMixList.find((function(e){return e.media===t}));return r?(r.audioMix.setMixingAudioVolume(e),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+" "+this.streamId+" call success"),!0):(this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_SET_MIXING_AUDIO_VOLUME+" "+this.streamId+" audio is not mixing"),!1)},e.prototype.publishSuccess=function(){var e=this;for(var t in this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+" call"),this.state!=a.ENUM_PUBLISH_STATE.publishing&&this.onPublishStateUpdate(a.ENUM_PUBLISH_STATE_UPDATE.start,this.streamId,{code:0,message:""},!0),this.isPeer&&(this.peerFailCount=0),this.state=a.ENUM_PUBLISH_STATE.publishing,this.dataReport.eventStart(this.reportSeq,"PublishState"),this.dataReport.eventStart(this.streamReportSeq,"PublishState"),this.streamCenter.playerList){var r=this.streamCenter.playerList[t].player;r.state==a.ENUM_PLAY_STATE.playing&&r.broadcasterStatus==a.ENUM_BROADCASTER_STATUS.stop&&(this.signal&&this.signal.sendBroadcasterStatus(a.getSeq(),r.sessionId,1),r.broadcasterStatus=a.ENUM_BROADCASTER_STATUS.start)}this.setPublishQualityTimer();var o=2,n=2;0!==this.localStream.getVideoTracks().length&&1==this.localStream.getVideoTracks()[0].enabled&&(o=0),0!==this.localStream.getAudioTracks().length&&1==this.localStream.getAudioTracks()[0].enabled&&(n=0),this.sendStreamStatus(o,n),this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_PUBLISH_SUCCESS+" call success"),["video","audio"].forEach((function(t){var r=e.toBeReplacedTracks[t];r&&e.replaceTrack(r)}))},e.prototype.startSoundLevel=function(){var e;if(this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" call streamID: "+this.streamId),this.localStream&&0!=this.localStream.getAudioTracks().length)try{null===(e=this.previewer)||void 0===e||e.startSoundLevel()}catch(e){this.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" "+this.streamId+" get sound level failed "+e)}else this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_START_SOUND_LEVEL+" "+this.streamId+" local stream no found")},e.prototype.stopSoundLevel=function(){var e;this.logger.info(p.ZEGO_WEBRTC_ACTION.PUBLISHER_STOP_SOUND_LEVEL+" call streamID: "+this.streamId),null===(e=this.previewer)||void 0===e||e.stopSoundLevel()},e.prototype.rebackMic=function(){var e,t=this;if(this.peerConnection&&this.micTrack instanceof MediaStreamTrack&&0==this.audioMixList.length&&0==Object.keys(this.arrayBufferMap).length&&0==this.effectList.length){var r=null===(e=this.peerConnection)||void 0===e?void 0:e.getSenders().find((function(e){var r,o;return(null===(r=e.track)||void 0===r?void 0:r.kind)===(null===(o=t.micTrack)||void 0===o?void 0:o.kind)}));r&&(r.replaceTrack(this.micTrack),this.localStream.removeTrack(this.localStream.getAudioTracks()[0]),this.localStream.addTrack(this.micTrack))}},e.prototype.handleEncBitrate=function(e,t,r){var o,n=this,i=1e3*this.videoInfo.bitRate,a=0;if(t>0){this.needIncMax||this.gotMax||(this.probeCount++,t>=.75*e?(this.probeCount>=10&&this.initFitCnt>=.6*this.probeCount&&(this.gotMax=!0,this.targetRate=i),this.initFitCnt++):this.probeCount>=10&&this.initFitCnt/this.probeCount<.3&&(this.needIncMax=!0));var s=u.ClientUtil.arrAvg(this.totalBitrateArray,t,10);if(this.needIncMax)if(s>=1.05*i){if(this.targetRate>i){var l=void 0;s>e?(l=s-e,this.targetRate-=l):(l=s-i,this.targetRate-=l),this.targetRate=Math.max(this.targetRate,i),this.targetRate=Math.min(this.targetRate,2*i),a=this.targetRate}}else s<.8*i&&(0===this.targetRate&&(this.targetRate=e),this.targetRate>=i?this.targetRate=this.targetRate+.08*i:this.targetRate=1.05*this.targetRate,this.targetRate=Math.min(this.targetRate,2*i),a=this.targetRate)}if(r>0&&r<i){var c=u.ClientUtil.arrAvg(this.totalRetransRateArray,r,5);this.needIncMax?c+t>1.05*i&&(l=c+t-i,this.targetRate-=l,this.targetRate=Math.max(this.targetRate,i-c),a=this.targetRate):a=this.targetRate-c}else this.targetRate<i&&(this.targetRate=i,a=this.targetRate);if(a>0){a=u.ClientUtil.arrAvg(this.totalTargetRateArray,a,5);var d=null===(o=this.peerConnection)||void 0===o?void 0:o.getSenders().find((function(e){return e.track&&"video"===e.track.kind}));if(!d)return;var h=d.getParameters();h.encodings||(h.encodings=[{}]),h.encodings[0].maxBitrate=a,d.setParameters(h).catch((function(e){n.logger.error(p.ZEGO_WEBRTC_ACTION.PUBLISHER_HANDLE_ENC_BITRATE+" "+e)}))}},e.prototype.resetEncBitrate=function(){this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[]},e.prototype.replaceTrack=function(e){var t,r=this.localStream;if(!(null===(t=this.peerConnection)||void 0===t?void 0:t.getSenders)||!this.peerConnection.getSenders()[0].replaceTrack){var o=e.kind;return this.toBeReplacedTracks["video"===o?"video":"audio"]=e,this.logger.info("zc.rt.1 replace track will work after stream published"),{errorCode:0,extendedData:""}}var n=r.getTracks().find((function(t){return t.kind===e.kind})),i=this.peerConnection.getSenders().find((function(t){return t.track.kind===e.kind}));if(n&&i){var a=0,s=0;return e.enabled,n.enabled,"video"===e.kind?(a=!0===e.enabled?0:20,s=r.getAudioTracks()[0]&&1==r.getAudioTracks()[0].enabled?0:20):"audio"===e.kind&&(s=!0===e.enabled?0:20,a=r.getVideoTracks()[0]&&1==r.getVideoTracks()[0].enabled?0:20),i.replaceTrack(e),r.removeTrack(n),r.addTrack(e),this.sendStreamStatus(a,s),this.logger.info("zc.rt.1 replace remote track success"),{errorCode:0,extendedData:""}}return this.logger.error("zc.rt.1 publisher track no found"),{errorCode:h.errorCodeList.TRACK_NOT_FOUND.code,extendedData:h.errorCodeList.TRACK_NOT_FOUND.message}},e.prototype.sendStreamStatus=function(e,t,r){var o=this;void 0===r&&(r=0),this.camera_status=e,this.mic_status=t,r++,this.signal.sendStreamStatus(a.getSeq(),this.sessionId,e,t,this.streamId,(function(){o.camera_status===e&&o.mic_status===t&&r<=1&&o.sendStreamStatus(e,t,r)}))},e}();t.ZegoPublish=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMix=void 0;var o=r(3),n=r(4),i=function(){function e(e,t,r){this.audioBufferList=[],this.loop=!1,this.replace=!1,this.effectEndedCallBack=null,this.effectEndedListener=null,this.startTimes=0,this.startOffset=0,this.pauseTimes=0,this.resumeOffset=0,this.paused=!1,this.isMixAudio=!1,this.isMixingBuffer=!1,this.audioCurrentTimer=null,this.logger=e,this.ac=t,this.mediaEleSources=r}return e.prototype.preloadEffect=function(e,t){var r=this;this.logger.info("amu.pe.0 start preload effect");var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){if(200==o.status||304==o.status){var e=o.response;r.ac.resume(),r.ac.decodeAudioData(e,(function(e){r.logger.info("amu.pe.0 effect preload success"),t("",e)}),(function(e){t(e)}))}else{var n=o.statusText;t(n)}},o.send()},e.prototype.playEffect=function(e,t,r,o,n){var i=this;!0!==this.isMixAudio?this.audioBuffer?(this.startOffset=e||0,this.loop=t||!1,this.replace=r||!1,this.effectEndedCallBack=n,this.mixEffect(this.audioBuffer,(function(){i.buffSource.loop=!!t,e?i.buffSource.start(0,e/1e3):i.buffSource.start(0),i.startTimes=Date.now(),i.effectEndedListener=i.effectEndedHandler.bind(i),i.buffSource.addEventListener("ended",i.effectEndedListener),o&&o()}))):this.logger.error("amu.pe.1 no audio buffer found"):this.logger.error("amu.pe.1 audio is mixing")},e.prototype.mixingBuffer=function(e,t){var r=this;!0!==this.isMixAudio||0!=this.audioBufferList.length||0!=this.isMixingBuffer?(this.ac.resume(),this.ac.decodeAudioData(e,(function(e){r.audioBufferList.push(e),1==r.audioBufferList.length&&r.playRealTimeEffect(r.audioBufferList[0]),r.isMixingBuffer=!0,t&&t()}),(function(e){r.logger.error("amu.mb.0 "+e),t&&t({code:n.errorCodeList.PUBLISHER_DECODE_AUDIO_FAIL.code,message:n.errorCodeList.PUBLISHER_DECODE_AUDIO_FAIL.message+" "+e})}))):this.logger.error("amu.mb.0 audio is mixing")},e.prototype.stopMingBuffer=function(){return this.isMixingBuffer=!1,this.stopMixingAudio()},e.prototype.playRealTimeEffect=function(e){var t=this;this.mixEffect(e,(function(){t.buffSource&&t.buffSource.start(0),t.buffSource&&t.buffSource.addEventListener("ended",(function(){t.audioBufferList.shift(),t.audioBufferList.length>0&&t.isMixAudio&&t.playRealTimeEffect(t.audioBufferList[0])}))}))},e.prototype.pauseEffect=function(){this.audioBufferList.length>0?this.logger.error("amu.pe.0 real time buffer can not be paused"):(this.stopMixingAudio(),this.resumeOffset=(this.pauseTimes-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration),this.paused=!0)},e.prototype.resumeEffect=function(){this.audioBufferList.length>0?this.logger.error("amu.pe.0 real time buffer can not be resume"):(this.playEffect(this.resumeOffset,this.loop,this.replace,void 0,this.effectEndedCallBack),this.startOffset=this.resumeOffset,this.paused=!1)},e.prototype.mixEffect=function(e,t){this.localStream?(this.ac.resume(),this.gainNode=this.ac.createGain(),this.buffSource=this.ac.createBufferSource(),this.buffSource.buffer=e,this.buffSource.connect(this.gainNode),this.gainNode.connect(this.ac.destination),this.replaceTrack()&&t()):this.logger.error("amu.me.0 localStream can not be found")},e.prototype.startMixingAudio=function(e,t){if(this.replace=t||!1,this.isMixAudio)return this.logger.error("amu.sma.0 audio is mixing"),!1;if(!this.localStream)return this.logger.error("amu.sma.0 localStream can not be found"),!1;if(e.captureStream=e.captureStream||e.mozCaptureStream||e.webkitCaptureStream,this.ac.resume(),this.gainNode=this.ac.createGain(),"Safari"===o.ClientUtil.getBrowser()){var r=this.mediaEleSources.find((function(t){return t.audio===e}));if(r)this.mixAudio=r.node;else{var n=this.ac.createMediaElementSource(e);this.mixAudio=n,this.mediaEleSources.push({audio:e,node:n})}e.currentTime=e.currentTime,this.audioCurrentTimer=setInterval((function(){e.currentTime=e.currentTime+.45}),6e3)}else this.mixAudio=this.ac.createMediaStreamSource(e.captureStream());return this.mixAudio.connect(this.gainNode),this.replaceTrack()},e.prototype.replaceTrack=function(){this.streamSource=this.ac.createMediaStreamSource(this.localStream),this.destination=this.ac.createMediaStreamDestination(),!this.replace&&this.streamSource.connect(this.destination),this.gainNode.connect(this.destination);var e=this.destination.stream.getAudioTracks()[0],t=this.peerConnection.getSenders().find((function(t){return t.track.kind===e.kind}));return t?(this.micTrack=this.localStream.getAudioTracks()[0],t.replaceTrack(e),this.localStream.removeTrack(this.micTrack),this.localStream.addTrack(e),this.isMixAudio=!0,!0):(this.logger.error("amu.rt.0 no sender"),!1)},e.prototype.stopMixingAudio=function(){var e=this;return this.paused?(this.logger.info("amu.sma.1 audioEffect paused"),!0):this.isMixAudio?this.localStream?(this.peerConnection.getSenders().find((function(t){return t.track.kind===e.micTrack.kind})),this.mixAudio?(this.mixAudio.disconnect(this.gainNode),this.mixAudio=null,this.audioCurrentTimer&&(clearInterval(this.audioCurrentTimer),this.audioCurrentTimer=null)):this.buffSource&&(this.buffSource.removeEventListener("ended",this.effectEndedListener),this.buffSource.stop(),this.pauseTimes=Date.now(),this.buffSource.disconnect(this.gainNode),this.buffSource=null),this.gainNode.disconnect(this.destination),this.isMixAudio=!1,this.audioBufferList=[],!0):(this.logger.error("amu.sma.1 localStream can not be found"),!1):(this.logger.warn("amu.sma.1 no mixing audio found"),!0)},e.prototype.setMixingAudioVolume=function(e){return this.gainNode?(this.gainNode.gain.value=e,!0):(this.logger.error("amu.sma.2 no mixing audio found"),!1)},e.prototype.effectEndedHandler=function(){this.stopMixingAudio(),this.effectEndedCallBack&&this.effectEndedCallBack()},e}();t.AudioMix=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoStreamCenter=void 0;var o=function(){this.publisherList={},this.playerList={}};t.ZegoStreamCenter=o},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSignal=void 0;var n=r(0),i=r(2),a=r(4),s=function(){function e(e,t){this.sendDataMap={},this.sendDataList=new n.LinkedList,this.sendDataCheckOnceCount=100,this.signalSeq=0,this.pushCallback={},this.sessionInfos={},this.tryHeartbeatCount=0,this.heartbeatInterval=1e4,this.sendDataTimeout=5e3,this.sendDataDropTimeout=1e4,this.sendDataCheckTimer=null,this.sendDataCheckInterval=2e3,this.checkMessageList=["ActivateVideoPlayStreamReq","ActivateAudioPlayStreamReq","CreateSessionReq","CreateSessionWithSdpReq","ActivateSEIInsertReq","StreamStatusNotify"],this.tryConnectCount=1,this.tryConnectTimer=null,this.tryConnectInterval=3e3,this.state=n.ENUM_CONNECT_STATE.disconnect,this.tokenType=0,this.browser=this.getBrowserAndVersion(),this.platform=navigator.platform,this.negoInterval=25e3,this.negoTryCount=1,this.negoTryMaxCount=2,this.logger=e,this.stateCenter=t,this.stateCenter.streamConnectTime&&(this.tryConnectInterval=this.stateCenter.streamConnectTime)}return e.prototype.getBrowserAndVersion=function(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];return/trident/i.test(r[1])?{name:"IE",version:(e=/\brv[ :]+([\d\.]+)/g.exec(t)||[])[1]||""}:"Chrome"===r[1]&&null!=(e=t.match(/\bOPR|Edge\/([\d\.]+)/))?{name:"Opera",version:e[1]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/([\d+\.]+)/i))&&r.splice(1,1,e[1]),{name:r[0],version:r[1]})},e.prototype.setSessionInfo=function(e,t){this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_SET_SESSION_INFO+" call"),this.appid=e+"",this.userid=t},e.prototype.onDisconnect=function(e,t){},e.prototype.onUpdateHeartBeatInterval=function(e){},e.prototype.resetConnectTimer=function(){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_RESET_CONNECT_TIMER+" call"),clearTimeout(this.tryConnectTimer),this.tryConnectTimer=null,this.tryConnectCount=0},e.prototype.bindWebSocketHandle=function(){var e=this;this.tryHeartbeatCount=0,this.tryConnectInterval=this.stateCenter.streamConnectTime?this.stateCenter.streamConnectTime:3e3,this.websocket.onmessage=function(t){var r=JSON.parse(t.data);e.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" signmsg= ",r.header.cmd),e.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" signmsg= "+JSON.stringify(r)),r.header.appid==e.appid&&r.header.user_id===e.userid?e.handleServerPush(r):e.logger.warn(i.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" check header failed")},this.websocket.onclose=function(t){e.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" close msg = "+JSON.stringify(t.code?t.code:t)),e.state!=n.ENUM_CONNECT_STATE.disconnect&&(e.resetConnectTimer(),e.startConnectTimer((function(t){1008===t&&e.disconnectCallback(a.errorCodeList.TOKEN_EXPIRED)})),e.resetCheckMessage())},this.websocket.onerror=function(t){e.logger.error(i.ZEGO_WEBRTC_ACTION.SIGNAL_BIND_WEBSOCKET_HANDLE+" msg = "+JSON.stringify(t))}},e.prototype.resetCheckMessage=function(){this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_RESET_CHECK_MESSAGE+" call"),clearTimeout(this.sendDataCheckTimer),this.sendDataCheckTimer=null;for(var e=this.sendDataList.getFirst();null!=e;)this.sendDataList.remove(e),e._data.error&&e._data.error(n.SEND_MSG_RESET,e._data.seq),e=this.sendDataList.getFirst();this.sendDataMap={}},e.prototype.handleServerPush=function(e){switch(e.header.cmd){case"LoginRsp":this.handleRespondData("LoginReq",e);break;case"CreateSessionRsp":this.handleRespondData("CreateSessionReq",e),0===e.body.result&&this.addSession(e.header.session_id,e.body.session_token);break;case"CreateSessionWithSdpRsp":this.handleRespondData("CreateSessionWithSdpReq",e),0===e.body.result&&this.addSession(e.header.session_id,e.body.session_token);break;case"MediaDescRsp":this.handleRespondData("MediaDescReq",e);break;case"CandidateInfoRsp":this.handleRespondData("CandidateInfoReq",e);break;case"CloseSessionRsp":this.handleRespondData("CloseSessionReq",e),this.removeSession(e.header.session_id);break;case"ClientHBRsp":this.handleRespondData("ClientHBReq",e);break;case"MediaDescPush":case"CandidateInfoPush":this.handlePushData(e);break;case"CloseSessionPush":this.handlePushData(e),this.removeSession(e.header.session_id);break;case"QualityReportRsp":this.handleRespondData("QualityReportReq",e);break;case"SessionResetPush":this.handlePushResetSessionData(e);break;case"StreamStatusNotifyPush":case"PublishEventPush":case"PlayEventPush":case"ClientInfoPush":this.handlePushData(e);break;case"ActivateVideoPlayStreamRsp":this.handleRespondData("ActivateVideoPlayStreamReq",e);break;case"ActivateAudioPlayStreamRsp":this.handleRespondData("ActivateAudioPlayStreamReq",e);break;case"NetQualityProbeRsp":this.handleRespondData("NetQualityProbeReq",e);break;case"NetQualityInfoPush":this.handlePushData(e);break;case"ActivateSEIInsertRsp":this.handleRespondData("ActivateSEIInsertReq",e);break;case"StreamStatusNotifyAck":this.handleRespondData("StreamStatusNotify",e)}},e.prototype.disconnectCallback=function(e){this.connectCallback&&(this.connectCallback(-1,this.server,void 0),this.connectCallback=null);var t=this.server;this.disconnectServer(),this.onDisconnect(t,e)},e.prototype.updateToken=function(){var e=this;this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_UPDATE_TOKEN+" call");var t={token:this.token,tokenType:this.tokenType,roomid:this.stateCenter.roomList[0].roomID,anchorname:this.stateCenter.anchor_info.anchor_id,sdkversion:n.PROTO_VERSION,osinfo:navigator.appVersion};if(0!=Object.keys(this.sessionInfos).length){var r=[];for(var o in this.sessionInfos){var a=parseInt(o);r.push({session_id:a,session_token:this.sessionInfos[a].token})}t.sessions=r}this.sendMessageWithCallback("LoginReq",n.getSeq(),0,t,(function(t,r,o){if(0==o.result){e.token=o.token,e.tokenType=o.tokenType;var n={report:o.report,report_interval:o.report_interval_ms};o.negoInterval&&(e.negoInterval=o.negoInterval),o.negoTryCount&&(e.negoTryCount=o.negoTryCount),o.negoTryMaxCount&&(e.negoTryMaxCount=o.negoTryMaxCount),null!=e.connectCallback&&(e.connectCallback(0,e.server,n),e.connectCallback=null),e.checkMessageTimeout()}else{var i={error:o.strError};null!=e.connectCallback&&(e.connectCallback(o.result,e.server,i),e.connectCallback=null)}}),(function(){null!=e.connectCallback&&(e.connectCallback(-1,e.server,void 0),e.connectCallback=null)}))},e.prototype.sendMessageWithCallback=function(e,t,r,o,a,s){if(this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" call "+e),!this.websocket||1!==this.websocket.readyState)return this.logger.error(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" connect not establish"),void(s&&s(n.SEND_MSG_TIMEOUT,t));var l={header:this.getHeader(e,t,r),body:o};null==a&&(a=null),null==s&&(s=null);var c={seq:t,deleted:!1,cmd:e,time:Date.parse(new Date+""),success:a,error:s},u=this.sendDataList.push(c);this.sendDataMap[c.seq]=u;var d=JSON.stringify(l);this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" "+d),this.websocket.send(d),this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE_WITH_CALLBACK+" success")},e.prototype.getHeader=function(e,t,r){return this.globalHeader={version:"1.0.1",cmd:e,appid:this.appid+"",seq:t,user_id:this.userid,session_id:r},this.globalHeader},e.prototype.connectServer=function(e,t,r){var o=this;if(this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" "+t),this.token=e,this.server=t,this.state=n.ENUM_CONNECT_STATE.connecting,this.connectCallback=r,this.websocket&&1===this.websocket.readyState)this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket is connected"),this.resetConnectTimer(),this.state=n.ENUM_CONNECT_STATE.connected;else{this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" need new websocket");try{this.websocket&&(this.logger.warn(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" close error websocket"),this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),this.websocket=new WebSocket(this.server),this.websocket.onopen=function(){o.resetConnectTimer(),o.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket open call"),o.bindWebSocketHandle(),o.updateToken(),o.state=n.ENUM_CONNECT_STATE.connected},this.websocket.onclose=function(e){o.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket close call  "+JSON.stringify(e))},this.websocket.onerror=function(e){o.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket onerror call  "+JSON.stringify(e))}}catch(e){this.logger.error(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" websocket error "+e)}}this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CONNECT_SERVER+" "+this.tryConnectInterval),this.tryConnectTimer=setTimeout((function(){o.startConnectTimer(r)}),this.tryConnectInterval)},e.prototype.startConnectTimer=function(e){if(this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+" call"),this.tryConnectCount>=n.MAX_TRY_CONNECT_COUNT)return this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+" beyond "+this.server+"max limit"),void this.disconnectCallback();this.websocket&&1===this.websocket.readyState?(this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_START_CONNECT_TIMER+" websocket is connected"),this.resetConnectTimer()):(this.tryConnectCount+=1,this.connectServer(this.token,this.server,e))},e.prototype.disconnectServer=function(){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_DISCONNECT_SERVER+" call"),this.connectCallback=null,this.resetCheckMessage(),this.resetConnectTimer(),this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),this.token="",this.sessionInfos={},this.tokenType=0,this.tryHeartbeatCount=0,this.tryConnectCount=0,this.state=n.ENUM_CONNECT_STATE.disconnect},e.prototype.isServerConnected=function(){return!(!this.websocket||1!==this.websocket.readyState)},e.prototype.createSession=function(e,t,r,o,a,s,l,c){void 0===a&&(a=""),void 0===s&&(s=""),this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CREATE_SESSION+" call: "+o);var u="";n.PROTO_VERSION.split(".").forEach((function(e,t){return 1==e.length&&1==t?u+="0"+e:u+=e}));var d={type:t,stream_id:o,platform:this.platform,browser:this.browser.name,version:this.browser.version,app_id:this.appid,negotiate_mode:r,strAuthParam:a,sdk_version:1*u,turn_server_host:"string"==typeof s?s:""};this.sendMessageWithCallback("CreateSessionReq",e,0,d,l,c)},e.prototype.createSessionWithSdp=function(e,t,r){var o=e.seq,a=e.type,s=e.streamId,l=e.strAuthParam,c=e.sdp,u=e.serverHost,d=e.playBufLevel;this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CREATE_SESSION+" call: "+s);var p="";n.PROTO_VERSION.split(".").forEach((function(e,t){return 1==e.length&&1==t?p+="0"+e:p+=e}));var h={type:a,app_id:this.appid,stream_id:s,sdp:c,user_id:this.userid,platform:this.platform,browser:this.browser.name,sdk_vers:parseInt(p),clientIp:"",media_server_host:"string"==typeof u?u:"",strAuthParam:l};d&&(h.min_play_buf_level_ms=d),this.sendMessageWithCallback("CreateSessionWithSdpReq",o,0,h,t,r)},e.prototype.removeSession=function(e){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_REMOVE_SESSION+" call"+e),this.sessionInfos[e]&&delete this.sessionInfos[e]},e.prototype.sendCloseSession=function(e,t,r,o,n){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_REMOVE_SESSION+" call: "+t);var a={reason:r};this.removeSession(t),this.sendMessageWithCallback("CloseSessionReq",e,t,a,o,n)},e.prototype.sendMessage=function(e,t,r,o){if(this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+" call "+e),this.websocket&&1===this.websocket.readyState){var n={header:this.getHeader(e,t,r),body:o},a=JSON.stringify(n);this.websocket.send(a),this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+" success")}else this.logger.error(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MESSAGE+" connect not establish")},e.prototype.handleRespondData=function(e,t){this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+" call");var r=this.sendDataMap[t.header.seq];if(null!=r){var o=r._data;o.cmd!==e?this.logger.error(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+" command is not match"):o.success&&o.success(t.header.seq,t.header.session_id,t.body),delete this.sendDataMap[t.header.seq],this.sendDataList.remove(r)}else{if("CloseSessionRsp"==t.header.cmd)return;this.logger.error(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_RESPOND_DATA+" cannot find data "+e)}},e.prototype.addSession=function(e,t){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_ADD_SESSION+" call"+e),this.sessionInfos[e]={token:t}},e.prototype.handlePushData=function(e){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_DATA+" call "+e.header.cmd+" session "+e.header.session_id);var t=this.pushCallback[e.header.cmd+e.header.session_id];t?t.callback&&t.callback(e.header.seq,e.header.session_id,e.body):this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_DATA+" no callbackData "+e.header.cmd+" session: "+e.header.session_id)},e.prototype.handlePushResetSessionData=function(e){this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+" call ");var t=[];if(0==e.body.cResetType)t=Object.keys(this.sessionInfos);else if(1==e.body.cResetType)for(var r=0;r<e.body.session_ids.length;r++)t.push(e.body.session_ids[r]);if(this.sendResetSessionAck(e.header.seq,0,0),0!=t.length)for(var o=0;o<t.length;o++){var n=this.pushCallback[e.header.cmd+t[o]];null==n?this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+" no callbackData "+t[o]):n.callback&&n.callback(e.header.seq,t[o],e.body)}else this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_HANDLE_PUSH_RESET_SESSION_DATA+" no session to callback")},e.prototype.sendMediaDesc=function(e,t,r,o,n,a){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC+" call: "+t);var s={type:r,sdp:o.sdp};null!=o.width&&(s.width=o.width),null!=o.height&&(s.height=o.height),null!=o.frameRate&&(s.framerate=o.frameRate),null!=o.video_min_kpbs&&(s.video_min_kpbs=o.video_min_kpbs),null!=o.video_max_kpbs&&(s.video_max_kpbs=o.video_max_kpbs),null!=o.audio_kpbs&&(s.audio_kpbs=o.audio_kpbs),null!=o.keyframe_intv&&(s.keyframe_intv=o.keyframe_intv),null!=o.min_play_buf_level_ms&&(s.min_play_buf_level_ms=o.min_play_buf_level_ms),this.sendMessageWithCallback("MediaDescReq",e,t,s,n,a)},e.prototype.sendCandidateInfo=function(e,t,r,o,n){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CANDIDATE_INFO+" call: "+t);for(var a=[],s=0;s<r.length;s++){var l={candidate:r[s].candidate,sdpMid:r[s].sdpMid,sdpMLineIndex:r[s].sdpMLineIndex};a.push(l)}var c={infos:a};this.sendMessageWithCallback("CandidateInfoReq",e,t,c,o,n)},e.prototype.sendMediaDescAck=function(e,t,r){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_MEDIA_DESC_ACK+" call: "+t);var o={result:r};this.sendMessage("MediaDescAck",e,t,o)},e.prototype.sendCandidateInfoAck=function(e,t,r){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CANDIDATE_INFO_ACK+" call: "+t);var o={result:r};this.sendMessage("CandidateInfoAck",e,t,o)},e.prototype.sendCloseSessionAck=function(e,t,r){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_CLOSE_SESSION_ACK+" call: "+t);var o={result:r};this.sendMessage("CloseSessionAck",e,t,o)},e.prototype.sendResetSessionAck=function(e,t,r){this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_RESET_SESSION_ACK+" call: "+t);var o={result:r};this.sendMessage("SessionResetAck",e,t,o)},e.prototype.registerPushCallback=function(e,t,r){r&&"function"==typeof r&&(this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_REGISTER_PUSH_CALLBACK+" set callback "+t),this.pushCallback[e+t]={callback:r})},e.prototype.unregisterPushCallback=function(e,t){delete this.pushCallback[e+t]},e.prototype.checkMessageTimeout=function(){for(var e=this,t=this.sendDataList.getFirst(),r=Date.parse(new Date+""),o=0,a=0,s=0;null!=t&&!(t._data.time+this.sendDataTimeout>r);)if(delete this.sendDataMap[t._data.seq],this.sendDataList.remove(t),++a,-1!=this.checkMessageList.indexOf(t._data.cmd)){if(null==t._data.error||this.sendDataDropTimeout>0&&t._data.time+this.sendDataDropTimeout<r?++s:(this.logger.warn(i.ZEGO_WEBRTC_ACTION.SIGNAL_CHECK_MESSAGE_TIMEOUT+" error cmd = "+t._data.cmd),t._data.error&&t._data.error(n.SEND_MSG_TIMEOUT,t._data.seq)),++o>=this.sendDataCheckOnceCount)break;t=this.sendDataList.getFirst()}else t=this.sendDataList.getFirst();this.sendDataCheckTimer=setTimeout((function(){e.checkMessageTimeout()}),this.sendDataCheckInterval),0==a&&0==s||this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_CHECK_MESSAGE_TIMEOUT+" call success, state: timeout="+a+" drop="+s)},e.prototype.sendHeartbeat=function(){var e=this;if(this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+"call tryHeartbeatCount:"+this.tryHeartbeatCount),0!=Object.keys(this.sessionInfos).length)if(this.state===n.ENUM_CONNECT_STATE.connected){if(++this.tryHeartbeatCount>n.MAX_TRY_HEARTBEAT_COUNT)return this.logger.error(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+" heartbeat try limit"),void this.disconnectCallback();var t=[];for(var r in this.sessionInfos)t.push(parseInt(r));var o={session_ids:t};this.sendMessageWithCallback("ClientHBReq",n.getSeq(),0,o,(function(t,r,o){e.heartbeatInterval!=o.hb_interval&&(e.heartbeatInterval=o.hb_interval,e.onUpdateHeartBeatInterval(o.hb_interval)),e.tryHeartbeatCount=0}),(function(e,t){}))}else this.logger.warn(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+" state error");else this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_HEARTBEAT+" no need to heartbeat")},e.prototype.QualityReport=function(e,t,r,n,a){this.logger.debug(i.ZEGO_WEBRTC_ACTION.SIGNAL_QUALITY_REPORT+" call");var s={streams:[o(o({},r),{aid:t})]};this.sendMessageWithCallback("QualityReportReq",e,t,s,n,a)},e.prototype.sendStreamStatus=function(e,t,r,o,a,s){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_STREAM_STATUS+" call "+t);var l={mic_status:o,camera_status:r};this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_STREAM_STATUS+" stream "+(a||"")+" status "+JSON.stringify(l)),this.sendMessageWithCallback("StreamStatusNotify",e,t,l,(function(){}),(function(e){e===n.SEND_MSG_TIMEOUT&&s&&s()}))},e.prototype.ActivatePlayVideoStream=function(e,t,r,o,n){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM+" call");var a={active:r?0:1,layer:0};this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_VIDEO_STREAM+" activate video "+JSON.stringify(a)),this.sendMessageWithCallback("ActivateVideoPlayStreamReq",e,t,a,o,n)},e.prototype.ActivatePlayAudioStream=function(e,t,r,o,n){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM+" call");var a={active:r?0:1,layer:0};this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_ACTIVE_PLAY_AUDIO_STREAM+" activate audio "+JSON.stringify(a)),this.sendMessageWithCallback("ActivateAudioPlayStreamReq",e,t,a,o,n)},e.prototype.sendBroadcasterStatus=function(e,t,r){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_BROADCAST_STATUS+" call "+t);var o={status:r};this.sendMessage("BroadcasterStatusNotify",e,t,o)},e.prototype.sendNetProbe=function(e,t,r,o,n){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_NET_PROBE+" call "+t);var a={peer_id:r,action:1};this.sendMessageWithCallback("NetQualityProbeReq",e,t,a,o,n)},e.prototype.sendNetQualityInfoPushAck=function(e,t,r,o){this.logger.info(i.ZEGO_WEBRTC_ACTION.SIGNAL_SEND_NET_PROBE+" call "+t);var n={peer_id:r,result:o};this.sendMessage("NetQualityInfoAck",e,t,n)},e.prototype.activateSEIInsert=function(e,t,r,o,n,a,s){this.logger.info(i.ZEGO_WEBRTC_ACTION.ACTIVATE_SEI_INSERT+" call "+t);var l={peer_id:r,action:o,info_type:n};this.sendMessageWithCallback("ActivateSEIInsertReq",e,t,l,a,s)},e}();t.ZegoSignal=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoPlayWeb=void 0;var o=r(0),n=r(5),i=r(3),a=r(1),s=r(2),l=function(){function e(e,t,r,n,i,a,s){this.state=o.ENUM_PLAY_STATE.stop,this.candidateInfo=[],this.qualityTimer=null,this.broadcasterStatus=o.ENUM_BROADCASTER_STATUS.stop,this.playQualityList=[],this.maxQualityListCount=10,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,audioPacketsReceived:0,videoPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0},this.reportSeq=NaN,this.streamReportSeq=o.getSeq(),this.videoSizeCallback=!1,this.qualityUpload=!1,this.qualityUploadInterval=3e4,this.qualityUploadLastTime=0,this.remoteStream=null,this.playStream=null,this.playOption={},this.closeSessionSignal=!1,this.stateNego=o.ENUM_PLAY_STATE_NEGO.stop,this.negoTimer=null,this.negoInterval=25e3,this.playEvent=!1,this.gotStreamStatus=!1,this.soundLevel=0,this.mic=null,this.script=null,this.beginTime=0,this.firstFrameTime=0,this.resourceMode=0,this.gwNode="",this.gwNodeList=[],this.gwNodeTTL=0,this.isPeer=!1,this.peerFailCount=0,this.isProbe=!1,this.peerID=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=o.ENUM_PROBE_STATE.probed,this.isRecvClientInfo=!1,this.probeTimer=null,this.probeTimeoutInterval=3e4,this.audioMuteState="0",this.videoMuteState="0",this.logger=e,this.signal=t,this.dataReport=r,this.qualityTimeInterval=n,this.streamCenter=i,this.ac=a,this.stateCenter=s,this.dataReport.newReport(this.streamReportSeq),this.dataReport.addMsgInfo(this.streamReportSeq,{abs_time:Date.now()})}return e.prototype.startPlay=function(e,t,r){var o=this;this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" called ",e),this.playEvent=!1,this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),e?(this.streamId=e,this.getRemoteStreamSuc=t,this.playOption=r||{},r&&r.videoCodec&&(this.playOption.videoCodec=r.videoCodec),this.dataReport.addMsgInfo(this.reportSeq,{audio_activate:a.ZegoRTCLogEvent.kZegoTaskPlayStart.audio_activate(1==this.playOption.audio?1:0==this.playOption.audio?0:1),video_activate:a.ZegoRTCLogEvent.kZegoTaskPlayStart.video_activate(1==this.playOption.video?1:0==this.playOption.video?0:1)}),this.isPeer?this.createOffer():this.createSession(),this.negoTimer=setTimeout((function(){o.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" waiting timeout"),o.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNegoTimeoutError)}),this.negoInterval),this.isProbe&&(this.probeTimer=setTimeout((function(){o.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" probe timeout"),o.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kProbeTimeOutError)}),this.probeTimeoutInterval))):this.logger.warn(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" streamId is null")},e.prototype.onCreatePlaySessionSuccess=function(e){var t=this;this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS+" "+this.streamId+" success");var r=[];if(e.turn_server){var o=e.turn_server;this.stateCenter.turnOverTcpOnly&&(o=o.replace("udp","tcp")),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS+" turn over tcp "+o),r.push(o)}e.stun_server&&r.push(e.stun_server);var n={iceTransportPolicy:"relay",iceServers:[{urls:r,username:e.turn_username,credential:e.turn_auth_key}]};this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS+" "+this.streamId+" username: "+e.turn_username),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS+" "+this.streamId+" credential: "+e.turn_auth_key),this.createOffer(n),this.signal.registerPushCallback("MediaDescPush",this.sessionId,(function(e,r,o){t.onRecvMediaDesc(e,r,o)})),this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,(function(e,r,o){t.onRecvCandidateInfo(e,r,o)})),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,r,o){t.onRecvCloseSession(e,r,o)})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,r,o){t.onRecvResetSession(e,r,o)})),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,(function(e,r,o){t.gotStreamStatus=!0,t.streamStatus=o,t.playStream&&t.onRecvStreamStatus(o)})),this.signal.registerPushCallback("PlayEventPush",this.sessionId,(function(e,r,o){t.onRecvPlayEvent(e,r,o)})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,r,o){t.onRecvClientInfo(e,r,o)})),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS+" "+this.streamId+" call success")},e.prototype.createOffer=function(e){var t=this;this.peerConnection=new RTCPeerConnection(e),this.peerConnection.onicecandidate=function(e){t.onIceCandidate(e)},this.peerConnection.onsignalingstatechange=function(e){t.onConnectionStateChange(e)},this.peerConnection.oniceconnectionstatechange=function(e){t.onIceConnectionStateChange(e)},this.peerConnection.ontrack=function(e){t.onGotRemoteStream(e.streams[0])};var r={offerToReceiveAudio:1,offerToReceiveVideo:1};this.playOption&&!1===this.playOption.video&&(r.offerToReceiveVideo=0),this.playOption&&!1===this.playOption.audio&&(r.offerToReceiveAudio=0),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS+" "+this.streamId+" createOffer: "+JSON.stringify(r)),this.dataReport.eventStart(this.reportSeq,"CreateOffer"),this.dataReport.eventStart(this.streamReportSeq,"CreateOffer"),this.peerConnection.createOffer(r).then((function(e){t.dataReport.eventEnd(t.reportSeq,"CreateOffer"),t.dataReport.eventEnd(t.streamReportSeq,"CreateOffer"),t.onCreateOfferSuccess(e)}),(function(e){t.dataReport.eventEndWithMsg(t.reportSeq,"CreateOffer",{error:e.toString()}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"CreateOffer",{error:e.toString()}),t.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_PLAY_SESSION_SUCCESS+" "+t.streamId+" create offer error "+e.toString()),t.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kCreateOfferError,!0)}))},e.prototype.createSession=function(e){var t=this;this.sessionSeq=o.getSeq();var r=this.streamId;1==this.streamCenter.testEnvironment&&(r="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.isPeer?(this.dataReport.eventStart(this.reportSeq,"CreateSessionWithSdp"),this.dataReport.eventStart(this.streamReportSeq,"CreateSessionWithSdp"),this.signal.createSessionWithSdp({seq:this.sessionSeq,type:this.isProbe?2:1,mode:0,streamId:r,strAuthParam:this.playOption&&this.playOption.streamParams||"",sdp:e.sdp,serverHost:this.gwNode,playBufLevel:2==this.resourceMode?500:void 0},(function(e,r,o){t.handleCreateSessionWithSdpResp(e,r,o)}),(function(r,n){t.dataReport.eventEndWithMsg(t.reportSeq,"CreateSession",{error:r}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"CreateSession",{error:r}),!t.isProbe&&r==o.SEND_MSG_TIMEOUT&&t.peerFailCount<2?(t.peerFailCount++,t.createSession(e)):!t.isProbe&&r==o.SEND_MSG_TIMEOUT&&t.peerFailCount>=2?(t.isPeer=!1,t.streamCenter.isPeer=!1,t.createSession()):t.playStateUpdateError(r==o.SEND_MSG_TIMEOUT?a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionTimeoutError:a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionRequestError)}))):(this.dataReport.eventStart(this.reportSeq,"CreateSession"),this.dataReport.eventStart(this.streamReportSeq,"CreateSession"),this.signal.createSession(this.sessionSeq,1,0,r,this.playOption&&this.playOption.streamParams,this.gwNode,(function(e,r,o){t.handleCreateSessionResp(e,r,o)}),(function(e,r){t.dataReport.eventEndWithMsg(t.reportSeq,"CreateSession",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"CreateSession",{error:e}),t.playStateUpdateError(e==o.SEND_MSG_TIMEOUT?a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionTimeoutError:a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionRequestError)}))),this.state=o.ENUM_PLAY_STATE.waitingSessionRsp,this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" "+this.streamId+" called success"),this.stateNego=o.ENUM_PLAY_STATE_NEGO.start},e.prototype.handleCreateSessionResp=function(e,t,r){var o=r.turn_server,n=o.split("?")[0]&&o.split("?")[0].slice(5),i=this.streamCenter.server.split("?"),l=i[1]&&i[1].slice(2);this.dataReport.eventEndWithMsg(this.streamReportSeq,"CreateSession",{sessionId:r.session_id,url:"webrtc://"+n+"/"+l+"/"+this.streamId}),this.dataReport.eventEndWithMsg(this.reportSeq,"CreateSession",{sessionId:r.session_id,url:"webrtc://"+n+"/"+l+"/"+this.streamId}),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" "+this.streamId+" sessionId:"+r.session_id),this.sessionSeq==e?(this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,0!==r.result?(this.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" "+this.streamId+" create error"),this.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionRequestError)):(this.sessionId=r.session_id,this.sessionToken=r.session_token,this.dataReport.addMsgInfo(this.reportSeq,{session_id:a.ZegoRTCLogEvent.kZegoTaskPlayStart.session_id(this.sessionId)}),this.onCreatePlaySessionSuccess(r))):this.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_START_PLAY+" seq is not match.")},e.prototype.handleCreateSessionWithSdpResp=function(e,t,r){var o=this;this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" sessionId:"+t),this.sessionSeq==e?(this.gwNodeList=r.gw_nodes&&r.gw_nodes.length>0?r.gw_nodes:this.gwNodeList,this.gwNode=r.gw_nodes&&r.gw_nodes.length>0?this.gwNodeList[0]:this.gwNode,this.gwNodeTTL=r.gw_nodes_ttl?(new Date).getTime()+1e3*r.gw_nodes_ttl:this.gwNodeTTL,this.stateCenter.clientIP=r.clientip?r.clientip:this.stateCenter.clientIP,this.dataReport.eventEndWithMsg(this.streamReportSeq,"CreateSessionWithSdp",{sessionId:t}),this.dataReport.eventEndWithMsg(this.reportSeq,"CreateSessionWithSdp",{sessionId:t}),0!==r.result?(this.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" create session failed "+r.result),this.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionRequestError)):(this.sessionId=t,this.sessionToken=r.session_token,this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" create session success ",this.streamId),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,(function(e,t,r){o.onRecvCloseSession(e,t,r)})),this.signal.registerPushCallback("SessionResetPush",this.sessionId,(function(e,t,r){o.onRecvResetSession(e,t,r)})),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,(function(e,t,r){o.gotStreamStatus=!0,o.streamStatus=r,o.playStream&&o.onRecvStreamStatus(r)})),this.signal.registerPushCallback("PlayEventPush",this.sessionId,(function(e,t,r){o.onRecvPlayEvent(e,t,r)})),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,(function(e,t,r){o.onRecvClientInfo(e,t,r)})),this.signal.registerPushCallback("NetQualityProbeRsp",this.sessionId,(function(e,t,r){o.onRecvPlayEvent(e,t,r)})),this.signal.registerPushCallback("NetQualityInfoPush",this.sessionId,(function(e,t,r){o.onRecvNetQualityInfo(e,t,r)})),this.onGetRemoteOfferSuccess(r.sdp))):this.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_HANDLE_CREATE_SESSION_WITH_SDP+" seq is not match.")},e.prototype.onCreateOfferSuccess=function(e){var t=this;this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp1 "+e.sdp.substr(0,e.sdp.length/2)),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+" "+this.streamId+" localSdp2 "+e.sdp.substr(e.sdp.length/2)),e.sdp=e.sdp.replace(/sendrecv/g,"recvonly"),e.sdp=e.sdp.replace(/useinbandfec=/,"stereo=1;useinbandfec=");var r=e.sdp.match(/m=video(.|\r|\n)*a=rtpmap(.|\r|\n)*(a=fmtp:(102).*)/);if(null!==r){var o=r[3];e.sdp=e.sdp.replace(o,o+";sps-pps-idr-in-keyframe=1")}this.playOption.videoCodec&&(e.sdp=n.SdpUtil.getSDPByVideDecodeType(e.sdp,this.playOption.videoCodec)),this.dataReport.eventStart(this.reportSeq,"SetLocalDescription"),this.dataReport.eventStart(this.streamReportSeq,"SetLocalDescription"),this.peerConnection.setLocalDescription(e).then((function(){t.dataReport.eventEnd(t.reportSeq,"SetLocalDescription"),t.dataReport.eventEnd(t.streamReportSeq,"SetLocalDescription"),t.onSetLocalDescriptionSuccess(e)}),(function(e){t.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CREATE_OFFER_SUCCESS+" "+t.streamId+" set error "+e.toString()),t.dataReport.eventEnd(t.reportSeq,"SetLocalDescription",{error:e.toString()}),t.dataReport.eventEnd(t.streamReportSeq,"SetLocalDescription",{error:e.toString()}),t.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSetLocalDescError,!0)}))},e.prototype.onSetLocalDescriptionSuccess=function(e){var t=this;if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+this.streamId+" success"),this.isPeer)this.createSession(e);else{var r={sdp:e.sdp};2==this.resourceMode&&(r.min_play_buf_level_ms=500),this.answerSeq=o.getSeq(),this.dataReport.eventStart(this.reportSeq,"SendMediaDesc"),this.dataReport.eventStart(this.streamReportSeq,"SendMediaDesc"),this.signal.sendMediaDesc(this.answerSeq,this.sessionId,0,r,(function(e,r,n){t.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+t.streamId+" sendMediaDesc resp"),t.answerSeq==e&&t.sessionId==r?(t.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+t.streamId+" send success stateNego:waiterAnswer"),t.stateNego=o.ENUM_PLAY_STATE_NEGO.waiterAnswer,t.dataReport.eventEnd(t.reportSeq,"SendMediaDesc"),t.dataReport.eventEnd(t.streamReportSeq,"SendMediaDesc"),t.state=o.ENUM_PLAY_STATE.waitingServerAnswer):t.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+t.streamId+" seq or sessionId is not equal "+t.answerSeq+" "+e,0+t.sessionId+" "+r)}),(function(e,r){t.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_SET_LOCAL_DESCRIPTION_SUCCESS+" "+t.streamId+" failed to send "+e),t.dataReport.eventEndWithMsg(t.reportSeq,"SendMediaDesc",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"SendMediaDesc",{error:e}),t.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kMediaDescError)})),this.state=o.ENUM_PLAY_STATE.waitingOffserRsp}},e.prototype.onRecvMediaDesc=function(e,t,r){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received ",r),this.stateNego=o.ENUM_PLAY_STATE_NEGO.waitingCandidate,this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" received stateNego:waitingCandidate"),this.state===o.ENUM_PLAY_STATE.waitingServerAnswer?(this.dataReport.addEvent(this.reportSeq,"RecvMediaDesc"),this.dataReport.addEvent(this.streamReportSeq,"RecvMediaDesc"),this.signal.sendMediaDescAck(e,this.sessionId,0),this.onGetRemoteOfferSuccess(r.sdp)):this.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" current state "+this.state+" not allowed")},e.prototype.onGetRemoteOfferSuccess=function(e){var t,r=this,n={type:"answer",sdp:e,toJSON:function(){}};this.dataReport.eventStart(this.reportSeq,"SetRemoteDescription"),this.dataReport.eventStart(this.streamReportSeq,"SetRemoteDescription"),this.stateCenter.turnOverTcpOnly&&(null===(t=n.sdp.match(/candidate.*/g))||void 0===t||t.forEach((function(e){var t=e.replace(/udp/,"tcp");n.sdp=n.sdp.replace(e,t)}))),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" remoteSdp ",n.sdp),this.peerConnection.setRemoteDescription(new RTCSessionDescription(n)).then((function(){r.dataReport.eventEnd(r.reportSeq,"SetRemoteDescription"),r.dataReport.eventEnd(r.streamReportSeq,"SetRemoteDescription"),r.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+r.streamId+" set success")}),(function(e){r.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+r.streamId+" set remote error "+e.toString()),r.dataReport.eventEndWithMsg(r.reportSeq,"SetRemoteDescription",{error:e.toString()}),r.dataReport.eventEndWithMsg(r.streamReportSeq,"SetRemoteDescription",{error:e.toString()}),r.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSetRemoteDescError,!0)})),this.state=o.ENUM_PLAY_STATE.waitingServerICE,this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_MEDIA_DESC+" "+this.streamId+" call success")},e.prototype.onRecvCandidateInfo=function(e,t,r){var n=this;if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" received "),this.state==o.ENUM_PLAY_STATE.waitingServerICE){this.dataReport.addEvent(this.reportSeq,"RecvIceCandidate"),this.dataReport.addEvent(this.streamReportSeq,"RecvIceCandidate"),this.signal.sendCandidateInfoAck(e,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var i=0;i<r.infos.length;i++){var l={sdpMid:r.infos[i].sdpMid,sdpMLineIndex:r.infos[i].sdpMLineIndex,candidate:r.infos[i].candidate};this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" candidate "+l.candidate),this.peerConnection.addIceCandidate(new RTCIceCandidate(l)).then((function(){n.logger.debug(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+n.streamId+" add success")}),(function(e){n.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+n.streamId+" add error "+e.toString()),n.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kCandidateError,!0)}))}this.state=o.ENUM_PLAY_STATE.connecting,this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" call success")}else this.logger.warn(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CANDIDATE_INFO+" "+this.streamId+" current state "+this.state+" not allowed")},e.prototype.onRecvPlayEvent=function(e,t,r){if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_PLAY_EVENT+" "+this.streamId+" received"),!0===this.playEvent&&0==r.event){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_PLAY_EVENT+" "+this.streamId+" retry: "+this.streamId);var n=this.streamId,i=this.playOption;this.signal.sendCloseSession(o.getSeq(),this.sessionId,1),this.resetPlay(),this.startPlay(n,this.getRemoteStreamSuc,i)}else this.playEvent=!0},e.prototype.onRecvClientInfo=function(e,t,r){this.stateCenter.clientIP!==r.clientip&&this.logger.warn(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CLIENT_INFO+" client ip changed "+this.stateCenter.clientIP+" "+r.clientip),this.stateCenter.clientIP=r.clientip,this.peerID=r.peer_id,this.isProbe&&this.stateNego==o.ENUM_PLAY_STATE_NEGO.iceConnected&&this.signal.sendNetProbe(o.getSeq(),this.sessionId,this.peerID,(function(){}),(function(){})),this.isRecvClientInfo=!0},e.prototype.onRecvNetQualityInfo=function(e,t,r){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_NET_QUALITY_INFO+" call"),this.probeTimer&&(clearTimeout(this.probeTimer),this.probeTimer=null);var n=0,a=r.lossrate,l=r.rtt;this.peerID===r.peer_id&&null!=typeof a&&null!=typeof l||(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_NET_QUALITY_INFO+" local peerID:"+this.peerID+" remote peerID:"+r.peer_id+" lossrate:"+a+" rtt:"+l),n=1),this.signal.sendNetQualityInfoPushAck(o.getSeq(),this.sessionId,this.peerID,n),0==n&&"number"==typeof a&&"number"==typeof l?this.onCalNetQualityResult(0,i.ClientUtil.getNetQuality(l,a)):this.onCalNetQualityResult(1)},e.prototype.onIceCandidate=function(e){if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" called"),null!=e.candidate)if(this.logger.debug(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" candidate "+e.candidate.candidate),this.state<o.ENUM_PLAY_STATE.connecting||this.state==o.ENUM_PLAY_STATE.stop)this.logger.debug(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" cached"),this.candidateInfo.push({candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex});else{this.logger.debug(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CANDIDATE+" "+this.streamId+" send");var t={candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex};this.sendCandidateInfo([t])}},e.prototype.onConnectionStateChange=function(e){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_CONNECTION_STATE_CHANGE+" "+this.streamId+" called "+e.target.signalingState)},e.prototype.onIceConnectionStateChange=function(e){if(this.state!=o.ENUM_PLAY_STATE.stop&&null!=this.peerConnection)if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" stateChanged "+this.peerConnection.iceConnectionState),"connected"===this.peerConnection.iceConnectionState){if(this.stateNego=o.ENUM_PLAY_STATE_NEGO.iceConnected,this.isProbe&&this.isPeer&&this.isRecvClientInfo)return this.signal.sendNetProbe(o.getSeq(),this.sessionId,this.peerID,(function(){}),(function(){})),void(this.negoTimer&&clearTimeout(this.negoTimer));for(var t in this.negoTimer&&clearTimeout(this.negoTimer),this.dataReport.addEvent(this.reportSeq,"IceConnected"),this.dataReport.addEvent(this.streamReportSeq,"IceConnected"),this.state!=o.ENUM_PLAY_STATE.playing&&this.onPlayStateUpdate(o.ENUM_PLAY_STATE_UPDATE.start,this.streamId,{code:0,message:""},!0),this.state=o.ENUM_PLAY_STATE.playing,this.dataReport.eventStart(this.reportSeq,"PlayState"),this.dataReport.eventStart(this.streamReportSeq,"PlayState"),this.streamCenter.publisherList)if(this.streamCenter.publisherList[t].publisher.state==o.ENUM_PUBLISH_STATE.publishing&&this.broadcasterStatus==o.ENUM_BROADCASTER_STATUS.stop){this.signal&&this.signal.sendBroadcasterStatus(o.getSeq(),this.sessionId,1),this.broadcasterStatus=o.ENUM_BROADCASTER_STATUS.start;break}if(!this.isProbe&&this.setPlayQualityTimer(),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+" "+this.streamId+" stateNego:iceConnected"),this.isPeer&&(this.peerFailCount=0),0==this.firstFrameTime){this.firstFrameTime=(new Date).getTime()-this.beginTime;var r=o.getReportSeq();this.dataReport.newReport(r,a.ZegoRTCLogEvent.kZegoTaskPlayDecodeFirstVideoFrame.event),this.dataReport.addMsgInfo(r,{session_id:a.ZegoRTCLogEvent.kZegoTaskPlayDecodeFirstVideoFrame.session_id(this.sessionId),fft_consumed:a.ZegoRTCLogEvent.kZegoTaskPlayDecodeFirstVideoFrame.fft_consumed(this.firstFrameTime)}),this.dataReport.uploadReport(r)}}else"closed"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):"failed"===this.peerConnection.iceConnectionState?(this.dataReport.addEvent(this.reportSeq,"IceFailed"),this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):"disconnected"===this.peerConnection.iceConnectionState&&(this.dataReport.addEvent(this.reportSeq,"IceDisconnected"),this.stateNego=o.ENUM_PLAY_STATE_NEGO.iceDisconnected,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState))},e.prototype.checkPlayConnectionFailedState=function(e){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_ICE_CONNECTION_STATE_CHANGE+"  state "+this.state+" connectionState "+e),this.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kMediaConnectionError)},e.prototype.clearPlayQualityTimer=function(){null!=this.qualityTimer&&(clearInterval(this.qualityTimer),this.qualityTimer=null),this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesDropped:0,framesReceived:0,audioBitrate:0}},e.prototype.resetPlay=function(){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_RESET_PLAY+" "+this.streamId+" call"),this.state=o.ENUM_PLAY_STATE.stop,this.playEvent=!1,this.isRecvClientInfo=!1,null!=this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null),null!=this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.probeTimer&&(clearTimeout(this.probeTimer),this.probeTimer=null),this.clearPlayQualityTimer(),this.signal&&(this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PublishEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId),this.signal.unregisterPushCallback("NetQualityProbeRsp",this.sessionId),this.signal.unregisterPushCallback("NetQualityInfoPush",this.sessionId)),this.sessionSeq=0,this.answerSeq=0,this.videoSizeCallback=!1,this.stopSoundLevel()},e.prototype.setPlayQualityTimer=function(){var e=this;null==this.qualityTimer&&(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" "+this.streamId+" startTimer"),this.clearPlayQualityTimer(),this.qualityTimer=setInterval((function(){if(e.peerConnection){var t=[e.peerConnection.getStats(null)];"Chrome"==i.ClientUtil.getBrowser()&&t.push(new Promise((function(t,r){e.peerConnection.getStats((function(e){return t(e)}),(function(e){return r(e)}))}))),Promise.all(t).then((function(t){e.getPlayStats(t[0],t[1])})).catch((function(t){e.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" "+e.streamId+" getStats error "+t.toString())}))}}),this.qualityTimeInterval),this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0})},e.prototype.getPlayStats=function(e,t){var r=this;if(null!=e){for(var n,l=document.querySelectorAll("video, audio"),c=0;c<l.length;c++)l[c].srcObject===this.playStream&&(n=l[c]);var u={audioFractionLost:0,audioPacketsLost:0,audioPacketsLostRate:0,audioBitrate:0,audioLevel:0,audioSendLevel:0,audioSamplingRate:0,audioCodec:"opus",audioQuality:0,audioFPS:0,videoQuality:0,videoPacketsLost:0,videoPacketsLostRate:0,videoBitrate:0,videoFPS:0,playData:0,nackCount:0,pliCount:0,audioJitter:0,videoFractionLost:0,videoFramesDecoded:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoFramesDropped:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,audioMuteState:this.audioMuteState,videoMuteState:this.videoMuteState,muted:n?n.muted:void 0,paused:n?n.paused:void 0,volume:n?n.volume:void 0,sinkId:n?n.sinkId:void 0},d=this.lastPlayStats.time,p=0,h=0,f=0,g=0,m=0;e.forEach((function(e){if(("inbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesReceived)&&("audio"==e.mediaType||e.id.indexOf("AudioStream")>=0)){0!=d&&(u.audioBitrate=8*(e.bytesReceived-r.lastPlayStats.audioBytesReceived)/(e.timestamp-d),(n=e.packetsLost-r.lastPlayStats.audioPacketsLost)>0&&(h=n/(n+e.packetsReceived-r.lastPlayStats.audioPacketsReceived))),u.audioBitrate<0&&(u.audioBitrate=0),u.audioJitter=e.jitter,e.packetsLost>0&&(u.audioPacketsLost=e.packetsLost),u.audioFractionLost=e.fractionLost;var t=e.packetsLost-r.lastPlayStats.audioPacketsLost;u.audioFPS=(e.packetsReceived-r.lastPlayStats.audioPacketsReceived)/(e.timestamp-d)*1e3,u.audioPacketsLostRate=t>0?t/(e.packetsReceived-r.lastPlayStats.audioPacketsReceived+t):0,r.lastPlayStats.audioBytesReceived=e.bytesReceived,e.packetsLost>0&&(r.lastPlayStats.audioPacketsLost=e.packetsLost),r.lastPlayStats.audioPacketsReceived=e.packetsReceived,r.lastPlayStats.audioTime=e.timestamp,r.lastPlayStats.time=e.timestamp,r.lastPlayStats.audioBitrate=u.audioBitrate,g=e.jitter}else if(("inbound-rtp"==e.type||"ssrc"==e.type&&null!=e.bytesReceived)&&("video"==e.mediaType||e.id.indexOf("VideoStream")>=0)){var n;0!=d&&(u.videoBitrate=8*(e.bytesReceived-r.lastPlayStats.videoBytesReceived)/(e.timestamp-d),u.videoFPS=1e3*(e.framesDecoded-r.lastPlayStats.framesDecoded)/(e.timestamp-d),(n=e.packetsLost-r.lastPlayStats.videoPacketsLost)>0&&(f=n/(n+e.packetsReceived-r.lastPlayStats.videoPacketsReceived))),u.videoBitrate<0&&(u.videoBitrate=0),u.videoFPS<0&&(u.videoFPS=0),u.nackCount=e.nackCount,u.pliCount=e.pliCount,u.videoFractionLost=e.fractionLost,u.videoFramesDecoded=e.framesDecoded,e.packetsLost>0&&(u.videoPacketsLost=e.packetsLost),t=e.packetsLost-r.lastPlayStats.videoPacketsLost,u.videoPacketsLostRate=t>0?t/(e.packetsReceived-r.lastPlayStats.videoPacketsReceived+t):0,r.lastPlayStats.videoBytesReceived=e.bytesReceived,r.lastPlayStats.framesDecoded=e.framesDecoded,e.packetsLost>0&&(r.lastPlayStats.videoPacketsLost=e.packetsLost),r.lastPlayStats.videoPacketsReceived=e.packetsReceived,r.lastPlayStats.videoTime=e.timestamp,r.lastPlayStats.time=e.timestamp,m=e.jitter}else if("track"==e.type&&("video"==e.kind||e.id.indexOf("video")>=0)||e.frameWidth){if(u.frameHeight=e.frameHeight,u.frameWidth=e.frameWidth,0===d||r.lastPlayStats.frameHeight===e.frameHeight&&r.lastPlayStats.frameWidth===e.frameWidth)0===d&&(r.lastPlayStats.frameHeight=e.frameHeight,r.lastPlayStats.frameWidth=e.frameWidth);else{var i=o.getReportSeq();r.dataReport.newReport(i,a.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.event),r.dataReport.addMsgInfo(i,{session_id:a.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.session_id(r.sessionId),w:a.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.w(e.frameWidth),h:a.ZegoRTCLogEvent.kZegoTaskVideoPlaySize.h(e.frameHeight)}),r.dataReport.uploadReport(i),r.lastPlayStats.frameHeight=e.frameHeight,r.lastPlayStats.frameWidth=e.frameWidth}0!=d&&(u.videoTransferFPS=1e3*(e.framesReceived-r.lastPlayStats.framesReceived)/(e.timestamp-d),u.videoFramesDropped=e.framesDropped-r.lastPlayStats.framesDropped),u.videoTransferFPS<0&&(u.videoTransferFPS=0),u.videoFramesDropped<0&&(u.videoFramesDropped=0),r.lastPlayStats.framesReceived=e.framesReceived,r.lastPlayStats.framesDropped=e.framesDropped}else"track"==e.type&&("audio"==e.kind||e.id.indexOf("audio")>=0)?(u.audioLevel=e.audioLevel,u.audioSendLevel=e.totalAudioEnergy,u.audioSamplingRate=e.totalSamplesDuration):"candidate-pair"==e.type&&(null!=e.totalRoundTripTime&&(u.totalRoundTripTime=e.totalRoundTripTime),null!=e.currentRoundTripTime&&(u.currentRoundTripTime=e.currentRoundTripTime,p=1e3*u.currentRoundTripTime))})),t&&t.result().forEach((function(e){"ssrc"==e.type&&e.names().indexOf("googBandwidthLimitedResolution")>=0&&(u.googBandwidthLimitedResolution=e.stat("googBandwidthLimitedResolution")),"ssrc"==e.type&&e.names().indexOf("codecImplementationName")>=0&&(u.codecImplementationName=e.stat("codecImplementationName")),"ssrc"==e.type&&"video"==e.stat("mediaType")&&e.names().indexOf("googCodecName")>=0&&(u.videoCodecName=e.stat("googCodecName")),"ssrc"==e.type&&"audio"==e.stat("mediaType")&&e.names().indexOf("googCodecName")>=0&&(u.audioCodecName=e.stat("googCodecName")),"ssrc"==e.type&&e.names().indexOf("googCpuLimitedResolution")>=0&&(u.googCpuLimitedResolution=e.stat("googCpuLimitedResolution")),"VideoBwe"==e.type&&e.names().indexOf("googAvailableSendBandwidth")>=0&&(u.googAvailableSendBandwidth=e.stat("googAvailableSendBandwidth"))})),f=isNaN(f)||f<0?0:f,m=isNaN(m)||m<0?0:m,h=isNaN(h)||h<0?0:h,g=isNaN(g)||g<0?0:g;var v=i.ClientUtil.getNetQuality(p,f,m),b=i.ClientUtil.getNetQuality(p,h,g);u.audioQuality=d>0?i.ClientUtil.quality2QualityGrade(v):0,u.videoQuality=d>0?i.ClientUtil.quality2QualityGrade(b):0;var _=Math.min(v,b);this.netQuality=_,d>0&&_<=o.QUALITY_CONSTANT.MiddleMinQuality&&(new Date).getTime()>this.probeTime+this.probeInterval&&(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_SET_PLAYER_QUALITY_TIMER+" netQuality "+_+" start net probe"),this.probeState=o.ENUM_PROBE_STATE.tryProbe,this.streamCenter.startNetProbe(!1,this,this.gwNodeList),this.probeTime=(new Date).getTime()),this.uploadPlayQuality(u);var E={video:{videoBitrate:u.videoBitrate,videoFPS:u.videoFPS,videoTransferFPS:u.videoTransferFPS,videoFramesDecoded:u.videoFramesDecoded,videoFramesDropped:u.videoFramesDropped,videoPacketsLost:u.videoPacketsLost,videoPacketsLostRate:u.videoPacketsLostRate,videoQuality:u.videoQuality,frameHeight:u.frameHeight,frameWidth:u.frameWidth,muteState:u.videoMuteState},audio:{audioBitrate:u.audioBitrate,audioCodec:u.audioCodec,audioJitter:u.audioJitter,audioLevel:u.audioLevel,audioPacketsLost:u.audioPacketsLost,audioPacketsLostRate:u.audioPacketsLostRate,audioQuality:u.audioQuality,audioSamplingRate:u.audioSamplingRate,audioSendLevel:u.audioSendLevel,muteState:u.audioMuteState,audioFPS:u.audioFPS},nackCount:u.nackCount,pliCount:u.pliCount,totalRoundTripTime:u.totalRoundTripTime,playData:u.playData,currentRoundTripTime:u.currentRoundTripTime};void 0!==u.muted&&(E.muted=u.muted,E.paused=u.paused,E.volume=u.volume,E.sinkId=u.sinkId),void 0!==u.videoCodecName&&(E.video.googCodecName=u.videoCodecName,E.audio.googCodecName=u.audioCodecName,E.codecImplementationName=u.codecImplementationName,E.googAvailableSendBandwidth=u.googAvailableSendBandwidth),0!=d&&this.onPlayQualityUpdate(this.streamId,E)}},e.prototype.uploadPlayQuality=function(e){var t=this;if(this.qualityUpload){var r=Date.parse(new Date+"");(0==this.qualityUploadLastTime||r-this.qualityUploadLastTime>=this.qualityUploadInterval)&&(e.stream_type="play",e.stream_id=this.streamId,e.timeStamp=r/1e3,this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_UPLOAD_PLAYER_QUALITY+" "+this.streamId+" upload"+JSON.stringify(e)),this.signal.QualityReport(o.getSeq(),this.sessionId,e,(function(e,r,o){void 0!==o.report&&(t.qualityUpload=o.report,t.qualityUploadInterval=o.report_interval_ms)}),(function(e,r){t.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_UPLOAD_PLAYER_QUALITY+" "+t.streamId+" upload failed "+e)})),this.qualityUploadLastTime=r)}},e.prototype.onRecvResetSession=function(e,t,r){if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_RESET_SESSION+" "+this.streamId+" received "),t==this.sessionId){this.signal.sendCloseSessionAck(e,this.sessionId,0);var o=JSON.parse(JSON.stringify(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlaySessionClosedError));this.negoTimer&&clearTimeout(this.negoTimer),this.playStateUpdateError(o)}else this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_RESET_SESSION+" "+this.streamId+" cannot find session")},e.prototype.onRecvCloseSession=function(e,t,r){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_CLOSE_SESSION+" "+this.streamId+" "+JSON.stringify(r)),this.signal.sendCloseSessionAck(e,this.sessionId,0);var o=r.err_info?JSON.parse(r.err_info.toLowerCase()):{},n=o.action?o.action:null,i=1*r.reason,l=JSON.parse(JSON.stringify(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlaySessionClosedError));l.message+=" reason:"+i+" "+(n?" action:"+n:""),this.negoTimer&&clearTimeout(this.negoTimer);var c=![4,8,10,11,12,14,24,26,27,28].includes(i)&&![2,5,6].includes(n);this.playStateUpdateError(l,c)},e.prototype.onRecvStreamStatus=function(e){if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" call"),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" status camera_status: "+e.camera_status+" mic_status: "+e.mic_status),this.cameraStatus!==e.camera_status&&this.onRemoteCameraStatusUpdate(this.streamId,this.getCameraMicStatus(e.camera_status),e.camera_status),this.micStatus!==e.mic_status&&this.onRemoteMicStatusUpdate(this.streamId,this.getCameraMicStatus(e.mic_status),e.mic_status),this.cameraStatus=e.camera_status,this.micStatus=e.mic_status,this.videoMuteState=0===e.camera_status?"0":"1",this.audioMuteState=0===e.mic_status?"0":"1","boolean"==typeof this.playOption.video)this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" has set video option, ignore stream status");else{var t=this.playStream;if(0!==e.camera_status&&20!==e.camera_status?t.getVideoTracks().forEach((function(e){e.enabled=!1,e.stop(),t.removeTrack(e)})):0===t.getVideoTracks().length&&t.addTrack(this.remoteStream.clone().getVideoTracks()[0]),"Safari"===i.ClientUtil.getBrowser())for(var r=document.querySelectorAll("video, audio"),o=0;o<r.length;o++)r[o].srcObject===this.playStream&&(r[o].srcObject=this.playStream)}this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_RECV_STREAM_STATUS+" "+this.streamId+" call success")},e.prototype.onGotRemoteStream=function(e){var t=this;this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_GOT_REMOTE_STREAM+" "+this.streamId+" called "+e),e?(this.playStream?(this.playStream.getTracks().forEach((function(e){return t.playStream.removeTrack(e)})),e.clone().getTracks().forEach((function(e){return t.playStream.addTrack(e)}))):this.playStream=e.clone(),this.audioMuteState=this.playStream.getAudioTracks().length>0?"0":"1",this.videoMuteState=this.playStream.getVideoTracks().length>0?"0":"1",this.remoteStream=e,this.getRemoteStreamSuc(this.playStream),this.gotStreamStatus&&this.onRecvStreamStatus(this.streamStatus),this.dataReport.addEvent(this.reportSeq,"GetRemoteStream"),this.streamCenter.soundLevelDelegate&&this.startSoundLevel()):this.logger.warn(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_GOT_REMOTE_STREAM+" "+this.streamId+" remote stream is empty")},e.prototype.sendCandidateInfo=function(e){var t=this;this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+this.streamId+" called"),!(e=e.filter((function(e){return!(e.candidate.indexOf("tcp")>0)&&(!!e.candidate||void 0)})))||e.length<1?this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+this.streamId+" cancelled"):(this.dataReport.eventStart(this.reportSeq,"SendIceCandidate"),this.dataReport.eventStart(this.streamReportSeq,"SendIceCandidate"),this.stateNego!==o.ENUM_PLAY_STATE_NEGO.iceConnected&&(this.stateNego=o.ENUM_PLAY_STATE_NEGO.sendCandidate),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo(o.getSeq(),this.sessionId,e,(function(e,r,o){t.logger.debug(s.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+t.streamId+" send success"),t.dataReport.eventEnd(t.reportSeq,"SendIceCandidate"),t.dataReport.eventEnd(t.streamReportSeq,"SendIceCandidate")}),(function(e,r){t.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_SEND_CANDIDATE_INFO+" "+t.streamId+" failed to send: "+e.toString()),t.dataReport.eventEndWithMsg(t.reportSeq,"SendIceCandidate",{error:e}),t.dataReport.eventEndWithMsg(t.streamReportSeq,"SendIceCandidate",{error:e}),t.playStateUpdateError(a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kCandidateError)})))},e.prototype.shouldSendCloseSession=function(){return this.state!=o.ENUM_PLAY_STATE_UPDATE.stop&&this.state!=o.ENUM_PLAY_STATE.waitingSessionRsp},e.prototype.playStateUpdateError=function(e,t){this.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_STATE_ERROR+" call ",this.streamId,JSON.stringify(e)),this.isProbe?this.onCalNetQualityResult(1):this.streamId&&this.onPlayStateUpdate(o.ENUM_PLAY_STATE_UPDATE.error,this.streamId,e,t),this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_STATE_ERROR+" "+this.streamId+" ended")},e.prototype.getCameraMicStatus=function(e){return 0==e?"OPEN":"MUTE"},e.prototype.onPlayStateUpdate=function(e,t,r,o){},e.prototype.onPlayQualityUpdate=function(e,t){},e.prototype.onRemoteCameraStatusUpdate=function(e,t,r){},e.prototype.onRemoteMicStatusUpdate=function(e,t,r){},e.prototype.stopPlay=function(){for(var e in this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_STOP_PLAY+" "+this.streamId+" called"),this.streamCenter.publisherList)if(this.streamCenter.publisherList[e].publisher.state==o.ENUM_PUBLISH_STATE.publishing&&this.broadcasterStatus==o.ENUM_BROADCASTER_STATUS.start){this.signal&&this.signal.sendBroadcasterStatus(o.getSeq(),this.sessionId,0),this.broadcasterStatus=o.ENUM_BROADCASTER_STATUS.stop;break}this.sessionId&&!this.closeSessionSignal&&this.signal.sendCloseSession(o.getSeq(),this.sessionId,0),this.dataReport.eventEndWithMsg(this.streamReportSeq,"PlayState",{state:this.state+""}),this.dataReport.addEvent(this.streamReportSeq,"StopPlay"),this.dataReport.addMsgExt(this.streamReportSeq,{stream:this.streamId,sessionId:this.sessionId}),this.dataReport.addMsgInfo(this.streamReportSeq,{itemtype:"RTCPlayStream"}),this.dataReport.uploadReport(this.streamReportSeq,"RTCPlayStream"),this.resetPlay()},e.prototype.onDisconnect=function(e){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_ON_DISCONNECT+" "+this.streamId+" call"),this.dataReport.addEvent(this.reportSeq,"OnDisconnect"),this.playStateUpdateError(e||a.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kWebsocketDisconnectedError,!!e)},e.prototype.startSoundLevel=function(){var e=this;if(this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+" call streamID: "+this.streamId),!this.isProbe)if(this.remoteStream&&0!=this.remoteStream.getAudioTracks().length){this.script&&this.script.disconnect()&&(this.script=null),this.mic&&this.mic.disconnect()&&(this.mic=null);try{this.mic=this.ac.createMediaStreamSource(this.remoteStream),this.script=this.ac.createScriptProcessor(4096,1,1),this.mic.connect(this.script),this.script.connect(this.ac.destination),this.script.onaudioprocess=function(t){for(var r=t.inputBuffer.getChannelData(0),o=0,n=0;n<r.length;n++)o<r[n]&&(o=r[n]);e.soundLevel=100*o},this.ac.resume()}catch(e){this.logger.error(s.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+" get sound level failed "+e)}}else this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_START_SOUND_LEVEL+" "+this.streamId+" remote stream no found")},e.prototype.stopSoundLevel=function(){this.logger.info(s.ZEGO_WEBRTC_ACTION.PLAYER_STOP_SOUND_LEVEL+" call streamID: "+this.streamId),this.script&&this.script.disconnect(),this.mic&&this.mic.disconnect(),this.script=null,this.mic=null},e.prototype.onCalNetQualityResult=function(e,t){},e}();t.ZegoPlayWeb=l},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RetryStreamHandler=void 0;var i=r(0),a=r(9),s=r(1),l=r(2),c=r(3),u=function(e){function t(t,r,o,n){var i=e.call(this)||this;return i.logger=t,i.stateCenter=r,i.streamCenter=o,i.isPublish=n,i.serverUrls=[],i}return n(t,e),t.prototype.initStream=function(e,t){this.streamID=e,this.serverUrls=t},t.prototype.activePublish=function(e){var t=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),this.stateCenter.networkState==i.ENUM_NETWORK_STATE.offline)return this.logger.info("zc.tsh.a network is broken, stop retry"),!1;if(this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var r=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1));this.retryActiveInterval=r>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:r}var o=this.streamCenter.publisherList[this.streamID].publisher,n=this.serverUrls,a=o.signal?o.signal.server:"";n.forEach((function(e,r){return r<=n.indexOf(a)&&t.serverUrls.push(e)})),n.splice(0,n.indexOf(a)+1);var s=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1];return this.retryTimer=setTimeout((function(){t.logger.warn("zc.tsh.a stream "+t.streamID+" connect signal server "+s),t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,t.retryActiveCount++,t.streamCenter.connectPublishServer(t.streamID,s)}),"number"==typeof e?e:1e3*this.retryActiveInterval),this.logger.info("zc.tsh.a call success"),!0},t.prototype.activePull=function(e,t){var r=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),t&&(this.playStreamSuccess=t),this.stateCenter.networkState==i.ENUM_NETWORK_STATE.offline)return this.logger.info("zc.tsh.a network is broken, stop retry"),!1;if(this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(1==this.retryActiveCount)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var o=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1));this.retryActiveInterval=o>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:o}var n=this.streamCenter.playerList[this.streamID].player,a=this.serverUrls,s=n.signal?n.signal.server:"";a.forEach((function(e,t){return t<=a.indexOf(s)&&r.serverUrls.push(e)})),a.splice(0,a.indexOf(s)+1);var l=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1];return this.retryTimer=setTimeout((function(){r.logger.warn("zc.tsh.a stream "+r.streamID+" connect signal server "+l),r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=null,r.retryActiveCount++,r.streamCenter.connectPlayServer(r.streamID,r.playStreamSuccess,l)}),"number"==typeof e?e:1e3*this.retryActiveInterval),this.logger.info("zc.tsh.a call success"),!0},t.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.maxTimer=setTimeout((function(){if(e.logger.warn(e.streamID+" over max time "+e.RETRY_MAX_TIME+"s, stop retry"),e.isOverTime=!0,e.invalid(),e.isPublish){if(!e.streamCenter.publisherList[e.streamID])return void e.logger.info("zc.tsh.smt streamID "+e.streamID+" publish no found");e.publishStateHandle(i.ENUM_PUBLISH_STATE_UPDATE.error,e.streamID,s.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishRetryTimeoutError,!0)}else{if(!e.streamCenter.playerList[e.streamID])return void e.logger.info("zc.tsh.smt streamID "+e.streamID+" play no found");e.playStateHandle(i.ENUM_PLAY_STATE_UPDATE.error,e.streamID,s.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayRetryTimeoutError,!0)}}),1e3*this.RETRY_MAX_TIME))},t.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.retryNextSignal=function(e){if(this.stateCenter.networkState==i.ENUM_NETWORK_STATE.offline)return!0;if(this.isPublish){var t=this.streamCenter.publisherList[this.streamID];if(t.publisher.state==i.ENUM_PUBLISH_STATE.stop&&[s.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kSessionTimeoutError.code,s.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishNegoTimeoutError.code].includes(e.code))return!0;if(t.isCenterNode&&t.publisher.signal&&t.publisher.signal.websocket&&1==t.publisher.signal.websocket.readyState)return!1;if(!t.isCenterNode&&[s.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishSessionClosedError.code].includes(e.code)){var r=(o=e.message.match(/reason:(\d+)/))?o[1]:"";return!["26"].includes(r)}return!0}var o,n=this.streamCenter.playerList[this.streamID];return!(n.player.state!=i.ENUM_PLAY_STATE.stop||![s.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kSessionTimeoutError.code,s.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayNegoTimeoutError.code].includes(e.code))||!(n.isCenterNode&&n.player.signal&&n.player.signal.websocket&&1==n.player.signal.websocket.readyState)&&(!(!n.isCenterNode&&[s.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlaySessionClosedError.code].includes(e.code))||(r=(o=e.message.match(/reason:(\d+)/))?o[1]:"",!["24","26","28"].includes(r)))},t.prototype.publishStateHandle=function(e,t,r,o){this.logger.info(l.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+" call "+t+" "+(r?r.code+"":""));var n=o||this.RETRY_MAX_TIME<3;if(!n&&r&&(c.ClientUtil.isReDispatch(r)||0==this.serverUrls.length))return this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPublishStateUpdate(e,t,r);var a=this.streamCenter.publisherList[t],u=a.publisher;if(!n&&r&&0!==r.code){!this.maxTimer&&!n&&this.startMaxTime(),this.stateCenter.publishStreamList[t].state=i.ENUM_PUBLISH_STREAM_STATE.retryPublish;var d=u.localStream,p=u.videoInfo,h=u.mediaStreamConfig,f=u.publishOption;if(0!=u.sessionId&&u.signal&&u.shouldSendCloseSession()&&(u.signal.sendCloseSession(i.getSeq(),u.sessionId,1),u.signal.removeSession(u.sessionId),u.closeSessionSignal=!0),u.resetPublish(),!n&&!this.retryNextSignal(r)){if(a.isCenterNode&&u.gwNodeTTL<(new Date).getTime()&&0!==u.gwNodeList.length)u.gwNode="",u.gwNodeList=[],u.gwNodeTTL=0;else if(a.isCenterNode){var g=u.gwNodeList.findIndex((function(e){return e==u.gwNode}));u.gwNode=u.gwNodeList[++g%u.gwNodeList.length]}return void setTimeout((function(){u.startPublish(t,d,p,h,f)}),3e3)}this.streamCenter.removeStreamFromSignal(!0,t)}if(n)return this.stopMaxTime(),this.invalid(),1===e&&u.resetPublish(),void this.streamCenter.onPublishStateUpdate(e,t,r);if(r&&0!==r.code&&this.activePublish(void 0)){var m=i.getReportSeq();this.streamCenter.dataReport.newReport(m),this.streamCenter.dataReport.addMsgInfo(m,{stream:s.ZegoRTCLogEvent.kZegoTaskRePublish.stream(this.streamID)}),this.streamCenter.dataReport.uploadReport(m,s.ZegoRTCLogEvent.kZegoTaskRePublish.event),this.streamCenter.onPublishStateUpdate(2,t,r)}this.logger.info(l.ZEGO_WEBRTC_ACTION.PUBLISH_STATE_HANDLE+" end "+t)},t.prototype.playStateHandle=function(e,t,r,o){this.logger.info(l.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+" call "+t+" "+(r?r.code+"":""));var n=o||this.RETRY_MAX_TIME<3;if(!n&&r&&(c.ClientUtil.isReDispatch(r)||0==this.serverUrls.length))return this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPlayStateUpdate(e,t,r);if(r&&0!==r.code){!this.maxTimer&&!n&&this.startMaxTime();var a=this.streamCenter.playerList[t],u=a.player,d=u.playOption;if(0!=u.sessionId&&u.signal&&u.shouldSendCloseSession()&&(u.signal.sendCloseSession(i.getSeq(),u.sessionId,1),u.signal.removeSession(u.sessionId),u.closeSessionSignal=!0),u.resetPlay(),!n&&!this.retryNextSignal(r)){if(a.isCenterNode&&u.gwNodeTTL<(new Date).getTime()&&0!==u.gwNodeList.length)u.gwNode="",u.gwNodeList=[],u.gwNodeTTL=0;else if(a.isCenterNode){var p=u.gwNodeList.findIndex((function(e){return e==u.gwNode}));u.gwNode=u.gwNodeList[++p%u.gwNodeList.length]}return void setTimeout((function(){u.startPlay(t,u.getRemoteStreamSuc,d)}),3e3)}this.streamCenter.removeStreamFromSignal(!1,t)}if(n)return this.stopMaxTime(),this.invalid(),void this.streamCenter.onPlayStateUpdate(e,t,r);if(r&&0!==r.code&&this.activePull(void 0)){var h=i.getReportSeq();this.streamCenter.dataReport.newReport(h),this.streamCenter.dataReport.addMsgInfo(h,{stream:s.ZegoRTCLogEvent.kZegoTaskRePlay.stream(this.streamID)}),this.streamCenter.dataReport.uploadReport(h,s.ZegoRTCLogEvent.kZegoTaskRePlay.event),this.streamCenter.onPlayStateUpdate(2,t,r)}this.logger.info(l.ZEGO_WEBRTC_ACTION.PLAY_STATE_HANDLE+" end "+t)},t}(a.RetryHandler);t.RetryStreamHandler=u},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.RetryDispatchHandler=void 0;var i=r(9),a=r(0),s=r(2),l=r(1),c=r(4),u=function(e){function t(t,r,o,n){var i=e.call(this)||this;return i.retryActiveCount=1,i.RETRY_MAX_TIME=90,i.logger=t,i.stateCenter=r,i.rtm=o,i.streamCenter=n,i}return n(t,e),t.prototype.initStream=function(e,t,r){this.streamID=e,this.playOption=t,this.isPublish=r},t.prototype.active=function(e){var t=this;if(this.logger.info(s.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" retry call "+this.streamID),this.stateCenter.networkState==a.ENUM_NETWORK_STATE.offline)return this.logger.info(s.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" network is broken, stop retry"),!1;if(this.retryTimer)return this.logger.info(s.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" has active, ignore"),!1;if(this.isOverTime)return this.logger.warn(s.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" retry over time, stop retry"),!1;this.rtm.isLogin()||(this.stopMaxTime(),this.invalid(),this.isPublish?this.streamCenter.publisherList[this.streamID].isReDispatch=!0:this.streamCenter.playerList[this.streamID].isReDispatch=!0);var r,o=this.retryActiveCount-1;if("PUBLIC"===this.stateCenter.type){var n=this.playOption&&2==this.playOption.resourceMode?1:0;r={stream_id:this.streamID,ptype:this.isPublish?"push":"pull",signals:this.streamCenter.getAllInUseUrl(),header_kvs:[{key:"grpc-metadata-push",value:this.playOption&&this.playOption.cdnUrl||""}],retry:o,center_ability:!0,dispatch_type:n}}else r={stream_id:this.streamID,dispatch_type:this.isPublish?1:2,stream_type:3,an_type:this.rtm.getAnType()};return this.retryTimer=setTimeout((function(){t.retryTimer&&clearTimeout(t.retryTimer),t.retryTimer=null,t.retryActiveCount++;var e=t.streamCenter.getRoomByStreamID(t.streamID),o=t.rtm.service.sendMessage("webrtc_url",r,(function(e,r){t.handleFetchWebRtcUrlRsp(e)}),(function(e,r){t.handleFetchWebRtcUrlRsp(e)}),void 0,{sessionID:null==e?void 0:e.sessionID,roomID:null==e?void 0:e.roomID,roomSessionID:null==e?void 0:e.roomSessionID});t.isPublish&&o?t.streamCenter.publisherList[t.streamID]&&(t.streamCenter.publisherList[t.streamID].seq=o):o&&t.streamCenter.playerList[t.streamID]&&(t.streamCenter.playerList[t.streamID].seq=o)}),"number"==typeof e?e:1e3*this.retryActiveInterval),this.logger.info(s.ZEGO_WEBRTC_ACTION.RDH_ACTIVE+" call success"),!0},t.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.maxTimer=setTimeout((function(){e.logger.warn(s.ZEGO_WEBRTC_ACTION.RDH_MAX_TIME+" "+e.streamID+" dispatch over max time "+e.RETRY_MAX_TIME+"s stop retry"),e.isOverTime=!0,e.invalid(),e.isPublish?e.streamCenter.onPublishStateUpdate(a.ENUM_PUBLISH_STATE_UPDATE.error,e.streamID,l.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishDispatchError):e.streamCenter.onPlayStateUpdate(a.ENUM_PLAY_STATE_UPDATE.error,e.streamID,l.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError)}),1e3*this.RETRY_MAX_TIME))},t.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.handleFetchWebRtcUrlRsp=function(e){if(e.code&&[c.errorCodeList.TIMEOUT.code].includes(e.code))this.active();else{if(e.code&&[c.errorCodeList.SOCKET_CLOSE.code].includes(e.code))return this.stopMaxTime(),this.invalid(),void(this.isPublish?this.streamCenter.publisherList[this.streamID].isReDispatch=!0:this.streamCenter.playerList[this.streamID].isReDispatch=!0);var t=e,r=t.body.stream_id,o=!1;if(this.isPublish&&(!this.streamCenter.publisherList[r]||t.header.seq!==this.streamCenter.publisherList[this.streamID].seq))return this.logger.warn(s.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" seq is not match, ignore "+this.streamID),this.stopMaxTime(),void this.invalid();if(!(this.isPublish||this.streamCenter.playerList[this.streamID]&&t.header.seq===this.streamCenter.playerList[this.streamID].seq))return this.logger.warn(s.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" seq is not match, ignore "+this.streamID),this.stopMaxTime(),void this.invalid();if("PUBLIC"===this.stateCenter.type){if(this.stateCenter.clientIP=t.body.clientip||"",0!==t.body.err_code&&2==t.body.need_action)return this.retryActiveInterval=t.body.action_delay/1e3||Math.floor(3*Math.random())+3,void this.active();if(0!==t.body.err_code&&1!==t.body.need_action&&![3102].includes(t.body.err_code))return this.retryActiveInterval=Math.floor(3*Math.random())+3,void this.active();if(this.stopMaxTime(),this.invalid(),t.body.urls&&Array.isArray(t.body.urls)&&t.body.urls.length>0?o=!0:this.logger.error(s.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" signal url is empty"),"push"===t.body.ptype&&this.streamCenter.publisherList[r]){if(!o)return void this.streamCenter.onPublishStateUpdate(a.ENUM_PUBLISH_STATE_UPDATE.error,r,l.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishDispatchError);var n=this.streamCenter.publisherList[r];this.stateCenter.publishStreamList[r]?(n.ttl=t.body.hosts_ttl?(new Date).getTime()+1e3*t.body.hosts_ttl:0,n.isCenterNode="boolean"==typeof t.body.is_center_node&&t.body.is_center_node,n.serverUrls=t.body.urls,this.streamCenter.startPublishingStream(r)):this.logger.error(s.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" no streamid to publish")}else if("pull"==t.body.ptype&&this.streamCenter.playerList[r]){if(!o){var i=l.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError;return 3102===t.body.err_code&&(i=l.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayUnsupportedResourceMode),void this.streamCenter.onPlayStateUpdate(a.ENUM_PLAY_STATE_UPDATE.error,r,i)}(f=this.streamCenter.playerList[r]).ttl=t.body.hosts_ttl?(new Date).getTime()+1e3*t.body.hosts_ttl:0,f.isCenterNode="boolean"==typeof t.body.is_center_node&&t.body.is_center_node,f.serverUrls=t.body.urls,this.streamCenter.startPlayingStream(r,this.streamCenter.playSuccessCallBackList[r])}}else{this.stopMaxTime(),this.invalid();var u=[],d=t.body.stream_url_info&&t.body.stream_url_info.stream_url,p=t.body.stream_url_info&&t.body.stream_url_info.ip_infos,h=/^ws(s)?:\/\/(.*?)\//;if(t.body.stream_url_info&&d&&p?o=!0:this.logger.error(s.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" signal url is empty"),p&&p.forEach((function(e){var t=e.ip_address+":"+e.port;u.push(d.replace(h.exec(d)[2],t))})),this.isPublish&&this.streamCenter.publisherList[r]){if(!o)return void this.streamCenter.onPublishStateUpdate(a.ENUM_PUBLISH_STATE_UPDATE.error,r,l.ZegoRTCLogEvent.kZegoTaskPublishStart.error.kPublishDispatchError);n=this.streamCenter.publisherList[r],this.stateCenter.publishStreamList[r]?(n.serverUrls=u,this.streamCenter.startPublishingStream(r)):this.logger.error(s.ZEGO_WEBRTC_ACTION.RDH_WEBRTC_URL_RSP+" no streamid to publish")}else if(!this.isPublish&&this.streamCenter.playerList[r]){if(!o)return void this.streamCenter.onPlayStateUpdate(a.ENUM_PLAY_STATE_UPDATE.error,r,l.ZegoRTCLogEvent.kZegoTaskPlayStart.error.kPlayDispatchError);var f;(f=this.streamCenter.playerList[r]).serverUrls=u,this.streamCenter.startPlayingStream(r,this.streamCenter.playSuccessCallBackList[r])}}}},t}(i.RetryHandler);t.RetryDispatchHandler=u}])}))},fdb7:function(e,t,r){var o=r("1fb1"),n=o.Symbol;e.exports=n},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,r){var o=r("4930");e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,r){var o=r("da84");e.exports=o.Promise}}]);